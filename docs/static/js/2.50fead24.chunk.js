/*! For license information please see 2.50fead24.chunk.js.LICENSE.txt */
(this.webpackJsonpEwozx=this.webpackJsonpEwozx||[]).push([[2],[function(e,t,r){e.exports=r(139)},function(e,t,r){"use strict";var n=r(3);r.d(t,"k",(function(){return o})),r.d(t,"j",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"o",(function(){return f})),r.d(t,"p",(function(){return l})),r.d(t,"l",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"c",(function(){return b})),r.d(t,"g",(function(){return g})),r.d(t,"f",(function(){return y})),r.d(t,"h",(function(){return w})),r.d(t,"n",(function(){return k})),r.d(t,"m",(function(){return x}));var a=new n.b("bytes/5.0.11");function i(e){return!!e.toHexString}function s(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return s(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function o(e){return h(e)&&!(e.length%2)||c(e)}function c(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(null==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!==typeof r||r<0||r>=256||r%1)return!1}return!0}function u(e,t){if(t||(t={}),"number"===typeof e){a.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),s(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e)&&(e=e.toHexString()),h(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":a.throwArgumentError("hex data is odd-length","value",e));for(var o=[],u=0;u<n.length;u+=2)o.push(parseInt(n.substring(u,u+2),16));return s(new Uint8Array(o))}return c(e)?s(new Uint8Array(e)):a.throwArgumentError("invalid arrayify value","value",e)}function d(e){var t=e.map(e=>u(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),s(n)}function f(e){var t=u(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function l(e,t){(e=u(e)).length>t&&a.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),s(r)}function h(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function p(e,t){if(t||(t={}),"number"===typeof e){a.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r="0123456789abcdef"[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e))return e.toHexString();if(h(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":a.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(c(e)){for(var n="0x",s=0;s<e.length;s++){var o=e[s];n+="0123456789abcdef"[(240&o)>>4]+"0123456789abcdef"[15&o]}return n}return a.throwArgumentError("invalid hexlify value","value",e)}function m(e){if("string"!==typeof e)e=p(e);else if(!h(e)||e.length%2)return null;return(e.length-2)/2}function v(e,t,r){return"string"!==typeof e?e=p(e):(!h(e)||e.length%2)&&a.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function b(e){var t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function g(e){var t=y(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function y(e){"string"!==typeof e&&(e=p(e)),h(e)||a.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function w(e,t){for("string"!==typeof e?e=p(e):h(e)||a.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&a.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function k(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(o(e)){var r=u(e);65!==r.length&&a.throwArgumentError("invalid signature string; must be 65 bytes","signature",e),t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64)),t.v=r[64],t.v<27&&(0===t.v||1===t.v?t.v+=27:a.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=p(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=l(u(t._vs),32);t._vs=p(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&a.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var s=p(n);null==t.s?t.s=s:t.s!==s&&a.throwArgumentError("signature v mismatch _vs","signature",e)}null==t.recoveryParam?null==t.v?a.throwArgumentError("signature missing v and recoveryParam","signature",e):t.recoveryParam=1-t.v%2:null==t.v?t.v=27+t.recoveryParam:t.recoveryParam!==1-t.v%2&&a.throwArgumentError("signature recoveryParam mismatch v","signature",e),null!=t.r&&h(t.r)?t.r=w(t.r,32):a.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&h(t.s)?t.s=w(t.s,32):a.throwArgumentError("signature missing or invalid s","signature",e);var c=u(t.s);c[0]>=128&&a.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(c[0]|=128);var d=p(c);t._vs&&(h(t._vs)||a.throwArgumentError("signature invalid _vs","signature",e),t._vs=w(t._vs,32)),null==t._vs?t._vs=d:t._vs!==d&&a.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t}function x(e){return p(d([(e=k(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},function(e,t,r){"use strict";var n=r(0),a=r.n(n),i=r(3);r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return m})),r.d(t,"a",(function(){return v}));var s=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},o=new i.b("properties/5.0.9");function c(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function u(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function d(e){return s(this,void 0,void 0,a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map(t=>{var r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((e,t)=>(e[t.key]=t.value,e),{}));case 5:case"end":return t.stop()}}),t)})))}function f(e,t){e&&"object"===typeof e||o.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||o.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function l(e){var t={};for(var r in e)t[r]=e[r];return t}var h={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function p(e){if(function e(t){if(void 0===t||null===t||h[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;for(var r=Object.keys(t),n=0;n<r.length;n++)if(!e(t[r[n]]))return!1;return!0}return o.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>m(e)));if("object"===typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&c(t,r,m(n))}return t}return o.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function m(e){return p(e)}class v{constructor(e){for(var t in e)this[t]=m(e[t])}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f}));var n=!1,a=!1,i={debug:1,default:2,info:2,warning:3,error:4,off:5},s=i.default,o=null;var c,u,d=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(c||(c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT"}(u||(u={}));class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){var r=e.toLowerCase();null==i[r]&&this.throwArgumentError("invalid log level name","logLevel",e),s>i[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,r){if(a)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),r||(r={});var n=[];Object.keys(r).forEach(e=>{try{n.push(e+"="+JSON.stringify(r[e]))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push("code=".concat(t)),n.push("version=".concat(this.version));var i=e;n.length&&(e+=" ("+n.join(", ")+")");var s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),d&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return o||(o=new f("logger/5.0.10")),o}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}a=!!e,n=!!t}static setLogLevel(e){var t=i[e.toLowerCase()];null!=t?s=t:f.globalLogger().warn("invalid log level - "+e)}static from(e){return new f(e)}}f.errors=u,f.levels=c},function(e,t,r){"use strict";e.exports=r(276)},function(e,t){function r(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,c,"next",e)}function c(e){r(s,a,i,o,c,"throw",e)}o(void 0)}))}}},function(e,t,r){"use strict";var n=r(17),a=r(474);e.exports=function e(t,r,a={}){for(var i=function(){var r=n(o[s],2),i=r[0],c=r[1],u=Object.assign(a,{[i]:class extends t{constructor(e){super(e),this.constructor=u,this.__proto__=u.prototype,this.name=i,this.message=e,Object.setPrototypeOf(this,u.prototype)}}})[i];e(u,c,a)},s=0,o=Object.entries(r);s<o.length;s++)i();return a}(Error,a)},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(17),s=r(173),o=s.isNode,c=(s.keys,s.values,s.deepExtend),u=s.extend,d=s.clone,f=s.flatten,l=s.unique,h=s.indexBy,p=s.sortBy,m=s.groupBy,v=s.aggregate,b=(s.uuid,s.unCamelCase),g=(s.precisionFromString,s.throttle),y=s.capitalize,w=(s.now,s.timeout),k=s.TimedOut,x=s.buildOHLCVC,_=s.decimalToPrecision,S=s.defaultFetch,T=r(6),O=T.ExchangeError,A=T.BadSymbol,M=T.InvalidAddress,E=T.NotSupported,C=T.AuthenticationError,I=T.DDoSProtection,F=T.RequestTimeout,P=T.ExchangeNotAvailable,B=T.RateLimitExceeded,R=s.precisionConstants,L=R.TRUNCATE,N=R.ROUND,D=R.DECIMAL_PLACES,V=R.NO_PADDING,j=r(29);e.exports=class{describe(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!1,rateLimit:2e3,certified:!1,pro:!1,has:{loadMarkets:!0,cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchOrderTrades:!1,fetchStatus:"emulated",fetchTicker:!0,fetchTickers:!1,fetchTime:!1,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!1,privateAPI:!0,publicAPI:!0,signIn:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1,token:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},status:{status:"ok",updated:void 0,eta:void 0,url:void 0},exceptions:void 0,httpExceptions:{422:O,418:I,429:B,404:P,409:P,410:P,500:P,501:P,502:P,520:P,521:P,522:P,525:P,526:P,400:P,403:P,405:P,503:P,530:P,408:F,504:F,401:C,511:C},dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:D,paddingMode:V,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}constructor(e={}){Object.assign(this,s),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.fetchImplementation=S,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.token=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders=void 0,this.trades={},this.transactions={},this.ohlcvs={},this.myTrades=void 0,this.requiresWeb3=!1,this.requiresEddsa=!1,this.precision={},this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0;var t=(e=this)=>{if(null!==e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var a=r[n];this[b(a)]=this[a]}t(Object.getPrototypeOf(e))}};t();for(var r=Object.entries(this.describe()).concat(Object.entries(e)),n=0;n<r.length;n++){var a=i(r[n],2),u=a[0],d=a[1];d&&Object.getPrototypeOf(d)===Object.prototype?this[u]=c(this[u],d):this[u]=d}var f={keepAlive:!0};!this.httpAgent&&S.http&&o&&(this.httpAgent=new S.http.Agent(f)),!this.httpsAgent&&S.https&&o&&(this.httpsAgent=new S.https.Agent(f));for(var l=Object.keys(this.has),h=0;h<l.length;h++){var p=l[h];this["has"+y(p)]=!!this.has[p]}this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets)}defaults(){return{}}nonce(){return this.seconds()}encodeURIComponent(...e){return encodeURIComponent(...e)}checkRequiredCredentials(e=!0){for(var t=Object.keys(this.requiredCredentials),r=0;r<t.length;r++){var n=t[r];if(this.requiredCredentials[n]&&!this[n]){if(e)throw new C(this.id+" requires `"+n+"` credential");return e}}return!0}checkAddress(e){if(void 0===e)throw new M(this.id+" address is undefined");if(1===l(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new M(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}initRestRateLimiter(){if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=g(this.tokenBucket),this.executeRestRequest=(e,t="GET",r,n)=>{var a=this.fetchImplementation,i={method:t,headers:r,body:n,timeout:this.timeout};this.agent?i.agent=this.agent:this.httpAgent&&0===e.indexOf("http://")?i.agent=this.httpAgent:this.httpsAgent&&0===e.indexOf("https://")&&(i.agent=this.httpsAgent);var s=a(e,this.extend(i,this.fetchOptions)).catch(r=>{if(o)throw new P([this.id,t,e,r.type,r.message].join(" "));throw r}).then(a=>this.handleRestResponse(a,e,t,r,n));return w(this.timeout,s).catch(r=>{if(r instanceof k)throw new F(this.id+" "+t+" "+e+" request timed out ("+this.timeout+" ms)");throw r})}}setSandboxMode(e){if(e){if(!("test"in this.urls))throw new E(this.id+" does not have a sandbox URL");"string"===typeof this.urls.api?(this.urls.api_backup=this.urls.api,this.urls.api=this.urls.test):(this.urls.api_backup=d(this.urls.api),this.urls.api=d(this.urls.test))}else"api_backup"in this.urls&&("string"===typeof this.urls.api?this.urls.api=this.urls.api_backup:this.urls.api=d(this.urls.api_backup))}defineRestApi(e,t,r=[]){for(var i=this,s=Object.keys(e),o=0;o<s.length;o++){var c=s[o],u=e[c];Array.isArray(u)?function(){for(var e=c.toUpperCase(),s=c.toLowerCase(),o=i.capitalize(s),d=function(c){var d=u[c].trim(),f=d.split(/[^a-zA-Z0-9]/),l=f.map(i.capitalize).join(""),h=f.map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).join("_"),p=[r[0]].concat(r.slice(1).map(i.capitalize)).join(""),m=[r[0]].concat(r.slice(1).map(e=>e.trim()).filter(e=>e.length>0)).join("_"),v=p+o+i.capitalize(l),b=m+"_"+s+"_"+h,g=r.length>1?r:r[0],y=function(){var r=a(n.mark((function r(a){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i[t](d,g,e,a||{}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();i[v]=y,i[b]=y},f=0;f<u.length;f++)d(f)}():this.defineRestApi(u,t,r.concat([c]))}}print(...e){console.log(...e)}setHeaders(e){return e}fetch(e,t="GET",r,n){return o&&this.userAgent&&("string"===typeof this.userAgent?r=u({"User-Agent":this.userAgent},r):"object"===typeof this.userAgent&&"User-Agent"in this.userAgent&&(r=u(this.userAgent,r))),"function"===typeof this.proxy?(e=this.proxy(e),o&&(r=u({Origin:this.origin},r))):"string"===typeof this.proxy&&(this.proxy.length&&o&&(r=u({Origin:this.origin},r)),e=this.proxy+e),r=u(this.headers,r),r=this.setHeaders(r),this.verbose&&this.print("fetch:\n",this.id,t,e,"\nRequest:\n",r,"\n",n,"\n"),this.executeRestRequest(e,t,r,n)}fetch2(e,t="public",r="GET",i={},s,o){var c=this;return a(n.mark((function a(){var u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c.enableRateLimit){n.next=3;break}return n.next=3,c.throttle(c.rateLimit);case 3:return u=c.sign(e,t,r,i,s,o),n.abrupt("return",c.fetch(u.url,u.method,u.headers,u.body));case 5:case"end":return n.stop()}}),a)})))()}request(e,t="public",r="GET",n={},a,i){return this.fetch2(e,t,r,n,a,i)}parseJson(e){try{if(this.isJsonEncodedObject(e))return JSON.parse(e)}catch(t){return}}throwExactlyMatchedException(e,t,r){if(t in e)throw new e[t](r)}throwBroadlyMatchedException(e,t,r){var n=this.findBroadlyMatchedKey(e,t);if(void 0!==n)throw new e[n](r)}findBroadlyMatchedKey(e,t){for(var r=Object.keys(e),n=0;n<r.length;n++){var a=r[n];if(t.indexOf(a)>=0)return a}}handleErrors(e,t,r,n,a,i,s,o,c){}handleHttpStatusCode(e,t,r,n,a){var i=e.toString();if(i in this.httpExceptions)throw new(0,this.httpExceptions[i])([this.id,n,r,e,t,a].join(" "))}getResponseHeaders(e){var t={};return e.headers.forEach((e,r)=>{r=r.split("-").map(e=>y(e)).join("-"),t[r]=e}),t}handleRestResponse(e,t,r="GET",n,a){return e.text().then(i=>{var s=this.getResponseHeaders(e),o=this.onRestResponse(e.status,e.statusText,t,r,s,i,n,a),c=this.parseJson(o);return this.enableLastResponseHeaders&&(this.last_response_headers=s),this.enableLastHttpResponse&&(this.last_http_response=i),this.enableLastJsonResponse&&(this.last_json_response=c),this.verbose&&this.print("handleRestResponse:\n",this.id,r,t,e.status,e.statusText,"\nResponse:\n",s,"\n",i,"\n"),this.handleErrors(e.status,e.statusText,t,r,s,i,c,n,a),this.handleHttpStatusCode(e.status,e.statusText,t,r,i),c||i})}onRestResponse(e,t,r,n,a,i,s,o){return i.trim().replace(/:(\d{15,}),/g,':"$1",')}setMarkets(e,t){var r=Object.values(e).map(e=>c({limits:this.limits,precision:this.precision},this.fees.trading,e));if(this.markets=h(r,"symbol"),this.marketsById=h(e,"id"),this.markets_by_id=this.marketsById,this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),t)this.currencies=c(t,this.currencies);else{var n=r.filter(e=>"base"in e).map(e=>({id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8})),a=r.filter(e=>"quote"in e).map(e=>({id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}));n=p(n,"code"),a=p(a,"code"),this.baseCurrencies=h(n,"code"),this.quoteCurrencies=h(a,"code");var i=n.concat(a),s=m(i,"code"),o=Object.keys(s).map(e=>s[e].reduce((e,t)=>e.precision>t.precision?e:t,s[e][0])),u=p(f(o),"code");this.currencies=c(h(u,"code"),this.currencies)}return this.currencies_by_id=h(this.currencies,"id"),this.markets}loadMarketsHelper(e=!1,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e||!r.markets){n.next=4;break}if(r.markets_by_id){n.next=3;break}return n.abrupt("return",r.setMarkets(r.markets));case 3:return n.abrupt("return",r.markets);case 4:if(i=void 0,!r.has.fetchCurrencies){n.next=9;break}return n.next=8,r.fetchCurrencies();case 8:i=n.sent;case 9:return n.next=11,r.fetchMarkets(t);case 11:return s=n.sent,n.abrupt("return",r.setMarkets(s,i));case 13:case"end":return n.stop()}}),a)})))()}loadMarkets(e=!1,t={}){return(e&&!this.reloadingMarkets||!this.marketsLoading)&&(this.reloadingMarkets=!0,this.marketsLoading=this.loadMarketsHelper(e,t).then(e=>(this.reloadingMarkets=!1,e),e=>{throw this.reloadingMarkets=!1,e})),this.marketsLoading}loadAccounts(e=!1,t={}){var r=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,r.fetchAccounts(t);case 3:r.accounts=n.sent,n.next=13;break;case 6:if(!r.accounts){n.next=10;break}return n.abrupt("return",r.accounts);case 10:return n.next=12,r.fetchAccounts(t);case 12:r.accounts=n.sent;case 13:return r.accountsById=r.indexBy(r.accounts,"id"),n.abrupt("return",r.accounts);case 15:case"end":return n.stop()}}),a)})))()}fetchBidsAsks(e,t={}){throw new E(this.id+" fetchBidsAsks not supported yet")}fetchOHLCVC(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.has.fetchTrades){n.next=2;break}throw new E(o.id+" fetchOHLCV() not supported yet");case 2:return n.next=4,o.loadMarkets();case 4:return n.next=6,o.fetchTrades(e,r,i,s);case 6:return c=n.sent,u=x(c,t,r,i),n.abrupt("return",u);case 9:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.has.fetchTrades){n.next=2;break}throw new E(o.id+" fetchOHLCV() not supported yet");case 2:return n.next=4,o.loadMarkets();case 4:return n.next=6,o.fetchTrades(e,r,i,s);case 6:return c=n.sent,u=x(c,t,r,i),n.abrupt("return",u.map(e=>e.slice(0,-1)));case 9:case"end":return n.stop()}}),a)})))()}parseTradingViewOHLCV(e,t,r="1m",n,a){var i=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(i,t,r,n,a)}convertTradingViewToOHLCV(e,t="t",r="o",n="h",a="l",i="c",s="v",o=!1){for(var c=[],u=0;u<e[t].length;u++)c.push([o?e[t][u]:1e3*e[t][u],e[r][u],e[n][u],e[a][u],e[i][u],e[s][u]]);return c}convertOHLCVToTradingView(e,t="t",r="o",n="h",a="l",i="c",s="v",o=!1){var c={};c[t]=[],c[r]=[],c[n]=[],c[a]=[],c[i]=[],c[s]=[];for(var u=0;u<e.length;u++)c[t].push(o?e[u][0]:parseInt(e[u][0]/1e3)),c[r].push(e[u][1]),c[n].push(e[u][2]),c[a].push(e[u][3]),c[i].push(e[u][4]),c[s].push(e[u][5]);return c}fetchTicker(e,t={}){throw new E(this.id+" fetchTicker not supported yet")}fetchTickers(e,t={}){throw new E(this.id+" fetchTickers not supported yet")}fetchOrder(e,t,r={}){throw new E(this.id+" fetchOrder not supported yet")}fetchUnifiedOrder(e,t={}){return this.fetchOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}createOrder(e,t,r,n,a,i={}){throw new E(this.id+" createOrder not supported yet")}cancelOrder(e,t,r={}){throw new E(this.id+" cancelOrder not supported yet")}cancelUnifiedOrder(e,t={}){return this.cancelOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}fetchOrders(e,t,r,n={}){throw new E(this.id+" fetchOrders not supported yet")}fetchOpenOrders(e,t,r,n={}){throw new E(this.id+" fetchOpenOrders not supported yet")}fetchClosedOrders(e,t,r,n={}){throw new E(this.id+" fetchClosedOrders not supported yet")}fetchMyTrades(e,t,r,n={}){throw new E(this.id+" fetchMyTrades not supported yet")}fetchTransactions(e,t,r,n={}){throw new E(this.id+" fetchTransactions not supported yet")}fetchDeposits(e,t,r,n={}){throw new E(this.id+" fetchDeposits not supported yet")}fetchWithdrawals(e,t,r,n={}){throw new E(this.id+" fetchWithdrawals not supported yet")}fetchCurrencies(e={}){return new Promise((e,t)=>e(this.currencies))}fetchMarkets(e={}){return new Promise((e,t)=>e(Object.values(this.markets)))}fetchOrderStatus(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.fetchOrder(e,t,r);case 2:return s=n.sent,n.abrupt("return",s.status);case 4:case"end":return n.stop()}}),a)})))()}account(){return{free:void 0,used:void 0,total:void 0}}commonCurrencyCode(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}currencyId(e){if(void 0===this.currencies)throw new O(this.id+" currencies not loaded");if(e in this.currencies)return this.currencies[e].id;for(var t={},r=Object.keys(this.commonCurrencies),n=0;n<r.length;n++){var a=r[n];t[this.commonCurrencies[a]]=a}return this.safeString(t,e,e)}currency(e){if(void 0===this.currencies)throw new O(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new O(this.id+" does not have currency code "+e)}market(e){if(void 0===this.markets)throw new O(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new A(this.id+" does not have market symbol "+e)}marketId(e){var t=this.market(e);return void 0!==t?t.id:e}marketIds(e){return e.map(e=>this.marketId(e))}symbol(e){return this.market(e).symbol||e}url(e,t={}){var r=this.implodeParams(e,t),n=this.omit(t,this.extractParams(e));return Object.keys(n).length&&(r+="?"+this.urlencode(n)),r}parseBidAsk(e,t=0,r=1){return[parseFloat(e[t]),parseFloat(e[r])]}parseBidsAsks(e,t=0,r=1){return Object.values(e||[]).map(e=>this.parseBidAsk(e,t,r))}fetchL2OrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.fetchOrderBook(e,t,r);case 2:return s=n.sent,n.abrupt("return",u(s,{bids:p(v(s.bids),0,!0),asks:p(v(s.asks),0)}));case 4:case"end":return n.stop()}}),a)})))()}parseOrderBook(e,t,r="bids",n="asks",a=0,i=1){return{bids:p(r in e?this.parseBidsAsks(e[r],a,i):[],0,!0),asks:p(n in e?this.parseBidsAsks(e[n],a,i):[],0),timestamp:t,datetime:this.iso8601(t),nonce:void 0}}parseBalance(e){var t=Object.keys(this.omit(e,["info","free","used","total"]));e.free={},e.used={},e.total={};for(var r=0;r<t.length;r++){var n=t[r];void 0===e[n].total&&void 0!==e[n].free&&void 0!==e[n].used&&(e[n].total=this.sum(e[n].free,e[n].used)),void 0===e[n].free&&void 0!==e[n].total&&void 0!==e[n].used&&(e[n].free=this.sum(e[n].total,-e[n].used)),void 0===e[n].used&&void 0!==e[n].total&&void 0!==e[n].free&&(e[n].used=this.sum(e[n].total,-e[n].free)),e.free[n]=e[n].free,e.used[n]=e[n].used,e.total[n]=e[n].total}return e}fetchPartialBalance(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchBalance(t);case 2:return i=n.sent,n.abrupt("return",i[e]);case 4:case"end":return n.stop()}}),a)})))()}fetchFreeBalance(e={}){return this.fetchPartialBalance("free",e)}fetchUsedBalance(e={}){return this.fetchPartialBalance("used",e)}fetchTotalBalance(e={}){return this.fetchPartialBalance("total",e)}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.has.fetchTime){r.next=5;break}return r.next=3,t.fetchTime(e);case 3:a=r.sent,t.status=t.extend(t.status,{updated:a});case 5:return r.abrupt("return",t.status);case 6:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new E(t.id+" fetchTradingFees not supported yet");case 1:case"end":return e.stop()}}),e)})))()}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.has.fetchTradingFees){e.next=2;break}throw new E(r.id+" fetchTradingFee not supported yet");case 2:return e.next=4,r.fetchTradingFees(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()}loadTradingLimits(e,t=!1,r={}){var i=this;return a(n.mark((function r(){var a,s,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i.has.fetchTradingLimits){r.next=7;break}if(!t&&"limitsLoaded"in i.options){r.next=7;break}return r.next=4,i.fetchTradingLimits(e);case 4:for(a=r.sent,s=0;s<e.length;s++)o=e[s],i.markets[o]=i.deepExtend(i.markets[o],a[o]);i.options.limitsLoaded=i.milliseconds();case 7:return r.abrupt("return",i.markets);case 8:case"end":return r.stop()}}),r)})))()}filterBySinceLimit(e,t,r,n="timestamp",a=!1){var i=void 0!==t&&null!==t;return i&&(e=e.filter(e=>e[n]>=t)),void 0!==r&&null!==r&&(e=a&&!i?e.slice(-r):e.slice(0,r)),e}filterByValueSinceLimit(e,t,r,n,a,i="timestamp",s=!1){var o=void 0!==r&&null!==r,c=void 0!==n&&null!==n;return(o||c)&&(e=e.filter(e=>(!o||e[t]===r)&&(!c||e[i]>=n))),void 0!==a&&null!==a&&(e=s&&!c?e.slice(-a):e.slice(0,a)),e}filterBySymbolSinceLimit(e,t,r,n,a=!1){return this.filterByValueSinceLimit(e,"symbol",t,r,n,"timestamp",a)}filterByCurrencySinceLimit(e,t,r,n,a=!1){return this.filterByValueSinceLimit(e,"currency",t,r,n,"timestamp",a)}filterByArray(e,t,r,n=!0){if(e=Object.values(e),void 0===r||null===r)return n?h(e,t):e;for(var a=[],i=0;i<e.length;i++)r.includes(e[i][t])&&a.push(e[i]);return n?h(a,t):a}parseTrades(e,t,r,n,a={}){var i=Object.values(e||[]).map(e=>this.extend(this.parseTrade(e,t),a));i=p(i,"timestamp");var s=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(i,s,r,n)}parseTransactions(e,t,r,n,a={}){var i=Object.values(e||[]).map(e=>this.extend(this.parseTransaction(e,t),a));i=this.sortBy(i,"timestamp");var s=void 0!==t?t.code:void 0;return this.filterByCurrencySinceLimit(i,s,r,n)}parseLedger(e,t,r,n,a={}){for(var i=[],s=Object.values(e||[]),o=0;o<s.length;o++){var c=this.parseLedgerEntry(s[o],t);if(Array.isArray(c))for(var u=0;u<c.length;u++)i.push(this.extend(c[u],a));else i.push(this.extend(c,a))}i=this.sortBy(i,"timestamp");var d=void 0!==t?t.code:void 0;return this.filterByCurrencySinceLimit(i,d,r,n)}parseOrders(e,t,r,n,a={}){var i=Array.isArray(e)?Object.values(e).map(e=>this.extend(this.parseOrder(e,t),a)):Object.entries(e).map(([e,r])=>this.extend(this.parseOrder(this.extend({id:e},r),t),a));i=p(i,"timestamp");var s=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(i,s,r,n)}safeCurrency(e,t){return void 0===e&&void 0!==t?t:void 0!==this.currencies_by_id&&e in this.currencies_by_id?this.currencies_by_id[e]:{id:e,code:void 0===e?e:this.commonCurrencyCode(e.toUpperCase())}}safeCurrencyCode(e,t){return(t=this.safeCurrency(e,t)).code}safeMarket(e,t,r){if(void 0!==e)if(void 0!==this.markets_by_id&&e in this.markets_by_id)t=this.markets_by_id[e];else if(void 0!==r){var n=e.split(r),a=i(n,2),s=a[0],o=a[1],c=this.safeCurrencyCode(s),u=this.safeCurrencyCode(o);return{id:e,symbol:c+"/"+u,base:c,quote:u,baseId:s,quoteId:o}}return void 0!==t?t:{id:e,symbol:e,base:void 0,quote:void 0,baseId:void 0,quoteId:void 0}}safeSymbol(e,t,r){return(t=this.safeMarket(e,t,r)).symbol}filterBySymbol(e,t){return void 0!==t?e.filter(e=>e.symbol===t):e}parseOHLCV(e,t){return Array.isArray(e)?e.slice(0,6):e}parseOHLCVs(e,t,r="1m",n,a){e=Object.values(e||[]);for(var i=[],s=0;s<e.length&&!(a&&i.length>=a);s++){var o=this.parseOHLCV(e[s],t);n&&o[0]<n||i.push(o)}return this.sortBy(i,0)}editLimitBuyOrder(e,t,...r){return this.editLimitOrder(e,t,"buy",...r)}editLimitSellOrder(e,t,...r){return this.editLimitOrder(e,t,"sell",...r)}editLimitOrder(e,t,...r){return this.editOrder(e,t,"limit",...r)}editOrder(e,t,...r){var i=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.enableRateLimit){n.next=2;break}throw new O(i.id+" editOrder() requires enableRateLimit = true");case 2:return n.next=4,i.cancelOrder(e,t);case 4:return n.abrupt("return",i.createOrder(t,...r));case 5:case"end":return n.stop()}}),a)})))()}createLimitOrder(e,t,r,n,a={}){return this.createOrder(e,"limit",t,r,n,a)}createMarketOrder(e,t,r,n,a={}){return this.createOrder(e,"market",t,r,n,a)}createLimitBuyOrder(e,t,r,n={}){return this.createOrder(e,"limit","buy",t,r,n)}createLimitSellOrder(e,t,r,n={}){return this.createOrder(e,"limit","sell",t,r,n)}createMarketBuyOrder(e,t,r={}){return this.createOrder(e,"market","buy",t,void 0,r)}createMarketSellOrder(e,t,r={}){return this.createOrder(e,"market","sell",t,void 0,r)}costToPrecision(e,t){return _(t,L,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}priceToPrecision(e,t){return _(t,N,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}amountToPrecision(e,t){return _(t,L,this.markets[e].precision.amount,this.precisionMode,this.paddingMode)}feeToPrecision(e,t){return _(t,N,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return _(t,N,this.currencies[e].precision,this.precisionMode,this.paddingMode)}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=parseFloat(this.costToPrecision(e,n*a));return{type:i,currency:o.quote,rate:c,cost:parseFloat(this.feeToPrecision(e,c*u))}}checkRequiredDependencies(){}soliditySha3(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(Number.isInteger(n)||n.match(/^[0-9]+$/))t.push(this.numberToBE(this.numberToString(n),32));else{var a=this.remove0xPrefix(n);40===a.length&&a.toLowerCase().match(/^[0-9a-f]+$/)?t.push(this.base16ToBinary(a)):t.push(this.stringToBinary(a))}}var i=this.binaryConcatArray(t);return"0x"+this.hash(i,"keccak","hex")}remove0xPrefix(e){return"0x"===e.slice(0,2)?e.slice(2):e}hashMessage(e){var t=this.base16ToBinary(this.remove0xPrefix(e)),r=this.stringToBinary("\x19Ethereum Signed Message:\n"+t.sigBytes);return"0x"+this.hash(this.binaryConcat(r,t),"keccak","hex")}signHash(e,t){var r=this.ecdsa(e.slice(-64),t.slice(-64),"secp256k1",void 0);return{r:"0x"+r.r,s:"0x"+r.s,v:27+r.v}}signMessage(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}signMessageString(e,t){var r=this.signMessage(e,t);return r.r+this.remove0xPrefix(r.s)+this.binaryToBase16(this.numberToBE(r.v))}oath(){if("undefined"!==typeof this.twofa)return this.totp(this.twofa);throw new O(this.id+" this.twofa has not been set")}integerDivide(e,t){return new j(e).div(new j(t))}integerModulo(e,t){return new j(e).mod(new j(t))}integerPow(e,t){return new j(e).pow(new j(t))}}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=r(296).Buffer}catch(S){}function o(e,t,r){for(var n=0,a=Math.min(e.length,r),i=t;i<a;i++){var s=e.charCodeAt(i)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(e,t,r,n){for(var a=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;a*=n,a+=o>=49?o-49+10:o>=17?o-17+10:o}return a}i.isBN=function(e){return e instanceof i||null!==e&&"object"===typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a,i=0;for(r=e.length-6,n=0;r>=t;r-=6)a=o(e,r,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,n++);r+6!==t&&(a=o(e,t,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,u=0,d=r;d<o;d+=n)u=c(e,d,d+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(a=0|e.words[p])*(i=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(i),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[o]=s;for(;o<i;o++)u[o]=0}else{for(o=0;o<i-a;o++)u[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[i-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,v=0|s[2],b=8191&v,g=v>>>13,y=0|s[3],w=8191&y,k=y>>>13,x=0|s[4],_=8191&x,S=x>>>13,T=0|s[5],O=8191&T,A=T>>>13,M=0|s[6],E=8191&M,C=M>>>13,I=0|s[7],F=8191&I,P=I>>>13,B=0|s[8],R=8191&B,L=B>>>13,N=0|s[9],D=8191&N,V=N>>>13,j=0|o[0],U=8191&j,q=j>>>13,G=0|o[1],H=8191&G,z=G>>>13,K=0|o[2],J=8191&K,X=K>>>13,W=0|o[3],Z=8191&W,Y=W>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(u+(n=Math.imul(f,U))|0)+((8191&(a=(a=Math.imul(f,q))+Math.imul(l,U)|0))<<13)|0;u=((i=Math.imul(l,q))+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,U),a=(a=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var be=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(a=(a=a+Math.imul(f,z)|0)+Math.imul(l,H)|0))<<13)|0;u=((i=i+Math.imul(l,z)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,U),a=(a=Math.imul(b,q))+Math.imul(g,U)|0,i=Math.imul(g,q),n=n+Math.imul(p,H)|0,a=(a=a+Math.imul(p,z)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,z)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,X)|0)+Math.imul(l,J)|0))<<13)|0;u=((i=i+Math.imul(l,X)|0)+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),a=(a=Math.imul(w,q))+Math.imul(k,U)|0,i=Math.imul(k,q),n=n+Math.imul(b,H)|0,a=(a=a+Math.imul(b,z)|0)+Math.imul(g,H)|0,i=i+Math.imul(g,z)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,X)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,X)|0;var ye=(u+(n=n+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(l,Z)|0))<<13)|0;u=((i=i+Math.imul(l,Y)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,U),a=(a=Math.imul(_,q))+Math.imul(S,U)|0,i=Math.imul(S,q),n=n+Math.imul(w,H)|0,a=(a=a+Math.imul(w,z)|0)+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,X)|0)+Math.imul(g,J)|0,i=i+Math.imul(g,X)|0,n=n+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((i=i+Math.imul(l,ee)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),a=(a=Math.imul(O,q))+Math.imul(A,U)|0,i=Math.imul(A,q),n=n+Math.imul(_,H)|0,a=(a=a+Math.imul(_,z)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,n=n+Math.imul(w,J)|0,a=(a=a+Math.imul(w,X)|0)+Math.imul(k,J)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(g,Z)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var ke=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(a=(a=a+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((i=i+Math.imul(l,ne)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(E,U),a=(a=Math.imul(E,q))+Math.imul(C,U)|0,i=Math.imul(C,q),n=n+Math.imul(O,H)|0,a=(a=a+Math.imul(O,z)|0)+Math.imul(A,H)|0,i=i+Math.imul(A,z)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,X)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,X)|0,n=n+Math.imul(w,Z)|0,a=(a=a+Math.imul(w,Y)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(g,$)|0,i=i+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,se)|0)+Math.imul(l,ie)|0))<<13)|0;u=((i=i+Math.imul(l,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,U),a=(a=Math.imul(F,q))+Math.imul(P,U)|0,i=Math.imul(P,q),n=n+Math.imul(E,H)|0,a=(a=a+Math.imul(E,z)|0)+Math.imul(C,H)|0,i=i+Math.imul(C,z)|0,n=n+Math.imul(O,J)|0,a=(a=a+Math.imul(O,X)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(S,Z)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(w,$)|0,a=(a=a+Math.imul(w,ee)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var _e=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((i=i+Math.imul(l,ue)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,U),a=(a=Math.imul(R,q))+Math.imul(L,U)|0,i=Math.imul(L,q),n=n+Math.imul(F,H)|0,a=(a=a+Math.imul(F,z)|0)+Math.imul(P,H)|0,i=i+Math.imul(P,z)|0,n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,X)|0)+Math.imul(C,J)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Y)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,a=(a=a+Math.imul(w,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(g,ie)|0,i=i+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((i=i+Math.imul(l,le)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,U),a=(a=Math.imul(D,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(R,H)|0,a=(a=a+Math.imul(R,z)|0)+Math.imul(L,H)|0,i=i+Math.imul(L,z)|0,n=n+Math.imul(F,J)|0,a=(a=a+Math.imul(F,X)|0)+Math.imul(P,J)|0,i=i+Math.imul(P,X)|0,n=n+Math.imul(E,Z)|0,a=(a=a+Math.imul(E,Y)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,Y)|0,n=n+Math.imul(O,$)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(w,ie)|0,a=(a=a+Math.imul(w,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,fe)|0,i=i+Math.imul(m,le)|0;var Te=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((i=i+Math.imul(l,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,H),a=(a=Math.imul(D,z))+Math.imul(V,H)|0,i=Math.imul(V,z),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,X)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,X)|0,n=n+Math.imul(F,Z)|0,a=(a=a+Math.imul(F,Y)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,Y)|0,n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(O,re)|0,a=(a=a+Math.imul(O,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,a=(a=a+Math.imul(w,ue)|0)+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,n=n+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(g,fe)|0,i=i+Math.imul(g,le)|0;var Oe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,J),a=(a=Math.imul(D,X))+Math.imul(V,J)|0,i=Math.imul(V,X),n=n+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(F,$)|0,a=(a=a+Math.imul(F,ee)|0)+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(w,fe)|0,a=(a=a+Math.imul(w,le)|0)+Math.imul(k,fe)|0,i=i+Math.imul(k,le)|0;var Ae=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((i=i+Math.imul(g,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Z),a=(a=Math.imul(D,Y))+Math.imul(V,Z)|0,i=Math.imul(V,Y),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,n=n+Math.imul(F,re)|0,a=(a=a+Math.imul(F,ne)|0)+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,ue)|0,n=n+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,le)|0)+Math.imul(S,fe)|0,i=i+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(a=(a=a+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((i=i+Math.imul(k,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,$),a=(a=Math.imul(D,ee))+Math.imul(V,$)|0,i=Math.imul(V,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,n=n+Math.imul(F,ie)|0,a=(a=a+Math.imul(F,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,i=i+Math.imul(C,ue)|0,n=n+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,le)|0;var Ee=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,re),a=(a=Math.imul(D,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,se)|0,n=n+Math.imul(F,ce)|0,a=(a=a+Math.imul(F,ue)|0)+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,n=n+Math.imul(E,fe)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(C,fe)|0,i=i+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(a=(a=a+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((i=i+Math.imul(A,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ie),a=(a=Math.imul(D,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,ue)|0,n=n+Math.imul(F,fe)|0,a=(a=a+Math.imul(F,le)|0)+Math.imul(P,fe)|0,i=i+Math.imul(P,le)|0;var Ie=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((i=i+Math.imul(C,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,ce),a=(a=Math.imul(D,ue))+Math.imul(V,ce)|0,i=Math.imul(V,ue),n=n+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,le)|0;var Fe=(u+(n=n+Math.imul(F,pe)|0)|0)+((8191&(a=(a=a+Math.imul(F,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((i=i+Math.imul(P,me)|0)+(a>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(D,fe),a=(a=Math.imul(D,le))+Math.imul(V,fe)|0,i=Math.imul(V,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((i=i+Math.imul(L,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(D,pe))|0)+((8191&(a=(a=Math.imul(D,me))+Math.imul(V,pe)|0))<<13)|0;return u=((i=Math.imul(V,me))+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ve,c[1]=be,c[2]=ge,c[3]=ye,c[4]=we,c[5]=ke,c[6]=xe,c[7]=_e,c[8]=Se,c[9]=Te,c[10]=Oe,c[11]=Ae,c[12]=Me,c[13]=Ee,c[14]=Ce,c[15]=Ie,c[16]=Fe,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=l),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?l(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var d=i-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<a;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=r[d+h],m=n[d+h],v=r[d+h+s],b=n[d+h+s],g=f*v-l*b;b=f*b+l*v,v=g,r[d+h]=p+v,n[d+h]=m+b,r[d+h+s]=p-v,n[d+h+s]=m-b,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},m.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0===(-8192&i))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,d,f,n,a);for(var h=0;h<n;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,n),this.transform(o,c,l,i,n,a),this.conjugate(l,i,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var a=(0|this.words[r])*e,i=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(e.words[n]&1<<a)>>>a}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"===typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=a);u--){var f=0|this.words[u];this.words[u]=d<<26-i|f>>>i,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this.strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,a=this.length-1;a>=0;a--)r=(t*r+(0|this.words[a]))%e;return r},i.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var a=(0|this.words[r])+67108864*t;this.words[r]=a/e|0,t=a%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0===(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0===(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},a(g,b),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(y,b),a(w,b),a(k,b),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new y;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return v[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,v=0;0!==m.cmp(o);v++)m=m.redSqr();n(v<p);var b=this.pow(f,new i(1).iushln(p-v-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=v}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},a(_,x),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(46)(e))},function(e,t,r){"use strict";(function(e){var n=r(280),a=r(281),i=r(100);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=l(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),a=(e=o(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=o(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?o(e,0):l(e,t);if("Buffer"===t.type&&i(t.data))return l(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(d(t),e=o(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|h(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,a){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,a);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,a){var i,s=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){var d=-1;for(i=r;i<o;i++)if(u(e,i)===u(t,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===c)return d*s}else-1!==d&&(i-=i-d),d=-1}else for(r+c>o&&(r=o-c),i=r;i>=0;i--){for(var f=!0,l=0;l<c;l++)if(u(e,i+l)!==u(t,l)){f=!1;break}if(f)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[r+s]=o}return s}function w(e,t,r,n){return q(j(t,e.length-r),e,r,n)}function k(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return k(e,t,r,n)}function _(e,t,r,n){return q(U(t),e,r,n)}function S(e,t,r,n){return q(function(e,t){for(var r,n,a,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,s,o,c,u=e[a],d=null,f=u>239?4:u>223?3:u>191?2:1;if(a+f<=r)switch(f){case 1:u<128&&(d=u);break;case 2:128===(192&(i=e[a+1]))&&(c=(31&u)<<6|63&i)>127&&(d=c);break;case 3:i=e[a+1],s=e[a+2],128===(192&i)&&128===(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:i=e[a+1],s=e[a+2],o=e[a+3],128===(192&i)&&128===(192&s)&&128===(192&o)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(d=c)}null===d?(d=65533,f=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),a+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return d(t),t<=0?o(e,t):void 0!==r?"string"===typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),o=Math.min(i,s),u=this.slice(n,a),d=e.slice(t,r),f=0;f<o;++f)if(u[f]!==d[f]){i=u[f],s=d[f];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=V(e[i]);return a}function C(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function I(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,a,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function B(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function R(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return i||R(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||R(e,0,r,8),a.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;r=new c(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);F(this,e,t,r,a-1,-a)}var i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);F(this,e,t,r,a-1,-a)}var i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=c.isBuffer(e)?e:j(new c(e,n).toString()),o=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(19))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=n(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}r.d(t,"a",(function(){return a}))},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";var n=r(1),a=r(26),i=r(15),s=r(41),o=r(3);r.d(t,"a",(function(){return v})),r.d(t,"e",(function(){return b})),r.d(t,"d",(function(){return g})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return w}));var c=new o.b("address/5.0.11");function u(e){Object(n.l)(e,20)||c.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),a=0;a<40;a++)r[a]=t[a].charCodeAt(0);for(var s=Object(n.a)(Object(i.a)(r)),o=0;o<40;o+=2)s[o>>1]>>4>=8&&(t[o]=t[o].toUpperCase()),(15&s[o>>1])>=8&&(t[o+1]=t[o+1].toUpperCase());return"0x"+t.join("")}for(var d={},f=0;f<10;f++)d[String(f)]=String(f);for(var l=0;l<26;l++)d[String.fromCharCode(65+l)]=String(10+l);var h,p=Math.floor((h=9007199254740991,Math.log10?Math.log10(h):Math.log(h)/Math.LN10));function m(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>d[e]).join("");t.length>=p;){var r=t.substring(0,p);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function v(e){var t=null;if("string"!==typeof e&&c.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=u(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&c.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==m(e)&&c.throwArgumentError("bad icap checksum","address",e),t=Object(a.c)(e.substring(4));t.length<40;)t="0"+t;t=u("0x"+t)}else c.throwArgumentError("invalid address","address",e);return t}function b(e){try{return v(e),!0}catch(t){}return!1}function g(e){for(var t=Object(a.b)(v(e).substring(2)).toUpperCase();t.length<30;)t="0"+t;return"XE"+m("XE00"+t)+t}function y(e){var t=null;try{t=v(e.from)}catch(o){c.throwArgumentError("missing from address","transaction",e)}var r=Object(n.o)(Object(n.a)(a.a.from(e.nonce).toHexString()));return v(Object(n.e)(Object(i.a)(Object(s.encode)([t,r])),12))}function w(e,t,r){return 32!==Object(n.d)(t)&&c.throwArgumentError("salt must be 32 bytes","salt",t),32!==Object(n.d)(r)&&c.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),v(Object(n.e)(Object(i.a)(Object(n.b)(["0xff",v(e),t,r])),12))}},function(e,t,r){var n=r(9),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),i(a,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(135),a=r.n(n),i=r(1);function s(e){return"0x"+a.a.keccak_256(Object(i.a)(e))}},function(e,t,r){"use strict";var n=r(17),a={ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1};function i(e){if("string"===typeof e)return e;var t=e.toString();if(Math.abs(e)<1){var r=t.split("e-"),n=r[0].replace(".",""),a=parseInt(r[1]),i="-"===t[0];if(a)return e=(i?"-":"")+"0."+new Array(a).join("0")+n.substring(i)}else{var s=t.split("e");if(s[1]){var o=parseInt(s[1]),c=s[0].split(".");return c[1]&&(o-=c[1].length),c[0]+c[1]+new Array(o+1).join("0")}}return t}var s=[],o=(e,t=0)=>{if(e=i(e),t>0){var r=s[t]||(s[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),a=e.toString().match(r)||[null,e];return n(a,2)[1].toString()}return parseInt(e).toString()};function c(e){var t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}var u=(e,t,r,n=0,a=0)=>{if(2===n&&r<=0)throw new Error("TICK_SIZE cant be used with negative or zero numPrecisionDigits");if(r<0){var s=Math.pow(10,-r);if(0===t)return(s*u(e/s,t,0,n,a)).toString();if(1===t)return(e-e%s).toString()}if(2===n){var o=c(u(r,0,22,0,0)),d=e%r;return d=Number(u(d,0,8,0,0)),0!==c(u(d/r,0,Math.max(o,8),0,0))&&(0===t?e>0?d>=r/2?e=e-d+r:e-=d:e=d>=r/2?Number(e)-d:Number(e)-d-r:1===t&&(e-=d)),u(e,0,o,0,a)}for(var f=i(e),l="-"===f[0],h=l?1:0,p=f.length,m=0;m<p&&"."!==f[m];m++);var v=m<f.length,b=new Uint8Array(p-h+(v?0:1));b[0]=48;for(var g=b.length,y=-1,w=-1,k=1,x=h;x<p;x++,k++){var _=f.charCodeAt(x);if(46===_)g=k--;else{if(_<48||_>57)throw new Error("".concat(f,": invalid number (contains an illegal character '").concat(f[k-1],"')"));b[k]=_,48!==_&&y<0&&(y=k)}}y<0&&(y=1);var S=0===n?g:y,T=S+r;w=-1;for(var O=!0,A=l,M=b.length-1,E=0;M>=0;M--){var C=b[M];if(0!==M){if(C+=E,M>=S+r)C=0===t&&C>=53&&!(53===C&&E)?58:48;C>57?(C=48,E=1):E=0}else E&&(C=49);b[M]=C,48!==C&&(O=!1,y=M,w=w<0?M+1:w)}1===n&&(T=(S=y)+r),O&&(A=!1);var I=y>=g||O?g-1:y,F=w<g?g:w,P=A?1:0,B=P+(g-I),R=Math.max(F-g,0),L=F-I,N=0===a?L:T-I,D=Math.max(N-L,0),V=B+1+R,j=V+D,U=R+D===0,q=new Uint8Array(B+(U?0:1)+R+D);for(A&&(q[0]=45),k=P,x=I;k<B;k++,x++)q[k]=b[x];for(U||(q[B]=46),k=B+1,x=g;k<V;k++,x++)q[k]=b[x];for(k=V;k<j;k++)q[k]=48;return String.fromCharCode(...q)};e.exports={toWei:function(e,t=18){if(void 0===e)return e;var r=parseFloat(e).toExponential().split("e"),a=n(r,2),s=a[0],o=a[1],c=parseInt(o)+t;return i(Math.floor(parseFloat(s+"e"+c)))},fromWei:function(e,t=18){if(void 0===e)return e;var r=Math.floor(e).toExponential().split("e"),a=n(r,2),i=a[0],s=a[1],o=parseInt(s)-t;return parseFloat(i+"e"+o)},numberToString:i,precisionFromString:c,decimalToPrecision:u,truncate_to_string:o,truncate:(e,t=0)=>parseFloat(o(e,t)),precisionConstants:a,ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1}},function(e,t,r){var n=r(411),a=r(412),i=r(172),s=r(414);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||s()}},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],d=!1,f=-1;function l(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=o(l);d=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||d||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},,function(e,t,r){"use strict";r.r(t);var n=r(13),a=r(26),i=r(1),s=r(47),o=r(15),c=r(2),u=r(41),d=r(27),f=r(3);r.d(t,"computeAddress",(function(){return v})),r.d(t,"recoverAddress",(function(){return b})),r.d(t,"serialize",(function(){return g})),r.d(t,"parse",(function(){return y}));var l=new f.b("transactions/5.0.11");function h(e){return"0x"===e?s.f:a.a.from(e)}var p=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],m={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function v(e){var t=Object(d.b)(e);return Object(n.a)(Object(i.e)(Object(o.a)(Object(i.e)(t,1)),12))}function b(e,t){return v(Object(d.c)(Object(i.a)(e),t))}function g(e,t){Object(c.b)(e,m);var r=[];p.forEach((function(t){var n=e[t.name]||[],a={};t.numeric&&(a.hexPad="left"),n=Object(i.a)(Object(i.i)(n,a)),t.length&&n.length!==t.length&&n.length>0&&l.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=Object(i.o)(n)).length>t.maxLength&&l.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push(Object(i.i)(n))}));var n=0;if(null!=e.chainId?"number"!==typeof(n=e.chainId)&&l.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!Object(i.k)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(Object(i.i)(n)),r.push("0x"),r.push("0x")),!t)return u.encode(r);var a=Object(i.n)(t),s=27+a.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),s+=2*n+8,a.v>28&&a.v!==s&&l.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):a.v!==s&&l.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(Object(i.i)(s)),r.push(Object(i.o)(Object(i.a)(a.r))),r.push(Object(i.o)(Object(i.a)(a.s))),u.encode(r)}function y(e){var t=u.decode(e);9!==t.length&&6!==t.length&&l.throwArgumentError("invalid raw transaction","rawTransaction",e);var r,s={nonce:h(t[0]).toNumber(),gasPrice:h(t[1]),gasLimit:h(t[2]),to:(r=t[3],"0x"===r?null:Object(n.a)(r)),value:h(t[4]),data:t[5],chainId:0};if(6===t.length)return s;try{s.v=a.a.from(t[6]).toNumber()}catch(p){return console.log(p),s}if(s.r=Object(i.h)(t[7],32),s.s=Object(i.h)(t[8],32),a.a.from(s.r).isZero()&&a.a.from(s.s).isZero())s.chainId=s.v,s.v=0;else{s.chainId=Math.floor((s.v-35)/2),s.chainId<0&&(s.chainId=0);var c=s.v-27,d=t.slice(0,6);0!==s.chainId&&(d.push(Object(i.i)(s.chainId)),d.push("0x"),d.push("0x"),c-=2*s.chainId+8);var f=Object(o.a)(u.encode(d));try{s.from=b(f,{r:Object(i.i)(s.r),s:Object(i.i)(s.s),recoveryParam:c})}catch(p){console.log(p)}s.hash=Object(o.a)(e)}return s}},,function(e,t,r){"use strict";var n=r(596),a=r(597);e.exports={errors:n,formatters:a}},function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){(function(e,r){var n;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=a._,s=Array.prototype,o=Object.prototype,c="undefined"!==typeof Symbol?Symbol.prototype:null,u=s.push,d=s.slice,f=o.toString,l=o.hasOwnProperty,h=Array.isArray,p=Object.keys,m=Object.create,v=function(){},b=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};t.nodeType?a._=b:(!r.nodeType&&r.exports&&(t=r.exports=b),t._=b),b.VERSION="1.9.1";var g,y=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,i){return e.call(t,r,n,a,i)}}return function(){return e.apply(t,arguments)}},w=function(e,t,r){return b.iteratee!==g?b.iteratee(e,t):null==e?b.identity:b.isFunction(e)?y(e,t,r):b.isObject(e)&&!b.isArray(e)?b.matcher(e):b.property(e)};b.iteratee=g=function(e,t){return w(e,t,1/0)};var k=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=arguments[a+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var i=Array(t+1);for(a=0;a<t;a++)i[a]=arguments[a];return i[t]=n,e.apply(this,i)}},x=function(e){if(!b.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&l.call(e,t)},T=function(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0},O=Math.pow(2,53)-1,A=_("length"),M=function(e){var t=A(e);return"number"==typeof t&&t>=0&&t<=O};b.each=b.forEach=function(e,t,r){var n,a;if(t=y(t,r),M(e))for(n=0,a=e.length;n<a;n++)t(e[n],n,e);else{var i=b.keys(e);for(n=0,a=i.length;n<a;n++)t(e[i[n]],i[n],e)}return e},b.map=b.collect=function(e,t,r){t=w(t,r);for(var n=!M(e)&&b.keys(e),a=(n||e).length,i=Array(a),s=0;s<a;s++){var o=n?n[s]:s;i[s]=t(e[o],o,e)}return i};var E=function(e){var t=function(t,r,n,a){var i=!M(t)&&b.keys(t),s=(i||t).length,o=e>0?0:s-1;for(a||(n=t[i?i[o]:o],o+=e);o>=0&&o<s;o+=e){var c=i?i[o]:o;n=r(n,t[c],c,t)}return n};return function(e,r,n,a){var i=arguments.length>=3;return t(e,y(r,a,4),n,i)}};b.reduce=b.foldl=b.inject=E(1),b.reduceRight=b.foldr=E(-1),b.find=b.detect=function(e,t,r){var n=(M(e)?b.findIndex:b.findKey)(e,t,r);if(void 0!==n&&-1!==n)return e[n]},b.filter=b.select=function(e,t,r){var n=[];return t=w(t,r),b.each(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n},b.reject=function(e,t,r){return b.filter(e,b.negate(w(t)),r)},b.every=b.all=function(e,t,r){t=w(t,r);for(var n=!M(e)&&b.keys(e),a=(n||e).length,i=0;i<a;i++){var s=n?n[i]:i;if(!t(e[s],s,e))return!1}return!0},b.some=b.any=function(e,t,r){t=w(t,r);for(var n=!M(e)&&b.keys(e),a=(n||e).length,i=0;i<a;i++){var s=n?n[i]:i;if(t(e[s],s,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,r,n){return M(e)||(e=b.values(e)),("number"!=typeof r||n)&&(r=0),b.indexOf(e,t,r)>=0},b.invoke=k((function(e,t,r){var n,a;return b.isFunction(t)?a=t:b.isArray(t)&&(n=t.slice(0,-1),t=t[t.length-1]),b.map(e,(function(e){var i=a;if(!i){if(n&&n.length&&(e=T(e,n)),null==e)return;i=e[t]}return null==i?i:i.apply(e,r)}))})),b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,r){var n,a,i=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=M(e)?e:b.values(e)).length;o<c;o++)null!=(n=e[o])&&n>i&&(i=n);else t=w(t,r),b.each(e,(function(e,r,n){((a=t(e,r,n))>s||a===-1/0&&i===-1/0)&&(i=e,s=a)}));return i},b.min=function(e,t,r){var n,a,i=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=M(e)?e:b.values(e)).length;o<c;o++)null!=(n=e[o])&&n<i&&(i=n);else t=w(t,r),b.each(e,(function(e,r,n){((a=t(e,r,n))<s||a===1/0&&i===1/0)&&(i=e,s=a)}));return i},b.shuffle=function(e){return b.sample(e,1/0)},b.sample=function(e,t,r){if(null==t||r)return M(e)||(e=b.values(e)),e[b.random(e.length-1)];var n=M(e)?b.clone(e):b.values(e),a=A(n);t=Math.max(Math.min(t,a),0);for(var i=a-1,s=0;s<t;s++){var o=b.random(s,i),c=n[s];n[s]=n[o],n[o]=c}return n.slice(0,t)},b.sortBy=function(e,t,r){var n=0;return t=w(t,r),b.pluck(b.map(e,(function(e,r,a){return{value:e,index:n++,criteria:t(e,r,a)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")};var C=function(e,t){return function(r,n,a){var i=t?[[],[]]:{};return n=w(n,a),b.each(r,(function(t,a){var s=n(t,a,r);e(i,t,s)})),i}};b.groupBy=C((function(e,t,r){S(e,r)?e[r].push(t):e[r]=[t]})),b.indexBy=C((function(e,t,r){e[r]=t})),b.countBy=C((function(e,t,r){S(e,r)?e[r]++:e[r]=1}));var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;b.toArray=function(e){return e?b.isArray(e)?d.call(e):b.isString(e)?e.match(I):M(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:M(e)?e.length:b.keys(e).length},b.partition=C((function(e,t,r){e[r?0:1].push(t)}),!0),b.first=b.head=b.take=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,r){return d.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},b.last=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,r){return d.call(e,null==t||r?1:t)},b.compact=function(e){return b.filter(e,Boolean)};var F=function e(t,r,n,a){for(var i=(a=a||[]).length,s=0,o=A(t);s<o;s++){var c=t[s];if(M(c)&&(b.isArray(c)||b.isArguments(c)))if(r)for(var u=0,d=c.length;u<d;)a[i++]=c[u++];else e(c,r,n,a),i=a.length;else n||(a[i++]=c)}return a};b.flatten=function(e,t){return F(e,t,!1)},b.without=k((function(e,t){return b.difference(e,t)})),b.uniq=b.unique=function(e,t,r,n){b.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=w(r,n));for(var a=[],i=[],s=0,o=A(e);s<o;s++){var c=e[s],u=r?r(c,s,e):c;t&&!r?(s&&i===u||a.push(c),i=u):r?b.contains(i,u)||(i.push(u),a.push(c)):b.contains(a,c)||a.push(c)}return a},b.union=k((function(e){return b.uniq(F(e,!0,!0))})),b.intersection=function(e){for(var t=[],r=arguments.length,n=0,a=A(e);n<a;n++){var i=e[n];if(!b.contains(t,i)){var s;for(s=1;s<r&&b.contains(arguments[s],i);s++);s===r&&t.push(i)}}return t},b.difference=k((function(e,t){return t=F(t,!0,!0),b.filter(e,(function(e){return!b.contains(t,e)}))})),b.unzip=function(e){for(var t=e&&b.max(e,A).length||0,r=Array(t),n=0;n<t;n++)r[n]=b.pluck(e,n);return r},b.zip=k(b.unzip),b.object=function(e,t){for(var r={},n=0,a=A(e);n<a;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r};var P=function(e){return function(t,r,n){r=w(r,n);for(var a=A(t),i=e>0?0:a-1;i>=0&&i<a;i+=e)if(r(t[i],i,t))return i;return-1}};b.findIndex=P(1),b.findLastIndex=P(-1),b.sortedIndex=function(e,t,r,n){for(var a=(r=w(r,n,1))(t),i=0,s=A(e);i<s;){var o=Math.floor((i+s)/2);r(e[o])<a?i=o+1:s=o}return i};var B=function(e,t,r){return function(n,a,i){var s=0,o=A(n);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+o,s):o=i>=0?Math.min(i+1,o):i+o+1;else if(r&&i&&o)return n[i=r(n,a)]===a?i:-1;if(a!==a)return(i=t(d.call(n,s,o),b.isNaN))>=0?i+s:-1;for(i=e>0?s:o-1;i>=0&&i<o;i+=e)if(n[i]===a)return i;return-1}};b.indexOf=B(1,b.findIndex,b.sortedIndex),b.lastIndexOf=B(-1,b.findLastIndex),b.range=function(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),i=0;i<n;i++,e+=r)a[i]=e;return a},b.chunk=function(e,t){if(null==t||t<1)return[];for(var r=[],n=0,a=e.length;n<a;)r.push(d.call(e,n,n+=t));return r};var R=function(e,t,r,n,a){if(!(n instanceof t))return e.apply(r,a);var i=x(e.prototype),s=e.apply(i,a);return b.isObject(s)?s:i};b.bind=k((function(e,t,r){if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=k((function(a){return R(e,n,t,this,r.concat(a))}));return n})),b.partial=k((function(e,t){var r=b.partial.placeholder;return function n(){for(var a=0,i=t.length,s=Array(i),o=0;o<i;o++)s[o]=t[o]===r?arguments[a++]:t[o];for(;a<arguments.length;)s.push(arguments[a++]);return R(e,n,this,this,s)}})),b.partial.placeholder=b,b.bindAll=k((function(e,t){var r=(t=F(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=b.bind(e[n],e)}})),b.memoize=function(e,t){var r=function r(n){var a=r.cache,i=""+(t?t.apply(this,arguments):n);return S(a,i)||(a[i]=e.apply(this,arguments)),a[i]};return r.cache={},r},b.delay=k((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,r){var n,a,i,s,o=0;r||(r={});var c=function(){o=!1===r.leading?0:b.now(),n=null,s=e.apply(a,i),n||(a=i=null)},u=function(){var u=b.now();o||!1!==r.leading||(o=u);var d=t-(u-o);return a=this,i=arguments,d<=0||d>t?(n&&(clearTimeout(n),n=null),o=u,s=e.apply(a,i),n||(a=i=null)):n||!1===r.trailing||(n=setTimeout(c,d)),s};return u.cancel=function(){clearTimeout(n),o=0,n=a=i=null},u},b.debounce=function(e,t,r){var n,a,i=function(t,r){n=null,r&&(a=e.apply(t,r))},s=k((function(s){if(n&&clearTimeout(n),r){var o=!n;n=setTimeout(i,t),o&&(a=e.apply(this,s))}else n=b.delay(i,t,this,s);return a}));return s.cancel=function(){clearTimeout(n),n=null},s},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},b.once=b.partial(b.before,2),b.restArguments=k;var L=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(e,t){var r=N.length,n=e.constructor,a=b.isFunction(n)&&n.prototype||o,i="constructor";for(S(e,i)&&!b.contains(t,i)&&t.push(i);r--;)(i=N[r])in e&&e[i]!==a[i]&&!b.contains(t,i)&&t.push(i)};b.keys=function(e){if(!b.isObject(e))return[];if(p)return p(e);var t=[];for(var r in e)S(e,r)&&t.push(r);return L&&D(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var r in e)t.push(r);return L&&D(e,t),t},b.values=function(e){for(var t=b.keys(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=e[t[a]];return n},b.mapObject=function(e,t,r){t=w(t,r);for(var n=b.keys(e),a=n.length,i={},s=0;s<a;s++){var o=n[s];i[o]=t(e[o],o,e)}return i},b.pairs=function(e){for(var t=b.keys(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=[t[a],e[t[a]]];return n},b.invert=function(e){for(var t={},r=b.keys(e),n=0,a=r.length;n<a;n++)t[e[r[n]]]=r[n];return t},b.functions=b.methods=function(e){var t=[];for(var r in e)b.isFunction(e[r])&&t.push(r);return t.sort()};var V=function(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var a=1;a<n;a++)for(var i=arguments[a],s=e(i),o=s.length,c=0;c<o;c++){var u=s[c];t&&void 0!==r[u]||(r[u]=i[u])}return r}};b.extend=V(b.allKeys),b.extendOwn=b.assign=V(b.keys),b.findKey=function(e,t,r){t=w(t,r);for(var n,a=b.keys(e),i=0,s=a.length;i<s;i++)if(t(e[n=a[i]],n,e))return n};var j,U,q=function(e,t,r){return t in r};b.pick=k((function(e,t){var r={},n=t[0];if(null==e)return r;b.isFunction(n)?(t.length>1&&(n=y(n,t[1])),t=b.allKeys(e)):(n=q,t=F(t,!1,!1),e=Object(e));for(var a=0,i=t.length;a<i;a++){var s=t[a],o=e[s];n(o,s,e)&&(r[s]=o)}return r})),b.omit=k((function(e,t){var r,n=t[0];return b.isFunction(n)?(n=b.negate(n),t.length>1&&(r=t[1])):(t=b.map(F(t,!1,!1),String),n=function(e,r){return!b.contains(t,r)}),b.pick(e,n,r)})),b.defaults=V(b.allKeys,!0),b.create=function(e,t){var r=x(e);return t&&b.extendOwn(r,t),r},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var r=b.keys(t),n=r.length;if(null==e)return!n;for(var a=Object(e),i=0;i<n;i++){var s=r[i];if(t[s]!==a[s]||!(s in a))return!1}return!0},j=function(e,t,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&U(e,t,r,n)},U=function(e,t,r,n){e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var a=f.call(e);if(a!==f.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t)}var i="[object Array]"===a;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,o=t.constructor;if(s!==o&&!(b.isFunction(s)&&s instanceof s&&b.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!j(e[u],t[u],r,n))return!1}else{var d,l=b.keys(e);if(u=l.length,b.keys(t).length!==u)return!1;for(;u--;)if(d=l[u],!S(t,d)||!j(e[d],t[d],r,n))return!1}return r.pop(),n.pop(),!0},b.isEqual=function(e,t){return j(e,t)},b.isEmpty=function(e){return null==e||(M(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=h||function(e){return"[object Array]"===f.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){b["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}})),b.isArguments(arguments)||(b.isArguments=function(e){return S(e,"callee")});var G=a.document&&a.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof G&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return!b.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&isNaN(e)},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){if(!b.isArray(t))return S(e,t);for(var r=t.length,n=0;n<r;n++){var a=t[n];if(null==e||!l.call(e,a))return!1;e=e[a]}return!!r},b.noConflict=function(){return a._=i,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=function(e){return b.isArray(e)?function(t){return T(t,e)}:_(e)},b.propertyOf=function(e){return null==e?function(){}:function(t){return b.isArray(t)?T(e,t):e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,r){var n=Array(Math.max(0,e));t=y(t,r,1);for(var a=0;a<e;a++)n[a]=t(a);return n},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=b.invert(H),K=function(e){var t=function(t){return e[t]},r="(?:"+b.keys(e).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}};b.escape=K(H),b.unescape=K(z),b.result=function(e,t,r){b.isArray(t)||(t=[t]);var n=t.length;if(!n)return b.isFunction(r)?r.call(e):r;for(var a=0;a<n;a++){var i=null==e?void 0:e[t[a]];void 0===i&&(i=r,a=n),e=b.isFunction(i)?i.call(e):i}return e};var J=0;b.uniqueId=function(e){var t=++J+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+W[e]};b.template=function(e,t,r){!t&&r&&(t=r),t=b.defaults({},t,b.templateSettings);var n,a=RegExp([(t.escape||X).source,(t.interpolate||X).source,(t.evaluate||X).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(a,(function(t,r,n,a,o){return s+=e.slice(i,o).replace(Z,Y),i=o+t.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var o=function(e){return n.call(this,e,b)},c=t.variable||"obj";return o.source="function("+c+"){\n"+s+"}",o},b.chain=function(e){var t=b(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){return b.each(b.functions(e),(function(t){var r=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Q(this,r.apply(b,e))}})),b},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=s[e];b.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],Q(this,r)}})),b.each(["concat","join","slice"],(function(e){var t=s[e];b.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return b}.apply(t,[]))||(r.exports=n)}()}).call(this,r(19),r(46)(e))},function(e,t,r){"use strict";r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return g})),r.d(t,"b",(function(){return y}));var n=r(8),a=r.n(n),i=r(1),s=r(3),o=r(96),c=a.a.BN,u=new s.b(o.a),d={};function f(e){return null!=e&&(h.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||Object(i.l)(e)||"bigint"===typeof e||Object(i.j)(e))}var l=!1;class h{constructor(e,t){u.checkNew(new.target,h),e!==d&&u.throwError("cannot call constructor directly; use BigNumber.from",s.b.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return m(v(this).fromTwos(e))}toTwos(e){return m(v(this).toTwos(e))}abs(){return"-"===this._hex[0]?h.from(this._hex.substring(1)):this}add(e){return m(v(this).add(v(e)))}sub(e){return m(v(this).sub(v(e)))}div(e){return h.from(e).isZero()&&b("division by zero","div"),m(v(this).div(v(e)))}mul(e){return m(v(this).mul(v(e)))}mod(e){var t=v(e);return t.isNeg()&&b("cannot modulo negative values","mod"),m(v(this).umod(t))}pow(e){var t=v(e);return t.isNeg()&&b("cannot raise to negative values","pow"),m(v(this).pow(t))}and(e){var t=v(e);return(this.isNegative()||t.isNeg())&&b("cannot 'and' negative values","and"),m(v(this).and(t))}or(e){var t=v(e);return(this.isNegative()||t.isNeg())&&b("cannot 'or' negative values","or"),m(v(this).or(t))}xor(e){var t=v(e);return(this.isNegative()||t.isNeg())&&b("cannot 'xor' negative values","xor"),m(v(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&b("cannot mask negative values","mask"),m(v(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&b("cannot shift negative values","shl"),m(v(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&b("cannot shift negative values","shr"),m(v(this).shrn(e))}eq(e){return v(this).eq(v(e))}lt(e){return v(this).lt(v(e))}lte(e){return v(this).lte(v(e))}gt(e){return v(this).gt(v(e))}gte(e){return v(this).gte(v(e))}isNegative(){return"-"===this._hex[0]}isZero(){return v(this).isZero()}toNumber(){try{return v(this).toNumber()}catch(e){b("overflow","toNumber",this.toString())}return null}toString(){return arguments.length>0&&(10===arguments[0]?l||(l=!0,u.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?u.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",s.b.errors.UNEXPECTED_ARGUMENT,{}):u.throwError("BigNumber.toString does not accept parameters",s.b.errors.UNEXPECTED_ARGUMENT,{})),v(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof h)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new h(d,p(e)):e.match(/^-?[0-9]+$/)?new h(d,p(new c(e))):u.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&b("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&b("overflow","BigNumber.from",e),h.from(String(e));var t=e;if("bigint"===typeof t)return h.from(t.toString());if(Object(i.j)(t))return h.from(Object(i.i)(t));if(t)if(t.toHexString){var r=t.toHexString();if("string"===typeof r)return h.from(r)}else{var n=t._hex;if(null==n&&"BigNumber"===t.type&&(n=t.hex),"string"===typeof n&&(Object(i.l)(n)||"-"===n[0]&&Object(i.l)(n.substring(1))))return h.from(n)}return u.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function p(e){if("string"!==typeof e)return p(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&u.throwArgumentError("invalid hex","value",e),"0x00"===(e=p(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function m(e){return h.from(p(e))}function v(e){var t=h.from(e).toHexString();return"-"===t[0]?new c("-"+t.substring(3),16):new c(t.substring(2),16)}function b(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),u.throwError(e,s.b.errors.NUMERIC_FAULT,n)}function g(e){return new c(e,36).toString(16)}function y(e){return new c(e,16).toString(36)}},function(e,t,r){"use strict";var n=r(269),a=r(1),i=r(2),s=r(3);r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return l}));var o=new s.b("signing-key/5.0.11"),c=null;function u(){return c||(c=new n.a("secp256k1")),c}class d{constructor(e){Object(i.d)(this,"curve","secp256k1"),Object(i.d)(this,"privateKey",Object(a.i)(e));var t=u().keyFromPrivate(Object(a.a)(this.privateKey));Object(i.d)(this,"publicKey","0x"+t.getPublic(!1,"hex")),Object(i.d)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Object(i.d)(this,"_isSigningKey",!0)}_addPoint(e){var t=u().keyFromPublic(Object(a.a)(this.publicKey)),r=u().keyFromPublic(Object(a.a)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){var t=u().keyFromPrivate(Object(a.a)(this.privateKey)),r=Object(a.a)(e);32!==r.length&&o.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return Object(a.n)({recoveryParam:n.recoveryParam,r:Object(a.h)("0x"+n.r.toString(16),32),s:Object(a.h)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){var t=u().keyFromPrivate(Object(a.a)(this.privateKey)),r=u().keyFromPublic(Object(a.a)(l(e)));return Object(a.h)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function f(e,t){var r=Object(a.n)(t),n={r:Object(a.a)(r.r),s:Object(a.a)(r.s)};return"0x"+u().recoverPubKey(Object(a.a)(e),n,r.recoveryParam).encode("hex",!1)}function l(e,t){var r=Object(a.a)(e);if(32===r.length){var n=new d(r);return t?"0x"+u().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?Object(a.i)(r):"0x"+u().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+u().keyFromPublic(r).getPublic(!0,"hex"):Object(a.i)(r):o.throwArgumentError("invalid public or private key","key","[REDACTED]")}},function(e,t,r){"use strict";var n=r(154),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function s(e){return"undefined"===typeof e}function o(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:o,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return o(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)d(arguments[n],r);return t},extend:function(e,t,r){return d(t,(function(t,a){e[a]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=r(9).Buffer}catch(O){}function o(e,t,r){for(var a=0,i=Math.min(e.length,r),s=0,o=t;o<i;o++){var c,u=e.charCodeAt(o)-48;a<<=4,a|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,s|=c}return n(!(240&s),"Invalid character in "+e),a}function c(e,t,r,a){for(var i=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;i*=a,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<a,"Invalid character"),i+=s}return i}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}i.isBN=function(e){return e instanceof i||null!==e&&"object"===typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a,i=0;for(r=e.length-6,n=0;r>=t;r-=6)a=o(e,r,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,n++);r+6!==t&&(a=o(e,t,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303),this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,u=0,d=r;d<o;d+=n)u=c(e,d,d+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u:i.prototype.inspect=u;var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?d[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],h=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:d[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(a=0|e.words[p])*(i=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,a),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,v=0|s[2],b=8191&v,g=v>>>13,y=0|s[3],w=8191&y,k=y>>>13,x=0|s[4],_=8191&x,S=x>>>13,T=0|s[5],O=8191&T,A=T>>>13,M=0|s[6],E=8191&M,C=M>>>13,I=0|s[7],F=8191&I,P=I>>>13,B=0|s[8],R=8191&B,L=B>>>13,N=0|s[9],D=8191&N,V=N>>>13,j=0|o[0],U=8191&j,q=j>>>13,G=0|o[1],H=8191&G,z=G>>>13,K=0|o[2],J=8191&K,X=K>>>13,W=0|o[3],Z=8191&W,Y=W>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(u+(n=Math.imul(f,U))|0)+((8191&(a=(a=Math.imul(f,q))+Math.imul(l,U)|0))<<13)|0;u=((i=Math.imul(l,q))+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,U),a=(a=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var be=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(a=(a=a+Math.imul(f,z)|0)+Math.imul(l,H)|0))<<13)|0;u=((i=i+Math.imul(l,z)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,U),a=(a=Math.imul(b,q))+Math.imul(g,U)|0,i=Math.imul(g,q),n=n+Math.imul(p,H)|0,a=(a=a+Math.imul(p,z)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,z)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,X)|0)+Math.imul(l,J)|0))<<13)|0;u=((i=i+Math.imul(l,X)|0)+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),a=(a=Math.imul(w,q))+Math.imul(k,U)|0,i=Math.imul(k,q),n=n+Math.imul(b,H)|0,a=(a=a+Math.imul(b,z)|0)+Math.imul(g,H)|0,i=i+Math.imul(g,z)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,X)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,X)|0;var ye=(u+(n=n+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(l,Z)|0))<<13)|0;u=((i=i+Math.imul(l,Y)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,U),a=(a=Math.imul(_,q))+Math.imul(S,U)|0,i=Math.imul(S,q),n=n+Math.imul(w,H)|0,a=(a=a+Math.imul(w,z)|0)+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,X)|0)+Math.imul(g,J)|0,i=i+Math.imul(g,X)|0,n=n+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((i=i+Math.imul(l,ee)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),a=(a=Math.imul(O,q))+Math.imul(A,U)|0,i=Math.imul(A,q),n=n+Math.imul(_,H)|0,a=(a=a+Math.imul(_,z)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,n=n+Math.imul(w,J)|0,a=(a=a+Math.imul(w,X)|0)+Math.imul(k,J)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(g,Z)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var ke=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(a=(a=a+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((i=i+Math.imul(l,ne)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(E,U),a=(a=Math.imul(E,q))+Math.imul(C,U)|0,i=Math.imul(C,q),n=n+Math.imul(O,H)|0,a=(a=a+Math.imul(O,z)|0)+Math.imul(A,H)|0,i=i+Math.imul(A,z)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,X)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,X)|0,n=n+Math.imul(w,Z)|0,a=(a=a+Math.imul(w,Y)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(g,$)|0,i=i+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,se)|0)+Math.imul(l,ie)|0))<<13)|0;u=((i=i+Math.imul(l,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,U),a=(a=Math.imul(F,q))+Math.imul(P,U)|0,i=Math.imul(P,q),n=n+Math.imul(E,H)|0,a=(a=a+Math.imul(E,z)|0)+Math.imul(C,H)|0,i=i+Math.imul(C,z)|0,n=n+Math.imul(O,J)|0,a=(a=a+Math.imul(O,X)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(S,Z)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(w,$)|0,a=(a=a+Math.imul(w,ee)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var _e=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((i=i+Math.imul(l,ue)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,U),a=(a=Math.imul(R,q))+Math.imul(L,U)|0,i=Math.imul(L,q),n=n+Math.imul(F,H)|0,a=(a=a+Math.imul(F,z)|0)+Math.imul(P,H)|0,i=i+Math.imul(P,z)|0,n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,X)|0)+Math.imul(C,J)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Y)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,a=(a=a+Math.imul(w,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(g,ie)|0,i=i+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((i=i+Math.imul(l,le)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,U),a=(a=Math.imul(D,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(R,H)|0,a=(a=a+Math.imul(R,z)|0)+Math.imul(L,H)|0,i=i+Math.imul(L,z)|0,n=n+Math.imul(F,J)|0,a=(a=a+Math.imul(F,X)|0)+Math.imul(P,J)|0,i=i+Math.imul(P,X)|0,n=n+Math.imul(E,Z)|0,a=(a=a+Math.imul(E,Y)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,Y)|0,n=n+Math.imul(O,$)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(w,ie)|0,a=(a=a+Math.imul(w,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,fe)|0,i=i+Math.imul(m,le)|0;var Te=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((i=i+Math.imul(l,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,H),a=(a=Math.imul(D,z))+Math.imul(V,H)|0,i=Math.imul(V,z),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,X)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,X)|0,n=n+Math.imul(F,Z)|0,a=(a=a+Math.imul(F,Y)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,Y)|0,n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(O,re)|0,a=(a=a+Math.imul(O,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,a=(a=a+Math.imul(w,ue)|0)+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,n=n+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(g,fe)|0,i=i+Math.imul(g,le)|0;var Oe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,J),a=(a=Math.imul(D,X))+Math.imul(V,J)|0,i=Math.imul(V,X),n=n+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(F,$)|0,a=(a=a+Math.imul(F,ee)|0)+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(w,fe)|0,a=(a=a+Math.imul(w,le)|0)+Math.imul(k,fe)|0,i=i+Math.imul(k,le)|0;var Ae=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((i=i+Math.imul(g,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Z),a=(a=Math.imul(D,Y))+Math.imul(V,Z)|0,i=Math.imul(V,Y),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,n=n+Math.imul(F,re)|0,a=(a=a+Math.imul(F,ne)|0)+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,ue)|0,n=n+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,le)|0)+Math.imul(S,fe)|0,i=i+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(a=(a=a+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((i=i+Math.imul(k,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,$),a=(a=Math.imul(D,ee))+Math.imul(V,$)|0,i=Math.imul(V,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,n=n+Math.imul(F,ie)|0,a=(a=a+Math.imul(F,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,i=i+Math.imul(C,ue)|0,n=n+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,le)|0;var Ee=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,re),a=(a=Math.imul(D,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,se)|0,n=n+Math.imul(F,ce)|0,a=(a=a+Math.imul(F,ue)|0)+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,n=n+Math.imul(E,fe)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(C,fe)|0,i=i+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(a=(a=a+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((i=i+Math.imul(A,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ie),a=(a=Math.imul(D,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,ue)|0,n=n+Math.imul(F,fe)|0,a=(a=a+Math.imul(F,le)|0)+Math.imul(P,fe)|0,i=i+Math.imul(P,le)|0;var Ie=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((i=i+Math.imul(C,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,ce),a=(a=Math.imul(D,ue))+Math.imul(V,ce)|0,i=Math.imul(V,ue),n=n+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,le)|0;var Fe=(u+(n=n+Math.imul(F,pe)|0)|0)+((8191&(a=(a=a+Math.imul(F,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((i=i+Math.imul(P,me)|0)+(a>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(D,fe),a=(a=Math.imul(D,le))+Math.imul(V,fe)|0,i=Math.imul(V,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((i=i+Math.imul(L,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(D,pe))|0)+((8191&(a=(a=Math.imul(D,me))+Math.imul(V,pe)|0))<<13)|0;return u=((i=Math.imul(V,me))+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ve,c[1]=be,c[2]=ge,c[3]=ye,c[4]=we,c[5]=ke,c[6]=xe,c[7]=_e,c[8]=Se,c[9]=Te,c[10]=Oe,c[11]=Ae,c[12]=Me,c[13]=Ee,c[14]=Ce,c[15]=Ie,c[16]=Fe,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var d=i-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?h(this,e,t):r<1024?m(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<a;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=r[d+h],m=n[d+h],v=r[d+h+s],b=n[d+h+s],g=f*v-l*b;b=f*b+l*v,v=g,r[d+h]=p+v,n[d+h]=m+b,r[d+h+s]=p-v,n[d+h+s]=m-b,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},b.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0===(-8192&i))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,d,f,n,a);for(var h=0;h<n;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,n),this.transform(o,c,l,i,n,a),this.conjugate(l,i,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),v(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,a=0;a<this.length;a++){var i=(0|this.words[a])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[a]=67108863&s}return 0!==r&&(this.words[a]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=e.words[n]>>>a&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"===typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=a);u--){var f=0|this.words[u];this.words[u]=d<<26-i|f>>>i,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this._strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,a=0,i=this.length-1;i>=0;i--)a=(r*a+(0|this.words[i]))%e;return t?-a:a},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,a=this.length-1;a>=0;a--){var i=(0|this.words[a])+67108864*r;this.words[a]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0===(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0===(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},a(w,y),w.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(k,y),a(x,y),a(_,y),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new k;else if("p192"===e)t=new x;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(e.umod(this.m)._forceRed(this)._move(e),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,v=0;0!==m.cmp(o);v++)m=m.redSqr();n(v<p);var b=this.pow(f,new i(1).iushln(p-v-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=v}return l},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new T(e)},a(T,S),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(46)(e))},function(e,t,r){var n=r(25),a=r(600),i=r(210),s=r(608),o=r(43),c=r(8),u=function e(t,r){var a=[];return r.forEach((function(r){if("object"===typeof r.components){if("tuple"!==r.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var i="",s=r.type.indexOf("[");s>=0&&(i=r.type.substring(s));var o=e(t,r.components);n.isArray(o)&&t?a.push("tuple("+o.join(",")+")"+i):t?a.push("("+o+")"):a.push("("+o.join(",")+")"+i)}else a.push(r.type)})),a},d=function(e){if(!i.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var a=parseInt(e.substr(r,2),16);t+=String.fromCharCode(a)}return t},f=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},l=function(e){if(e=e?e.toLowerCase():"ether",!a.unitMap[e])throw new Error('This unit "'+e+"\" doesn't exist, please use the one of the following units"+JSON.stringify(a.unitMap,null,2));return e};e.exports={_fireError:function(e,t,r,a,i){return!n.isObject(e)||e instanceof Error||!e.data||((n.isObject(e.data)||n.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+"\n"+e.data),n.isString(e)&&(e=new Error(e)),n.isFunction(a)&&a(e,i),n.isFunction(r)&&((t&&n.isFunction(t.listeners)&&t.listeners("error").length||n.isFunction(a))&&t.catch((function(){})),setTimeout((function(){r(e)}),1)),t&&n.isFunction(t.emit)&&setTimeout((function(){t.emit("error",e,i),t.removeAllListeners()}),1),t},_jsonInterfaceMethodToString:function(e){return n.isObject(e)&&e.name&&-1!==e.name.indexOf("(")?e.name:e.name+"("+u(!1,e.inputs).join(",")+")"},_flattenTypes:u,randomHex:function(e){return"0x"+o(e).toString("hex")},_:n,BN:i.BN,isBN:i.isBN,isBigNumber:i.isBigNumber,isHex:i.isHex,isHexStrict:i.isHexStrict,sha3:i.sha3,sha3Raw:i.sha3Raw,keccak256:i.sha3,soliditySha3:s.soliditySha3,soliditySha3Raw:s.soliditySha3Raw,encodePacked:s.encodePacked,isAddress:i.isAddress,checkAddressChecksum:i.checkAddressChecksum,toChecksumAddress:function(e){if("undefined"===typeof e)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=i.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},toHex:i.toHex,toBN:i.toBN,bytesToHex:i.bytesToHex,hexToBytes:i.hexToBytes,hexToNumberString:i.hexToNumberString,hexToNumber:i.hexToNumber,toDecimal:i.hexToNumber,numberToHex:i.numberToHex,fromDecimal:i.numberToHex,hexToUtf8:i.hexToUtf8,hexToString:i.hexToUtf8,toUtf8:i.hexToUtf8,stripHexPrefix:i.stripHexPrefix,utf8ToHex:i.utf8ToHex,stringToHex:i.utf8ToHex,fromUtf8:i.utf8ToHex,hexToAscii:d,toAscii:d,asciiToHex:f,fromAscii:f,unitMap:a.unitMap,toWei:function(e,t){if(t=l(t),!i.isBN(e)&&!n.isString(e))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(e)?a.toWei(e,t):a.toWei(e,t).toString(10)},fromWei:function(e,t){if(t=l(t),!i.isBN(e)&&!n.isString(e))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(e)?a.fromWei(e,t):a.fromWei(e,t).toString(10)},padLeft:i.leftPad,leftPad:i.leftPad,padRight:i.rightPad,rightPad:i.rightPad,toTwosComplement:i.toTwosComplement,isBloom:i.isBloom,isUserEthereumAddressInBloom:i.isUserEthereumAddressInBloom,isContractAddressInBloom:i.isContractAddressInBloom,isTopic:i.isTopic,isTopicInBloom:i.isTopicInBloom,isInBloom:i.isInBloom,compareBlockNumbers:function(e,t){if(e==t)return 0;if("genesis"!=e&&"earliest"!=e&&0!=e||"genesis"!=t&&"earliest"!=t&&0!=t){if("genesis"==e||"earliest"==e)return-1;if("genesis"==t||"earliest"==t)return 1;if("latest"==e)return"pending"==t?-1:1;if("latest"===t)return"pending"==e?1:-1;if("pending"==e)return 1;if("pending"==t)return-1;var r=new c(e),n=new c(t);return r.lt(n)?-1:r.eq(n)?0:1}return 0}}},function(e,t,r){var n=t;n.utils=r(35),n.common=r(69),n.sha=r(297),n.ripemd=r(301),n.hmac=r(302),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,r){"use strict";var n=t,a=r(8),i=r(24),s=r(152);n.assert=i,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var a=1<<t+1,i=e.clone(),s=0;s<n.length;s++){var o,c=i.andln(a-1);i.isOdd()?(o=c>(a>>1)-1?(a>>1)-c:c,i.isubn(o)):o=0,n[s]=o,i.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,a=0,i=0;e.cmpn(-a)>0||t.cmpn(-i)>0;){var s,o,c=e.andln(3)+a&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[0].push(s),o=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[1].push(o),2*a===s+1&&(a=1-a),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")}},function(e,t,r){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function s(e,t,r,n,a){null==n&&null==a||(e=e.slice?e.slice(n,a):Array.prototype.slice.call(e,n,a)),t.set(e,r)}var o={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return a(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var a=t[n];r.push(e[(240&a)>>4]+e[15&a])}return r.join("")}}}(),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],h=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],y=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var O=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(t,!0)}),this._prepare()};O.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),a=this.key.length/4,i=T(this.key);for(t=0;t<a;t++)r=t>>2,this._Ke[r][t%4]=i[t],this._Kd[e-r][t%4]=i[t];for(var s,o=0,c=a;c<n;){if(s=i[a-1],i[0]^=f[s>>16&255]<<24^f[s>>8&255]<<16^f[255&s]<<8^f[s>>24&255]^d[o]<<24,o+=1,8!=a)for(t=1;t<a;t++)i[t]^=i[t-1];else{for(t=1;t<a/2;t++)i[t]^=i[t-1];s=i[a/2-1],i[a/2]^=f[255&s]^f[s>>8&255]<<8^f[s>>16&255]<<16^f[s>>24&255]<<24;for(t=a/2+1;t<a;t++)i[t]^=i[t-1]}for(t=0;t<a&&c<n;)l=c>>2,h=c%4,this._Ke[l][h]=i[t],this._Kd[e-l][h]=i[t++],c++}for(var l=1;l<e;l++)for(var h=0;h<4;h++)s=this._Kd[l][h],this._Kd[l][h]=k[s>>24&255]^x[s>>16&255]^_[s>>8&255]^S[255&s]},O.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=T(e),a=0;a<4;a++)n[a]^=this._Ke[0][a];for(var s=1;s<t;s++){for(a=0;a<4;a++)r[a]=h[n[a]>>24&255]^p[n[(a+1)%4]>>16&255]^m[n[(a+2)%4]>>8&255]^v[255&n[(a+3)%4]]^this._Ke[s][a];n=r.slice()}var o,c=i(16);for(a=0;a<4;a++)o=this._Ke[t][a],c[4*a]=255&(f[n[a]>>24&255]^o>>24),c[4*a+1]=255&(f[n[(a+1)%4]>>16&255]^o>>16),c[4*a+2]=255&(f[n[(a+2)%4]>>8&255]^o>>8),c[4*a+3]=255&(f[255&n[(a+3)%4]]^o);return c},O.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=T(e),a=0;a<4;a++)n[a]^=this._Kd[0][a];for(var s=1;s<t;s++){for(a=0;a<4;a++)r[a]=b[n[a]>>24&255]^g[n[(a+3)%4]>>16&255]^y[n[(a+2)%4]>>8&255]^w[255&n[(a+1)%4]]^this._Kd[s][a];n=r.slice()}var o,c=i(16);for(a=0;a<4;a++)o=this._Kd[t][a],c[4*a]=255&(l[n[a]>>24&255]^o>>24),c[4*a+1]=255&(l[n[(a+3)%4]>>16&255]^o>>16),c[4*a+2]=255&(l[n[(a+2)%4]>>8&255]^o>>8),c[4*a+3]=255&(l[255&n[(a+1)%4]]^o);return c};var A=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new O(t)};A.prototype.encrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},A.prototype.decrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var M=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=i(16);this._lastCipherblock=a(r,!0),this._aes=new O(t)};M.prototype.encrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var o=0;o<16;o++)r[o]^=this._lastCipherblock[o];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},M.prototype.decrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var o=0;o<16;o++)t[n+o]=r[o]^this._lastCipherblock[o];s(e,this._lastCipherblock,0,n,n+16)}return t};var E=function e(t,r,n){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 size)")}else r=i(16);n||(n=1),this.segmentSize=n,this._shiftRegister=a(r,!0),this._aes=new O(t)};E.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=a(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},E.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=a(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var C=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=i(16);this._lastPrecipher=a(r,!0),this._lastPrecipherIndex=16,this._aes=new O(t)};C.prototype.encrypt=function(e){for(var t=a(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var I=function e(t){if(!(this instanceof e))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"===typeof t?(this._counter=i(16),this.setValue(t)):this.setBytes(t)};I.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},I.prototype.setBytes=function(e){if(16!=(e=a(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},I.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var F=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r instanceof I||(r=new I(r)),this._counter=r,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new O(t)};F.prototype.encrypt=function(e){for(var t=a(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},F.prototype.decrypt=F.prototype.encrypt;var P={AES:O,Counter:I,ModeOfOperation:{ecb:A,cbc:M,cfb:E,ofb:C,ctr:F},utils:{hex:c,utf8:o},padding:{pkcs7:{pad:function(e){var t=16-(e=a(e,!0)).length%16,r=i(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=a(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var o=i(r);return s(e,o,0,0,r),o}}},_arrayTest:{coerceArray:a,createArray:i,copyArray:s}};e.exports=P}()},function(e,t){e.exports.linebrk=function(e,t){for(var r="",n=0;n+t<e.length;)r+=e.substring(n,n+t)+"\n",n+=t;return r+e.substring(n,e.length)},e.exports.get32IntFromBuffer=function(e,t){t=t||0;var r;if((r=e.length-t)>0){if(r>=4)return e.readUInt32BE(t);for(var n=0,a=t+r,i=0;a>t;a--,i+=2)n+=e[a-1]*Math.pow(16,i);return n}return NaN},e.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&n!==t&&(r[n]=e[n]);return r}},e.exports.trimSurroundingText=function(e,t,r){var n=0,a=e.length,i=e.indexOf(t);i>=0&&(n=i+t.length);var s=e.indexOf(r,i);return s>=0&&(a=s),e.substring(n,a)}},function(e,t,r){"use strict";var n=r(24),a=r(12);function i(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=a,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):i(e,a)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++a)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(a=0;a<e.length;a++)r[a]=0|e[a];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=s(a)),r+=c(a.toString(16))}return r},t.zero2=o,t.zero8=c,t.join32=function(e,t,r,a){var i=r-t;n(i%4===0);for(var s=new Array(i/4),o=0,c=t;o<s.length;o++,c+=4){var u;u="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[o]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];"big"===t?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=255&i):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=255&i)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,a){return e+t+r+n+a>>>0},t.sum64=function(e,t,r,n){var a=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+a;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,a,i,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+i>>>0)<i?1:0,e+r+a+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,a,i,s,o){return t+n+i+o>>>0},t.sum64_5_hi=function(e,t,r,n,a,i,s,o,c,u){var d=0,f=t;return d+=(f=f+n>>>0)<t?1:0,d+=(f=f+i>>>0)<i?1:0,d+=(f=f+o>>>0)<o?1:0,e+r+a+s+c+(d+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,a,i,s,o,c,u){return t+n+i+o+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t,r){"use strict";var n=r(24),a=r(12);function i(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function o(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=a,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,s=255&a;i?r.push(i,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},t.htonl=i,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=i(a)),r+=o(a.toString(16))}return r},t.zero2=s,t.zero8=o,t.join32=function(e,t,r,a){var i=r-t;n(i%4===0);for(var s=new Array(i/4),o=0,c=t;o<s.length;o++,c+=4){var u;u="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[o]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];"big"===t?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=255&i):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=255&i)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,a){return e+t+r+n+a>>>0},t.sum64=function(e,t,r,n){var a=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+a;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,a,i,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+i>>>0)<i?1:0,e+r+a+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,a,i,s,o){return t+n+i+o>>>0},t.sum64_5_hi=function(e,t,r,n,a,i,s,o,c,u){var d=0,f=t;return d+=(f=f+n>>>0)<t?1:0,d+=(f=f+i>>>0)<i?1:0,d+=(f=f+o>>>0)<o?1:0,e+r+a+s+c+(d+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,a,i,s,o,c,u){return t+n+i+o+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=t;n.inherits=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},n.version="6.5.0",n.utils=r(59),n.curve=r(86),n.curves=r(198),n.ec=r(467),n.eddsa=r(471)},function(e,t,r){"use strict";var n=r(1),a=r(3);r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"f",(function(){return f})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"g",(function(){return v}));var i,s,o=new a.b("strings/5.0.10");function c(e,t,r,n,a){if(e===s.BAD_PREFIX||e===s.UNEXPECTED_CONTINUE){for(var i=0,o=t+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return e===s.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(i||(i={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(s||(s={}));var u=Object.freeze({error:function(e,t,r,n,a){return o.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:c,replace:function(e,t,r,n,a){return e===s.OVERLONG?(n.push(a),0):(n.push(65533),c(e,t,r))}});function d(e,t){null==t&&(t=u.error),e=Object(n.a)(e);for(var r=[],a=0;a<e.length;){var i=e[a++];if(i>>7!==0){var o=null,c=null;if(192===(224&i))o=1,c=127;else if(224===(240&i))o=2,c=2047;else{if(240!==(248&i)){a+=t(128===(192&i)?s.UNEXPECTED_CONTINUE:s.BAD_PREFIX,a-1,e,r);continue}o=3,c=65535}if(a-1+o>=e.length)a+=t(s.OVERRUN,a-1,e,r);else{for(var d=i&(1<<8-o-1)-1,f=0;f<o;f++){var l=e[a];if(128!=(192&l)){a+=t(s.MISSING_CONTINUE,a,e,r),d=null;break}d=d<<6|63&l,a++}null!==d&&(d>1114111?a+=t(s.OUT_OF_RANGE,a-1-o,e,r,d):d>=55296&&d<=57343?a+=t(s.UTF16_SURROGATE,a-1-o,e,r,d):d<=c?a+=t(s.OVERLONG,a-1-o,e,r,d):r.push(d))}}else r.push(i)}return r}function f(e,t=i.current){t!=i.current&&(o.checkNormalize(),e=e.normalize(t));for(var r=[],a=0;a<e.length;a++){var s=e.charCodeAt(a);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(63&s|128);else if(55296==(64512&s)){a++;var c=e.charCodeAt(a);if(a>=e.length||56320!==(64512&c))throw new Error("invalid utf-8 string");var u=65536+((1023&s)<<10)+(1023&c);r.push(u>>18|240),r.push(u>>12&63|128),r.push(u>>6&63|128),r.push(63&u|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(63&s|128)}return Object(n.a)(r)}function l(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function h(e,t){return'"'+d(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?l(e):l(55296+((e-=65536)>>10&1023))+l(56320+(1023&e))}).join("")+'"'}function p(e){return e.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}function m(e,t){return p(d(e,t))}function v(e,t=i.current){return d(f(e,t))}},function(e,t,r){var n=r(172);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=n(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,s=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw i}}}}},function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(3);r.d(t,"encode",(function(){return c})),r.d(t,"decode",(function(){return f}));var i=new a.b("rlp/5.0.9");function s(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function o(e,t,r){for(var n=0,a=0;a<r;a++)n=256*n+e[t+a];return n}function c(e){return Object(n.i)(function e(t){if(Array.isArray(t)){var r=[];if(t.forEach((function(t){r=r.concat(e(t))})),r.length<=55)return r.unshift(192+r.length),r;var a=s(r.length);return a.unshift(247+a.length),a.concat(r)}Object(n.k)(t)||i.throwArgumentError("RLP object must be BytesLike","object",t);var o=Array.prototype.slice.call(Object(n.a)(t));if(1===o.length&&o[0]<=127)return o;if(o.length<=55)return o.unshift(128+o.length),o;var c=s(o.length);return c.unshift(183+c.length),c.concat(o)}(e))}function u(e,t,r,n){for(var s=[];r<t+1+n;){var o=d(e,r);s.push(o.result),(r+=o.consumed)>t+1+n&&i.throwError("child data too short",a.b.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function d(e,t){if(0===e.length&&i.throwError("data too short",a.b.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&i.throwError("data short segment too short",a.b.errors.BUFFER_OVERRUN,{});var s=o(e,t+1,r);return t+1+r+s>e.length&&i.throwError("data long segment too short",a.b.errors.BUFFER_OVERRUN,{}),u(e,t,t+1+r,r+s)}if(e[t]>=192){var c=e[t]-192;return t+1+c>e.length&&i.throwError("data array too short",a.b.errors.BUFFER_OVERRUN,{}),u(e,t,t+1,c)}if(e[t]>=184){var d=e[t]-183;t+1+d>e.length&&i.throwError("data array too short",a.b.errors.BUFFER_OVERRUN,{});var f=o(e,t+1,d);return t+1+d+f>e.length&&i.throwError("data array too short",a.b.errors.BUFFER_OVERRUN,{}),{consumed:1+d+f,result:Object(n.i)(e.slice(t+1+d,t+1+d+f))}}if(e[t]>=128){var l=e[t]-128;return t+1+l>e.length&&i.throwError("data too short",a.b.errors.BUFFER_OVERRUN,{}),{consumed:1+l,result:Object(n.i)(e.slice(t+1,t+1+l))}}return{consumed:1,result:Object(n.i)(e[t])}}function f(e){var t=Object(n.a)(e),r=d(t,0);return r.consumed!==t.length&&i.throwArgumentError("invalid rlp data","data",e),r.result}},function(e,t,r){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,a){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,a)}));default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,r(18))},function(e,t,r){"use strict";(function(t,n){var a=r(14).Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=a.allocUnsafe(e);if(e>0)if(e>65536)for(var s=0;s<e;s+=65536)i.getRandomValues(r.slice(s,s+65536));else i.getRandomValues(r);if("function"===typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(19),r(18))},function(e,t,r){var n=r(14).Buffer,a=r(50).Transform,i=r(53).StringDecoder;function s(e){a.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(12)(s,a),s.prototype.update=function(e,t,r){"string"===typeof e&&(e=n.from(e,t));var a=this._update(e);return this.hashMode?this:(r&&(a=this._toString(a,r)),a)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(a){n=a}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},function(e,t,r){"use strict";r.r(t);var n=r(150),a=r(47),i=r(149);r.d(t,"AddressZero",(function(){return n.a})),r.d(t,"NegativeOne",(function(){return a.b})),r.d(t,"Zero",(function(){return a.f})),r.d(t,"One",(function(){return a.c})),r.d(t,"Two",(function(){return a.d})),r.d(t,"WeiPerEther",(function(){return a.e})),r.d(t,"MaxUint256",(function(){return a.a})),r.d(t,"HashZero",(function(){return i.a})),r.d(t,"EtherSymbol",(function(){return"\u039e"}))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"f",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r(26),a=n.a.from(-1),i=n.a.from(0),s=n.a.from(1),o=n.a.from(2),c=n.a.from("1000000000000000000"),u=n.a.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},function(e,t,r){"use strict";var n=t;n.version=r(312).version,n.utils=r(32),n.rand=r(101),n.curve=r(153),n.curves=r(102),n.ec=r(318),n.eddsa=r(322)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)"undefined"===typeof e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},function(e,t,r){e.exports=a;var n=r(51).EventEmitter;function a(){n.call(this)}r(12)(a,n),a.Readable=r(108),a.Writable=r(423),a.Duplex=r(424),a.Transform=r(425),a.PassThrough=r(426),a.Stream=a,a.prototype.pipe=function(e,t){var r=this;function a(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",c));var s=!1;function o(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(d(),0===n.listenerCount(this,"error"))throw e}function d(){r.removeListener("data",a),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return r.on("error",u),e.on("error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e}},function(e,t,r){"use strict";var n,a="object"===typeof Reflect?Reflect:null,i=a&&"function"===typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function a(){void 0!==i&&e.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==t&&(i=function(r){e.removeListener(t,a),n(r)},e.once("error",i)),e.once(t,a)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var a,i,s,o;if(u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"===typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(a=d(e))>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,o=c,console&&console.warn&&console.warn(o)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=l.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"===typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):v(a,a.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return d(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var u=c.length,d=v(c,u);for(r=0;r<u;++r)i(d[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,a,i,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(42),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var i=Object.create(r(37));i.inherits=r(12);var s=r(174),o=r(109);i.inherits(f,s);for(var c=a(o.prototype),u=0;u<c.length;u++){var d=c[u];f.prototype[d]||(f.prototype[d]=o.prototype[d])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";var n=r(421).Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=d,this.end=f,t=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var a=s(t[n]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--n<r||-2===a)return 0;if((a=s(t[n]))>=0)return a>0&&(e.lastNeed=a-2),a;if(--n<r||-2===a)return 0;if((a=s(t[n]))>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n=r(187),a=r(434);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=y(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(u),f=["%","/","?",";","#"].concat(d),l=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(171);function y(e,t,r){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(o);if(y=y.trim(),!r&&1===e.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=s.exec(y);if(k){var x=(k=k[0]).toLowerCase();this.protocol=x,y=y.substr(k.length)}if(r||k||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===y.substr(0,2);!_||k&&v[k]||(y=y.substr(2),this.slashes=!0)}if(!v[k]&&(_||k&&!b[k])){for(var S,T,O=-1,A=0;A<l.length;A++){-1!==(M=y.indexOf(l[A]))&&(-1===O||M<O)&&(O=M)}-1!==(T=-1===O?y.lastIndexOf("@"):y.lastIndexOf("@",O))&&(S=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(S)),O=-1;for(A=0;A<f.length;A++){var M;-1!==(M=y.indexOf(f[A]))&&(-1===O||M<O)&&(O=M)}-1===O&&(O=y.length),this.host=y.slice(0,O),y=y.slice(O),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var C=this.hostname.split(/\./),I=(A=0,C.length);A<I;A++){var F=C[A];if(F&&!F.match(h)){for(var P="",B=0,R=F.length;B<R;B++)F.charCodeAt(B)>127?P+="x":P+=F[B];if(!P.match(h)){var L=C.slice(0,A),N=C.slice(A+1),D=F.match(p);D&&(L.push(D[1]),N.unshift(D[2])),N.length&&(y="/"+N.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=n.toASCII(this.hostname));var V=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+V,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[x])for(A=0,I=d.length;A<I;A++){var U=d[A];if(-1!==y.indexOf(U)){var q=encodeURIComponent(U);q===U&&(q=escape(U)),y=y.split(U).join(q)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),t&&(this.query=g.parse(this.query)),y=y.slice(0,H)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var z=this.search||"";this.path=V+z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var d=c[u];"protocol"!==d&&(r[d]=e[d])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var f=Object.keys(e),l=0;l<f.length;l++){var h=f[l];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||y||r.host&&e.pathname,x=k,_=r.pathname&&r.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!b[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),k=k&&(""===p[0]||""===_[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S)r.hostname=r.host=_.shift(),(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift());return r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=_.slice(-1)[0],O=(r.host||e.host||_.length>1)&&("."===T||".."===T)||""===T,A=0,M=_.length;M>=0;M--)"."===(T=_[M])?_.splice(M,1):".."===T?(_.splice(M,1),A++):A&&(_.splice(M,1),A--);if(!k&&!x)for(;A--;A)_.unshift("..");!k||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),O&&"/"!==_.join("/").substr(-1)&&_.push("");var E,C=""===_[0]||_[0]&&"/"===_[0].charAt(0);S&&(r.hostname=r.host=C?"":_.length?_.shift():"",(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift()));return(k=k||r.host&&_.length)&&!C&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){var n=r(595),a=r(628);e.exports={packageInit:(e,t)=>{if(t=Array.prototype.slice.call(t),!e)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(e,"currentProvider",{get:()=>e._provider,set:t=>e.setProvider(t),enumerable:!0,configurable:!0}),t[0]&&t[0]._requestManager?e._requestManager=t[0]._requestManager:e._requestManager=new n.Manager(t[0],t[1]),e.givenProvider=n.Manager.givenProvider,e.providers=n.Manager.providers,e._provider=e._requestManager.provider,e.setProvider||(e.setProvider=(t,r)=>(e._requestManager.setProvider(t,r),e._provider=e._requestManager.provider,!0)),e.setRequestManager=t=>{e._requestManager=t,e._provider=t.provider},e.BatchRequest=n.BatchManager.bind(null,e._requestManager),e.extend=a(e)},addProviders:e=>{e.givenProvider=n.Manager.givenProvider,e.providers=n.Manager.providers}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(25),s=r(23).errors,o=r(23).formatters,c=r(30),u=r(88),d=r(89).subscriptions,f=r(21),l=function(e){if(!e.call||!e.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.transformPayload=e.transformPayload,this.extraFormatters=e.extraFormatters,this.abiCoder=e.abiCoder,this.requestManager=e.requestManager,this.accounts=e.accounts,this.defaultBlock=e.defaultBlock||"latest",this.defaultAccount=e.defaultAccount||null,this.transactionBlockTimeout=e.transactionBlockTimeout||50,this.transactionConfirmationBlocks=e.transactionConfirmationBlocks||24,this.transactionPollingTimeout=e.transactionPollingTimeout||750,this.defaultCommon=e.defaultCommon,this.defaultChain=e.defaultChain,this.defaultHardfork=e.defaultHardfork,this.handleRevert=e.handleRevert};l.prototype.setRequestManager=function(e,t){this.requestManager=e,t&&(this.accounts=t)},l.prototype.createFunction=function(e,t){var r=this.buildCall();return r.call=this.call,this.setRequestManager(e||this.requestManager,t||this.accounts),r},l.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t},l.prototype.getCall=function(e){return i.isFunction(this.call)?this.call(e):this.call},l.prototype.extractCallback=function(e){if(i.isFunction(e[e.length-1]))return e.pop()},l.prototype.validateArgs=function(e){if(e.length!==this.params)throw s.InvalidNumberOfParams(e.length,this.params,this.name)},l.prototype.formatInput=function(e){var t=this;return this.inputFormatter?this.inputFormatter.map((function(r,n){return r?r.call(t,e[n]):e[n]})):e},l.prototype.formatOutput=function(e){var t=this;return i.isArray(e)?e.map((function(e){return t.outputFormatter&&e?t.outputFormatter(e):e})):this.outputFormatter&&e?this.outputFormatter(e):e},l.prototype.toPayload=function(e){var t=this.getCall(e),r=this.extractCallback(e),n=this.formatInput(e);this.validateArgs(n);var a={method:t,params:n,callback:r};return this.transformPayload&&(a=this.transformPayload(a)),a},l.prototype._confirmTransaction=function(e,t,r){var h=this,p=!1,m=!0,v=0,b=0,g=null,y=null,w=i.isObject(r.params[0])&&r.params[0].gas?r.params[0].gas:null,k=i.isObject(r.params[0])&&r.params[0].data&&r.params[0].from&&!r.params[0].to,x=k&&r.params[0].data.length>2,_=[new l({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[o.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:o.outputBlockFormatter}),new l({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionReceiptFormatter}),new l({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter]}),new l({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionFormatter}),new d({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:o.outputBlockFormatter}}})],S={};i.each(_,(function(e){e.attachToObject(S),e.requestManager=h.requestManager}));var T=function(i,d,l,_,T){if(!l)return T||(T={unsubscribe:function(){clearInterval(g)}}),(i?u.resolve(i):S.getTransactionReceipt(t)).catch((function(t){T.unsubscribe(),p=!0,c._fireError({message:"Failed to check for transaction receipt:",data:t},e.eventEmitter,e.reject)})).then(function(){var t=a(n.mark((function t(r){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&r.blockHash){t.next=2;break}throw new Error("Receipt missing or blockHash null");case 2:if(h.extraFormatters&&h.extraFormatters.receiptFormatter&&(r=h.extraFormatters.receiptFormatter(r)),!(e.eventEmitter.listeners("confirmation").length>0)){t.next=28;break}if(void 0!==i&&0===b){t.next=25;break}return t.next=7,S.getBlockByNumber("latest");case 7:if(s=t.sent,o=s?s.hash:null,!d){t.next=24;break}if(!y){t.next=17;break}return t.next=13,S.getBlockByNumber(y.number+1);case 13:(a=t.sent)&&(y=a,e.eventEmitter.emit("confirmation",b,r,o)),t.next=22;break;case 17:return t.next=19,S.getBlockByNumber(r.blockNumber);case 19:a=t.sent,y=a,e.eventEmitter.emit("confirmation",b,r,o);case 22:t.next=25;break;case 24:e.eventEmitter.emit("confirmation",b,r,o);case 25:(d&&a||!d)&&b++,m=!1,b===h.transactionConfirmationBlocks+1&&(T.unsubscribe(),e.eventEmitter.removeAllListeners());case 28:return t.abrupt("return",r);case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(function(){var t=a(n.mark((function t(r){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k||p){t.next=19;break}if(r.contractAddress){t.next=5;break}return m&&(T.unsubscribe(),p=!0),c._fireError(s.NoContractAddressFoundError(r),e.eventEmitter,e.reject,null,r),t.abrupt("return");case 5:return t.prev=5,t.next=8,S.getCode(r.contractAddress);case 8:a=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(5);case 13:if(a){t.next=15;break}return t.abrupt("return");case 15:!0===r.status&&x||a.length>2?(e.eventEmitter.emit("receipt",r),h.extraFormatters&&h.extraFormatters.contractDeployFormatter?e.resolve(h.extraFormatters.contractDeployFormatter(r)):e.resolve(r),m&&e.eventEmitter.removeAllListeners()):c._fireError(s.ContractCodeNotStoredError(r),e.eventEmitter,e.reject,null,r),m&&T.unsubscribe(),p=!0;case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}()).then(function(){var t=a(n.mark((function t(a){var i,u,d,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k||p){t.next=35;break}if(a.outOfGas||w&&w===a.gasUsed||!0!==a.status&&"0x1"!==a.status&&"undefined"!==typeof a.status){t.next=7;break}e.eventEmitter.emit("receipt",a),e.resolve(a),m&&e.eventEmitter.removeAllListeners(),t.next=33;break;case 7:if(JSON.stringify(a,null,2),!1!==a.status&&"0x0"!==a.status){t.next=32;break}if(t.prev=9,i=null,!h.handleRevert||"eth_sendTransaction"!==h.call&&"eth_sendRawTransaction"!==h.call){t.next=24;break}return u=r.params[0],"eth_sendRawTransaction"===h.call&&(d=r.params[0],l=f.parse(d),u=o.inputTransactionFormatter({data:l.data,to:l.to,from:l.from,gas:l.gasLimit.toHexString(),gasPrice:l.gasPrice.toHexString(),value:l.value.toHexString()})),t.next=16,h.getRevertReason(u,a.blockNumber);case 16:if(!(i=t.sent)){t.next=21;break}c._fireError(s.TransactionRevertInstructionError(i.reason,i.signature,a),e.eventEmitter,e.reject,null,a),t.next=22;break;case 21:throw!1;case 22:t.next=25;break;case 24:throw!1;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(9),c._fireError(s.TransactionRevertedWithoutReasonError(a),e.eventEmitter,e.reject,null,a);case 30:t.next=33;break;case 32:c._fireError(s.TransactionOutOfGasError(a),e.eventEmitter,e.reject,null,a);case 33:m&&T.unsubscribe(),p=!0;case 35:case"end":return t.stop()}}),t,null,[[9,27]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(){v++,d?v-1>=h.transactionPollingTimeout&&(T.unsubscribe(),p=!0,c._fireError(s.TransactionError("Transaction was not mined within "+h.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject)):v-1>=h.transactionBlockTimeout&&(T.unsubscribe(),p=!0,c._fireError(s.TransactionError("Transaction was not mined within "+h.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject))}));T.unsubscribe(),p=!0,c._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:l},e.eventEmitter,e.reject)},O=function(e){var t=()=>{g=setInterval(T.bind(null,e,!0),1e3)};this.requestManager.provider.on?S.subscribe("newBlockHeaders",(function(r,n,a){r||!n?t():T(e,!1,r,0,a)})):t()}.bind(this);S.getTransactionReceipt(t).then((function(t){t&&t.blockHash?(e.eventEmitter.listeners("confirmation").length>0&&O(t),T(t,!1)):p||O()})).catch((function(){p||O()}))};var h=function(e,t){return i.isNumber(e)?t.wallet[e]:i.isObject(e)&&e.address&&e.privateKey?e:t.wallet[e.toLowerCase()]};l.prototype.buildCall=function(){var e=this,t="eth_sendTransaction"===e.call||"eth_sendRawTransaction"===e.call,r="eth_call"===e.call,n=function(){var n=u(!t),a=e.toPayload(Array.prototype.slice.call(arguments)),o=function(i,o){var u;if(e.handleRevert&&r&&e.abiCoder&&(!i&&e.isRevertReasonString(o)?u=o.substring(10):i&&i.data&&(u=i.data.substring(10)),u)){var d=e.abiCoder.decodeParameter("string","0x"+u);return void c._fireError(s.RevertInstructionError(d,"Error(String)"),n.eventEmitter,n.reject,a.callback,{reason:d,signature:"Error(String)"})}try{o=e.formatOutput(o)}catch(f){i=f}if(o instanceof Error&&(i=o),i)return i.error&&(i=i.error),c._fireError(i,n.eventEmitter,n.reject,a.callback);a.callback&&a.callback(null,o),t?(n.eventEmitter.emit("transactionHash",o),e._confirmTransaction(n,o,a)):i||n.resolve(o)},d=function(t){var r=i.extend({},a,{method:"eth_sendRawTransaction",params:[t.rawTransaction]});e.requestManager.send(r,o)},f=function(e,t){var r;if(t&&t.accounts&&t.accounts.wallet&&t.accounts.wallet.length)if("eth_sendTransaction"===e.method){var a=e.params[0];if((r=h(i.isObject(a)?a.from:null,t.accounts))&&r.privateKey){var s=i.omit(a,"from");return t.defaultChain&&!s.chain&&(s.chain=t.defaultChain),t.defaultHardfork&&!s.hardfork&&(s.hardfork=t.defaultHardfork),t.defaultCommon&&!s.common&&(s.common=t.defaultCommon),void t.accounts.signTransaction(s,r.privateKey).then(d).catch((function(e){if(i.isFunction(n.eventEmitter.listeners)&&n.eventEmitter.listeners("error").length){try{n.eventEmitter.emit("error",e)}catch(e){}n.eventEmitter.removeAllListeners(),n.eventEmitter.catch((function(){}))}n.reject(e)}))}}else if("eth_sign"===e.method){var c=e.params[1];if((r=h(e.params[0],t.accounts))&&r.privateKey){var u=t.accounts.sign(c,r.privateKey);return e.callback&&e.callback(null,u.signature),void n.resolve(u.signature)}}return t.requestManager.send(e,o)};if(t&&i.isObject(a.params[0])&&"undefined"===typeof a.params[0].gasPrice){var p=new l({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(e.requestManager);p((function(r,i){i&&(a.params[0].gasPrice=i),t&&setTimeout(()=>{n.eventEmitter.emit("sending",a)},0),f(a,e)}))}else t&&setTimeout(()=>{n.eventEmitter.emit("sending",a)},0),f(a,e);return t&&setTimeout(()=>{n.eventEmitter.emit("sent",a)},0),n.eventEmitter};return n.method=e,n.request=this.request.bind(this),n},l.prototype.getRevertReason=function(e,t){var r=this;return new Promise((function(n,a){new l({name:"call",call:"eth_call",params:2,abiCoder:r.abiCoder,handleRevert:!0}).createFunction(r.requestManager)(e,c.numberToHex(t)).then((function(){n(!1)})).catch((function(e){e.reason?n({reason:e.reason,signature:e.signature}):a(e)}))}))},l.prototype.isRevertReasonString=function(e){return i.isString(e)&&(e.length-2)/2%32===4&&"0x08c379a0"===e.substring(0,10)},l.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e},e.exports=l},,function(e,t,r){"use strict";var n=r(42),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var i=Object.create(r(37));i.inherits=r(12);var s=r(181),o=r(184);i.inherits(f,s);for(var c=a(o.prototype),u=0;u<c.length;u++){var d=c[u];f.prototype[d]||(f.prototype[d]=o.prototype[d])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";var n=t,a=r(29);function i(e,t){var r=[];return t>0&&r.push(e>>>24),t>1&&r.push(e>>>16&255),t>2&&r.push(e>>>8&255),t>3&&r.push(255&e),r}function s(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t}n.assert=function(e,t){if(!e)throw new Error(t)},n.getNAF=function(e,t){for(var r=[],n=1<<t+1,a=e.clone();a.cmpn(1)>=0;){var i;if(a.isOdd()){var s=a.andln(n-1);i=s>(n>>1)-1?(n>>1)-s:s,a.isubn(i)}else i=0;r.push(i);for(var o=0!==a.cmpn(0)&&0===a.andln(n-1)?t+1:1,c=1;c<o;c++)r.push(0);a.iushrn(o)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,a=0;e.cmpn(-n)>0||t.cmpn(-a)>0;){var i,s,o,c=e.andln(3)+n&3,u=t.andln(3)+a&3;if(3===c&&(c=-1),3===u&&(u=-1),0===(1&c))i=0;else i=3!==(o=e.andln(7)+n&7)&&5!==o||2!==u?c:-c;if(r[0].push(i),0===(1&u))s=0;else s=3!==(o=t.andln(7)+a&7)&&5!==o||2!==c?u:-u;r[1].push(s),2*n===i+1&&(n=1-n),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")},n.wordArrayToBuffer=function(e){var t=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;for(var r=[],n=[],a=0;t>0;)t-=(n=i(e[a],Math.min(4,t))).length,r.push(n),a++;return[].concat.apply([],r)},n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,s=255&a;i?r.push(i,s):r.push(s)}return r},n.zero2=s,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,r){"use strict";var n=r(12),a=r(119),i=r(121),s=r(122),o=r(44);function c(e){o.call(this,"digest"),this._hash=e}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new a:"rmd160"===e||"ripemd160"===e?new i:new c(s(e))}},function(e,t,r){"use strict";var n={};function a(e,t,r){r||(r=Error);var a=function(e){var r,n;function a(r,n,a){return e.call(this,function(e,r,n){return"string"===typeof t?t:t(e,r,n)}(r,n,a))||this}return n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,a}(r);a.prototype.name=r.name,a.prototype.code=e,n[e]=a}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}a("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a,s,o;if("string"===typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var c=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(i(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var a=r(224),i=r(228);r(12)(u,a);for(var s=n(i.prototype),o=0;o<s.length;o++){var c=s[o];u.prototype[c]||(u.prototype[c]=i.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(18))},function(e,t,r){var n=r(14).Buffer;function a(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}a.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,a=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var c=s%a,u=Math.min(i-o,a-c),d=0;d<u;d++)r[c+d]=e[o+d];o+=u,(s+=u)%a===0&&this._update(r)}return this._len+=i,this},a.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=a},function(e,t,r){(function(t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t){e.exports=r(282)},function(e,t){e.exports=r(283)},function(e,t){e.exports=r(284)},function(e,t){e.exports=r(285)},function(e,t){e.exports=r(286)},function(e,t){e.exports=r(287)},function(e,t){e.exports=r(140)},function(e,t){e.exports=r(288)},function(e,t){e.exports=r(292)},function(e,t){e.exports=r(790)},function(e,t){e.exports=r(310)},function(e,t){e.exports=r(151)},function(e,t){e.exports=r(311)},function(e,t){e.exports=r(48)},function(e,t){e.exports=r(325)},function(e,t){e.exports=r(326)},function(e,t){e.exports=r(328)},function(e,t){e.exports=r(329)},function(e,t){e.exports=r(347)},function(e,t){e.exports=r(408)},function(e){e.exports=JSON.parse('{"a":"3.2.6"}')},function(e,t){e.exports=r(171)},function(e,r,n){"use strict";n.r(r),n.d(r,"default",(function(){return Tt}));var a={};n.r(a),n.d(a,"byte2hexStr",(function(){return B})),n.d(a,"bytesToString",(function(){return R})),n.d(a,"hextoString",(function(){return L})),n.d(a,"byteArray2hexStr",(function(){return N})),n.d(a,"base64DecodeFromString",(function(){return D})),n.d(a,"base64EncodeToString",(function(){return V}));var i={};n.r(i),n.d(i,"bin2String",(function(){return G})),n.d(i,"arrayEquals",(function(){return H})),n.d(i,"stringToBytes",(function(){return z})),n.d(i,"byte2hexStr",(function(){return B})),n.d(i,"bytesToString",(function(){return R})),n.d(i,"hextoString",(function(){return L})),n.d(i,"byteArray2hexStr",(function(){return N})),n.d(i,"base64DecodeFromString",(function(){return D})),n.d(i,"base64EncodeToString",(function(){return V})),n.d(i,"hexChar2byte",(function(){return K})),n.d(i,"isHexChar",(function(){return J})),n.d(i,"hexStr2byteArray",(function(){return X})),n.d(i,"strToDate",(function(){return W})),n.d(i,"isNumber",(function(){return Z})),n.d(i,"getStringType",(function(){return Y}));var s={};n.r(s),n.d(s,"encode58",(function(){return te})),n.d(s,"decode58",(function(){return re}));var o={};n.r(o),n.d(o,"keccak256",(function(){return ie})),n.d(o,"sha256",(function(){return se})),n.d(o,"toUtf8Bytes",(function(){return oe})),n.d(o,"toUtf8String",(function(){return ce})),n.d(o,"recoverAddress",(function(){return ue})),n.d(o,"SigningKey",(function(){return de})),n.d(o,"AbiCoder",(function(){return fe}));var c={};n.r(c),n.d(c,"getBase58CheckAddress",(function(){return le})),n.d(c,"decodeBase58Address",(function(){return he})),n.d(c,"signTransaction",(function(){return pe})),n.d(c,"arrayToBase64String",(function(){return me})),n.d(c,"signBytes",(function(){return ve})),n.d(c,"getRowBytesFromTransactionBase64",(function(){return be})),n.d(c,"genPriKey",(function(){return ge})),n.d(c,"computeAddress",(function(){return ye})),n.d(c,"getAddressFromPriKey",(function(){return we})),n.d(c,"decode58Check",(function(){return ke})),n.d(c,"isAddressValid",(function(){return xe})),n.d(c,"getBase58CheckAddressFromPriKeyBase64String",(function(){return _e})),n.d(c,"getHexStrAddressFromPriKeyBase64String",(function(){return Se})),n.d(c,"getAddressFromPriKeyBase64String",(function(){return Te})),n.d(c,"getPubKeyFromPriKey",(function(){return Oe})),n.d(c,"ECKeySign",(function(){return Ae})),n.d(c,"SHA256",(function(){return Me})),n.d(c,"passwordToAddress",(function(){return Ee})),n.d(c,"pkToAddress",(function(){return Ce}));var u={};n.r(u),n.d(u,"generateAccount",(function(){return Ie}));var d={};n.r(d),n.d(d,"decodeParams",(function(){return Pe})),n.d(d,"encodeParams",(function(){return Be}));var f=n(0),l=n.n(f),h=n(1),p=n.n(h),m=n(6),v=n.n(m),b=n(2),g=n.n(b),y=n(3),w=n.n(y),k=n(11),x=n.n(k),_=n(15),S=n.n(_),T=n(16),O=n.n(T),A=n(14),M=n.n(A),E=n(4),C=n.n(E),I=n(17),F=n.n(I);function P(){var e=this;this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(t){for(var r,n,a,i,s,o,c,u="",d=0;d<t.length;)i=(r=t.charCodeAt(d++))>>2,s=(3&r)<<4|(n=t.charCodeAt(d++))>>4,o=(15&n)<<2|(a=t.charCodeAt(d++))>>6,c=63&a,isNaN(n)?o=c=64:isNaN(a)&&(c=64),u=u+e._keyStr.charAt(i)+e._keyStr.charAt(s)+e._keyStr.charAt(o)+e._keyStr.charAt(c);return u},this.encodeIgnoreUtf8=function(t){for(var r,n,a,i,s,o,c,u="",d=0;d<t.length;)i=(r=t[d++])>>2,s=(3&r)<<4|(n=t[d++])>>4,o=(15&n)<<2|(a=t[d++])>>6,c=63&a,isNaN(n)?o=c=64:isNaN(a)&&(c=64),u=u+e._keyStr.charAt(i)+e._keyStr.charAt(s)+e._keyStr.charAt(o)+e._keyStr.charAt(c);return u},this.decode=function(t){var r,n,a,i,s,o,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=e._keyStr.indexOf(t.charAt(u++))<<2|(i=e._keyStr.indexOf(t.charAt(u++)))>>4,n=(15&i)<<4|(s=e._keyStr.indexOf(t.charAt(u++)))>>2,a=(3&s)<<6|(o=e._keyStr.indexOf(t.charAt(u++))),c+=String.fromCharCode(r),64!=s&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(a));return e._utf8_decode(c)},this.decodeToByteArray=function(t){var r,n,a,i,s,o,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=e._keyStr.indexOf(t.charAt(u++))<<2|(i=e._keyStr.indexOf(t.charAt(u++)))>>4,n=(15&i)<<4|(s=e._keyStr.indexOf(t.charAt(u++)))>>2,a=(3&s)<<6|(o=e._keyStr.indexOf(t.charAt(u++))),c+=String.fromCharCode(r),64!=s&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(a));return e._out2ByteArray(c)},this._out2ByteArray=function(e){for(var t=new Array(e.length),r=0,n=0;r<e.length;)n=e.charCodeAt(r),t[r]=n,r++;return t},this._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},this._utf8_decode=function(e){for(var t="",r=0,n=0,a=0,i=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(a=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i),r+=3);return t}}function B(e){if("number"!=typeof e)throw new Error("Input must be a number");if(e<0||e>255)throw new Error("Input must be a byte");var t="";return(t+="0123456789ABCDEF".charAt(e>>4))+"0123456789ABCDEF".charAt(15&e)}function R(e){if("string"==typeof e)return e;for(var t="",r=0;r<e.length;r++){var n=e[r].toString(2),a=n.match(/^1+?(?=0)/);if(a&&8===n.length){for(var i=a[0].length,s=e[r].toString(2).slice(7-i),o=1;o<i;o++)s+=e[o+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),r+=i-1}else t+=String.fromCharCode(e[r])}return t}function L(e){for(var t=e.replace(/^0x/,"").split(""),r="",n=0;n<t.length/2;n++){var a="0x".concat(t[2*n]).concat(t[2*n+1]);r+=String.fromCharCode(a)}return r}function N(e){for(var t="",r=0;r<e.length;r++)t+=B(e[r]);return t}function D(e){return(new P).decodeToByteArray(e)}function V(e){return(new P).encodeIgnoreUtf8(e)}var j=n(7),U=n.n(j),q=/^(41)/;function G(e){return R(e)}function H(e,t,r){if(e.length!=t.length)return!1;var n;for(n=0;n<e.length;n++)if(r){if(e[n]!=t[n])return!1}else if(JSON.stringify(e[n])!=JSON.stringify(t[n]))return!1;return!0}function z(e){if("string"!=typeof e)throw new Error("The passed string is not a string");var t,r,n=new Array;t=e.length;for(var a=0;a<t;a++)(r=e.charCodeAt(a))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n}function K(e){var t;if(e>="A"&&e<="F"?t=e.charCodeAt(0)-"A".charCodeAt(0)+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-"a".charCodeAt(0)+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-"0".charCodeAt(0)),"number"==typeof t)return t;throw new Error("The passed hex char is not a valid hex char")}function J(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"?1:0}function X(e){if("string"!=typeof e)throw new Error("The passed string is not a string");for(var t=Array(),r=0,n=0,a=0,i=0;i<e.length;i++){var s=e.charAt(i);if(!J(s))throw new Error("The passed hex char is not a valid hex string");r<<=4,r+=K(s),0==++n%2&&(t[a++]=r,r=0)}return t}function W(e){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(e))throw new Error("The passed date string is not valid");var t=e.split(" "),r=t[0].split("-"),n=parseInt(r[0],10),a=parseInt(r[1],10)-1,i=parseInt(r[2],10);if(t.length>1){var s=t[1].split("-"),o=parseInt(s[0],10),c=parseInt(s[1],10),u=parseInt(s[2],10);return new Date(n,a,i,o,c,u)}return new Date(n,a,i)}function Z(e){return e>="0"&&e<="9"?1:0}function Y(e){if(null==e)return-1;if("string"!=typeof e)return-1;if(0==e.length||""==e)return-1;var t=0;if(40==e.length)for(;t<40&&J(e.charAt(t));t++);if(40==t)return 1;for(t=0;t<e.length&&Z(e.charAt(t));t++);if(t==e.length)return 2;for(t=0;t<e.length;t++)if(e.charAt(t)>" ")return 3;return-1}for(var Q="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$={},ee=0;ee<Q.length;ee++)$[Q.charAt(ee)]=ee;function te(e){if(0===e.length)return"";var t,r,n=[0];for(t=0;t<e.length;t++){for(r=0;r<n.length;r++)n[r]<<=8;n[0]+=e[t];var a=0;for(r=0;r<n.length;++r)n[r]+=a,a=n[r]/58|0,n[r]%=58;for(;a;)n.push(a%58),a=a/58|0}for(t=0;0===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse().map((function(e){return Q[e]})).join("")}function re(e){if(0===e.length)return[];var t,r,n=[0];for(t=0;t<e.length;t++){var a=e[t];if(!(a in $))throw new Error("Non-base58 character");for(r=0;r<n.length;r++)n[r]*=58;n[0]+=$[a];var i=0;for(r=0;r<n.length;++r)n[r]+=i,i=n[r]>>8,n[r]&=255;for(;i;)n.push(255&i),i>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse()}var ne=n(13),ae=n(9),ie=ae.utils.keccak256,se=ae.utils.sha256,oe=ae.utils.toUtf8Bytes,ce=ae.utils.toUtf8String,ue=ae.utils.recoverAddress,de=ae.utils.SigningKey,fe=ae.utils.AbiCoder;function le(e){var t=Me(e),r=Me(t).slice(0,4);return te(r=e.concat(r))}function he(e){if("string"!=typeof e)return!1;if(e.length<=4)return!1;var t=re(e);if(e.length<=4)return!1;var r=t.length-4,n=t.slice(r),a=Me(t=t.slice(0,r)),i=Me(a).slice(0,4);if(n[0]==i[0]&&n[1]==i[1]&&n[2]==i[2]&&n[3]==i[3])return t;throw new Error("Invalid address provided")}function pe(e,t){"string"==typeof e&&(e=X(e));var r=Ae(X(t.txID),e);return Array.isArray(t.signature)?t.signature.includes(r)||t.signature.push(r):t.signature=[r],t}function me(e){return btoa(String.fromCharCode.apply(String,U()(e)))}function ve(e,t){return"string"==typeof e&&(e=X(e)),Ae(Me(t),e)}function be(e){var t=D(e);return proto.protocol.Transaction.deserializeBinary(t).getRawData().serializeBinary()}function ge(){for(var e=new ne.ec("secp256k1").genKeyPair().getPrivate().toString("hex");e.length<64;)e="0".concat(e);return X(e)}function ye(e){return 65===e.length&&(e=e.slice(1)),X("41"+ie(e).toString().substring(2).substring(24))}function we(e){return ye(Oe(e))}function ke(e){var t=re(e);if(t.length<=4)return!1;var r=t.slice(0,t.length-4),n=Me(r),a=Me(n);return a[0]===t[r.length]&&a[1]===t[r.length+1]&&a[2]===t[r.length+2]&&a[3]===t[r.length+3]&&r}function xe(e){if("string"!=typeof e)return!1;if(34!==e.length)return!1;var t=re(e);if(25!==t.length)return!1;if(65!==t[0])return!1;var r=t.slice(21),n=Me(t=t.slice(0,21)),a=Me(n).slice(0,4);return r[0]==a[0]&&r[1]==a[1]&&r[2]==a[2]&&r[3]==a[3]}function _e(e){return le(ye(Oe(D(e))))}function Se(e){return N(ye(Oe(D(e))))}function Te(e){return V(ye(Oe(D(e))))}function Oe(e){for(var t=new ne.ec("secp256k1").keyFromPrivate(e,"bytes").getPublic(),r=t.x,n=t.y,a=r.toString("hex");a.length<64;)a="0".concat(a);for(var i=n.toString("hex");i.length<64;)i="0".concat(i);return X("04".concat(a).concat(i))}function Ae(e,t){for(var r=new ne.ec("secp256k1").keyFromPrivate(t,"bytes").sign(e),n=r.r,a=r.s,i=r.recoveryParam,s=n.toString("hex");s.length<64;)s="0".concat(s);for(var o=a.toString("hex");o.length<64;)o="0".concat(o);return s+o+B(i)}function Me(e){var t=N(e);return X(se("0x"+t).replace(/^0x/,""))}function Ee(e){return le(we(D(e)))}function Ce(e){return le(we(X(e)))}function Ie(){var e=ge(),t=Oe(e),r=we(e);return{privateKey:N(e),publicKey:N(t),address:{base58:le(r),hex:N(r)}}}var Fe=new fe;function Pe(e,t,r,n){if(r&&"boolean"!=typeof r||(n=r,r=t,t=e,e=[]),n&&r.replace(/^0x/,"").length%64==8&&(r="0x"+r.replace(/^0x/,"").substring(8)),r.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return t=t.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),Fe.decode(t,r).reduce((function(r,n,a){return"address"==t[a]&&(n="41"+n.substr(2).toLowerCase()),e.length?r[e[a]]=n:r.push(n),r}),e.length?{}:[])}function Be(e,t){for(var r=0;r<e.length;r++)"address"===e[r]&&(t[r]=Tt.address.toHex(t[r]).replace(q,"0x"));return Fe.encode(e,t)}var Re=n(18),Le=n.n(Re),Ne=n(10),De=n.n(Ne);function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue=je(je({},{isValidURL:function(e){return"string"==typeof e&&Le.a.isURL(e.toString(),{protocols:["http","https"],require_tld:!1})},isObject:function(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)},isJson:function(e){try{return!!JSON.parse(e)}catch(e){return!1}},isBoolean:function(e){return"boolean"==typeof e},isBigNumber:function(e){return e&&(e instanceof De.a||e.constructor&&"BigNumber"===e.constructor.name)},isString:function(e){return"string"==typeof e||e&&e.constructor&&"String"===e.constructor.name},isFunction:function(e){return"function"==typeof e},isHex:function(e){return"string"==typeof e&&!isNaN(parseInt(e,16))&&/^(0x|)[a-fA-F0-9]+$/.test(e)},isInteger:function(e){return null!==e&&Number.isInteger(Number(e))},hasProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},hasProperties:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.length&&!n.map((function(r){return t.hasProperty(e,r)})).includes(!1)},mapEvent:function(e){var t={block:e.block_number,timestamp:e.block_timestamp,contract:e.contract_address,name:e.event_name,transaction:e.transaction_id,result:e.result,resourceNode:e.resource_Node||(e._unconfirmed?"fullNode":"solidityNode")};return e._unconfirmed&&(t.unconfirmed=e._unconfirmed),e._fingerprint&&(t.fingerprint=e._fingerprint),t},parseEvent:function(e,t){var r=t.inputs;if(!e.result)return e;if(this.isObject(e.result))for(var n=0;n<r.length;n++){var a=r[n];"address"==a.type&&a.name in e.result&&(e.result[a.name]="41"+e.result[a.name].substr(2).toLowerCase())}else this.isArray(e.result)&&(e.result=e.result.reduce((function(e,t,n){var a=r[n],i=a.name;return"address"==a.type&&(t="41"+t.substr(2).toLowerCase()),e[i]=t,e}),{}));return e},padLeft:function(e,t,r){for(var n=e.toString();n.length<r;)n=t+n;return n},isNotNullOrUndefined:function(e){return null!=e},sleep:function(){var e=arguments;return p()(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1e3,t.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 2:case"end":return t.stop()}}),t)})))()}}),{},{code:i,accounts:u,base58:s,bytes:a,crypto:c,abi:d,ethersUtils:o}),qe={HttpProvider:function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"/";if(g()(this,e),!Ue.isValidURL(t))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(r)||r<0)throw new Error("Invalid timeout duration provided");if(!Ue.isObject(i))throw new Error("Invalid headers object provided");t=t.replace(/\/+$/,""),this.host=t,this.timeout=r,this.user=n,this.password=a,this.headers=i,this.statusPage=s,this.instance=F.a.create({baseURL:t,timeout:r,headers:i,auth:n&&{user:n,password:a}})}var t;return w()(e,[{key:"setStatusPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.statusPage=e}},{key:"isConnected",value:(t=p()(l.a.mark((function e(){var t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.statusPage,e.abrupt("return",this.request(t).then((function(e){return Ue.hasProperties(e,"blockID","block_header")})).catch((function(){return!1})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return r=r.toLowerCase(),this.instance.request({data:"post"==r&&Object.keys(t).length?t:null,params:"get"==r&&t,url:e,method:r}).then((function(e){return e.data}))}}]),e}()},Ge=n(19),He=n.n(Ge),ze=n(20),Ke=n(12),Je=n.n(Ke),Xe=n(5),We=n.n(Xe),Ze=n(8),Ye=n.n(Ze);function Qe(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var et,tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g()(this,e),!t||!t instanceof Tt)throw new Error("Expected instance of TronWeb");this.tronWeb=t}return w()(e,[{key:"invalid",value:function(e){return e.msg||"Invalid ".concat(e.name).concat("address"===e.type?" address":""," provided")}},{key:"notPositive",value:function(e){return"".concat(e.name," must be a positive integer")}},{key:"notEqual",value:function(e){return e.msg||"".concat(e.names[0]," can not be equal to ").concat(e.names[1])}},{key:"notValid",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Function,n={},a=!1,i=Qe(t);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=s.name,c=s.names,u=s.value,d=s.type,f=s.gt,l=s.lt,h=s.gte,p=s.lte,m=(s.se,s.optional);if(!m||Ue.isNotNullOrUndefined(u)&&("boolean"===d||!1!==u)){switch(n[s.name]=s.value,d){case"address":this.tronWeb.isAddress(u)?n[o]=this.tronWeb.address.toHex(u):a=!0;break;case"integer":(!Ue.isInteger(u)||"number"==typeof f&&u<=s.gt||"number"==typeof l&&u>=s.lt||"number"==typeof h&&u<s.gte||"number"==typeof p&&u>s.lte)&&(a=!0);break;case"positive-integer":if(!Ue.isInteger(u)||u<=0)return void r(this.notPositive(s));break;case"tokenId":Ue.isString(u)&&u.length||(a=!0);break;case"notEmptyObject":Ue.isObject(u)&&Object.keys(u).length||(a=!0);break;case"notEqual":if(n[c[0]]===n[c[1]])return r(this.notEqual(s)),!0;break;case"resource":["BANDWIDTH","ENERGY"].includes(u)||(a=!0);break;case"url":Ue.isValidURL(u)||(a=!0);break;case"hex":Ue.isHex(u)||(a=!0);break;case"array":Array.isArray(u)||(a=!0);break;case"not-empty-string":Ue.isString(u)&&u.length||(a=!0);break;case"boolean":Ue.isBoolean(u)||(a=!0);break;case"string":(!Ue.isString(u)||"number"==typeof f&&u.length<=s.gt||"number"==typeof l&&u.length>=s.lt||"number"==typeof h&&u.length<s.gte||"number"==typeof p&&u.length>s.lte)&&(a=!0)}if(a)return r(this.invalid(s)),!0}}}catch(e){i.e(e)}finally{i.f()}return!1}}]),e}();function rt(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e){return Tt.address.toHex(e)}function it(e){return et.tronWeb.fromUtf8(e)}function st(e,t){return e.Error?t(e.Error):e.result&&e.result.message?t(et.tronWeb.toUtf8(e.result.message)):t(null,e)}var ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g()(this,e),!t||!t instanceof Tt)throw new Error("Expected instance of TronWeb");et=this,this.tronWeb=t,this.injectPromise=We()(this),this.validator=new tt(t)}var t,r,n,a;return w()(e,[{key:"sendTrx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=this.tronWeb.defaultAddress.hex):Ue.isObject(r)&&(n=r,r=this.tronWeb.defaultAddress.hex),!a)return this.injectPromise(this.sendTrx,e,t,r,n);if(t=parseInt(t),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:r},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:t}],a)){var i={to_address:at(e),owner_address:at(r),amount:t};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/createtransaction",i,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}},{key:"sendToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a={}),Ue.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(a=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.sendToken,e,t,r,n,a);if(t=parseInt(t),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:n},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:t},{name:"token ID",type:"tokenId",value:r}],i)){var s={to_address:at(e),owner_address:at(n),asset_name:it(r),amount:parseInt(t)};a&&a.permissionId&&(s.Permission_id=a.permissionId),this.tronWeb.fullNode.request("wallet/transferasset",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"purchaseToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a={}),Ue.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(a=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.purchaseToken,e,t,r,n,a);if(!this.validator.notValid([{name:"buyer",type:"address",value:n},{name:"issuer",type:"address",value:e},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:r},{name:"token ID",type:"tokenId",value:t}],i)){var s={to_address:at(e),owner_address:at(n),asset_name:it(t),amount:parseInt(r)};a&&a.permissionId&&(s.Permission_id=a.permissionId),this.tronWeb.fullNode.request("wallet/participateassetissue",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"freezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BANDWIDTH",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(Ue.isFunction(i)&&(s=i,i={}),Ue.isFunction(a)?(s=a,a=void 0):Ue.isObject(a)&&(i=a,a=void 0),Ue.isFunction(n)?(s=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(i=n,n=this.tronWeb.defaultAddress.hex),Ue.isFunction(t)&&(s=t,t=3),Ue.isFunction(r)&&(s=r,r="BANDWIDTH"),!s)return this.injectPromise(this.freezeBalance,e,t,r,n,a,i);if(!this.validator.notValid([{name:"origin",type:"address",value:n},{name:"receiver",type:"address",value:a,optional:!0},{name:"amount",type:"integer",gt:0,value:e},{name:"duration",type:"integer",gte:3,value:t},{name:"resource",type:"resource",value:r,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],s)){var o={owner_address:at(n),frozen_balance:parseInt(e),frozen_duration:parseInt(t),resource:r};Ue.isNotNullOrUndefined(a)&&at(a)!==at(n)&&(o.receiver_address=at(a)),i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/freezebalance",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"unfreezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BANDWIDTH",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=void 0):Ue.isObject(r)&&(n=r,r=void 0),Ue.isFunction(t)?(a=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),Ue.isFunction(e)&&(a=e,e="BANDWIDTH"),!a)return this.injectPromise(this.unfreezeBalance,e,t,r,n);if(!this.validator.notValid([{name:"origin",type:"address",value:t},{name:"receiver",type:"address",value:r,optional:!0},{name:"resource",type:"resource",value:e,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],a)){var i={owner_address:at(t),resource:e};Ue.isNotNullOrUndefined(r)&&at(r)!==at(t)&&(i.receiver_address=at(r)),n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/unfreezebalance",i,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}},{key:"withdrawBlockRewards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t={}),Ue.isFunction(e)?(r=e,e=this.tronWeb.defaultAddress.hex):Ue.isObject(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.withdrawBlockRewards,e,t);if(!this.validator.notValid([{name:"origin",type:"address",value:e}],r)){var n={owner_address:at(e)};t&&t.permissionId&&(n.Permission_id=t.permissionId),this.tronWeb.fullNode.request("wallet/withdrawbalance",n,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"applyForSR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ue.isFunction(r)&&(n=r,r={}),Ue.isObject(t)&&Ue.isValidURL(e)&&(r=t,t=e,e=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.applyForSR,e,t,r);if(!this.validator.notValid([{name:"origin",type:"address",value:e},{name:"url",type:"url",value:t,msg:"Invalid url provided"}],n)){var a={owner_address:at(e),url:it(t)};r&&r.permissionId&&(a.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/createwitness",a,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"vote",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=this.tronWeb.defaultAddress.hex):Ue.isObject(r)&&(n=r,r=this.tronWeb.defaultAddress.hex),!a)return this.injectPromise(this.vote,t,r,n);if(!this.validator.notValid([{name:"voter",type:"address",value:r},{name:"votes",type:"notEmptyObject",value:t}],a)){var i=!1;if(t=Object.entries(t).map((function(t){var r=Ye()(t,2),n=r[0],a=r[1];if(!i)return e.validator.notValid([{name:"SR",type:"address",value:n},{name:"vote count",type:"integer",gt:0,value:a,msg:"Invalid vote count provided for SR: "+n}])?i=!0:{vote_address:at(n),vote_count:parseInt(a)}})),!i){var s={owner_address:at(r),votes:t};n&&n.permissionId&&(s.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/votewitnessaccount",s,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}}},{key:"createSmartContract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.createSmartContract,e,t);var n=e.feeLimit||this.tronWeb.feeLimit,a=e.userFeePercentage;"number"==typeof a||a||(a=100);var i=e.originEnergyLimit||1e7,s=e.callValue||0,o=e.tokenValue,c=e.tokenId||e.token_id,u=e.abi,d=void 0!==u&&u,f=e.bytecode,l=void 0!==f&&f,h=e.parameters,p=void 0===h?[]:h,m=e.name,v=void 0===m?"":m;if(d&&Ue.isString(d))try{d=JSON.parse(d)}catch(e){return r("Invalid options.abi provided")}if(d.entrys&&(d=d.entrys),!Ue.isArray(d))return r("Invalid options.abi provided");var b=d.some((function(e){return"constructor"==e.type&&e.payable}));if(!this.validator.notValid([{name:"bytecode",type:"hex",value:l},{name:"feeLimit",type:"integer",value:n,gt:0,lte:5e9},{name:"callValue",type:"integer",value:s,gte:0},{name:"userFeePercentage",type:"integer",value:a,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:i,gte:0,lte:1e7},{name:"parameters",type:"array",value:p},{name:"issuer",type:"address",value:t},{name:"tokenValue",type:"integer",value:o,gte:0,optional:!0},{name:"tokenId",type:"integer",value:c,gte:0,optional:!0}],r)){if(b&&0==s&&0==o)return r("When contract is payable, options.callValue or options.tokenValue must be a positive integer");if(!b&&(s>0||o>0))return r("When contract is not payable, options.callValue and options.tokenValue must be 0");var g=d.find((function(e){return"constructor"===e.type}));if(void 0!==g&&g){var y=new fe,w=[],k=[];if(g=g.inputs,p.length!=g.length)return r("constructor needs ".concat(g.length," but ").concat(p.length," provided"));for(var x=0;x<p.length;x++){var _=g[x].type,S=p[x];if(!_||!Ue.isString(_)||!_.length)return r("Invalid parameter type provided: "+_);"address"==_?S=at(S).replace(q,"0x"):"address[]"==_&&(S=S.map((function(e){return at(e).replace(q,"0x")}))),w.push(_),k.push(S)}try{p=y.encode(w,k).replace(/^(0x)/,"")}catch(e){return r(e)}}else p="";var T={owner_address:at(t),fee_limit:parseInt(n),call_value:parseInt(s),consume_user_resource_percent:a,origin_energy_limit:i,abi:JSON.stringify(d),bytecode:l,parameter:p,name:v};Ue.isNotNullOrUndefined(o)&&(T.call_token_value=parseInt(o)),Ue.isNotNullOrUndefined(c)&&(T.token_id=parseInt(c)),e&&e.permissionId&&(T.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/deploycontract",T,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"triggerSmartContract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"object"!==v()(t[2])&&(t[2]={feeLimit:t[2],callValue:t[3]},t.splice(3,1)),this._triggerSmartContract.apply(this,t)}},{key:"triggerConstantContract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[2]._isConstant=!0,this.triggerSmartContract.apply(this,t)}},{key:"triggerConfirmedConstantContract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[2]._isConstant=!0,t[2].confirmed=!0,this.triggerSmartContract.apply(this,t)}},{key:"_triggerSmartContract",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a=this.tronWeb.defaultAddress.hex),Ue.isFunction(n)&&(i=n,n=[]),!i)return this.injectPromise(this._triggerSmartContract,e,t,r,n,a);var s=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},r),o=s.tokenValue,c=s.tokenId,u=s.callValue,d=s.feeLimit;if(!this.validator.notValid([{name:"feeLimit",type:"integer",value:d,gt:0,lte:5e9},{name:"callValue",type:"integer",value:u,gte:0},{name:"parameters",type:"array",value:n},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:a,optional:!0},{name:"tokenValue",type:"integer",value:o,gte:0,optional:!0},{name:"tokenId",type:"integer",value:c,gte:0,optional:!0}],i)){var f={contract_address:at(e),owner_address:at(a)};if(t&&Ue.isString(t)){if(t=t.replace("/s*/g",""),n.length){for(var l=new fe,h=[],p=[],m=0;m<n.length;m++){var v=n[m],b=v.type,g=v.value;if(!b||!Ue.isString(b)||!b.length)return i("Invalid parameter type provided: "+b);"address"==b?g=at(g).replace(q,"0x"):"address[]"==b&&(g=g.map((function(e){return at(e).replace(q,"0x")}))),h.push(b),p.push(g)}try{h=h.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),n=l.encode(h,p).replace(/^(0x)/,"")}catch(e){return i(e)}}else n="";r.shieldedParameter&&(n=r.shieldedParameter.replace(/^(0x)/,"")),f.function_selector=t,f.parameter=n}r._isConstant||(f.call_value=parseInt(u),f.fee_limit=parseInt(d),Ue.isNotNullOrUndefined(o)&&(f.call_token_value=parseInt(o)),Ue.isNotNullOrUndefined(c)&&(f.token_id=parseInt(c))),r.permissionId&&(f.Permission_id=r.permissionId),this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request("wallet".concat(r.confirmed?"solidity":"","/trigger").concat(r._isConstant?"constant":"smart","contract"),f,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"clearABI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r)return this.injectPromise(this.clearABI,e,t);if(!this.tronWeb.isAddress(e))return r("Invalid contract address provided");if(!this.tronWeb.isAddress(t))return r("Invalid owner address provided");var n={contract_address:at(e),owner_address:at(t)};this.tronWeb.trx.cache.contracts[e]&&delete this.tronWeb.trx.cache.contracts[e],this.tronWeb.fullNode.request("wallet/clearabi",n,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}},{key:"updateBrokerage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r)return this.injectPromise(this.updateBrokerage,e,t);if(!Ue.isNotNullOrUndefined(e))return r("Invalid brokerage provided");if(!Ue.isInteger(e)||e<0||e>100)return r("Brokerage must be an integer between 0 and 100");if(!this.tronWeb.isAddress(t))return r("Invalid owner address provided");var n={brokerage:parseInt(e),owner_address:at(t)};this.tronWeb.fullNode.request("wallet/updateBrokerage",n,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}},{key:"createToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.createToken,e,t);var n=e.name,a=void 0!==n&&n,i=e.abbreviation,s=void 0!==i&&i,o=e.description,c=void 0!==o&&o,u=e.url,d=void 0!==u&&u,f=e.totalSupply,l=void 0===f?0:f,h=e.trxRatio,p=void 0===h?1:h,m=e.tokenRatio,v=void 0===m?1:m,b=e.saleStart,g=void 0===b?Date.now():b,y=e.saleEnd,w=void 0!==y&&y,k=e.freeBandwidth,x=void 0===k?0:k,_=e.freeBandwidthLimit,S=void 0===_?0:_,T=e.frozenAmount,O=void 0===T?0:T,A=e.frozenDuration,M=void 0===A?0:A,E=e.voteScore,C=e.precision;if(!this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:l},{name:"TRX ratio",type:"positive-integer",value:p},{name:"Token ratio",type:"positive-integer",value:v},{name:"token abbreviation",type:"not-empty-string",value:s},{name:"token name",type:"not-empty-string",value:a},{name:"token description",type:"not-empty-string",value:c},{name:"token url",type:"url",value:d},{name:"issuer",type:"address",value:t},{name:"sale start timestamp",type:"integer",value:g,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:w,gt:g},{name:"Free bandwidth amount",type:"integer",value:x,gte:0},{name:"Free bandwidth limit",type:"integer",value:S,gte:0},{name:"Frozen supply",type:"integer",value:O,gte:0},{name:"Frozen duration",type:"integer",value:M,gte:0}],r)){if(Ue.isNotNullOrUndefined(E)&&(!Ue.isInteger(E)||E<=0))return r("voteScore must be a positive integer greater than 0");if(Ue.isNotNullOrUndefined(C)&&(!Ue.isInteger(C)||C<0||C>6))return r("precision must be a positive integer >= 0 and <= 6");var I={owner_address:at(t),name:it(a),abbr:it(s),description:it(c),url:it(d),total_supply:parseInt(l),trx_num:parseInt(p),num:parseInt(v),start_time:parseInt(g),end_time:parseInt(w),free_asset_net_limit:parseInt(x),public_free_asset_net_limit:parseInt(S),frozen_supply:{frozen_amount:parseInt(O),frozen_days:parseInt(M)}};!this.tronWeb.fullnodeSatisfies(">=3.5.0")||parseInt(O)>0||delete I.frozen_supply,C&&!isNaN(parseInt(C))&&(I.precision=parseInt(C)),E&&!isNaN(parseInt(E))&&(I.vote_score=parseInt(E)),e&&e.permissionId&&(I.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/createassetissue",I,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"updateAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ue.isFunction(r)&&(n=r,r={}),Ue.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.updateAccount,e,t,r);if(!this.validator.notValid([{name:"Name",type:"not-empty-string",value:e},{name:"origin",type:"address",value:t}],n)){var a={account_name:it(e),owner_address:at(t)};r&&r.permissionId&&(a.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/updateaccount",a,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"setAccountId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.setAccountId,e,t);e&&Ue.isString(e)&&e.startsWith("0x")&&(e=e.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e},{name:"origin",type:"address",value:t}],r)||this.tronWeb.fullNode.request("wallet/setaccountid",{account_id:e,owner_address:at(t)},"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}},{key:"updateToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(e=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.updateToken,e,t);var n=e,a=n.description,i=void 0!==a&&a,s=n.url,o=void 0!==s&&s,c=n.freeBandwidth,u=void 0===c?0:c,d=n.freeBandwidthLimit,f=void 0===d?0:d;if(!this.validator.notValid([{name:"token description",type:"not-empty-string",value:i},{name:"token url",type:"url",value:o},{name:"issuer",type:"address",value:t},{name:"Free bandwidth amount",type:"positive-integer",value:u},{name:"Free bandwidth limit",type:"positive-integer",value:f}],r)){var l={owner_address:at(t),description:it(i),url:it(o),new_limit:parseInt(u),new_public_limit:parseInt(f)};e&&e.permissionId&&(l.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/updateasset",l,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"purchaseAsset",value:function(){return this.purchaseToken.apply(this,arguments)}},{key:"createAsset",value:function(){return this.createToken.apply(this,arguments)}},{key:"updateAsset",value:function(){return this.updateToken.apply(this,arguments)}},{key:"createProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ue.isFunction(r)&&(n=r,r={}),Ue.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.createProposal,e,t,r);if(!this.validator.notValid([{name:"issuer",type:"address",value:t}],n)){var a="Invalid proposal parameters provided";if(!e)return n(a);Ue.isArray(e)||(e=[e]);var i,s=rt(e);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(!Ue.isObject(o))return n(a)}}catch(e){s.e(e)}finally{s.f()}var c={owner_address:at(t),parameters:e};r&&r.permissionId&&(c.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/proposalcreate",c,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"deleteProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ue.isFunction(r)&&(n=r,r={}),Ue.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.deleteProposal,e,t,r);if(!this.validator.notValid([{name:"issuer",type:"address",value:t},{name:"proposalID",type:"integer",value:e,gte:0}],n)){var a={owner_address:at(t),proposal_id:parseInt(e)};r&&r.permissionId&&(a.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/proposaldelete",a,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"voteProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=this.tronWeb.defaultAddress.hex):Ue.isObject(r)&&(n=r,r=this.tronWeb.defaultAddress.hex),!a)return this.injectPromise(this.voteProposal,e,t,r,n);if(!this.validator.notValid([{name:"voter",type:"address",value:r},{name:"proposalID",type:"integer",value:e,gte:0},{name:"has approval",type:"boolean",value:t}],a)){var i={owner_address:at(r),proposal_id:parseInt(e),is_add_approval:t};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/proposalapprove",i,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}},{key:"createTRXExchange",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a={}),Ue.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(a=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.createTRXExchange,e,t,r,n,a);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:e},{name:"token balance",type:"positive-integer",value:t},{name:"trx balance",type:"positive-integer",value:r}],i)){var s={owner_address:at(n),first_token_id:it(e),first_token_balance:t,second_token_id:"5f",second_token_balance:r};a&&a.permissionId&&(s.Permission_id=a.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",s,"post").then((function(e){i(null,e)})).catch((function(e){return i(e)}))}}},{key:"createTokenExchange",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(Ue.isFunction(i)&&(s=i,i={}),Ue.isFunction(a)?(s=a,a=this.tronWeb.defaultAddress.hex):Ue.isObject(a)&&(i=a,a=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.createTokenExchange,e,t,r,n,a,i);if(!this.validator.notValid([{name:"owner",type:"address",value:a},{name:"first token name",type:"not-empty-string",value:e},{name:"second token name",type:"not-empty-string",value:r},{name:"first token balance",type:"positive-integer",value:t},{name:"second token balance",type:"positive-integer",value:n}],s)){var o={owner_address:at(a),first_token_id:it(e),first_token_balance:t,second_token_id:it(r),second_token_balance:n};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",o,"post").then((function(e){s(null,e)})).catch((function(e){return s(e)}))}}},{key:"injectExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a={}),Ue.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(a=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.injectExchangeTokens,e,t,r,n,a);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],i)){var s={owner_address:at(n),exchange_id:parseInt(e),token_id:it(t),quant:parseInt(r)};a&&a.permissionId&&(s.Permission_id=a.permissionId),this.tronWeb.fullNode.request("wallet/exchangeinject",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"withdrawExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ue.isFunction(a)&&(i=a,a={}),Ue.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):Ue.isObject(n)&&(a=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.withdrawExchangeTokens,e,t,r,n,a);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],i)){var s={owner_address:at(n),exchange_id:parseInt(e),token_id:it(t),quant:parseInt(r)};a&&a.permissionId&&(s.Permission_id=a.permissionId),this.tronWeb.fullNode.request("wallet/exchangewithdraw",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"tradeExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(Ue.isFunction(i)&&(s=i,i={}),Ue.isFunction(a)?(s=a,a=this.tronWeb.defaultAddress.hex):Ue.isObject(a)&&(i=a,a=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.tradeExchangeTokens,e,t,r,n,a,i);if(!this.validator.notValid([{name:"owner",type:"address",value:a},{name:"token name",type:"not-empty-string",value:t},{name:"tokenAmountSold",type:"integer",value:r,gte:1},{name:"tokenAmountExpected",type:"integer",value:n,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],s)){var o={owner_address:at(a),exchange_id:parseInt(e),token_id:this.tronWeb.fromAscii(t),quant:parseInt(r),expected:parseInt(n)};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/exchangetransaction",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"updateSetting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=this.tronWeb.defaultAddress.hex):Ue.isObject(r)&&(n=r,r=this.tronWeb.defaultAddress.hex),!a)return this.injectPromise(this.updateSetting,e,t,r,n);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"userFeePercentage",type:"integer",value:t,gte:0,lte:100}],a)){var i={owner_address:at(r),contract_address:at(e),consume_user_resource_percent:t};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/updatesetting",i,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}},{key:"updateEnergyLimit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n={}),Ue.isFunction(r)?(a=r,r=this.tronWeb.defaultAddress.hex):Ue.isObject(r)&&(n=r,r=this.tronWeb.defaultAddress.hex),!a)return this.injectPromise(this.updateEnergyLimit,e,t,r,n);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"originEnergyLimit",type:"integer",value:t,gte:0,lte:1e7}],a)){var i={owner_address:at(r),contract_address:at(e),origin_energy_limit:t};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/updateenergylimit",i,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}}},{key:"checkPermissions",value:function(e,t){if(e){if(e.type!==t||!e.permission_name||!Ue.isString(e.permission_name)||!Ue.isInteger(e.threshold)||e.threshold<1||!e.keys)return!1;var r,n=rt(e.keys);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(!this.tronWeb.isAddress(a.address)||!Ue.isInteger(a.weight)||a.weight>e.threshold||a.weight<1||2===t&&!e.operations)return!1}}catch(e){n.e(e)}finally{n.f()}}return!0}},{key:"updateAccountPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Ue.isFunction(n)&&(a=n,n=!1),Ue.isFunction(r)&&(a=r,r=n=!1),Ue.isFunction(t)&&(a=t,t=r=n=!1),!a)return this.injectPromise(this.updateAccountPermissions,e,t,r,n);if(!this.tronWeb.isAddress(e))return a("Invalid ownerAddress provided");if(!this.checkPermissions(t,0))return a("Invalid ownerPermissions provided");if(!this.checkPermissions(r,1))return a("Invalid witnessPermissions provided");Array.isArray(n)||(n=[n]);var i,s=rt(n);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(!this.checkPermissions(o,2))return a("Invalid activesPermissions provided")}}catch(e){s.e(e)}finally{s.f()}var c={owner_address:e};t&&(c.owner=t),r&&(c.witness=r),n&&(c.actives=1===n.length?n[0]:n),this.tronWeb.fullNode.request("wallet/accountpermissionupdate",c,"post").then((function(e){return st(e,a)})).catch((function(e){return a(e)}))}},{key:"newTxID",value:(a=p()(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",this.injectPromise(this.newTxID,t));case 2:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){e=e.transaction.transaction,"boolean"==typeof t.visible&&(e.visible=t.visible),r(null,e)})).catch((function(e){return r("Error generating a new transaction id.")}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"alterTransaction",value:(n=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]&&a[2]){e.next=4;break}return e.abrupt("return",this.injectPromise(this.alterTransaction,t,r));case 4:if(!t.signature){e.next=6;break}return e.abrupt("return",n("You can not extend the expiration of a signed transaction."));case 6:if(!r.data){e.next=12;break}if("hex"!==r.dataFormat&&(r.data=this.tronWeb.toHex(r.data)),r.data=r.data.replace(/^0x/,""),0!==r.data.length){e.next=11;break}return e.abrupt("return",n("Invalid data provided"));case 11:t.raw_data.data=r.data;case 12:if(!r.extension){e.next=17;break}if(r.extension=parseInt(1e3*r.extension),!(isNaN(r.extension)||t.raw_data.expiration+r.extension<=Date.now()+3e3)){e.next=16;break}return e.abrupt("return",n("Invalid extension provided"));case 16:t.raw_data.expiration+=r.extension;case 17:this.newTxID(t,n);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"extendExpiration",value:(r=p()(l.a.mark((function e(t,r){var n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]&&a[2]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.extendExpiration,t,r));case 3:this.alterTransaction(t,{extension:r},n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"addUpdateData",value:(t=p()(l.a.mark((function e(t,r){var n,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:"utf8",a=i.length>3&&void 0!==i[3]&&i[3],Ue.isFunction(n)&&(a=n,n="utf8"),a){e.next=5;break}return e.abrupt("return",this.injectPromise(this.addUpdateData,t,r,n));case 5:this.alterTransaction(t,{data:r,dataFormat:n},a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e){return Tt.address.toHex(e)}var ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g()(this,e),!t||!t instanceof Tt)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=We()(this),this.cache={contracts:{}},this.validator=new tt(t)}var t,r,n,a,i,s,o,c,u,d,f,h,m,v,b,y,k;return w()(e,[{key:"_parseToken",value:function(e){return ut(ut({},e),{},{name:this.tronWeb.toUtf8(e.name),abbr:e.abbr&&this.tronWeb.toUtf8(e.abbr),description:e.description&&this.tronWeb.toUtf8(e.description),url:e.url&&this.tronWeb.toUtf8(e.url)})}},{key:"getCurrentBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getCurrentBlock);this.tronWeb.fullNode.request("wallet/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getConfirmedCurrentBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getConfirmedCurrentBlock);this.tronWeb.solidityNode.request("walletsolidity/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultBlock),t?!1===e?t("No block identifier provided"):("earliest"==e&&(e=0),"latest"==e?this.getCurrentBlock(t):isNaN(e)&&Ue.isHex(e)?this.getBlockByHash(e,t):void this.getBlockByNumber(e,t)):this.injectPromise(this.getBlock,e)}},{key:"getBlockByHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getBlockByHash,e);this.tronWeb.fullNode.request("wallet/getblockbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getBlockByNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!Ue.isInteger(e)||e<0?t("Invalid block number provided"):void this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(e)},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getBlockByNumber,e)}},{key:"getBlockTransactionCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultBlock),!t)return this.injectPromise(this.getBlockTransactionCount,e);this.getBlock(e).then((function(e){var r=e.transactions;t(null,(void 0===r?[]:r).length)})).catch((function(e){return t(e)}))}},{key:"getTransactionFromBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t=0),Ue.isFunction(e)&&(r=e,e=this.tronWeb.defaultBlock),!r)return this.injectPromise(this.getTransactionFromBlock,e,t);this.getBlock(e).then((function(e){var n=e.transactions,a=void 0!==n&&n;a?"number"==typeof t?t>=0&&t<a.length?r(null,a[t]):r("Invalid transaction index provided"):r(null,a):r("Transaction not found in block")})).catch((function(e){return r(e)}))}},{key:"getTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getTransaction,e);this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getConfirmedTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getConfirmedTransaction,e);this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedTransactionInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransactionInfoById(e,{confirmed:!1},t)}},{key:"getTransactionInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransactionInfoById(e,{confirmed:!0},t)}},{key:"_getTransactionInfoById",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r)return this.injectPromise(this._getTransactionInfoById,e,t);this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request("wallet".concat(t.confirmed?"solidity":"","/gettransactioninfobyid"),{value:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)}))}},{key:"getTransactionsToAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ue.isFunction(r)&&(n=r,r=0),Ue.isFunction(t)&&(n=t,t=30),n?(e=this.tronWeb.address.toHex(e),this.getTransactionsRelated(e,"to",t,r,n)):this.injectPromise(this.getTransactionsToAddress,e,t,r)}},{key:"getTransactionsFromAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ue.isFunction(r)&&(n=r,r=0),Ue.isFunction(t)&&(n=t,t=30),n?(e=this.tronWeb.address.toHex(e),this.getTransactionsRelated(e,"from",t,r,n)):this.injectPromise(this.getTransactionsFromAddress,e,t,r)}},{key:"getTransactionsRelated",value:(k=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:this.tronWeb.defaultAddress.hex,r=d.length>1&&void 0!==d[1]?d[1]:"all",n=d.length>2&&void 0!==d[2]?d[2]:30,a=d.length>3&&void 0!==d[3]?d[3]:0,i=d.length>4&&void 0!==d[4]&&d[4],Ue.isFunction(a)&&(i=a,a=0),Ue.isFunction(n)&&(i=n,n=30),Ue.isFunction(r)&&(i=r,r="all"),Ue.isFunction(t)&&(i=t,t=this.tronWeb.defaultAddress.hex),i){e.next=11;break}return e.abrupt("return",this.injectPromise(this.getTransactionsRelated,t,r,n,a));case 11:if(["to","from","all"].includes(r)){e.next=13;break}return e.abrupt("return",i('Invalid direction provided: Expected "to", "from" or "all"'));case 13:if("all"!=r){e.next=27;break}return e.prev=14,e.next=17,Promise.all([this.getTransactionsRelated(t,"from",n,a),this.getTransactionsRelated(t,"to",n,a)]);case 17:return s=e.sent,o=Ye()(s,2),c=o[0],u=o[1],e.abrupt("return",i(null,[].concat(U()(c.map((function(e){return e.direction="from",e}))),U()(u.map((function(e){return e.direction="to",e})))).sort((function(e,t){return t.raw_data.timestamp-e.raw_data.timestamp}))));case 24:return e.prev=24,e.t0=e.catch(14),e.abrupt("return",i(e.t0));case 27:if(this.tronWeb.isAddress(t)){e.next=29;break}return e.abrupt("return",i("Invalid address provided"));case 29:if(!(!Ue.isInteger(n)||n<0||a&&n<1)){e.next=31;break}return e.abrupt("return",i("Invalid limit provided"));case 31:if(Ue.isInteger(a)&&!(a<0)){e.next=33;break}return e.abrupt("return",i("Invalid offset provided"));case 33:t=this.tronWeb.address.toHex(t),this.tronWeb.solidityNode.request("walletextension/gettransactions".concat(r,"this"),{account:{address:t},offset:a,limit:n},"post").then((function(e){var t=e.transaction;i(null,t)})).catch((function(e){return i(e)}));case 35:case"end":return e.stop()}}),e,this,[[14,24]])}))),function(){return k.apply(this,arguments)})},{key:"getAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getAccount,e)}},{key:"getAccountById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getAccountById,e);this.getAccountInfoById(e,{confirmed:!0},t)}},{key:"getAccountInfoById",value:function(e,t,r){this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e}],r)||(e.startsWith("0x")&&(e=e.slice(2)),this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request("wallet".concat(t.confirmed?"solidity":"","/getaccountbyid"),{account_id:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)})))}},{key:"getBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!t)return this.injectPromise(this.getBalance,e);this.getAccount(e).then((function(e){var r=e.balance;t(null,void 0===r?0:r)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getUnconfirmedAccount,e)}},{key:"getUnconfirmedAccountById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getUnconfirmedAccountById,e);this.getAccountInfoById(e,{confirmed:!1},t)}},{key:"getUnconfirmedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!t)return this.injectPromise(this.getUnconfirmedBalance,e);this.getUnconfirmedAccount(e).then((function(e){var r=e.balance;t(null,void 0===r?0:r)})).catch((function(e){return t(e)}))}},{key:"getBandwidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ue.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccountnet",{address:e},"post").then((function(e){var r=e.freeNetUsed,n=void 0===r?0:r,a=e.freeNetLimit,i=void 0===a?0:a,s=e.NetUsed,o=void 0===s?0:s,c=e.NetLimit;t(null,i-n+((void 0===c?0:c)-o))})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getBandwidth,e)}},{key:"getTokensIssuedByAddress",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ue.isFunction(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),r?this.tronWeb.isAddress(t)?(t=this.tronWeb.address.toHex(t),void this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:t},"post").then((function(t){var n=t.assetIssue,a=void 0!==n&&n;if(!a)return r(null,{});var i=a.map((function(t){return e._parseToken(t)})).reduce((function(e,t){return e[t.name]=t,e}),{});r(null,i)})).catch((function(e){return r(e)}))):r("Invalid address provided"):this.injectPromise(this.getTokensIssuedByAddress,t)}},{key:"getTokenFromID",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?(Ue.isInteger(t)&&(t=t.toString()),Ue.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(t)},"post").then((function(t){if(!t.name)return r("Token does not exist");r(null,e._parseToken(t))})).catch((function(e){return r(e)})):r("Invalid token ID provided")):this.injectPromise(this.getTokenFromID,t)}},{key:"listNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return this.injectPromise(this.listNodes);this.tronWeb.fullNode.request("wallet/listnodes").then((function(r){var n=r.nodes;t(null,(void 0===n?[]:n).map((function(t){var r=t.address,n=r.host,a=r.port;return"".concat(e.tronWeb.toUtf8(n),":").concat(a)})))})).catch((function(e){return t(e)}))}},{key:"getBlockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ue.isFunction(t)&&(r=t,t=30),Ue.isFunction(e)&&(r=e,e=0),r?!Ue.isInteger(e)||e<0?r("Invalid start of range provided"):!Ue.isInteger(t)||t<=e?r("Invalid end of range provided"):void this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(e),endNum:parseInt(t)+1},"post").then((function(e){var t=e.block;r(null,void 0===t?[]:t)})).catch((function(e){return r(e)})):this.injectPromise(this.getBlockRange,e,t)}},{key:"listSuperRepresentatives",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listSuperRepresentatives);this.tronWeb.fullNode.request("wallet/listwitnesses").then((function(t){var r=t.witnesses;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"listTokens",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ue.isFunction(r)&&(n=r,r=0),Ue.isFunction(t)&&(n=t,t=0),n?!Ue.isInteger(t)||t<0||r&&t<1?n("Invalid limit provided"):!Ue.isInteger(r)||r<0?n("Invalid offset provided"):t?void this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(r),limit:parseInt(t)},"post").then((function(t){var r=t.assetIssue;n(null,(void 0===r?[]:r).map((function(t){return e._parseToken(t)})))})).catch((function(e){return n(e)})):this.tronWeb.fullNode.request("wallet/getassetissuelist").then((function(t){var r=t.assetIssue;n(null,(void 0===r?[]:r).map((function(t){return e._parseToken(t)})))})).catch((function(e){return n(e)})):this.injectPromise(this.listTokens,t,r)}},{key:"timeUntilNextVoteCycle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.timeUntilNextVoteCycle);this.tronWeb.fullNode.request("wallet/getnextmaintenancetime").then((function(t){var r=t.num,n=void 0===r?-1:r;if(-1==n)return e("Failed to get time until next vote cycle");e(null,Math.floor(n/1e3))})).catch((function(t){return e(t)}))}},{key:"getContract",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?this.tronWeb.isAddress(e)?void(this.cache.contracts[e]?r(null,this.cache.contracts[e]):(e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getcontract",{value:e}).then((function(n){if(n.Error)return r("Contract does not exist");t.cache.contracts[e]=n,r(null,n)})).catch((function(e){return r(e)})))):r("Invalid contract address provided"):this.injectPromise(this.getContract,e)}},{key:"verifyMessage",value:(y=p()(l.a.mark((function t(){var r,n,a,i,s,o=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=o.length>0&&void 0!==o[0]&&o[0],n=o.length>1&&void 0!==o[1]&&o[1],a=o.length>2&&void 0!==o[2]?o[2]:this.tronWeb.defaultAddress.base58,i=!(o.length>3&&void 0!==o[3])||o[3],s=o.length>4&&void 0!==o[4]&&o[4],Ue.isFunction(a)&&(s=a,a=this.tronWeb.defaultAddress.base58,i=!0),Ue.isFunction(i)&&(s=i,i=!0),s){t.next=9;break}return t.abrupt("return",this.injectPromise(this.verifyMessage,r,n,a,i));case 9:if(Ue.isHex(r)){t.next=11;break}return t.abrupt("return",s("Expected hex message input"));case 11:if(!e.verifySignature(r,a,n,i)){t.next=13;break}return t.abrupt("return",s(null,!0));case 13:s("Signature does not match");case 14:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"sign",value:(b=p()(l.a.mark((function t(){var r,n,a,i,s,o,c=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>0&&void 0!==c[0]&&c[0],n=c.length>1&&void 0!==c[1]?c[1]:this.tronWeb.defaultPrivateKey,a=!(c.length>2&&void 0!==c[2])||c[2],i=c.length>3&&void 0!==c[3]&&c[3],s=c.length>4&&void 0!==c[4]&&c[4],Ue.isFunction(i)&&(s=i,i=!1),Ue.isFunction(a)&&(s=a,a=!0,i=!1),Ue.isFunction(n)&&(s=n,n=this.tronWeb.defaultPrivateKey,a=!0,i=!1),s){t.next=10;break}return t.abrupt("return",this.injectPromise(this.sign,r,n,a,i));case 10:if(!Ue.isString(r)){t.next=21;break}if(Ue.isHex(r)){t.next=13;break}return t.abrupt("return",s("Expected hex message input"));case 13:return t.prev=13,o=e.signString(r,n,a),t.abrupt("return",s(null,o));case 18:t.prev=18,t.t0=t.catch(13),s(t.t0);case 21:if(Ue.isObject(r)){t.next=23;break}return t.abrupt("return",s("Invalid transaction provided"));case 23:if(i||!r.signature){t.next=25;break}return t.abrupt("return",s("Transaction is already signed"));case 25:if(t.prev=25,i){t.next=30;break}if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(n)).toLowerCase()===this.tronWeb.address.toHex(r.raw_data.contract[0].parameter.value.owner_address)){t.next=30;break}return t.abrupt("return",s("Private key does not match address in transaction"));case 30:return t.abrupt("return",s(null,Ue.crypto.signTransaction(n,r)));case 33:t.prev=33,t.t1=t.catch(25),s(t.t1);case 36:case"end":return t.stop()}}),t,this,[[13,18],[25,33]])}))),function(){return b.apply(this,arguments)})},{key:"multiSign",value:(v=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],r=c.length>1&&void 0!==c[1]?c[1]:this.tronWeb.defaultPrivateKey,n=c.length>2&&void 0!==c[2]&&c[2],a=c.length>3&&void 0!==c[3]&&c[3],Ue.isFunction(n)&&(a=n,n=0),Ue.isFunction(r)&&(a=r,r=this.tronWeb.defaultPrivateKey,n=0),a){e.next=8;break}return e.abrupt("return",this.injectPromise(this.multiSign,t,r,n));case 8:if(Ue.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=10;break}return e.abrupt("return",a("Invalid transaction provided"));case 10:if(t.raw_data.contract[0].Permission_id||!(n>0)){e.next=30;break}return t.raw_data.contract[0].Permission_id=n,i=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(r)).toLowerCase(),e.next=15,this.getSignWeight(t,n);case 15:if("PERMISSION_ERROR"!==(s=e.sent).result.code){e.next=18;break}return e.abrupt("return",a(s.result.message));case 18:if(o=!1,s.permission.keys.map((function(e){e.address===i&&(o=!0)})),o){e.next=22;break}return e.abrupt("return",a(r+" has no permission to sign"));case 22:if(!s.approved_list||-1==s.approved_list.indexOf(i)){e.next=24;break}return e.abrupt("return",a(r+" already sign transaction"));case 24:if(!s.transaction||!s.transaction.transaction){e.next=29;break}t=s.transaction.transaction,n>0&&(t.raw_data.contract[0].Permission_id=n),e.next=30;break;case 29:return e.abrupt("return",a("Invalid transaction provided"));case 30:return e.prev=30,e.abrupt("return",a(null,Ue.crypto.signTransaction(r,t)));case 34:e.prev=34,e.t0=e.catch(30),a(e.t0);case 37:case"end":return e.stop()}}),e,this,[[30,34]])}))),function(){return v.apply(this,arguments)})},{key:"getApprovedList",value:(m=p()(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.getApprovedList,t));case 3:if(Ue.isObject(t)){e.next=5;break}return e.abrupt("return",r("Invalid transaction provided"));case 5:this.tronWeb.fullNode.request("wallet/getapprovedlist",t,"post").then((function(e){r(null,e)})).catch((function(e){return r(e)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getSignWeight",value:(h=p()(l.a.mark((function e(t,r){var n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]&&a[2],Ue.isFunction(r)&&(n=r,r=void 0),n){e.next=4;break}return e.abrupt("return",this.injectPromise(this.getSignWeight,t,r));case 4:if(Ue.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=6;break}return e.abrupt("return",n("Invalid transaction provided"));case 6:if(Ue.isInteger(r)?t.raw_data.contract[0].Permission_id=parseInt(r):"number"!=typeof t.raw_data.contract[0].Permission_id&&(t.raw_data.contract[0].Permission_id=0),Ue.isObject(t)){e.next=9;break}return e.abrupt("return",n("Invalid transaction provided"));case 9:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){n(null,e)})).catch((function(e){return n(e)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"sendRawTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ue.isFunction(t)&&(r=t,t={}),r?Ue.isObject(e)?Ue.isObject(t)?e.signature&&Ue.isArray(e.signature)?void this.tronWeb.fullNode.request("wallet/broadcasttransaction",e,"post").then((function(t){t.result&&(t.transaction=e),r(null,t)})).catch((function(e){return r(e)})):r("Transaction is not signed"):r("Invalid options provided"):r("Invalid transaction provided"):this.injectPromise(this.sendRawTransaction,e,t)}},{key:"sendTransaction",value:(f=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],r=u.length>1&&void 0!==u[1]&&u[1],n=u.length>2&&void 0!==u[2]?u[2]:{},a=u.length>3&&void 0!==u[3]&&u[3],Ue.isFunction(n)&&(a=n,n={}),"string"==typeof n&&(n={privateKey:n}),a){e.next=8;break}return e.abrupt("return",this.injectPromise(this.sendTransaction,t,r,n));case 8:if(this.tronWeb.isAddress(t)){e.next=10;break}return e.abrupt("return",a("Invalid recipient provided"));case 10:if(Ue.isInteger(r)&&!(r<=0)){e.next=12;break}return e.abrupt("return",a("Invalid amount provided"));case 12:if((n=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},n)).privateKey||n.address){e.next=15;break}return e.abrupt("return",a("Function requires either a private key or address to be set"));case 15:return e.prev=15,i=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,e.next=19,this.tronWeb.transactionBuilder.sendTrx(t,r,i);case 19:return s=e.sent,e.next=22,this.sign(s,n.privateKey||void 0);case 22:return o=e.sent,e.next=25,this.sendRawTransaction(o);case 25:return c=e.sent,e.abrupt("return",a(null,c));case 29:return e.prev=29,e.t0=e.catch(15),e.abrupt("return",a(e.t0));case 32:case"end":return e.stop()}}),e,this,[[15,29]])}))),function(){return f.apply(this,arguments)})},{key:"sendToken",value:(d=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],r=d.length>1&&void 0!==d[1]&&d[1],n=d.length>2&&void 0!==d[2]&&d[2],a=d.length>3&&void 0!==d[3]?d[3]:{},i=d.length>4&&void 0!==d[4]&&d[4],Ue.isFunction(a)&&(i=a,a={}),"string"==typeof a&&(a={privateKey:a}),i){e.next=9;break}return e.abrupt("return",this.injectPromise(this.sendToken,t,r,n,a));case 9:if(this.tronWeb.isAddress(t)){e.next=11;break}return e.abrupt("return",i("Invalid recipient provided"));case 11:if(Ue.isInteger(r)&&!(r<=0)){e.next=13;break}return e.abrupt("return",i("Invalid amount provided"));case 13:if(Ue.isInteger(n)&&(n=n.toString()),Ue.isString(n)){e.next=16;break}return e.abrupt("return",i("Invalid token ID provided"));case 16:if((a=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},a)).privateKey||a.address){e.next=19;break}return e.abrupt("return",i("Function requires either a private key or address to be set"));case 19:return e.prev=19,s=a.privateKey?this.tronWeb.address.fromPrivateKey(a.privateKey):a.address,e.next=23,this.tronWeb.transactionBuilder.sendToken(t,r,n,s);case 23:return o=e.sent,e.next=26,this.sign(o,a.privateKey||void 0);case 26:return c=e.sent,e.next=29,this.sendRawTransaction(c);case 29:return u=e.sent,e.abrupt("return",i(null,u));case 33:return e.prev=33,e.t0=e.catch(19),e.abrupt("return",i(e.t0));case 36:case"end":return e.stop()}}),e,this,[[19,33]])}))),function(){return d.apply(this,arguments)})},{key:"freezeBalance",value:(u=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c,u,d,f=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:0,r=f.length>1&&void 0!==f[1]?f[1]:3,n=f.length>2&&void 0!==f[2]?f[2]:"BANDWIDTH",a=f.length>3&&void 0!==f[3]?f[3]:{},i=f.length>4&&void 0!==f[4]?f[4]:void 0,s=f.length>5&&void 0!==f[5]&&f[5],Ue.isFunction(i)&&(s=i,i=void 0),Ue.isFunction(r)&&(s=r,r=3),Ue.isFunction(n)&&(s=n,n="BANDWIDTH"),Ue.isFunction(a)&&(s=a,a={}),"string"==typeof a&&(a={privateKey:a}),s){e.next=13;break}return e.abrupt("return",this.injectPromise(this.freezeBalance,t,r,n,a,i));case 13:if(["BANDWIDTH","ENERGY"].includes(n)){e.next=15;break}return e.abrupt("return",s('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 15:if(Ue.isInteger(t)&&!(t<=0)){e.next=17;break}return e.abrupt("return",s("Invalid amount provided"));case 17:if(Ue.isInteger(r)&&!(r<3)){e.next=19;break}return e.abrupt("return",s("Invalid duration provided, minimum of 3 days"));case 19:if((a=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},a)).privateKey||a.address){e.next=22;break}return e.abrupt("return",s("Function requires either a private key or address to be set"));case 22:return e.prev=22,o=a.privateKey?this.tronWeb.address.fromPrivateKey(a.privateKey):a.address,e.next=26,this.tronWeb.transactionBuilder.freezeBalance(t,r,n,o,i);case 26:return c=e.sent,e.next=29,this.sign(c,a.privateKey||void 0);case 29:return u=e.sent,e.next=32,this.sendRawTransaction(u);case 32:return d=e.sent,e.abrupt("return",s(null,d));case 36:return e.prev=36,e.t0=e.catch(22),e.abrupt("return",s(e.t0));case 39:case"end":return e.stop()}}),e,this,[[22,36]])}))),function(){return u.apply(this,arguments)})},{key:"unfreezeBalance",value:(c=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:"BANDWIDTH",r=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2&&void 0!==u[2]?u[2]:void 0,a=u.length>3&&void 0!==u[3]&&u[3],Ue.isFunction(n)&&(a=n,n=void 0),Ue.isFunction(t)&&(a=t,t="BANDWIDTH"),Ue.isFunction(r)&&(a=r,r={}),"string"==typeof r&&(r={privateKey:r}),a){e.next=10;break}return e.abrupt("return",this.injectPromise(this.unfreezeBalance,t,r,n));case 10:if(["BANDWIDTH","ENERGY"].includes(t)){e.next=12;break}return e.abrupt("return",a('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 12:if((r=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},r)).privateKey||r.address){e.next=15;break}return e.abrupt("return",a("Function requires either a private key or address to be set"));case 15:return e.prev=15,i=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,e.next=19,this.tronWeb.transactionBuilder.unfreezeBalance(t,i,n);case 19:return s=e.sent,e.next=22,this.sign(s,r.privateKey||void 0);case 22:return o=e.sent,e.next=25,this.sendRawTransaction(o);case 25:return c=e.sent,e.abrupt("return",a(null,c));case 29:return e.prev=29,e.t0=e.catch(15),e.abrupt("return",a(e.t0));case 32:case"end":return e.stop()}}),e,this,[[15,29]])}))),function(){return c.apply(this,arguments)})},{key:"updateAccount",value:(o=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]&&c[2],Ue.isFunction(r)&&(n=r,r={}),"string"==typeof r&&(r={privateKey:r}),n){e.next=7;break}return e.abrupt("return",this.injectPromise(this.updateAccount,t,r));case 7:if(Ue.isString(t)&&t.length){e.next=9;break}return e.abrupt("return",n("Name must be a string"));case 9:if((r=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},r)).privateKey||r.address){e.next=12;break}return e.abrupt("return",n("Function requires either a private key or address to be set"));case 12:return e.prev=12,a=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,e.next=16,this.tronWeb.transactionBuilder.updateAccount(t,a);case 16:return i=e.sent,e.next=19,this.sign(i,r.privateKey||void 0);case 19:return s=e.sent,e.next=22,this.sendRawTransaction(s);case 22:return o=e.sent,e.abrupt("return",n(null,o));case 26:return e.prev=26,e.t0=e.catch(12),e.abrupt("return",n(e.t0));case 29:case"end":return e.stop()}}),e,this,[[12,26]])}))),function(){return o.apply(this,arguments)})},{key:"signMessage",value:function(){return this.sign.apply(this,arguments)}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"send",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"sendTrx",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"broadcast",value:function(){return this.sendRawTransaction.apply(this,arguments)}},{key:"signTransaction",value:function(){return this.sign.apply(this,arguments)}},{key:"getProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!Ue.isInteger(e)||e<0?t("Invalid proposalID provided"):void this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(e)},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getProposal,e)}},{key:"listProposals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listProposals);this.tronWeb.fullNode.request("wallet/listproposals",{},"post").then((function(t){var r=t.proposals;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"getChainParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getChainParameters);this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post").then((function(t){var r=t.chainParameter;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"getAccountResources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this.tronWeb.isAddress(e)?void this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(e)},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):t("Invalid address provided"):this.injectPromise(this.getAccountResources,e)}},{key:"getExchangeByID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!Ue.isInteger(e)||e<0?t("Invalid exchangeID provided"):void this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getExchangeByID,e)}},{key:"listExchanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listExchanges);this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then((function(t){var r=t.exchanges;e(null,void 0===r?[]:r)}),"post").catch((function(t){return e(t)}))}},{key:"listExchangesPaginated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ue.isFunction(t)&&(r=t,t=0),Ue.isFunction(e)&&(r=e,e=10),!r)return this.injectPromise(this.listExchangesPaginated,e,t);this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:e,offset:t},"post").then((function(e){var t=e.exchanges;r(null,void 0===t?[]:t)})).catch((function(e){return r(e)}))}},{key:"getNodeInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getNodeInfo);this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post").then((function(t){e(null,t)}),"post").catch((function(t){return e(t)}))}},{key:"getTokenListByName",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?(Ue.isInteger(t)&&(t=t.toString()),Ue.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(t)},"post").then((function(t){if(Array.isArray(t.assetIssue))r(null,t.assetIssue.map((function(t){return e._parseToken(t)})));else if(!t.name)return r("Token does not exist");r(null,e._parseToken(t))})).catch((function(e){return r(e)})):r("Invalid token ID provided")):this.injectPromise(this.getTokenListByName,t)}},{key:"getTokenByID",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?(Ue.isInteger(t)&&(t=t.toString()),Ue.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:t},"post").then((function(t){if(!t.name)return r("Token does not exist");r(null,e._parseToken(t))})).catch((function(e){return r(e)})):r("Invalid token ID provided")):this.injectPromise(this.getTokenByID,t)}},{key:"getReward",value:(s=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]&&a[2],r.confirmed=!0,e.abrupt("return",this._getReward(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getUnconfirmedReward",value:(i=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]&&a[2],r.confirmed=!1,e.abrupt("return",this._getReward(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getBrokerage",value:(a=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]&&a[2],r.confirmed=!0,e.abrupt("return",this._getBrokerage(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getUnconfirmedBrokerage",value:(n=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]&&a[2],r.confirmed=!1,e.abrupt("return",this._getBrokerage(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getReward",value:(r=p()(l.a.mark((function e(){var t,r,n,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.tronWeb.defaultAddress.hex,r=i.length>1?i[1]:void 0,n=i.length>2&&void 0!==i[2]&&i[2],Ue.isFunction(r)&&(n=r,r={}),Ue.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),n){e.next=7;break}return e.abrupt("return",this.injectPromise(this._getReward,t,r));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],n)){e.next=9;break}return e.abrupt("return");case 9:a={address:dt(t)},this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request("wallet".concat(r.confirmed?"solidity":"","/getReward"),a,"post").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.reward)return n("Not found.");n(null,e.reward)})).catch((function(e){return n(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_getBrokerage",value:(t=p()(l.a.mark((function e(){var t,r,n,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.tronWeb.defaultAddress.hex,r=i.length>1?i[1]:void 0,n=i.length>2&&void 0!==i[2]&&i[2],Ue.isFunction(r)&&(n=r,r={}),Ue.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):Ue.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),n){e.next=7;break}return e.abrupt("return",this.injectPromise(this._getBrokerage,t,r));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],n)){e.next=9;break}return e.abrupt("return");case 9:a={address:dt(t)},this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request("wallet".concat(r.confirmed?"solidity":"","/getBrokerage"),a,"post").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.brokerage)return n("Not found.");n(null,e.brokerage)})).catch((function(e){return n(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"verifySignature",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=e.replace(/^0x/,""),r=r.replace(/^0x/,"");var a=[].concat(U()(oe(n?"\x19TRON Signed Message:\n32":"\x19Ethereum Signed Message:\n32")),U()(Ue.code.hexStr2byteArray(e))),i=ie(a),s=ue(i,{recoveryParam:"1c"==r.substring(128,130)?1:0,r:"0x"+r.substring(0,64),s:"0x"+r.substring(64,128)}),o="41"+s.substr(2),c=Tt.address.fromHex(o);return c==Tt.address.fromHex(t)}},{key:"signString",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=e.replace(/^0x/,"");var n={toHexString:function(){return"0x"+t},value:t},a=new de(n),i=[].concat(U()(oe(r?"\x19TRON Signed Message:\n32":"\x19Ethereum Signed Message:\n32")),U()(Ue.code.hexStr2byteArray(e))),s=ie(i),o=a.signDigest(s),c=["0x",o.r.substring(2),o.s.substring(2),Number(o.v).toString(16)].join("");return c}}]),e}();function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pt=function(e){return e.map((function(e){return e.type}))},mt=function(e,t){var r=e.map((function(e){return e.name})).filter((function(e){return!!e})),n=e.map((function(e){return e.type}));return Ue.abi.decodeParams(r,n,t)},vt=function(){function e(t,r){g()(this,e),this.tronWeb=t.tronWeb,this.contract=t,this.abi=r,this.name=r.name||(r.name=r.type),this.inputs=r.inputs||[],this.outputs=r.outputs||[],this.functionSelector=function(e){return e.name+"("+pt(e.inputs||[]).join(",")+")"}(r),this.signature=this.tronWeb.sha3(this.functionSelector,!1).slice(0,8),this.injectPromise=We()(this),this.defaultOptions={feeLimit:this.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}var t,r,n;return w()(e,[{key:"decodeInput",value:function(e){return mt(this.inputs,"0x"+e)}},{key:"onMethod",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=pt(this.inputs);return r.forEach((function(t,n){"address"==a[n]&&(r[n]=e.tronWeb.address.toHex(t).replace(q,"0x")),"address[]"==a[n]&&(r[n]=r[n].map((function(t){return e.tronWeb.address.toHex(t).replace(q,"0x")})))})),{call:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e._call.apply(e,[a,r].concat(n))},send:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e._send.apply(e,[a,r].concat(n))},watch:function(){return e._watch.apply(e,arguments)}}}},{key:"_call",value:(n=p()(l.a.mark((function e(t,r){var n,a,i,s,o=this,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3&&void 0!==c[3]&&c[3],Ue.isFunction(n)&&(a=n,n={}),a){e.next=5;break}return e.abrupt("return",this.injectPromise(this._call,t,r,n));case 5:if(t.length===r.length){e.next=7;break}return e.abrupt("return",a("Invalid argument count provided"));case 7:if(this.contract.address){e.next=9;break}return e.abrupt("return",a("Smart contract is missing address"));case 9:if(this.contract.deployed){e.next=11;break}return e.abrupt("return",a("Calling smart contracts requires you to load the contract first"));case 11:if(i=this.abi.stateMutability,["pure","view"].includes(i.toLowerCase())){e.next=14;break}return e.abrupt("return",a('Methods with state mutability "'.concat(i,'" must use send()')));case 14:n=ht(ht({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},n),s=r.map((function(e,r){return{type:t[r],value:e}})),this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,n,s,!!n.from&&this.tronWeb.address.toHex(n.from),(function(e,t){if(e)return a(e);if(!Ue.hasProperty(t,"constant_result"))return a("Failed to execute");try{var r=t.constant_result[0].length;if(0===r||r%64==8){var n="The call has been reverted or has thrown an error.";if(0!==r){n+=" Error message: ";for(var i="",s=t.constant_result[0].substring(8),c=0;c<r-8;c+=64)i+=o.tronWeb.toUtf8(s.substring(c,c+64));n+=i.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}return a(n)}var u=mt(o.outputs,"0x"+t.constant_result[0]);return 1===u.length&&(u=u[0]),a(null,u)}catch(e){return a(e)}}));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_send",value:(r=p()(l.a.mark((function e(t,r){var n,a,i,s,o,c,u,d,f,h,m,v=this,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.length>2&&void 0!==b[2]?b[2]:{},a=b.length>3&&void 0!==b[3]?b[3]:this.tronWeb.defaultPrivateKey,i=b.length>4&&void 0!==b[4]&&b[4],Ue.isFunction(a)&&(i=a,a=this.tronWeb.defaultPrivateKey),Ue.isFunction(n)&&(i=n,n={}),i){e.next=7;break}return e.abrupt("return",this.injectPromise(this._send,t,r,n,a));case 7:if(t.length===r.length){e.next=9;break}throw new Error("Invalid argument count provided");case 9:if(this.contract.address){e.next=11;break}return e.abrupt("return",i("Smart contract is missing address"));case 11:if(this.contract.deployed){e.next=13;break}return e.abrupt("return",i("Calling smart contracts requires you to load the contract first"));case 13:if(s=this.abi.stateMutability,!["pure","view"].includes(s.toLowerCase())){e.next=16;break}return e.abrupt("return",i('Methods with state mutability "'.concat(s,'" must use call()')));case 16:return["payable"].includes(s.toLowerCase())||(n.callValue=0),n=ht(ht({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},n),o=r.map((function(e,r){return{type:t[r],value:e}})),e.prev=19,c=a?this.tronWeb.address.fromPrivateKey(a):this.tronWeb.defaultAddress.base58,e.next=23,this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,n,o,this.tronWeb.address.toHex(c));case 23:if((u=e.sent).result&&u.result.result){e.next=26;break}return e.abrupt("return",i("Unknown error: "+JSON.stringify(u,null,2)));case 26:return e.next=28,this.tronWeb.trx.sign(u.transaction,a);case 28:if((d=e.sent).signature){e.next=33;break}if(a){e.next=32;break}return e.abrupt("return",i("Transaction was not signed properly"));case 32:return e.abrupt("return",i("Invalid private key provided"));case 33:return e.next=35,this.tronWeb.trx.sendRawTransaction(d);case 35:if(!(f=e.sent).code){e.next=40;break}return h={error:f.code,message:f.code},f.message&&(h.message=this.tronWeb.toUtf8(f.message)),e.abrupt("return",i(h));case 40:if(n.shouldPollResponse){e.next=42;break}return e.abrupt("return",i(null,d.txID));case 42:(m=function(){var e=p()(l.a.mark((function e(){var t,r,a,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(20!==(t=s.length>0&&void 0!==s[0]?s[0]:0)){e.next=3;break}return e.abrupt("return",i({error:"Cannot find result in solidity node",transaction:d}));case 3:return e.next=5,v.tronWeb.trx.getTransactionInfo(d.txID);case 5:if(r=e.sent,Object.keys(r).length){e.next=8;break}return e.abrupt("return",setTimeout((function(){m(t+1)}),3e3));case 8:if(!r.result||"FAILED"!==r.result){e.next=10;break}return e.abrupt("return",i({error:v.tronWeb.toUtf8(r.resMessage),transaction:d,output:r}));case 10:if(Ue.hasProperty(r,"contractResult")){e.next=12;break}return e.abrupt("return",i({error:"Failed to execute: "+JSON.stringify(r,null,2),transaction:d,output:r}));case 12:if(!n.rawResponse){e.next=14;break}return e.abrupt("return",i(null,r));case 14:if(1===(a=mt(v.outputs,"0x"+r.contractResult[0])).length&&(a=a[0]),!n.keepTxID){e.next=18;break}return e.abrupt("return",i(null,[d.txID,a]));case 18:return e.abrupt("return",i(null,a));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())(),e.next=49;break;case 46:return e.prev=46,e.t0=e.catch(19),e.abrupt("return",i(e.t0));case 49:case"end":return e.stop()}}),e,this,[[19,46]])}))),function(e,t){return r.apply(this,arguments)})},{key:"_watch",value:(t=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c=this,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=u.length>1&&void 0!==u[1]&&u[1],Ue.isFunction(t)&&(r=t,t={}),Ue.isFunction(r)){e.next=5;break}throw new Error("Expected callback to be provided");case 5:if(this.contract.address){e.next=7;break}return e.abrupt("return",r("Smart contract is missing address"));case 7:if(this.abi.type&&/event/i.test(this.abi.type)){e.next=9;break}return e.abrupt("return",r("Invalid method type for event watching"));case 9:if(this.tronWeb.eventServer){e.next=11;break}return e.abrupt("return",r("No event server configured"));case 11:return n=!1,a=!1,i=Date.now()-1e3,s=function(){var e=p()(l.a.mark((function e(){var r,n,s,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={since:i,eventName:c.name,sort:"block_timestamp",blockNumber:"latest",filters:t.filters},t.resourceNode&&(/full/i.test(t.resourceNode)?r.onlyUnconfirmed=!0:r.onlyConfirmed=!0),e.next=5,c.tronWeb.event.getEventsByContractAddress(c.contract.address,r);case 5:return n=e.sent,s=n.sort((function(e,t){return t.block-e.block})),o=Ye()(s,1),u=o[0],d=n.filter((function(e,r){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||n.slice(0,r).some((function(t){return JSON.stringify(t)==JSON.stringify(e)}))||a&&!(e.block>a))})),u&&(a=u.block),e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),o=function(){n&&clearInterval(n),n=setInterval((function(){s().then((function(e){return e.forEach((function(e){r(null,Ue.parseEvent(e,c.abi))}))})).catch((function(e){return r(e)}))}),3e3)},e.next=18,s();case 18:return o(),e.abrupt("return",{start:o,stop:function(){n&&(clearInterval(n),n=!1)}});case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),bt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(g()(this,e),!t||!t instanceof Tt)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=We()(this),this.address=n,this.abi=r,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],this.tronWeb.isAddress(n)?this.deployed=!0:this.address=!1,this.loadAbi(r)}var t,r,n,a;return w()(e,[{key:"_getEvents",value:(a=p()(l.a.mark((function e(){var t,r,n,a,i,s,o=this,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.tronWeb.event.getEventsByContractAddress(this.address,t);case 3:return r=e.sent,n=r.sort((function(e,t){return t.block-e.block})),a=Ye()(n,1),i=a[0],s=r.filter((function(e,n){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||r.slice(0,n).some((function(t){return JSON.stringify(t)==JSON.stringify(e)}))||o.lastBlock&&!(e.block>o.lastBlock))})),i&&(this.lastBlock=i.block),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_startEventListener",value:(n=p()(l.a.mark((function e(){var t,r,n=this,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=a.length>1?a[1]:void 0,Ue.isFunction(t)&&(r=t,t={}),this.eventListener&&clearInterval(this.eventListener),this.tronWeb.eventServer){e.next=6;break}throw new Error("Event server is not configured");case 6:if(this.address){e.next=8;break}throw new Error("Contract is not configured with an address");case 8:return this.eventCallback=r,e.next=11,this._getEvents(t);case 11:this.eventListener=setInterval((function(){n._getEvents(t).then((function(e){return e.forEach((function(e){n.eventCallback&&n.eventCallback(e)}))})).catch((function(e){console.error("Failed to get event list",e)}))}),3e3);case 12:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_stopEventListener",value:function(){this.eventListener&&(clearInterval(this.eventListener),this.eventListener=!1,this.eventCallback=!1)}},{key:"hasProperty",value:function(e){return this.hasOwnProperty(e)||this.__proto__.hasOwnProperty(e)}},{key:"loadAbi",value:function(e){var t=this;this.abi=e,this.methods={},this.props.forEach((function(e){return delete t[e]})),e.forEach((function(e){if(e.type&&!/constructor/i.test(e.type)){var r=new vt(t,e),n=r.onMethod.bind(r),a=r.name,i=r.functionSelector,s=r.signature;t.methods[a]=n,t.methods[i]=n,t.methods[s]=n,t.methodInstances[a]=r,t.methodInstances[i]=r,t.methodInstances[s]=r,t.hasProperty(a)||(t[a]=n,t.props.push(a)),t.hasProperty(i)||(t[i]=n,t.props.push(i)),t.hasProperty(s)||(t[s]=n,t.props.push(s))}}))}},{key:"decodeInput",value:function(e){var t=e.substring(0,8),r=e.substring(8);if(!this.methodInstances[t])throw new Error("Contract method "+t+" not found");return{name:this.methodInstances[t].name,params:this.methodInstances[t].decodeInput(r)}}},{key:"new",value:(r=p()(l.a.mark((function e(t){var r,n,a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:this.tronWeb.defaultPrivateKey,n=c.length>2&&void 0!==c[2]&&c[2],Ue.isFunction(r)&&(n=r,r=this.tronWeb.defaultPrivateKey),n){e.next=5;break}return e.abrupt("return",this.injectPromise(this.new,t,r));case 5:return e.prev=5,a=this.tronWeb.address.fromPrivateKey(r),e.next=9,this.tronWeb.transactionBuilder.createSmartContract(t,a);case 9:return i=e.sent,e.next=12,this.tronWeb.trx.sign(i,r);case 12:return s=e.sent,e.next=15,this.tronWeb.trx.sendRawTransaction(s);case 15:if(!(o=e.sent).code){e.next=18;break}return e.abrupt("return",n({error:o.code,message:this.tronWeb.toUtf8(o.message)}));case 18:return e.next=20,Ue.sleep(3e3);case 20:return e.abrupt("return",this.at(s.contract_address,n));case 23:return e.prev=23,e.t0=e.catch(5),e.abrupt("return",n(e.t0));case 26:case"end":return e.stop()}}),e,this,[[5,23]])}))),function(e){return r.apply(this,arguments)})},{key:"at",value:(t=p()(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.at,t));case 3:return e.prev=3,e.next=6,this.tronWeb.trx.getContract(t);case 6:if((n=e.sent).contract_address){e.next=9;break}return e.abrupt("return",r("Unknown error: "+JSON.stringify(n,null,2)));case 9:return this.address=n.contract_address,this.bytecode=n.bytecode,this.deployed=!0,this.loadAbi(n.abi&&n.abi.entrys?n.abi.entrys:[]),e.abrupt("return",r(null,this));case 16:if(e.prev=16,e.t0=e.catch(3),!e.t0.toString().includes("does not exist")){e.next=20;break}return e.abrupt("return",r("Contract has not been deployed on the network"));case 20:return e.abrupt("return",r(e.t0));case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(e){return t.apply(this,arguments)})},{key:"events",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ue.isFunction(e)&&(t=e,e={}),!Ue.isFunction(t))throw new Error("Callback function expected");var r=this;return{start:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n?(r._startEventListener(e,t).then((function(){n()})).catch((function(e){n(e)})),this):(r._startEventListener(e,t),this)},stop:function(){r._stopEventListener()}}}}]),e}(),gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g()(this,e),!t||!t instanceof Tt)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.pluginNoOverride=["register"],this.disablePlugins=r.disablePlugins}return w()(e,[{key:"register",value:function(e,t){var r={requires:"0.0.0",components:{}},n={libs:[],plugged:[],skipped:[]};if(this.disablePlugins)return n.error="This instance of TronWeb has plugins disabled.",n;var a=new e(this.tronWeb);if(Ue.isFunction(a.pluginInterface)&&(r=a.pluginInterface(t)),!Je.a.satisfies(Tt.version,r.requires))throw new Error("The plugin is not compatible with this version of TronWeb");if(r.fullClass){var i=a.constructor.name,s=i.substring(0,1).toLowerCase()+i.substring(1);i!==s&&(Tt[i]=e,this.tronWeb[s]=a,n.libs.push(i))}else for(var o in r.components)if(this.tronWeb.hasOwnProperty(o)){var c=r.components[o],u=this.tronWeb[o].pluginNoOverride||[];for(var d in c)"constructor"===d||this.tronWeb[o][d]&&(u.includes(d)||/^_/.test(d))?n.skipped.push(d):(this.tronWeb[o][d]=c[d].bind(this.tronWeb[o]),n.plugged.push(d))}return n}}]),e}(),yt=n(21),wt=n.n(yt),kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g()(this,e),!(t&&t instanceof Tt))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=We()(this)}return w()(e,[{key:"setServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"healthcheck";if(!t)return this.tronWeb.eventServer=!1;if(Ue.isString(t)&&(t=new qe.HttpProvider(t)),!this.tronWeb.isValidProvider(t))throw new Error("Invalid event server provided");this.tronWeb.eventServer=t,this.tronWeb.eventServer.isConnected=function(){return e.tronWeb.eventServer.request(r).then((function(){return!0})).catch((function(){return!1}))}}},{key:"getEventsByContractAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object.assign({sinceTimestamp:0,eventName:!1,blockNumber:!1,size:20,page:1},t),a=n.sinceTimestamp,i=n.since,s=n.fromTimestamp,o=n.eventName,c=n.blockNumber,u=n.size,d=n.page,f=n.onlyConfirmed,l=n.onlyUnconfirmed,h=n.previousLastEventFingerprint,p=n.previousFingerprint,m=n.fingerprint,b=n.rawResponse,g=n.sort,y=n.filters;if(!r)return this.injectPromise(this.getEventsByContractAddress,e,t);if(s=s||a||i,!this.tronWeb.eventServer)return r("No event server configured");var w=[];if(!this.tronWeb.isAddress(e))return r("Invalid contract address provided");if(o&&!e)return r("Usage of event name filtering requires a contract address");if(void 0!==s&&!Ue.isInteger(s))return r("Invalid fromTimestamp provided");if(!Ue.isInteger(u))return r("Invalid size provided");if(u>200&&(console.warn("Defaulting to maximum accepted size: 200"),u=200),!Ue.isInteger(d))return r("Invalid page provided");if(c&&!o)return r("Usage of block number filtering requires an event name");e&&w.push(this.tronWeb.address.fromHex(e)),o&&w.push(o),c&&w.push(c);var k={size:u,page:d};return"object"===v()(y)&&Object.keys(y).length>0&&(k.filters=JSON.stringify(y)),s&&(k.fromTimestamp=k.since=s),f&&(k.onlyConfirmed=f),l&&!f&&(k.onlyUnconfirmed=l),g&&(k.sort=g),(m=m||p||h)&&(k.fingerprint=m),this.tronWeb.eventServer.request("event/contract/".concat(w.join("/"),"?").concat(wt.a.stringify(k))).then((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?Ue.isArray(e)?r(null,!0===b?e:e.map((function(e){return Ue.mapEvent(e)}))):r(e):r("Unknown error occurred")})).catch((function(e){return r(e.response&&e.response.data||e)}))}},{key:"getEventsByTransactionID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ue.isFunction(t)&&(r=t,t={}),r?this.tronWeb.eventServer?this.tronWeb.eventServer.request("event/transaction/".concat(e)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?Ue.isArray(e)?r(null,!0===t.rawResponse?e:e.map((function(e){return Ue.mapEvent(e)}))):r(e):r("Unknown error occurred")})).catch((function(e){return r(e.response&&e.response.data||e)})):r("No event server configured"):this.injectPromise(this.getEventsByTransactionID,e,t)}}]),e}();function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g()(this,e),this.mainchain=n;var i=t.fullHost,s=t.fullNode,o=t.solidityNode,c=t.eventServer,u=t.mainGatewayAddress,d=t.sideGatewayAddress,f=t.sideChainId;this.sidechain=new r(i||s,i||o,i||c,a),this.isAddress=this.mainchain.isAddress,this.utils=this.mainchain.utils,this.setMainGatewayAddress(u),this.setSideGatewayAddress(d),this.setChainId(f),this.injectPromise=We()(this),this.validator=new tt(this.sidechain);var l=this;this.sidechain.trx.sign=function(){return l.sign.apply(l,arguments)},this.sidechain.trx.multiSign=function(){return l.multiSign.apply(l,arguments)}}var t,r,n,a,i,s,o,c,u,d,f,h,m,v,b,y,k,x,_,S,T;return w()(e,[{key:"setMainGatewayAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid main gateway address provided");this.mainGatewayAddress=e}},{key:"setSideGatewayAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid side gateway address provided");this.sideGatewayAddress=e}},{key:"setChainId",value:function(e){if(!this.utils.isString(e)||!e)throw new Error("Invalid side chainId provided");this.chainId=e}},{key:"signTransaction",value:function(e,t){"string"==typeof e&&(e=this.utils.code.hexStr2byteArray(e));var r=this.utils.code.hexStr2byteArray(this.chainId),n=this.utils.code.hexStr2byteArray(t.txID).concat(r),a=this.sidechain.utils.ethersUtils.sha256(n),i=this.utils.crypto.ECKeySign(this.utils.code.hexStr2byteArray(a.replace(/^0x/,"")),e);return Array.isArray(t.signature)?t.signature.includes(i)||t.signature.push(i):t.signature=[i],t}},{key:"multiSign",value:(T=p()(l.a.mark((function e(){var t,r,n,a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],r=c.length>1&&void 0!==c[1]?c[1]:this.sidechain.defaultPrivateKey,n=c.length>2&&void 0!==c[2]&&c[2],a=c.length>3&&void 0!==c[3]&&c[3],this.utils.isFunction(n)&&(a=n,n=0),this.utils.isFunction(r)&&(a=r,r=this.mainchain.defaultPrivateKey,n=0),a){e.next=8;break}return e.abrupt("return",this.injectPromise(this.multiSign,t,r,n));case 8:if(this.utils.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=10;break}return e.abrupt("return",a("Invalid transaction provided"));case 10:if(t.raw_data.contract[0].Permission_id||!(n>0)){e.next=30;break}return t.raw_data.contract[0].Permission_id=n,i=this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(r)).toLowerCase(),e.next=15,this.sidechain.trx.getSignWeight(t,n);case 15:if("PERMISSION_ERROR"!==(s=e.sent).result.code){e.next=18;break}return e.abrupt("return",a(s.result.message));case 18:if(o=!1,s.permission.keys.map((function(e){e.address===i&&(o=!0)})),o){e.next=22;break}return e.abrupt("return",a(r+" has no permission to sign"));case 22:if(!s.approved_list||-1==s.approved_list.indexOf(i)){e.next=24;break}return e.abrupt("return",a(r+" already sign transaction"));case 24:if(!s.transaction||!s.transaction.transaction){e.next=29;break}(t=s.transaction.transaction).raw_data.contract[0].Permission_id=n,e.next=30;break;case 29:return e.abrupt("return",a("Invalid transaction provided"));case 30:return e.prev=30,e.abrupt("return",a(null,this.signTransaction(r,t)));case 34:e.prev=34,e.t0=e.catch(30),a(e.t0);case 37:case"end":return e.stop()}}),e,this,[[30,34]])}))),function(){return T.apply(this,arguments)})},{key:"sign",value:(S=p()(l.a.mark((function e(){var t,r,n,a,i,s,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],r=o.length>1&&void 0!==o[1]?o[1]:this.sidechain.defaultPrivateKey,n=!(o.length>2&&void 0!==o[2])||o[2],a=o.length>3&&void 0!==o[3]&&o[3],i=o.length>4&&void 0!==o[4]&&o[4],this.utils.isFunction(a)&&(i=a,a=!1),this.utils.isFunction(n)&&(i=n,n=!0,a=!1),this.utils.isFunction(r)&&(i=r,r=this.sidechain.defaultPrivateKey,n=!0,a=!1),i){e.next=10;break}return e.abrupt("return",this.injectPromise(this.sign,t,r,n,a));case 10:if(!this.utils.isString(t)){e.next=21;break}if(this.utils.isHex(t)){e.next=13;break}return e.abrupt("return",i("Expected hex message input"));case 13:return e.prev=13,s=this.sidechain.trx.signString(t,r,n),e.abrupt("return",i(null,s));case 18:e.prev=18,e.t0=e.catch(13),i(e.t0);case 21:if(this.utils.isObject(t)){e.next=23;break}return e.abrupt("return",i("Invalid transaction provided"));case 23:if(a||!t.signature){e.next=25;break}return e.abrupt("return",i("Transaction is already signed"));case 25:if(e.prev=25,a){e.next=30;break}if(this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(r)).toLowerCase()===this.sidechain.address.toHex(t.raw_data.contract[0].parameter.value.owner_address)){e.next=30;break}return e.abrupt("return",i("Private key does not match address in transaction"));case 30:return e.abrupt("return",i(null,this.signTransaction(r,t)));case 33:e.prev=33,e.t1=e.catch(25),i(e.t1);case 36:case"end":return e.stop()}}),e,this,[[13,18],[25,33]])}))),function(){return S.apply(this,arguments)})},{key:"depositTrx",value:(_=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:{},i=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5&&void 0!==u[5]&&u[5],this.utils.isFunction(i)&&(s=i,i=this.mainchain.defaultPrivateKey),this.utils.isFunction(a)&&(s=a,a={}),s){e.next=7;break}return e.abrupt("return",this.injectPromise(this.depositTrx,t,r,n,a,i));case 7:if(!this.validator.notValid([{name:"callValue",type:"integer",value:t,gte:0},{name:"depositFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0,lte:5e9}],s)){e.next=9;break}return e.abrupt("return");case 9:return a=_t({callValue:Number(t)+Number(r),feeLimit:n},a),e.prev=10,e.next=13,this.mainchain.contract().at(this.mainGatewayAddress);case 13:return o=e.sent,e.next=16,o.depositTRX().send(a,i);case 16:return c=e.sent,e.abrupt("return",s(null,c));case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",s(e.t0));case 23:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(e,t,r){return _.apply(this,arguments)})},{key:"depositTrc10",value:(x=p()(l.a.mark((function e(t,r,n,a){var i,s,o,c,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6&&void 0!==d[6]&&d[6],this.utils.isFunction(s)&&(o=s,s=this.mainchain.defaultPrivateKey),this.utils.isFunction(i)&&(o=i,i={}),o){e.next=7;break}return e.abrupt("return",this.injectPromise(this.depositTrc10,t,r,n,a,i,s));case 7:if(!this.validator.notValid([{name:"tokenValue",type:"integer",value:r,gte:0},{name:"depositFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:a,gte:0,lte:5e9},{name:"tokenId",type:"integer",value:t,gte:0}],o)){e.next=9;break}return e.abrupt("return");case 9:return i=_t(_t({tokenId:t,tokenValue:r,feeLimit:a},i),{},{callValue:n}),e.prev=10,e.next=13,this.mainchain.contract().at(this.mainGatewayAddress);case 13:return c=e.sent,e.next=16,c.depositTRC10(t,r).send(i,s);case 16:u=e.sent,o(null,u),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",o(e.t0));case 23:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(e,t,r,n){return x.apply(this,arguments)})},{key:"depositTrc",value:(k=p()(l.a.mark((function e(t,r,n,a,i){var s,o,c,u,d,f,h=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>5&&void 0!==h[5]?h[5]:{},o=h.length>6&&void 0!==h[6]?h[6]:this.mainchain.defaultPrivateKey,c=h.length>7&&void 0!==h[7]&&h[7],this.utils.isFunction(o)&&(c=o,o=this.mainchain.defaultPrivateKey),this.utils.isFunction(s)&&(c=s,s={}),c){e.next=7;break}return e.abrupt("return",this.injectPromise(this.depositTrc,t,r,n,a,i,s,o));case 7:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:t},{name:"num",type:"integer",value:r,gte:0},{name:"fee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:a,gte:0,lte:5e9},{name:"contractAddress",type:"address",value:i}],c)){e.next=9;break}return e.abrupt("return");case 9:if(s=_t(_t({feeLimit:a},s),{},{callValue:n,tokenId:"",tokenValue:0}),e.prev=10,u=null,"approve"!==t){e.next=21;break}return e.next=15,this.mainchain.contract().at(i);case 15:return d=e.sent,e.next=18,d.approve(this.mainGatewayAddress,r).send(s,o);case 18:u=e.sent,e.next=44;break;case 21:return e.next=23,this.mainchain.contract().at(this.mainGatewayAddress);case 23:f=e.sent,e.t0=t,e.next="depositTRC20"===e.t0?27:"depositTRC721"===e.t0?31:"retryDeposit"===e.t0?35:"retryMapping"===e.t0?39:43;break;case 27:return e.next=29,f.depositTRC20(i,r).send(s,o);case 29:return u=e.sent,e.abrupt("break",44);case 31:return e.next=33,f.depositTRC721(i,r).send(s,o);case 33:return u=e.sent,e.abrupt("break",44);case 35:return e.next=37,f.retryDeposit(r).send(s,o);case 37:return u=e.sent,e.abrupt("break",44);case 39:return e.next=41,f.retryMapping(r).send(s,o);case 41:return u=e.sent,e.abrupt("break",44);case 43:return e.abrupt("break",44);case 44:c(null,u),e.next=50;break;case 47:return e.prev=47,e.t1=e.catch(10),e.abrupt("return",c(e.t1));case 50:case"end":return e.stop()}}),e,this,[[10,47]])}))),function(e,t,r,n,a){return k.apply(this,arguments)})},{key:"approveTrc20",value:(y=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="approve",e.abrupt("return",this.depositTrc(o,t,0,r,n,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return y.apply(this,arguments)})},{key:"approveTrc721",value:(b=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="approve",e.abrupt("return",this.depositTrc(o,t,0,r,n,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return b.apply(this,arguments)})},{key:"depositTrc20",value:(v=p()(l.a.mark((function e(t,r,n,a){var i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>4&&void 0!==u[4]?u[4]:{},s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6&&void 0!==u[6]&&u[6],c="depositTRC20",e.abrupt("return",this.depositTrc(c,t,r,n,a,i,s,o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"depositTrc721",value:(m=p()(l.a.mark((function e(t,r,n,a){var i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>4&&void 0!==u[4]?u[4]:{},s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6&&void 0!==u[6]&&u[6],c="depositTRC721",e.abrupt("return",this.depositTrc(c,t,r,n,a,i,s,o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return m.apply(this,arguments)})},{key:"mappingTrc",value:(h=p()(l.a.mark((function e(t,r,n,a){var i,s,o,c,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6?d[6]:void 0,this.utils.isFunction(s)&&(o=s,s=this.mainchain.defaultPrivateKey),this.utils.isFunction(i)&&(o=i,i={}),o){e.next=7;break}return e.abrupt("return",this.injectPromise(this.mappingTrc,t,r,n,a,i,s));case 7:if(!this.validator.notValid([{name:"trxHash",type:"not-empty-string",value:t},{name:"mappingFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0,lte:5e9}],o)){e.next=9;break}return e.abrupt("return");case 9:return t=t.startsWith("0x")?t:"0x"+t,i=_t(_t({feeLimit:n},i),{},{callValue:r}),e.prev=11,e.next=14,this.mainchain.contract().at(this.mainGatewayAddress);case 14:if(c=e.sent,u=null,"mappingTRC20"!==a){e.next=22;break}return e.next=19,c.mappingTRC20(t).send(i,s);case 19:u=e.sent,e.next=29;break;case 22:if("mappingTRC721"!==a){e.next=28;break}return e.next=25,c.mappingTRC721(t).send(i,s);case 25:u=e.sent,e.next=29;break;case 28:o(new Error("type must be trc20 or trc721"));case 29:o(null,u),e.next=35;break;case 32:return e.prev=32,e.t0=e.catch(11),e.abrupt("return",o(e.t0));case 35:case"end":return e.stop()}}),e,this,[[11,32]])}))),function(e,t,r,n){return h.apply(this,arguments)})},{key:"mappingTrc20",value:(f=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="mappingTRC20",e.abrupt("return",this.mappingTrc(t,r,n,o,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"mappingTrc721",value:(d=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="mappingTRC721",e.abrupt("return",this.mappingTrc(t,r,n,o,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"withdrawTrx",value:(u=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:{},i=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5&&void 0!==u[5]&&u[5],this.utils.isFunction(i)&&(s=i,i=this.mainchain.defaultPrivateKey),this.utils.isFunction(a)&&(s=a,a={}),s){e.next=7;break}return e.abrupt("return",this.injectPromise(this.withdrawTrx,t,r,n,a,i));case 7:if(!this.validator.notValid([{name:"callValue",type:"integer",value:t,gte:0},{name:"withdrawFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0,lte:1e9}],s)){e.next=9;break}return e.abrupt("return");case 9:return a=_t({callValue:Number(t)+Number(r),feeLimit:n},a),e.prev=10,e.next=13,this.sidechain.contract().at(this.sideGatewayAddress);case 13:return o=e.sent,e.next=16,o.withdrawTRX().send(a,i);case 16:return c=e.sent,e.abrupt("return",s(null,c));case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",s(e.t0));case 23:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(e,t,r){return u.apply(this,arguments)})},{key:"withdrawTrc10",value:(c=p()(l.a.mark((function e(t,r,n,a){var i,s,o,c,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6&&void 0!==d[6]&&d[6],this.utils.isFunction(s)&&(o=s,s=this.mainchain.defaultPrivateKey),this.utils.isFunction(i)&&(o=i,i={}),o){e.next=7;break}return e.abrupt("return",this.injectPromise(this.withdrawTrc10,t,r,n,a,i,s));case 7:if(!this.validator.notValid([{name:"tokenId",type:"integer",value:t,gte:0},{name:"tokenValue",type:"integer",value:r,gte:0},{name:"withdrawFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:a,gte:0,lte:1e9}],o)){e.next=9;break}return e.abrupt("return");case 9:return i=_t({tokenValue:r,tokenId:t,callValue:n,feeLimit:a},i),e.prev=10,e.next=13,this.sidechain.contract().at(this.sideGatewayAddress);case 13:return c=e.sent,e.next=16,c.withdrawTRC10(t,r).send(i,s);case 16:return u=e.sent,e.abrupt("return",o(null,u));case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",o(e.t0));case 23:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(e,t,r,n){return c.apply(this,arguments)})},{key:"withdrawTrc",value:(o=p()(l.a.mark((function e(t,r,n,a,i){var s,o,c,u,d,f,h,m,v,b,g=this,y=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.length>5&&void 0!==y[5]?y[5]:{},o=y.length>6&&void 0!==y[6]?y[6]:this.mainchain.defaultPrivateKey,c=y.length>7&&void 0!==y[7]&&y[7],this.utils.isFunction(o)&&(c=o,o=this.mainchain.defaultPrivateKey),this.utils.isFunction(s)&&(c=s,s={}),c){e.next=7;break}return e.abrupt("return",this.injectPromise(this.withdrawTrc,t,r,n,a,i,s,o));case 7:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:t},{name:"numOrId",type:"integer",value:r,gte:0},{name:"withdrawFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:a,gte:0,lte:1e9},{name:"contractAddress",type:"address",value:i}],c)){e.next=9;break}return e.abrupt("return");case 9:return s=_t(_t({feeLimit:a},s),{},{callValue:n}),u=[{type:"uint256",value:r}],e.prev=11,d=o?this.sidechain.address.fromPrivateKey(o):this.sidechain.defaultAddress.base58,e.next=15,this.sidechain.transactionBuilder.triggerSmartContract(i,t,s,u,this.sidechain.address.toHex(d));case 15:if((f=e.sent).result&&f.result.result){e.next=18;break}return e.abrupt("return",c("Unknown error: "+JSON.stringify(f.transaction,null,2)));case 18:return e.next=20,this.sidechain.trx.sign(f.transaction,o);case 20:if((h=e.sent).signature){e.next=25;break}if(o){e.next=24;break}return e.abrupt("return",c("Transaction was not signed properly"));case 24:return e.abrupt("return",c("Invalid private key provided"));case 25:return e.next=27,this.sidechain.trx.sendRawTransaction(h);case 27:if(!(m=e.sent).code){e.next=32;break}return v={error:m.code,message:m.code},m.message&&(v.message=this.sidechain.toUtf8(m.message)),e.abrupt("return",c(v));case 32:if(s.shouldPollResponse){e.next=34;break}return e.abrupt("return",c(null,h.txID));case 34:(b=function(){var e=p()(l.a.mark((function e(){var t,r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(20!=(t=a.length>0&&void 0!==a[0]?a[0]:0)){e.next=3;break}return e.abrupt("return",c({error:"Cannot find result in solidity node",transaction:h}));case 3:return e.next=5,g.sidechain.trx.getTransactionInfo(h.txID);case 5:if(r=e.sent,Object.keys(r).length){e.next=8;break}return e.abrupt("return",setTimeout((function(){b(t+1)}),3e3));case 8:if(!r.result||"FAILED"!=r.result){e.next=10;break}return e.abrupt("return",c({error:g.sidechain.toUtf8(r.resMessage),transaction:h,output:r}));case 10:if(g.utils.hasProperty(r,"contractResult")){e.next=12;break}return e.abrupt("return",c({error:"Failed to execute: "+JSON.stringify(r,null,2),transaction:h,output:r}));case 12:if(!s.rawResponse){e.next=14;break}return e.abrupt("return",c(null,r));case 14:return 1===(n=decodeOutput(g.outputs,"0x"+r.contractResult[0])).length&&(n=n[0]),e.abrupt("return",c(null,n));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())(),e.next=41;break;case 38:return e.prev=38,e.t0=e.catch(11),e.abrupt("return",c(e.t0));case 41:case"end":return e.stop()}}),e,this,[[11,38]])}))),function(e,t,r,n,a){return o.apply(this,arguments)})},{key:"withdrawTrc20",value:(s=p()(l.a.mark((function e(t,r,n,a,i){var s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6&&void 0!==u[6]&&u[6],c="withdrawal(uint256)",e.abrupt("return",this.withdrawTrc(c,t,r,n,a,i,s,o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a){return s.apply(this,arguments)})},{key:"withdrawTrc721",value:(i=p()(l.a.mark((function e(t,r,n,a,i){var s,o,c,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6&&void 0!==u[6]&&u[6],c="withdrawal(uint256)",e.abrupt("return",this.withdrawTrc(c,t,r,n,a,i,s,o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a){return i.apply(this,arguments)})},{key:"injectFund",value:(a=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c,u,d,f,h=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>3&&void 0!==h[3]?h[3]:this.mainchain.defaultPrivateKey,i=h.length>4&&void 0!==h[4]&&h[4],this.utils.isFunction(a)&&(i=a,a=this.mainchain.defaultPrivateKey),this.utils.isFunction(n)&&(i=n,n={}),i){e.next=6;break}return e.abrupt("return",this.injectPromise(this.injectFund,t,r,n,a));case 6:if(!this.validator.notValid([{name:"num",type:"integer",value:t,gte:0},{name:"feeLimit",type:"integer",value:r,gte:0,lte:1e9}],i)){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,s=this.sidechain.address.fromPrivateKey(a),o=this.sidechain.address.toHex(s),e.next=13,this.sidechain.fullNode.request("/wallet/fundinject",{owner_address:o,amount:t},"post");case 13:return c=e.sent,e.next=16,this.sidechain.trx.sign(c,a);case 16:if((u=e.sent).signature){e.next=21;break}if(a){e.next=20;break}return e.abrupt("return",i("Transaction was not signed properly"));case 20:return e.abrupt("return",i("Invalid private key provided"));case 21:return e.next=23,this.sidechain.trx.sendRawTransaction(u);case 23:if(!(d=e.sent).code){e.next=28;break}return f={error:d.code,message:d.code},d.message&&(f.message=this.mainchain.toUtf8(d.message)),e.abrupt("return",i(f));case 28:return e.abrupt("return",i(null,u.txID));case 31:return e.prev=31,e.t0=e.catch(8),e.abrupt("return",i(e.t0));case 34:case"end":return e.stop()}}),e,this,[[8,31]])}))),function(e,t,r){return a.apply(this,arguments)})},{key:"retryWithdraw",value:(n=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.sidechain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="retryWithdraw(uint256)",e.abrupt("return",this.withdrawTrc(o,t,r,n,this.sideGatewayAddress,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"retryDeposit",value:(r=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="retryDeposit",e.abrupt("return",this.depositTrc(o,t,r,n,this.mainGatewayAddress,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"retryMapping",value:(t=p()(l.a.mark((function e(t,r,n){var a,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5&&void 0!==c[5]&&c[5],o="retryMapping",e.abrupt("return",this.depositTrc(o,t,r,n,this.mainGatewayAddress,a,i,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();var Tt=function(e){S()(s,e);var r,n,a,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M()(e);if(t){var a=M()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}(s);function s(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];g()(this,s),e=i.call(this);var u=!1,d=!1;return"object"===v()(r)&&(r.fullNode||r.fullHost)?(t=r.fullNode||r.fullHost,o=n,n=r.solidityNode||r.fullHost,a=r.eventServer||r.fullHost,u=r.headers||!1,d=r.eventHeaders||u,c=r.privateKey):t=r,Ue.isString(t)&&(t=new qe.HttpProvider(t)),Ue.isString(n)&&(n=new qe.HttpProvider(n)),Ue.isString(a)&&(a=new qe.HttpProvider(a)),e.event=new kt(x()(e)),e.transactionBuilder=new ot(x()(e)),e.trx=new ft(x()(e)),e.plugin=new gt(x()(e),r),e.utils=Ue,e.setFullNode(t),e.setSolidityNode(n),e.setEventServer(a),e.providers=qe,e.BigNumber=De.a,e.defaultBlock=!1,e.defaultPrivateKey=!1,e.defaultAddress={hex:!1,base58:!1},["sha3","toHex","toUtf8","fromUtf8","toAscii","fromAscii","toDecimal","fromDecimal","toSun","fromSun","toBigNumber","isAddress","createAccount","address","version"].forEach((function(t){e[t]=s[t]})),"object"===v()(o)&&(o.fullNode||o.fullHost)?e.sidechain=new St(o,s,x()(e),c):c=c||o,c&&e.setPrivateKey(c),e.fullnodeVersion="3.5.0",e.feeLimit=15e7,e.injectPromise=We()(x()(e)),u&&e.setFullNodeHeader(u),d&&e.setEventHeader(d),e}return w()(s,[{key:"getFullnodeVersion",value:(a=p()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.trx.getNodeInfo();case 3:t=e.sent,this.fullnodeVersion=t.configNodeInfo.codeVersion,2===this.fullnodeVersion.split(".").length&&(this.fullnodeVersion+=".0"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.fullnodeVersion="3.5.0";case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return a.apply(this,arguments)})},{key:"setDefaultBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if([!1,"latest","earliest",0].includes(e))return this.defaultBlock=e;if(!Ue.isInteger(e)||!e)throw new Error("Invalid block ID provided");this.defaultBlock=Math.abs(e)}},{key:"setPrivateKey",value:function(e){try{this.setAddress(this.address.fromPrivateKey(e))}catch(e){throw new Error("Invalid private key provided")}this.defaultPrivateKey=e,this.emit("privateKeyChanged",e)}},{key:"setAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid address provided");var t=this.address.toHex(e),r=this.address.fromHex(e);this.defaultPrivateKey&&this.address.fromPrivateKey(this.defaultPrivateKey)!==r&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:t,base58:r},this.emit("addressChanged",{hex:t,base58:r})}},{key:"fullnodeSatisfies",value:function(e){return Je.a.satisfies(this.fullnodeVersion,e)}},{key:"isValidProvider",value:function(e){return Object.values(qe).some((function(t){return e instanceof t}))}},{key:"setFullNode",value:function(e){if(Ue.isString(e)&&(e=new qe.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid full node provided");this.fullNode=e,this.fullNode.setStatusPage("wallet/getnowblock"),this.getFullnodeVersion()}},{key:"setSolidityNode",value:function(e){if(Ue.isString(e)&&(e=new qe.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid solidity node provided");this.solidityNode=e,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}},{key:"setEventServer",value:function(){var e;(e=this.event).setServer.apply(e,arguments)}},{key:"setHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qe.HttpProvider(this.fullNode.host,3e4,!1,!1,e),r=new qe.HttpProvider(this.solidityNode.host,3e4,!1,!1,e),n=new qe.HttpProvider(this.eventServer.host,3e4,!1,!1,e);this.setFullNode(t),this.setSolidityNode(r),this.setEventServer(n)}},{key:"setFullNodeHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qe.HttpProvider(this.fullNode.host,3e4,!1,!1,e),r=new qe.HttpProvider(this.solidityNode.host,3e4,!1,!1,e);this.setFullNode(t),this.setSolidityNode(r)}},{key:"setEventHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qe.HttpProvider(this.eventServer.host,3e4,!1,!1,e);this.setEventServer(t)}},{key:"currentProviders",value:function(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}},{key:"currentProvider",value:function(){return this.currentProviders()}},{key:"getEventResult",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return"object"!==v()(r[1])&&(r[1]={sinceTimestamp:r[1]||0,eventName:r[2]||!1,blockNumber:r[3]||!1,size:r[4]||20,page:r[5]||1},r.splice(2,4),Ue.isFunction(r[2])||(Ue.isFunction(r[1].page)?(r[2]=r[1].page,r[1].page=1):Ue.isFunction(r[1].size)&&(r[2]=r[1].size,r[1].size=20,r[1].page=1))),(e=this.event).getEventsByContractAddress.apply(e,r)}},{key:"getEventByTransactionID",value:function(){var e;return(e=this.event).getEventsByTransactionID.apply(e,arguments)}},{key:"contract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new bt(this,e,t)}},{key:"isConnected",value:(n=p()(l.a.mark((function e(){var t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.isConnected));case 3:return e.t0=t,e.next=6,this.fullNode.isConnected();case 6:return e.t1=e.sent,e.next=9,this.solidityNode.isConnected();case 9:if(e.t2=e.sent,e.t3=this.eventServer,!e.t3){e.next=15;break}return e.next=14,this.eventServer.isConnected();case 14:e.t3=e.sent;case 15:return e.t4=e.t3,e.t5={fullNode:e.t1,solidityNode:e.t2,eventServer:e.t4},e.abrupt("return",(0,e.t0)(null,e.t5));case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}],[{key:"sha3",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(r?"0x":"")+ie(t.from(e,"utf-8")).toString().substring(2)}},{key:"toHex",value:function(e){if(Ue.isBoolean(e))return s.fromDecimal(+e);if(Ue.isBigNumber(e))return s.fromDecimal(e);if("object"===v()(e))return s.fromUtf8(JSON.stringify(e));if(Ue.isString(e)){if(/^(-|)0x/.test(e))return e;if(!isFinite(e)||/^\s*$/.test(e))return s.fromUtf8(e)}var t=s.fromDecimal(e);if("0xNaN"===t)throw new Error("The passed value is not convertible to a hex string");return t}},{key:"toUtf8",value:function(e){if(Ue.isHex(e))return e=e.replace(/^0x/,""),t.from(e,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}},{key:"fromUtf8",value:function(e){if(!Ue.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+t.from(e,"utf8").toString("hex")}},{key:"toAscii",value:function(e){if(Ue.isHex(e)){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var a=parseInt(e.substr(r,2),16);t+=String.fromCharCode(a)}return t}throw new Error("The passed value is not a valid hex string")}},{key:"fromAscii",value:function(e,r){if(!Ue.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+t.from(e,"ascii").toString("hex").padEnd(r,"0")}},{key:"toDecimal",value:function(e){return s.toBigNumber(e).toNumber()}},{key:"fromDecimal",value:function(e){var t=s.toBigNumber(e),r=t.toString(16);return t.isLessThan(0)?"-0x"+r.substr(1):"0x"+r}},{key:"fromSun",value:function(e){var t=s.toBigNumber(e).div(1e6);return Ue.isBigNumber(e)?t:t.toString(10)}},{key:"toSun",value:function(e){var t=s.toBigNumber(e).times(1e6);return Ue.isBigNumber(e)?t:t.toString(10)}},{key:"toBigNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Ue.isBigNumber(e)?e:Ue.isString(e)&&/^(-|)0x/.test(e)?new De.a(e.replace("0x",""),16):new De.a(e.toString(10),10)}},{key:"isAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Ue.isString(e))return!1;if(42===e.length)try{return s.isAddress(Ue.crypto.getBase58CheckAddress(Ue.code.hexStr2byteArray(e)))}catch(e){return!1}try{return Ue.crypto.isAddressValid(e)}catch(e){return!1}}},{key:"createAccount",value:(r=p()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ue.accounts.generateAccount(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"address",get:function(){return{fromHex:function(e){return Ue.isHex(e)?Ue.crypto.getBase58CheckAddress(Ue.code.hexStr2byteArray(e.replace(/^0x/,"41"))):e},toHex:function(e){return Ue.isHex(e)?e.toLowerCase().replace(/^0x/,"41"):Ue.code.byteArray2hexStr(Ue.crypto.decodeBase58Address(e)).toLowerCase()},fromPrivateKey:function(e){try{return Ue.crypto.pkToAddress(e)}catch(e){return!1}}}}}]),s}(He.a);C()(Tt,"providers",qe),C()(Tt,"BigNumber",De.a),C()(Tt,"TransactionBuilder",ot),C()(Tt,"Trx",ft),C()(Tt,"Contract",bt),C()(Tt,"Plugin",gt),C()(Tt,"Event",kt),C()(Tt,"version",ze.a),C()(Tt,"utils",Ue)}]).default}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=r(7),a=r(173),i=r(6);n.ccxtVersion="1.42.9";var s={aax:r(477),acx:r(200),aofex:r(478),bequant:r(479),bibox:r(480),bigone:r(481),binance:r(201),binanceus:r(482),bit2c:r(483),bitbank:r(484),bitbay:r(485),bitcoincom:r(486),bitfinex:r(202),bitfinex2:r(487),bitflyer:r(488),bitforex:r(489),bitget:r(490),bithumb:r(491),bitkk:r(492),bitmart:r(493),bitmax:r(494),bitmex:r(495),bitpanda:r(496),bitso:r(497),bitstamp:r(498),bitstamp1:r(499),bittrex:r(500),bitvavo:r(501),bitz:r(502),bl3p:r(503),bleutrade:r(504),braziliex:r(505),btcalpha:r(506),btcbox:r(507),btcmarkets:r(508),btctradeua:r(509),btcturk:r(510),buda:r(511),bw:r(512),bybit:r(513),bytetrade:r(514),cdax:r(515),cex:r(516),chilebit:r(517),coinbase:r(518),coinbaseprime:r(519),coinbasepro:r(204),coincheck:r(520),coinegg:r(521),coinex:r(522),coinfalcon:r(523),coinfloor:r(524),coingi:r(525),coinmarketcap:r(526),coinmate:r(527),coinone:r(528),coinspot:r(529),crex24:r(530),currencycom:r(531),delta:r(532),deribit:r(533),digifinex:r(534),dsx:r(535),eterbase:r(536),exmo:r(537),exx:r(538),fcoin:r(205),fcoinjp:r(539),flowbtc:r(540),foxbit:r(87),ftx:r(541),gateio:r(542),gemini:r(543),gopax:r(544),hbtc:r(545),hitbtc:r(113),hollaex:r(546),huobijp:r(547),huobipro:r(114),ice3x:r(548),idex:r(549),independentreserve:r(550),indodax:r(551),itbit:r(552),kraken:r(553),kucoin:r(554),kuna:r(555),lakebtc:r(556),latoken:r(557),lbank:r(558),liquid:r(559),luno:r(560),lykke:r(561),mercado:r(562),mixcoins:r(563),novadax:r(564),oceanex:r(565),okcoin:r(566),okex:r(206),paymium:r(567),phemex:r(568),poloniex:r(569),probit:r(570),qtrade:r(571),rightbtc:r(572),ripio:r(573),southxchange:r(574),stex:r(575),surbitcoin:r(576),therock:r(577),tidebit:r(578),tidex:r(579),timex:r(580),upbit:r(581),vaultoro:r(582),vbtc:r(583),vcc:r(584),wavesexchange:r(585),whitebit:r(586),xbtce:r(587),xena:r(588),yobit:r(589),zaif:r(590),zb:r(203)};e.exports=Object.assign({version:"1.42.9",Exchange:n,exchanges:Object.keys(s)},s,a,i)},function(e,t,r){var n=t;n.utils=r(36),n.common=r(70),n.sha=r(303),n.ripemd=r(307),n.hmac=r(308),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},,function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var r,o,c=s(e),u=1;u<arguments.length;u++){for(var d in r=Object(arguments[u]))a.call(r,d)&&(c[d]=r[d]);if(n){o=n(r);for(var f=0;f<o.length;f++)i.call(r,o[f])&&(c[o[f]]=r[o[f]])}}return c}},function(e,t,r){"use strict";var n=r(35),a=r(24);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var a=1;a<r;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,i=8;i<this.padLength;i++)n[a++]=0;return n}},function(e,t,r){"use strict";var n=r(36),a=r(24);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var a=1;a<r;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,i=8;i<this.padLength;i++)n[a++]=0;return n}},function(e,t,r){(function(e){var n=r(427),a=r(179),i=r(186),s=r(433),o=r(54),c=t;c.request=function(t,r){t="string"===typeof t?o.parse(t):i(t);var a=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||a,c=t.hostname||t.host,u=t.port,d=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?s+"//"+c:"")+(u?":"+u:"")+d,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new n(t);return r&&f.on("response",r),f},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=a.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(19))},function(e,t,r){"use strict";(function(t){var n=r(68);function a(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=r(112),o=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function d(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var l=e.exports=g,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(s.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(u||!s.isFunction(e))return s.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,a){throw new l.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:a})}function g(e,t){e||b(e,!0,t,"==",l.ok)}function y(e,t,r,n){if(e===t)return!0;if(i(e)&&i(t))return 0===a(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(f(e)&&f(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===a(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var o=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=w(e),i=w(t);if(a&&!i||!a&&i)return!1;if(a)return e=c.call(e),t=c.call(t),y(e,t,r);var o,u,d=_(e),f=_(t);if(d.length!==f.length)return!1;for(d.sort(),f.sort(),u=d.length-1;u>=0;u--)if(d[u]!==f[u])return!1;for(u=d.length-1;u>=0;u--)if(o=d[u],!y(e[o],t[o],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function k(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,r,n){var a;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),a=function(e){var t;try{e()}catch(r){t=r}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!a&&b(a,r,"Missing expected exception"+n);var i="string"===typeof n,o=!e&&a&&!r;if((!e&&s.isError(a)&&i&&k(a,r)||o)&&b(a,r,"Got unwanted exception"+n),e&&a&&r&&!k(a,r)||!e&&a)throw a}l.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(v(e.actual),128)+" "+e.operator+" "+m(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,a=p(t),i=n.indexOf("\n"+a);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}},s.inherits(l.AssertionError,Error),l.fail=b,l.ok=g,l.equal=function(e,t,r){e!=t&&b(e,t,r,"==",l.equal)},l.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",l.notEqual)},l.deepEqual=function(e,t,r){y(e,t,!1)||b(e,t,r,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,r){y(e,t,!0)||b(e,t,r,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,r){y(e,t,!1)&&b(e,t,r,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function e(t,r,n){y(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},l.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",l.strictEqual)},l.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",l.notStrictEqual)},l.throws=function(e,t,r){x(!0,e,t,r)},l.doesNotThrow=function(e,t,r){x(!1,e,t,r)},l.ifError=function(e){if(e)throw e},l.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var _=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t}}).call(this,r(19))},function(e,t,r){"use strict";var n=r(74),a=r(448),i=r(29),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",o=null,c=null;function u(e){for(var t=[],r=0;r<e.length;r++)t[r/4|0]|=e[r]<<24-8*r;return n.lib.WordArray.create(t,e.length)}e.exports={json:(e,t)=>JSON.stringify(e),unjson:JSON.parse,isJsonEncodedObject:e=>"string"===typeof e&&e.length>=2&&("{"===e[0]||"["===e[0]),stringToBinary:e=>n.enc.Latin1.parse(e),stringToBase64:e=>n.enc.Latin1.parse(e).toString(n.enc.Base64),base64ToBinary:e=>n.enc.Base64.parse(e),base64ToString:e=>n.enc.Base64.parse(e).toString(n.enc.Utf8),binaryToBase64:e=>e.toString(n.enc.Base64),base16ToBinary:e=>n.enc.Hex.parse(e),binaryToBase16:e=>e.toString(n.enc.Hex),binaryConcat:(...e)=>e.reduce((e,t)=>e.concat(t)),binaryConcatArray:e=>e.reduce((e,t)=>e.concat(t)),urlencode:e=>a.stringify(e),urlencodeWithArrayRepeat:e=>a.stringify(e,{arrayFormat:"repeat"}),rawencode:e=>a.stringify(e,{encode:!1}),encode:e=>e,decode:e=>e,urlencodeBase64:e=>e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_"),numberToLE:(e,t)=>u(new i(e).toArray("le",t)),numberToBE:(e,t)=>u(new i(e).toArray("be",t)),base58ToBinary:e=>{if(!o){o={},c={};for(var t=0;t<58;t++){var r=s[t],n=new i(t);o[r]=n,c[n]=r}}for(var a=new i(0),d=new i(58),f=0;f<e.length;f++){var l=e[f];a.imul(d),a.iadd(o[l])}return u(a.toArray("be"))},binaryToBase58:e=>{if(!c){o={},c={};for(var t=0;t<58;t++){var r=s[t],a=new i(t);o[r]=a,c[a]=r}}for(var u=new i(58),d=e.toString(n.enc.Hex),f=new i(d,16),l=[];!f.isZero();){var h=f.divmod(u),p=h.div,m=h.mod;f=p,l.push(c[m])}return l.reverse().join("")}},e.exports.byteArrayToWordArray=u},function(e,t,r){e.exports=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},a=n.lib={},i=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else for(i=0;i<a;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],a=function(t){t=t;var r=987654321,n=4294967295;return function(){var a=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return a/=4294967296,(a+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var o=a(4294967296*(r||e.random()));r=987654071*o(),n.push(4294967296*o()|0)}return new s.init(n,t)}}),o=n.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,i=this.blockSize,o=a/(4*i),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*i,u=e.min(4*c,a);if(c){for(var d=0;d<c;d+=i)this._doProcessBlock(n,d);var f=n.splice(0,c);r.sigBytes-=u}return new s.init(f,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(a.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new l.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;o<4&&i+.75*o<r;o++)a.push(n.charAt(s>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,n=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<n.length;i++)a[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var o=e.indexOf(s);-1!==o&&(t=o)}return function(e,t,n){for(var a=[],i=0,s=0;s<t;s++)if(s%4){var o=n[e.charCodeAt(s-1)]<<s%4*2,c=n[e.charCodeAt(s)]>>>6-s%4*2;a[i>>>2]|=(o|c)<<24-i%4*8,i++}return r.create(a,i)}(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){var r=e,n=r.lib,a=n.WordArray,i=n.Hasher,s=r.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,s=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],m=e[t+4],v=e[t+5],b=e[t+6],g=e[t+7],y=e[t+8],w=e[t+9],k=e[t+10],x=e[t+11],_=e[t+12],S=e[t+13],T=e[t+14],O=e[t+15],A=i[0],M=i[1],E=i[2],C=i[3];A=u(A,M,E,C,s,7,o[0]),C=u(C,A,M,E,c,12,o[1]),E=u(E,C,A,M,h,17,o[2]),M=u(M,E,C,A,p,22,o[3]),A=u(A,M,E,C,m,7,o[4]),C=u(C,A,M,E,v,12,o[5]),E=u(E,C,A,M,b,17,o[6]),M=u(M,E,C,A,g,22,o[7]),A=u(A,M,E,C,y,7,o[8]),C=u(C,A,M,E,w,12,o[9]),E=u(E,C,A,M,k,17,o[10]),M=u(M,E,C,A,x,22,o[11]),A=u(A,M,E,C,_,7,o[12]),C=u(C,A,M,E,S,12,o[13]),E=u(E,C,A,M,T,17,o[14]),A=d(A,M=u(M,E,C,A,O,22,o[15]),E,C,c,5,o[16]),C=d(C,A,M,E,b,9,o[17]),E=d(E,C,A,M,x,14,o[18]),M=d(M,E,C,A,s,20,o[19]),A=d(A,M,E,C,v,5,o[20]),C=d(C,A,M,E,k,9,o[21]),E=d(E,C,A,M,O,14,o[22]),M=d(M,E,C,A,m,20,o[23]),A=d(A,M,E,C,w,5,o[24]),C=d(C,A,M,E,T,9,o[25]),E=d(E,C,A,M,p,14,o[26]),M=d(M,E,C,A,y,20,o[27]),A=d(A,M,E,C,S,5,o[28]),C=d(C,A,M,E,h,9,o[29]),E=d(E,C,A,M,g,14,o[30]),A=f(A,M=d(M,E,C,A,_,20,o[31]),E,C,v,4,o[32]),C=f(C,A,M,E,y,11,o[33]),E=f(E,C,A,M,x,16,o[34]),M=f(M,E,C,A,T,23,o[35]),A=f(A,M,E,C,c,4,o[36]),C=f(C,A,M,E,m,11,o[37]),E=f(E,C,A,M,g,16,o[38]),M=f(M,E,C,A,k,23,o[39]),A=f(A,M,E,C,S,4,o[40]),C=f(C,A,M,E,s,11,o[41]),E=f(E,C,A,M,p,16,o[42]),M=f(M,E,C,A,b,23,o[43]),A=f(A,M,E,C,w,4,o[44]),C=f(C,A,M,E,_,11,o[45]),E=f(E,C,A,M,O,16,o[46]),A=l(A,M=f(M,E,C,A,h,23,o[47]),E,C,s,6,o[48]),C=l(C,A,M,E,g,10,o[49]),E=l(E,C,A,M,T,15,o[50]),M=l(M,E,C,A,v,21,o[51]),A=l(A,M,E,C,_,6,o[52]),C=l(C,A,M,E,p,10,o[53]),E=l(E,C,A,M,k,15,o[54]),M=l(M,E,C,A,c,21,o[55]),A=l(A,M,E,C,y,6,o[56]),C=l(C,A,M,E,O,10,o[57]),E=l(E,C,A,M,b,15,o[58]),M=l(M,E,C,A,S,21,o[59]),A=l(A,M,E,C,m,6,o[60]),C=l(C,A,M,E,x,10,o[61]),E=l(E,C,A,M,h,15,o[62]),M=l(M,E,C,A,w,21,o[63]),i[0]=i[0]+A|0,i[1]=i[1]+M|0,i[2]=i[2]+E|0,i[3]=i[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;r[a>>>5]|=128<<24-a%32;var i=t.floor(n/4294967296),s=n;r[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(a+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,a,i,s){var o=e+(t&r|~t&n)+a+s;return(o<<i|o>>>32-i)+t}function d(e,t,r,n,a,i,s){var o=e+(t&n|r&~n)+a+s;return(o<<i|o>>>32-i)+t}function f(e,t,r,n,a,i,s){var o=e+(t^r^n)+a+s;return(o<<i|o>>>32-i)+t}function l(e,t,r,n,a,i,s){var o=e+(r^(t|~n))+a+s;return(o<<i|o>>>32-i)+t}r.MD5=i._createHelper(c),r.HmacMD5=i._createHmacHelper(c)}(Math),function(){var t=e,r=t.lib,n=r.WordArray,a=r.Hasher,i=t.algo,s=[],o=i.SHA1=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],c=r[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var d=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=d<<1|d>>>31}var f=(n<<5|n>>>27)+c+s[u];f+=u<20?1518500249+(a&i|~a&o):u<40?1859775393+(a^i^o):u<60?(a&i|a&o|i&o)-1894007588:(a^i^o)-899497514,c=o,o=i,i=a<<30|a>>>2,a=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=a._createHelper(o),t.HmacSHA1=a._createHmacHelper(o)}(),function(t){var r=e,n=r.lib,a=n.WordArray,i=n.Hasher,s=r.algo,o=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,a=0;a<64;)e(n)&&(a<8&&(o[a]=r(t.pow(n,.5))),c[a]=r(t.pow(n,1/3)),a++),n++}();var u=[],d=s.SHA256=i.extend({_doReset:function(){this._hash=new a.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],d=r[5],f=r[6],l=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[h-2],b=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=m+u[h-7]+b+u[h-16]}var g=n&a^n&i^a&i,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&f)+c[h]+u[h];l=f,f=d,d=o,o=s+w|0,s=i,i=a,a=n,n=w+(y+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0,r[5]=r[5]+d|0,r[6]=r[6]+f|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=t.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(d),r.HmacSHA256=i._createHmacHelper(d)}(Math),function(){var t=e,r=t.lib.WordArray,n=t.enc;function a(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var i=t[a>>>2]>>>16-a%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=a(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=a(e.charCodeAt(i)<<16-i%2*16);return r.create(n,2*t)}}}(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],a=0;a<t;a++)n[a>>>2]|=e[a]<<24-a%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),function(t){var r=e,n=r.lib,a=n.WordArray,i=n.Hasher,s=r.algo,o=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=a.create([0,1518500249,1859775393,2400959708,2840853838]),l=a.create([1352829926,1548603684,1836072691,2053994217,0]),h=s.RIPEMD160=i.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i,s,h,w,k,x,_,S,T,O,A,M=this._hash.words,E=f.words,C=l.words,I=o.words,F=c.words,P=u.words,B=d.words;for(x=i=M[0],_=s=M[1],S=h=M[2],T=w=M[3],O=k=M[4],r=0;r<80;r+=1)A=i+e[t+I[r]]|0,A+=r<16?p(s,h,w)+E[0]:r<32?m(s,h,w)+E[1]:r<48?v(s,h,w)+E[2]:r<64?b(s,h,w)+E[3]:g(s,h,w)+E[4],A=(A=y(A|=0,P[r]))+k|0,i=k,k=w,w=y(h,10),h=s,s=A,A=x+e[t+F[r]]|0,A+=r<16?g(_,S,T)+C[0]:r<32?b(_,S,T)+C[1]:r<48?v(_,S,T)+C[2]:r<64?m(_,S,T)+C[3]:p(_,S,T)+C[4],A=(A=y(A|=0,B[r]))+O|0,x=O,O=T,T=y(S,10),S=_,_=A;A=M[1]+h+T|0,M[1]=M[2]+w+O|0,M[2]=M[3]+k+x|0,M[3]=M[4]+i+_|0,M[4]=M[0]+s+S|0,M[0]=A},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,i=a.words,s=0;s<5;s++){var o=i[s];i[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function m(e,t,r){return e&t|~e&r}function v(e,t,r){return(e|~t)^r}function b(e,t,r){return e&r|t&~r}function g(e,t,r){return e^(t|~r)}function y(e,t){return e<<t|e>>>32-t}r.RIPEMD160=i._createHelper(h),r.HmacRIPEMD160=i._createHmacHelper(h)}(Math),function(){var t=e,r=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,a=4*r;t.sigBytes>a&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),o=i.words,c=s.words,u=0;u<r;u++)o[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}(),function(){var t=e,r=t.lib,n=r.Base,a=r.WordArray,i=t.algo,s=i.SHA1,o=i.HMAC,c=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=o.create(r.hasher,e),i=a.create(),s=a.create([1]),c=i.words,u=s.words,d=r.keySize,f=r.iterations;c.length<d;){var l=n.update(t).finalize(s);n.reset();for(var h=l.words,p=h.length,m=l,v=1;v<f;v++){m=n.finalize(m),n.reset();for(var b=m.words,g=0;g<p;g++)h[g]^=b[g]}i.concat(l),u[0]++}return i.sigBytes=4*d,i}});t.PBKDF2=function(e,t,r){return c.create(r).compute(e,t)}}(),function(){var t=e,r=t.lib,n=r.Base,a=r.WordArray,i=t.algo,s=i.MD5,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=a.create(),s=i.words,o=r.keySize,c=r.iterations;s.length<o;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var d=1;d<c;d++)u=n.finalize(u),n.reset();i.concat(u)}return i.sigBytes=4*o,i}});t.EvpKDF=function(e,t,r){return o.create(r).compute(e,t)}}(),function(){var t=e,r=t.lib.WordArray,n=t.algo,a=n.SHA256,i=n.SHA224=a.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=a._createHelper(i),t.HmacSHA224=a._createHmacHelper(i)}(),function(t){var r=e,n=r.lib,a=n.Base,i=n.WordArray,s=r.x64={};s.Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var a=e[n];r.push(a.high),r.push(a.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),function(t){var r=e,n=r.lib,a=n.WordArray,i=n.Hasher,s=r.x64.Word,o=r.algo,c=[],u=[],d=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,i=0;i<24;i++){for(var o=0,f=0,l=0;l<7;l++){if(1&a){var h=(1<<l)-1;h<32?f^=1<<h:o^=1<<h-32}128&a?a=a<<1^113:a<<=1}d[i]=s.create(o,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=s.create()}();var l=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,a=0;a<n;a++){var i=e[t+2*a],s=e[t+2*a+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(M=r[a]).high^=s,M.low^=i}for(var o=0;o<24;o++){for(var l=0;l<5;l++){for(var h=0,p=0,m=0;m<5;m++)h^=(M=r[l+5*m]).high,p^=M.low;var v=f[l];v.high=h,v.low=p}for(l=0;l<5;l++){var b=f[(l+4)%5],g=f[(l+1)%5],y=g.high,w=g.low;for(h=b.high^(y<<1|w>>>31),p=b.low^(w<<1|y>>>31),m=0;m<5;m++)(M=r[l+5*m]).high^=h,M.low^=p}for(var k=1;k<25;k++){var x=(M=r[k]).high,_=M.low,S=c[k];S<32?(h=x<<S|_>>>32-S,p=_<<S|x>>>32-S):(h=_<<S-32|x>>>64-S,p=x<<S-32|_>>>64-S);var T=f[u[k]];T.high=h,T.low=p}var O=f[0],A=r[0];for(O.high=A.high,O.low=A.low,l=0;l<5;l++)for(m=0;m<5;m++){var M=r[k=l+5*m],E=f[k],C=f[(l+1)%5+5*m],I=f[(l+2)%5+5*m];M.high=E.high^~C.high&I.high,M.low=E.low^~C.low&I.low}M=r[0];var F=d[o];M.high^=F.high,M.low^=F.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,o=this.cfg.outputLength/8,c=o/8,u=[],d=0;d<c;d++){var f=s[d],l=f.high,h=f.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(l)}return new a.init(u,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=i._createHelper(l),r.HmacSHA3=i._createHmacHelper(l)}(Math),function(){var t=e,r=t.lib.Hasher,n=t.x64,a=n.Word,i=n.WordArray,s=t.algo;function o(){return a.create.apply(a,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=o()}();var d=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],d=r[5],f=r[6],l=r[7],h=n.high,p=n.low,m=a.high,v=a.low,b=i.high,g=i.low,y=s.high,w=s.low,k=o.high,x=o.low,_=d.high,S=d.low,T=f.high,O=f.low,A=l.high,M=l.low,E=h,C=p,I=m,F=v,P=b,B=g,R=y,L=w,N=k,D=x,V=_,j=S,U=T,q=O,G=A,H=M,z=0;z<80;z++){var K=u[z];if(z<16)var J=K.high=0|e[t+2*z],X=K.low=0|e[t+2*z+1];else{var W=u[z-15],Z=W.high,Y=W.low,Q=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^Z>>>7,$=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^(Y>>>7|Z<<25),ee=u[z-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ae=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=u[z-7],se=ie.high,oe=ie.low,ce=u[z-16],ue=ce.high,de=ce.low;J=(J=(J=Q+se+((X=$+oe)>>>0<$>>>0?1:0))+ne+((X+=ae)>>>0<ae>>>0?1:0))+ue+((X+=de)>>>0<de>>>0?1:0),K.high=J,K.low=X}var fe,le=N&V^~N&U,he=D&j^~D&q,pe=E&I^E&P^I&P,me=C&F^C&B^F&B,ve=(E>>>28|C<<4)^(E<<30|C>>>2)^(E<<25|C>>>7),be=(C>>>28|E<<4)^(C<<30|E>>>2)^(C<<25|E>>>7),ge=(N>>>14|D<<18)^(N>>>18|D<<14)^(N<<23|D>>>9),ye=(D>>>14|N<<18)^(D>>>18|N<<14)^(D<<23|N>>>9),we=c[z],ke=we.high,xe=we.low,_e=G+ge+((fe=H+ye)>>>0<H>>>0?1:0),Se=be+me;G=U,H=q,U=V,q=j,V=N,j=D,N=R+(_e=(_e=(_e=_e+le+((fe+=he)>>>0<he>>>0?1:0))+ke+((fe+=xe)>>>0<xe>>>0?1:0))+J+((fe+=X)>>>0<X>>>0?1:0))+((D=L+fe|0)>>>0<L>>>0?1:0)|0,R=P,L=B,P=I,B=F,I=E,F=C,E=_e+(ve+pe+(Se>>>0<be>>>0?1:0))+((C=fe+Se|0)>>>0<fe>>>0?1:0)|0}p=n.low=p+C,n.high=h+E+(p>>>0<C>>>0?1:0),v=a.low=v+F,a.high=m+I+(v>>>0<F>>>0?1:0),g=i.low=g+B,i.high=b+P+(g>>>0<B>>>0?1:0),w=s.low=w+L,s.high=y+R+(w>>>0<L>>>0?1:0),x=o.low=x+D,o.high=k+N+(x>>>0<D>>>0?1:0),S=d.low=S+j,d.high=_+V+(S>>>0<j>>>0?1:0),O=f.low=O+q,f.high=T+U+(O>>>0<q>>>0?1:0),M=l.low=M+H,l.high=A+G+(M>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(d),t.HmacSHA512=r._createHmacHelper(d)}(),function(){var t=e,r=t.x64,n=r.Word,a=r.WordArray,i=t.algo,s=i.SHA512,o=i.SHA384=s.extend({_doReset:function(){this._hash=new a.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(o),t.HmacSHA384=s._createHmacHelper(o)}(),e.lib.Cipher||function(t){var r=e,n=r.lib,a=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,o=r.enc,c=(o.Utf8,o.Base64),u=r.algo.EvpKDF,d=n.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:b}return function(t){return{encrypt:function(r,n,a){return e(n).encrypt(t,r,n,a)},decrypt:function(r,n,a){return e(n).decrypt(t,r,n,a)}}}}()}),f=(n.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),l=n.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var e=l.extend();function t(e,t,r){var n=this._iv;if(n){var a=n;this._iv=void 0}else a=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=a[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);n.decryptBlock(e,r),t.call(this,e,r,a),this._prevBlock=i}}),e}(),p=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,s=[],o=0;o<n;o+=4)s.push(a);var c=i.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:p}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),n.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(c)},parse:function(e){var t=c.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:n})}},b=n.SerializableCipher=a.extend({cfg:a.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var a=e.createEncryptor(r,n),i=a.finalize(t),s=a.cfg;return m.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var a=u.create({keySize:t+r}).compute(e,n),s=i.create(a.words.slice(t),4*r);return a.sigBytes=4*t,m.create({key:a,iv:s,salt:n})}},y=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:g}),encrypt:function(e,t,r,n){var a=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=a.iv;var i=b.encrypt.call(this,e,t,a.key,n);return i.mixIn(a),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var a=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=a.iv,b.decrypt.call(this,e,t,a.key,n)}})}(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var a=this._iv;if(a){var i=a.slice(0);this._iv=void 0}else i=this._prevBlock;n.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;r.call(this,e,t,a,n),this._prevBlock=e.slice(t,t+a)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=e.slice(t,t+a);r.call(this,e,t,a,n),this._prevBlock=i}}),t}(),e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,a=n-r%n,i=r+a-1;e.clamp(),e.words[i>>>2]|=a<<24-i%4*8,e.sigBytes+=a},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126={pad:function(t,r){var n=4*r,a=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(a-1)).concat(e.lib.WordArray.create([a<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._keystream;a&&(i=this._keystream=a.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}});return t.Decryptor=r,t}(),e.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var r=e,n=r.lib.CipherParams,a=r.enc.Hex;r.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return n.create({ciphertext:t})}}}(),function(){var t=e,r=t.lib.BlockCipher,n=t.algo,a=[],i=[],s=[],o=[],c=[],u=[],d=[],f=[],l=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,a[r]=p,i[p]=r;var m=e[r],v=e[m],b=e[v],g=257*e[p]^16843008*p;s[r]=g<<24|g>>>8,o[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,u[r]=g,g=16843009*b^65537*v^257*m^16843008*r,d[p]=g<<24|g>>>8,f[p]=g<<16|g>>>16,l[p]=g<<8|g>>>24,h[p]=g,r?(r=m^e[e[e[b^m]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)if(s<r)i[s]=t[s];else{var o=i[s-1];s%r?r>6&&s%r==4&&(o=a[o>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o]):(o=a[(o=o<<8|o>>>24)>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o],o^=p[s/r|0]<<24),i[s]=i[s-r]^o}for(var c=this._invKeySchedule=[],u=0;u<n;u++)s=n-u,o=u%4?i[s]:i[s-4],c[u]=u<4||s<=4?o:d[a[o>>>24]]^f[a[o>>>16&255]]^l[a[o>>>8&255]]^h[a[255&o]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,c,u,a)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,d,f,l,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,a,i,s,o){for(var c=this._nRounds,u=e[t]^r[0],d=e[t+1]^r[1],f=e[t+2]^r[2],l=e[t+3]^r[3],h=4,p=1;p<c;p++){var m=n[u>>>24]^a[d>>>16&255]^i[f>>>8&255]^s[255&l]^r[h++],v=n[d>>>24]^a[f>>>16&255]^i[l>>>8&255]^s[255&u]^r[h++],b=n[f>>>24]^a[l>>>16&255]^i[u>>>8&255]^s[255&d]^r[h++],g=n[l>>>24]^a[u>>>16&255]^i[d>>>8&255]^s[255&f]^r[h++];u=m,d=v,f=b,l=g}m=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[f>>>8&255]<<8|o[255&l])^r[h++],v=(o[d>>>24]<<24|o[f>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^r[h++],b=(o[f>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^r[h++],g=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&f])^r[h++],e[t]=m,e[t+1]=v,e[t+2]=b,e[t+3]=g},keySize:8});t.AES=r._createHelper(m)}(),function(){var t=e,r=t.lib,n=r.WordArray,a=r.BlockCipher,i=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],i=0;i<16;i++){var u=a[i]=[],d=c[i];for(r=0;r<24;r++)u[r/6|0]|=t[(o[r]-1+d)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(o[r+24]-1+d)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=a[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),l.call(this,1,1431655765);for(var n=0;n<16;n++){for(var a=r[n],i=this._lBlock,s=this._rBlock,o=0,c=0;c<8;c++)o|=u[c][((s^a[c])&d[c])>>>0];this._lBlock=s,this._rBlock=i^o}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,l.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=a._createHelper(f);var p=i.TripleDES=a.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(n.create(e.slice(0,2))),this._des2=f.createEncryptor(n.create(e.slice(2,4))),this._des3=f.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=a._createHelper(p)}(),function(){var t=e,r=t.lib.StreamCipher,n=t.algo,a=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],a=0;a<256;a++)n[a]=a;a=0;for(var i=0;a<256;a++){var s=a%r,o=t[s>>>2]>>>24-s%4*8&255;i=(i+n[a]+o)%256;var c=n[a];n[a]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,a=0;a<4;a++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*a}return this._i=t,this._j=r,n}t.RC4=r._createHelper(a);var s=n.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});t.RC4Drop=r._createHelper(s)}(),e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255===(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(s);var o=s.slice(0);n.encryptBlock(o,0);for(var c=0;c<a;c++)e[t+c]^=o[c]}});return t.Decryptor=n,t}(),function(){var t=e,r=t.lib.StreamCipher,n=t.algo,a=[],i=[],s=[],o=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)a[r]^=n[r+4&7];if(t){var i=t.words,s=i[0],o=i[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=u>>>16|4294901760&d,l=d<<16|65535&u;for(a[0]^=u,a[1]^=f,a[2]^=d,a[3]^=l,a[4]^=u,a[5]^=f,a[6]^=d,a[7]^=l,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,o=n>>>16,c=((a*a>>>17)+a*o>>>15)+o*o,u=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=r._createHelper(o)}(),e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._counter;a&&(i=this._counter=a.slice(0),this._iv=void 0);var s=i.slice(0);r.encryptBlock(s,0),i[n-1]=i[n-1]+1|0;for(var o=0;o<n;o++)e[t+o]^=s[o]}});return t.Decryptor=r,t}(),function(){var t=e,r=t.lib.StreamCipher,n=t.algo,a=[],i=[],s=[],o=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)c.call(this);for(a=0;a<8;a++)n[a]^=r[a+4&7];if(t){var i=t.words,s=i[0],o=i[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=u>>>16|4294901760&d,l=d<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=d,n[3]^=l,n[4]^=u,n[5]^=f,n[6]^=d,n[7]^=l,a=0;a<4;a++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,o=n>>>16,c=((a*a>>>17)+a*o>>>15)+o*o,u=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=r._createHelper(o)}(),e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e}()},function(e,t,r){e.exports={encode:r(644),decode:r(645),encodingLength:r(646)}},function(e){e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(e,t,r){(function(t){e.exports=function(e,r){for(var n=Math.min(e.length,r.length),a=new t(n),i=0;i<n;++i)a[i]=e[i]^r[i];return a}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=r(12),a=r(130).Reporter,i=r(128).Buffer;function s(e,t){a.call(this,t),i.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return o.isEncoderBuffer(e)||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=i.byteLength(e);else{if(!i.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,a),t.DecoderBuffer=s,s.isDecoderBuffer=function(e){return e instanceof s||"object"===typeof e&&i.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"===typeof e.offset&&"number"===typeof e.length&&"function"===typeof e.save&&"function"===typeof e.restore&&"function"===typeof e.isEmpty&&"function"===typeof e.readUInt8&&"function"===typeof e.skip&&"function"===typeof e.raw},s.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=o,o.isEncoderBuffer=function(e){return e instanceof o||"object"===typeof e&&"EncoderBuffer"===e.constructor.name&&"number"===typeof e.length&&"function"===typeof e.join},o.prototype.join=function(e,t){return e||(e=i.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):i.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,r){"use strict";(function(t){var n=r(209),a=r(208);function i(e){var t=e;if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function s(e){return"0x"+e.toString(16)}e.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var r=s(e);return new t(i(r.slice(2)),"hex")},getBinarySize:function(e){if("string"!==typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return t.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:a,padToEven:i,intToHex:s,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+i(new t(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var a=parseInt(e.substr(r,2),16);t+=String.fromCharCode(a)}return t},toUtf8:function(e){return new t(i(a(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!==typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],a=0;a<e.length;a++){var i=e[a][t];if(r&&!i)i="";else if("string"!==typeof i)throw new Error("invalid abi");n.push(i)}return n},isHexString:function(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.stripZeros=t.unpad=t.setLengthRight=t.setLength=t.setLengthLeft=t.zeros=void 0;var n=r(79),a=r(8);t.zeros=function(t){return e.allocUnsafe(t).fill(0)},t.setLengthLeft=function(e,r,n){void 0===n&&(n=!1);var a=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(a),a):e.slice(0,r):e.length<r?(e.copy(a,r-e.length),a):e.slice(-r)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=function(e){for(var t=(e=n.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(t){if(!e.isBuffer(t))if(Array.isArray(t))t=e.from(t);else if("string"===typeof t){if(!n.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);t=e.from(n.padToEven(n.stripHexPrefix(t)),"hex")}else if("number"===typeof t)t=n.intToBuffer(t);else if(null===t||void 0===t)t=e.allocUnsafe(0);else if(a.isBN(t))t=t.toArrayLike(e);else{if(!t.toArray)throw new Error("invalid type");t=e.from(t.toArray())}return t},t.bufferToInt=function(e){return new a(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new a(e).fromTwos(256)},t.toUnsigned=function(t){return e.from(t.toTwos(256).toArray())},t.addHexPrefix=function(e){return"string"!==typeof e||n.isHexPrefixed(e)?e:"0x"+e},t.baToJSON=function(r){if(e.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var n=[],a=0;a<r.length;a++)n.push(t.baToJSON(r[a]));return n}}}).call(this,r(9).Buffer)},function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(309),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(19))},function(e,t,r){"use strict";var n=r(8),a=r(32),i=a.getNAF,s=a.getJSF,o=a.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=i(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var d=s+r.step-1;d>=s;d--)c=(c<<1)+n[d];u.push(c)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=a;h>0;h--){for(s=0;s<u.length;s++)(c=u[s])===h?l=l.mixedAdd(r.points[s]):c===-h&&(l=l.mixedAdd(r.points[s].neg()));f=f.add(l)}return f.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,s=i(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var d=0;u>=0&&0===s[u];u--)d++;if(u>=0&&d++,c=c.dblp(d),u<0)break;var f=s[u];o(0!==f),c="affine"===e.type?f>0?c.mixedAdd(a[f-1>>1]):c.mixedAdd(a[-f-1>>1].neg()):f>0?c.add(a[f-1>>1]):c.add(a[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,a){var o,c,u,d=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0;for(o=0;o<n;o++){var p=(u=t[o])._getNAFPoints(e);d[o]=p.wnd,f[o]=p.points}for(o=n-1;o>=1;o-=2){var m=o-1,v=o;if(1===d[m]&&1===d[v]){var b=[t[m],null,null,t[v]];0===t[m].y.cmp(t[v].y)?(b[1]=t[m].add(t[v]),b[2]=t[m].toJ().mixedAdd(t[v].neg())):0===t[m].y.cmp(t[v].y.redNeg())?(b[1]=t[m].toJ().mixedAdd(t[v]),b[2]=t[m].add(t[v].neg())):(b[1]=t[m].toJ().mixedAdd(t[v]),b[2]=t[m].toJ().mixedAdd(t[v].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=s(r[m],r[v]);for(h=Math.max(y[0].length,h),l[m]=new Array(h),l[v]=new Array(h),c=0;c<h;c++){var w=0|y[0][c],k=0|y[1][c];l[m][c]=g[3*(w+1)+(k+1)],l[v][c]=0,f[m]=b}}else l[m]=i(r[m],d[m],this._bitLength),l[v]=i(r[v],d[v],this._bitLength),h=Math.max(l[m].length,h),h=Math.max(l[v].length,h)}var x=this.jpoint(null,null,null),_=this._wnafT4;for(o=h;o>=0;o--){for(var S=0;o>=0;){var T=!0;for(c=0;c<n;c++)_[c]=0|l[c][o],0!==_[c]&&(T=!1);if(!T)break;S++,o--}if(o>=0&&S++,x=x.dblp(S),o<0)break;for(c=0;c<n;c++){var O=_[c];0!==O&&(O>0?u=f[c][O-1>>1]:O<0&&(u=f[c][-O-1>>1].neg()),x="affine"===u.type?x.mixedAdd(u):x.add(u))}}for(o=0;o<n;o++)f[o]=null;return a?x:x.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?o(e[e.length-1]%2===0):7===e[0]&&o(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,a.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!i.test(t))return!1;var n=t.split(".").sort((function(e,t){return e-t}));return n[3]<=255}if("6"===r){var o=t.split(":"),c=!1,u=e(o[o.length-1],4),d=u?7:8;if(o.length>d)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),c=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),c=!0);for(var f=0;f<o.length;++f)if(""===o[f]&&f>0&&f<o.length-1){if(c)return!1;c=!0}else if(u&&f===o.length-1);else if(!s.test(o[f]))return!1;return c?o.length>=1:o.length===d}return!1};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,s=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var n={"en-US":/^[A-Z]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03c9]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc7\xc9\xca\xcd\xd5\xd3\xd4\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/};t.alpha=n;var a={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc7\xc9\xca\xcd\xd5\xd3\xd4\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/};t.alphanumeric=a;var i={"en-US":".",ar:"\u066b"};t.decimal=i;var s=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=s;for(var o,c=0;c<s.length;c++)n[o="en-".concat(s[c])]=n["en-US"],a[o]=a["en-US"],i[o]=i["en-US"];var u=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=u;for(var d,f=0;f<u.length;f++)n[d="ar-".concat(u[f])]=n.ar,a[d]=a.ar,i[d]=i.ar;var l=[];t.dotDecimal=l;var h=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","es-ES","fr-FR","it-IT","ku-IQ","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"];t.commaDecimal=h;for(var p=0;p<l.length;p++)i[l[p]]=i["en-US"];for(var m=0;m<h.length;m++)i[h[m]]=",";n["pt-BR"]=n["pt-PT"],a["pt-BR"]=a["pt-PT"],i["pt-BR"]=i["pt-PT"],n["pl-Pl"]=n["pl-PL"],a["pl-Pl"]=a["pl-PL"],i["pl-Pl"]=i["pl-PL"]},function(e,t,r){"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var n in r)a(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),a);else for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){var t,r,n,a,i,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),a=0,t=0,r=e.length;t<r;t++)i=e[t],s.set(i,a),a+=i.length;return s}},s={arraySet:function(e,t,r,n,a){for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(n)},function(e,t,r){"use strict";var n=t;n.base=r(462),n.short=r(463),n.mont=r(464),n.edwards=r(465)},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"foxbit",name:"FoxBit",countries:["BR"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/87443320-01c0d080-c5fe-11ea-92e2-4ef56d32b026.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://foxbit.com.br/exchange",doc:"https://foxbit.com.br/api/"},comment:"Blinktrade API",api:{public:{get:["{currency}/ticker","{currency}/orderbook","{currency}/trades"]},private:{post:["D","F","U2","U4","U6","U18","U24","U26","U30","U34","U70"]}},markets:{"BTC/VEF":{id:"BTCVEF",symbol:"BTC/VEF",base:"BTC",quote:"VEF",brokerId:1,broker:"SurBitcoin"},"BTC/VND":{id:"BTCVND",symbol:"BTC/VND",base:"BTC",quote:"VND",brokerId:3,broker:"VBTC"},"BTC/BRL":{id:"BTCBRL",symbol:"BTC/BRL",base:"BTC",quote:"BRL",brokerId:4,broker:"FoxBit"},"BTC/PKR":{id:"BTCPKR",symbol:"BTC/PKR",base:"BTC",quote:"PKR",brokerId:8,broker:"UrduBit"},"BTC/CLP":{id:"BTCCLP",symbol:"BTC/CLP",base:"BTC",quote:"CLP",brokerId:9,broker:"ChileBit"}},options:{brokerId:"4"}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={BalanceReqID:t.nonce()},r.next=5,t.privatePostU2(t.extend(a,e));case 5:if(i=r.sent,s=t.safeValue(i.Responses,t.options.brokerId),o={info:i},void 0!==s)for(c=Object.keys(t.currencies_by_id),u=0;u<c.length;u++)d=c[u],f=t.safeCurrencyCode(d),d in s&&(l=t.account(),void 0!==(h=t.safeFloat(s,d+"_locked"))&&(h*=1e-8),void 0!==(p=t.safeFloat(s,d))&&(p*=1e-8),l.used=h,l.total=p,o[f]=l);return r.abrupt("return",t.parseBalance(o));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={currency:a.quote,crypto_currency:a.base},t.next=6,i.publicGetCurrencyOrderbook(i.extend(s,r));case 6:return o=t.sent,t.abrupt("return",i.parseOrderBook(o));case 8:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currency:i.quote,crypto_currency:i.base},n.next=6,r.publicGetCurrencyTicker(r.extend(s,t));case 6:return o=n.sent,c=r.milliseconds(),u=i.quote.toLowerCase(),d="vol_"+u,f=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:r.safeFloat(o,"high"),low:r.safeFloat(o,"low"),bid:r.safeFloat(o,"buy"),bidVolume:void 0,ask:r.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(o,"vol"),quoteVolume:r.safeFloat(o,d),info:o});case 12:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=void 0;void 0!==t&&(a=t.symbol);var i=this.safeString(e,"side"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;return void 0!==s&&void 0!==o&&(c=o*s),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currency:o.quote,crypto_currency:o.base},n.next=6,s.publicGetCurrencyTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,o,c={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("market"!==t){n.next=4;break}throw new s(u.id+" allows limit orders only");case 4:return d=u.market(e),f="buy"===r?"1":"2",l={ClOrdID:u.nonce(),Symbol:d.id,Side:f,OrdType:"2",Price:o,OrderQty:i,BrokerID:d.brokerId},n.next=9,u.privatePostD(u.extend(l,c));case 9:return h=n.sent,p=u.indexBy(h.Responses,"MsgType"),m=p[8],n.abrupt("return",{info:h,id:m.OrderID});case 13:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return t.next=4,i.privatePostF(i.extend({ClOrdID:e},r));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=this.extend({MsgType:e},o);i=this.json(u),a={APIKey:this.apiKey,Nonce:c,Signature:this.hmac(this.encode(c),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},o,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,o,c);case 2:if(!("Status"in(d=n.sent))){n.next=6;break}if(200===d.Status){n.next=6;break}throw new s(u.id+" "+u.json(d));case 6:return n.abrupt("return",d);case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(629),a=function(e){var t,r,a=new Promise((function(){t=arguments[0],r=arguments[1]}));if(e)return{resolve:t,reject:r,eventEmitter:a};var i=new n;return a._events=i._events,a.emit=i.emit,a.on=i.on,a.once=i.once,a.off=i.off,a.listeners=i.listeners,a.addListener=i.addListener,a.removeListener=i.removeListener,a.removeAllListeners=i.removeAllListeners,{resolve:t,reject:r,eventEmitter:a}};a.resolve=function(e){var t=a(!0);return t.resolve(e),t.eventEmitter},e.exports=a},function(e,t,r){"use strict";var n=r(630),a=function(e){this.name=e.name,this.type=e.type,this.subscriptions=e.subscriptions||{},this.requestManager=null};a.prototype.setRequestManager=function(e){this.requestManager=e},a.prototype.attachToObject=function(e){var t=this.buildCall(),r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t},a.prototype.buildCall=function(){var e=this;return function(){e.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var t=new n({subscription:e.subscriptions[arguments[0]]||{},requestManager:e.requestManager,type:e.type});return t.subscribe.apply(t,arguments)}},e.exports={subscriptions:a,subscription:n}},function(e,t,r){"use strict";var n=r(55),a=r(56),i=r(30),s=function(){var e=this;n.packageInit(this,arguments),[new a({name:"getId",call:"net_version",params:0,outputFormatter:parseInt}),new a({name:"isListening",call:"net_listening",params:0}),new a({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:i.hexToNumber})].forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}))};n.addProviders(s),e.exports=s},function(e){e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"x11":4352,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(e,t,r){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(43),t.createHash=t.Hash=r(60),t.createHmac=t.Hmac=r(232);var n=r(689),a=Object.keys(n),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);t.getHashes=function(){return i};var s=r(235);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var o=r(691);t.Cipher=o.Cipher,t.createCipher=o.createCipher,t.Cipheriv=o.Cipheriv,t.createCipheriv=o.createCipheriv,t.Decipher=o.Decipher,t.createDecipher=o.createDecipher,t.Decipheriv=o.Decipheriv,t.createDecipheriv=o.createDecipheriv,t.getCiphers=o.getCiphers,t.listCiphers=o.listCiphers;var c=r(706);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(709);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(722);var d=r(723);t.publicEncrypt=d.publicEncrypt,t.privateEncrypt=d.privateEncrypt,t.publicDecrypt=d.publicDecrypt,t.privateDecrypt=d.privateDecrypt;var f=r(726);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,r){var n=r(14).Buffer;function a(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),a=0;a<t;a++)r[a]=e.readUInt32BE(4*a);return r}function i(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,a){for(var i,s,o,c,u=r[0],d=r[1],f=r[2],l=r[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],v=e[3]^t[3],b=4,g=1;g<a;g++)i=u[h>>>24]^d[p>>>16&255]^f[m>>>8&255]^l[255&v]^t[b++],s=u[p>>>24]^d[m>>>16&255]^f[v>>>8&255]^l[255&h]^t[b++],o=u[m>>>24]^d[v>>>16&255]^f[h>>>8&255]^l[255&p]^t[b++],c=u[v>>>24]^d[h>>>16&255]^f[p>>>8&255]^l[255&m]^t[b++],h=i,p=s,m=o,v=c;return i=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&v])^t[b++],s=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[v>>>8&255]<<8|n[255&h])^t[b++],o=(n[m>>>24]<<24|n[v>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[b++],c=(n[v>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^t[b++],[i>>>=0,s>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],a=[[],[],[],[]],i=[[],[],[],[]],s=0,o=0,c=0;c<256;++c){var u=o^o<<1^o<<2^o<<3^o<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var d=e[s],f=e[d],l=e[f],h=257*e[u]^16843008*u;a[0][s]=h<<24|h>>>8,a[1][s]=h<<16|h>>>16,a[2][s]=h<<8|h>>>24,a[3][s]=h,h=16843009*l^65537*f^257*d^16843008*s,i[0][u]=h<<24|h>>>8,i[1][u]=h<<16|h>>>16,i[2][u]=h<<8|h>>>24,i[3][u]=h,0===s?s=o=1:(s=d^e[e[e[l^d]]],o^=e[e[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:i}}();function u(e){this._key=a(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),a=[],i=0;i<t;i++)a[i]=e[i];for(i=t;i<n;i++){var s=a[i-1];i%t===0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=o[i/t|0]<<24):t>6&&i%t===4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),a[i]=a[i-t]^s}for(var u=[],d=0;d<n;d++){var f=n-d,l=a[f-(d%4?0:4)];u[d]=d<4||f<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=r,this._keySchedule=a,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=a(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=a(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),i=n.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i},u.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=u},function(e,t,r){var n=r(14).Buffer,a=r(119);e.exports=function(e,t,r,i){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,o=n.alloc(s),c=n.alloc(i||0),u=n.alloc(0);s>0||i>0;){var d=new a;d.update(u),d.update(e),t&&d.update(t),u=d.digest();var f=0;if(s>0){var l=o.length-s;f=Math.min(s,u.length),u.copy(o,l,0,f),s-=f}if(f<u.length&&i>0){var h=c.length-i,p=Math.min(i,u.length-f);u.copy(c,h,f,f+p),i-=p}}return u.fill(0),{key:o,iv:c}}},function(e,t,r){var n=r(712),a=r(719),i=r(720),s=r(124),o=r(235),c=r(14).Buffer;function u(e){var t;"object"!==typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=c.from(e));var r,u,d=i(e,t),f=d.tag,l=d.data;switch(f){case"CERTIFICATE":u=n.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(l,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":l=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=a[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,f=parseInt(i.split("-")[1],10)/8,l=o.pbkdf2Sync(t,r,n,f,"sha1"),h=s.createDecipheriv(i,l,u),p=[];return p.push(h.update(d)),p.push(h.final()),c.concat(p)}(l=n.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=n.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=u,u.signature=n.signature},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="bignumber/5.0.15"},function(e,t,r){"use strict";(function(t){!function(r){function n(e){var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,a=1013904242,i=2773480762,s=1359893119,o=2600822924,c=528734635,u=1541459225,d=new Uint32Array(64);function f(e){for(var f=0,l=e.length;l>=64;){var h=r,p=n,m=a,v=i,b=s,g=o,y=c,w=u,k=void 0,x=void 0,_=void 0,S=void 0,T=void 0;for(x=0;x<16;x++)_=f+4*x,d[x]=(255&e[_])<<24|(255&e[_+1])<<16|(255&e[_+2])<<8|255&e[_+3];for(x=16;x<64;x++)S=((k=d[x-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10,T=((k=d[x-15])>>>7|k<<25)^(k>>>18|k<<14)^k>>>3,d[x]=(S+d[x-7]|0)+(T+d[x-16]|0)|0;for(x=0;x<64;x++)S=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&g^~b&y)|0)+(w+(t[x]+d[x]|0)|0)|0,T=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&m^p&m)|0,w=y,y=g,g=b,b=v+S|0,v=m,m=p,p=h,h=S+T|0;r=r+h|0,n=n+p|0,a=a+m|0,i=i+v|0,s=s+b|0,o=o+g|0,c=c+y|0,u=u+w|0,f+=64,l-=64}}f(e);var l,h=e.length%64,p=e.length/536870912|0,m=e.length<<3,v=h<56?56:120,b=e.slice(e.length-h,e.length);for(b.push(128),l=h+1;l<v;l++)b.push(0);return b.push(p>>>24&255),b.push(p>>>16&255),b.push(p>>>8&255),b.push(p>>>0&255),b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),f(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function a(e,t,r){e=e.length<=64?e:n(e);var a,i=64+t.length+4,s=new Array(i),o=new Array(64),c=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<e.length;a++)s[a]^=e[a];for(a=0;a<t.length;a++)s[64+a]=t[a];for(a=i-4;a<i;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<e.length;a++)o[a]^=e[a];function u(){for(var e=i-1;e>=i-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)u(),c=c.concat(n(o.concat(n(s)))),r-=32;return r>0&&(u(),c=c.concat(n(o.concat(n(s))).slice(0,r))),c}function i(e,t,r,n,a){var i;for(u(e,16*(2*r-1),a,0,16),i=0;i<2*r;i++)c(e,16*i,a,16),o(a,n),u(a,0,e,t+16*i,16);for(i=0;i<r;i++)u(e,t+2*i*16,e,16*i,16);for(i=0;i<r;i++)u(e,t+16*(2*i+1),e,16*(i+r),16)}function s(e,t){return e<<t|e>>>32-t}function o(e,t){u(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(var n=0;n<16;++n)e[n]+=t[n]}function c(e,t,r,n){for(var a=0;a<n;a++)r[a]^=e[t+a]}function u(e,t,r,n,a){for(;a--;)r[n++]=e[t++]}function d(e){if(!e||"number"!==typeof e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function l(e,r,n,s,o,l,h){if(n=f(n,"N"),s=f(s,"r"),o=f(o,"p"),l=f(l,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>2147483647/128/s)throw new Error("N too large");if(s>2147483647/128/o)throw new Error("r too large");if(!d(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!d(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);for(var p=a(e,r,128*o*s),m=new Uint32Array(32*o*s),v=0;v<m.length;v++){var b=4*v;m[v]=(255&p[b+3])<<24|(255&p[b+2])<<16|(255&p[b+1])<<8|(255&p[b+0])<<0}var g,y,w=new Uint32Array(64*s),k=new Uint32Array(32*s*n),x=32*s,_=new Uint32Array(16),S=new Uint32Array(16),T=o*n*2,O=0,A=null,M=!1,E=0,C=0,I=h?parseInt(1e3/s):4294967295,F="undefined"!==typeof t?t:setTimeout,P=function t(){if(M)return h(new Error("cancelled"),O/T);var r;switch(E){case 0:u(m,y=32*C*s,w,0,x),E=1,g=0;case 1:(r=n-g)>I&&(r=I);for(var d=0;d<r;d++)u(w,0,k,(g+d)*x,x),i(w,x,s,_,S);if(g+=r,O+=r,h){var f=parseInt(1e3*O/T);if(f!==A){if(M=h(null,O/T))break;A=f}}if(g<n)break;g=0,E=2;case 2:(r=n-g)>I&&(r=I);for(var v=0;v<r;v++){var b=w[16*(2*s-1)]&n-1;c(k,b*x,w,x),i(w,x,s,_,S)}if(g+=r,O+=r,h){var P=parseInt(1e3*O/T);if(P!==A){if(M=h(null,O/T))break;A=P}}if(g<n)break;if(u(w,0,m,y,x),++C<o){E=0;break}p=[];for(var B=0;B<m.length;B++)p.push(m[B]>>0&255),p.push(m[B]>>8&255),p.push(m[B]>>16&255),p.push(m[B]>>24&255);var R=a(e,p,l);return h&&h(null,1,R),R}h&&F(t)};if(!h)for(;;){var B=P();if(void 0!=B)return B}P()}var h={scrypt:function(e,t,r,n,a,i,s){return new Promise((function(o,c){var u=0;s&&s(0),l(e,t,r,n,a,i,(function(e,t,r){if(e)c(e);else if(r)s&&1!==u&&s(1),o(new Uint8Array(r));else if(s&&t!==u)return u=t,s(t)}))}))},syncScrypt:function(e,t,r,n,a,i){return new Uint8Array(l(e,t,r,n,a,i))}};e.exports=h}()}).call(this,r(81).setImmediate)},function(e,t,r){"use strict";var n=r(594).version,a=r(55),i=r(632),s=r(90),o=r(221),c=r(770),u=r(771),d=r(30),f=function(){var e=this;a.packageInit(this,arguments),this.version=n,this.utils=d,this.eth=new i(this),this.shh=new c(this),this.bzz=new u(this);var t=this.setProvider;this.setProvider=function(r,n){return t.apply(e,arguments),e.eth.setRequestManager(e._requestManager),e.shh.setRequestManager(e._requestManager),e.bzz.setProvider(r),!0}};f.version=n,f.utils=d,f.modules={Eth:i,Net:s,Personal:o,Shh:c,Bzz:u},a.addProviders(f),e.exports=f},,function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n;function a(e){this.rand=e}if(e.exports=function(e){return n||(n=new a(null)),n.generate(e)},e.exports.Rand=a,a.prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=r(313);if("function"!==typeof i.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return i.randomBytes(e)}}catch(s){}},function(e,t,r){"use strict";var n,a=t,i=r(31),s=r(153),o=r(32).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:r}),r}})}a.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(317)}catch(d){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"object"===n(e)&&null!==e?e="function"===typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"===typeof e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,a.default)(t,s)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var r=e.split("."),i=0;i<r.length;i++)if(r[i].length>63)return!1;if(t.require_tld){var o=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(o))return!1}for(var c,u=0;u<r.length;u++){if(c=r[u],t.allow_underscores&&(c=c.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(c))return!1;if(/[\uff01-\uff5e]/.test(c))return!1;if("-"===c[0]||"-"===c[c.length-1])return!1}return!0};var n=i(r(10)),a=i(r(49));function i(e){return e&&e.__esModule?e:{default:e}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e.some((function(e){return t===e}))};t.default=n,e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";var n=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n),a=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e5).replace(/[018]/g,a);e.exports={uuid:n,uuid22:a,unCamelCase:e=>e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,e=>e[0]+"_"+e[1]).replace(/[A-Z0-9][A-Z0-9][a-z]/g,e=>e[0]+"_"+e[1]+e[2]).toLowerCase(),capitalize:e=>e.length?e.charAt(0).toUpperCase()+e.slice(1):e,strip:e=>e.replace(/^\s+|\s+$/g,"")}},function(e,t,r){(t=e.exports=r(174)).Stream=t,t.Readable=t,t.Writable=r(109),t.Duplex=r(52),t.Transform=r(177),t.PassThrough=r(422)},function(e,t,r){"use strict";(function(t,n,a){var i=r(42);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;g.WritableState=b;var u=Object.create(r(37));u.inherits=r(12);var d={deprecate:r(110)},f=r(175),l=r(14).Buffer,h=a.Uint8Array||function(){};var p,m=r(176);function v(){}function b(e,t){o=o||r(52),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,u=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(u||0===u)?u:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,a);else{var s=x(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?c(w,e,r,s,a):w(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function g(e){if(o=o||r(52),!p.call(g,this)&&!(this instanceof o))return new g(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,r,n,a,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,y(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,d,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=x(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(g,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===g&&(e&&e._writableState instanceof b)}})):p=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,l.isBuffer(n)||n instanceof h);return o&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"===typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof r&&(r=v),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"===typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,o,n,a,i);return c}(this,a,o,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var n=this._writableState;"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(18),r(81).setImmediate,r(19))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(n){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(19))},function(e,t,r){var n=r(71),a=r(54),i=e.exports;for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);function o(e){if("string"===typeof e&&(e=a.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=o(e),n.request.call(this,e,t)},i.get=function(e,t){return e=o(e),n.get.call(this,e,t)}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),c=n[r];r<i;c=n[++r])m(c)||!w(c)?s+=" "+c:s+=" "+o(c);return s},t.deprecate=function(r,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return r;if("undefined"===typeof e)return function(){return t.deprecate(r,n).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),a=!0}return r.apply(this,arguments)}};var i,s={};function o(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){var r=o.styles[t];return r?"\x1b["+o.colors[r][0]+"m"+e+"\x1b["+o.colors[r][1]+"m":e}function u(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&_(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return b(a)||(a=d(e,a,n)),a}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(i)return i;var s=Object.keys(r),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),x(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(_(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return f(r)}var u,w="",S=!1,T=["{","}"];(h(r)&&(S=!0,T=["[","]"]),_(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(w=" "+RegExp.prototype.toString.call(r)),k(r)&&(w=" "+Date.prototype.toUTCString.call(r)),x(r)&&(w=" "+f(r)),0!==s.length||S&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=S?function(e,t,r,n,a){for(var i=[],s=0,o=t.length;s<o;++s)M(t,String(s))?i.push(l(e,t,r,n,String(s),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(l(e,t,r,n,a,!0))})),i}(e,r,n,o,s):s.map((function(t){return l(e,r,n,o,t,S)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,w,T)):T[0]+w+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,a,i){var s,o,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),M(n,a)||(s="["+a+"]"),o||(e.seen.indexOf(c.value)<0?(o=m(r)?d(e,c.value,null):d(e,c.value,r-1)).indexOf("\n")>-1&&(o=i?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),g(s)){if(i&&a.match(/^\d+$/))return o;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function v(e){return"number"===typeof e}function b(e){return"string"===typeof e}function g(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"===typeof e&&null!==e}function k(e){return w(e)&&"[object Date]"===S(e)}function x(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function _(e){return"function"===typeof e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(g(i)&&(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=g,t.isRegExp=y,t.isObject=w,t.isDate=k,t.isError=x,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r(437);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(438),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var E="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(E&&e[E]){var t;if("function"!==typeof(t=e[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,a)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),E&&Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=E,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if("function"!==typeof a)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return a.apply(i,arguments)};t.apply(this,r).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(C,t,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(18))},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.PermissionDenied,u=s.ExchangeError,d=s.ExchangeNotAvailable,f=s.OrderNotFound,l=s.InsufficientFunds,h=s.InvalidOrder,p=s.RequestTimeout,m=s.AuthenticationError,v=r(16),b=v.TRUNCATE,g=v.DECIMAL_PLACES,y=v.TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"2",pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:{public:"https://api.hitbtc.com",private:"https://api.hitbtc.com"},www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["symbol","symbol/{symbol}","currency","currency/{currency}","ticker","ticker/{symbol}","trades","trades/{symbol}","orderbook","orderbook/{symbol}","candles","candles/{symbol}"]},private:{get:["trading/balance","order","order/{clientOrderId}","trading/fee/all","trading/fee/{symbol}","history/order","history/trades","history/order/{orderId}/trades","account/balance","account/crypto/address/{currency}","account/crypto/is-mine/{address}","account/transactions","account/transactions/{id}","sub-acc","sub-acc/acl","sub-acc/balance/{subAccountUserID}","sub-acc/deposit-address/{subAccountUserId}/{currency}"],post:["order","account/crypto/address/{currency}","account/crypto/withdraw","account/crypto/transfer-convert","account/transfer","sub-acc/freeze","sub-acc/activate","sub-acc/transfer"],put:["order/{clientOrderId}","account/crypto/withdraw/{id}","sub-acc/acl/{subAccountUserId}"],delete:["order","order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},precisionMode:y,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}},options:{defaultTimeInForce:"FOK"},commonCurrencies:{BCC:"BCC",BET:"DAO.Casino",BOX:"BOX Token",CPT:"Cryptaur",GET:"Themis",HSR:"HC",IQ:"IQ.Cash",LNC:"LinkerCoin",PLA:"PlayChip",PNT:"Penta",SBTC:"Super Bitcoin",TV:"Tokenville",USD:"USDT",XPNT:"PNT"},exceptions:{504:p,1002:m,1003:c,2010:h,2001:o,2011:h,2020:h,20002:f,20001:l},orders:{}})}feeToPrecision(e,t){return this.decimalToPrecision(t,b,8,g)}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSymbol(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeString(o,"baseCurrency"),d=t.safeString(o,"quoteCurrency"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,c.indexOf("_")>=0&&(h=c),p=t.safeFloat(o,"quantityIncrement"),m=t.safeFloat(o,"tickSize"),v={price:m,amount:p},b=t.safeFloat(o,"takeLiquidityRate"),g=t.safeFloat(o,"provideLiquidityRate"),y=t.safeString(o,"feeCurrency"),w=t.safeCurrencyCode(y),i.push(t.extend(t.fees.trading,{info:o,id:c,symbol:h,base:f,quote:l,baseId:u,quoteId:d,active:!0,taker:b,maker:g,precision:v,feeCurrency:w,limits:{amount:{min:p,max:void 0},price:{min:m,max:void 0},cost:{min:p*m,max:void 0}}}));return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrency(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeInteger(o,"precisionTransfer",8),d=1/Math.pow(10,u),f=t.safeCurrencyCode(c),l=t.safeValue(o,"payinEnabled"),h=t.safeValue(o,"payoutEnabled"),p=t.safeValue(o,"transferEnabled"),m=l&&h&&p,"disabled"in o&&o.disabled&&(m=!1),v="fiat","crypto"in o&&o.crypto&&(v="crypto"),b=t.safeString(o,"fullName"),i[f]={id:c,code:f,type:v,payin:l,payout:h,transfer:p,info:o,name:b,active:m,fee:t.safeFloat(o,"payoutFee"),precision:d,limits:{amount:{min:1/Math.pow(10,u),max:Math.pow(10,u)},price:{min:1/Math.pow(10,u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,d)}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s=r.extend({symbol:i.id},r.omit(t,"symbol")),n.next=6,r.privateGetTradingFeeSymbol(s);case 6:return o=n.sent,n.abrupt("return",{info:o,maker:r.safeFloat(o,"provideLiquidityRate"),taker:r.safeFloat(o,"takeLiquidityRate")});case 8:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString(e,"type","trading"),i="privateGet"+t.capitalize(a)+"Balance",s=t.omit(e,"type"),r.next=7,t[i](s);case 7:for(o=r.sent,c={info:o},u=0;u<o.length;u++)d=o[u],f=t.safeString(d,"currency"),l=t.safeCurrencyCode(f),(h=t.account()).free=t.safeFloat(d,"available"),h.used=t.safeFloat(d,"reserved"),c[l]=h;return r.abrupt("return",t.parseBalance(c));case 11:case"end":return r.stop()}}),r)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"max"),this.safeFloat(e,"min"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,period:o.timeframes[t]},void 0!==r&&(u.from=o.iso8601(r)),void 0!==i&&(u.limit=i),n.next=8,o.publicGetCandlesSymbol(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.limit=t),n.next=6,i.publicGetOrderbookSymbol(i.extend(s,r));case 6:return o=n.sent,n.abrupt("return",i.parseOrderBook(o,void 0,"bid","ask","price","size"));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.parse8601(e.timestamp),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"volume"),i=this.safeFloat(e,"volumeQuote"),s=this.safeFloat(e,"open"),o=this.safeFloat(e,"last"),c=void 0,u=void 0,d=void 0;void 0!==o&&void 0!==s&&(c=o-s,d=this.sum(o,s)/2,s>0&&(u=c/s*100));var f=this.vwap(a,i);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:f,open:s,close:o,last:o,previousClose:void 0,change:c,percentage:u,average:d,baseVolume:a,quoteVolume:i,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=i[o],u=r.safeString(c,"symbol"),d=r.safeMarket(u),f=d.symbol,s[f]=r.parseTicker(c,d);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTickerSymbol(r.extend(s,t));case 6:if(!("message"in(o=n.sent))){n.next=9;break}throw new u(r.id+" "+o.message);case 9:return n.abrupt("return",r.parseTicker(o,i));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(e.timestamp),n=this.safeString(e,"symbol"),a=(t=this.safeMarket(n,t)).symbol,i=void 0,s=this.safeFloat(e,"fee");void 0!==s&&(i={cost:s,currency:t?t.feeCurrency:void 0});var o=this.safeString(e,"clientOrderId"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"quantity"),d=c*u,f=this.safeString(e,"side");return{info:e,id:this.safeString(e,"id"),order:o,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:f,takerOrMaker:void 0,price:c,amount:u,cost:d,fee:i}}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.asset=o.id),void 0!==t&&(c.startTime=t),n.next=8,s.privateGetAccountTransactions(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTransactions(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"createdAt")),a=this.parse8601(this.safeString(e,"updatedAt")),i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeFloat(e,"amount"),u=this.safeString(e,"address"),d=this.safeString(e,"hash"),f=void 0,l=this.safeFloat(e,"fee");void 0!==l&&(f={cost:l,currency:s});var h=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:r,txid:d,timestamp:n,datetime:this.iso8601(n),address:u,tag:void 0,type:h,amount:c,currency:s,status:o,updated:a,fee:f}}parseTransactionStatus(e){return this.safeString({pending:"pending",failed:"failed",success:"ok"},e,e)}parseTransactionType(e){return this.safeString({payin:"deposit",payout:"withdrawal",withdraw:"withdrawal"},e,e)}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),void 0!==t&&(c.sort="ASC",c.from=s.iso8601(t)),n.next=8,s.publicGetTradesSymbol(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d=c.uuid(),f=d.split("-"),l=(l=f.join("")).slice(0,32),i=parseFloat(i),p={clientOrderId:l,symbol:u.id,side:r,quantity:c.amountToPrecision(e,i),type:t},"limit"===t?p.price=c.priceToPrecision(e,s):p.timeInForce=c.options.defaultTimeInForce,n.next=12,c.privatePostOrder(c.extend(p,o));case 12:if(m=n.sent,"rejected"!==(v=c.parseOrder(m)).status){n.next=16;break}throw new h(c.id+" order was rejected by the exchange "+c.json(v));case 16:return n.abrupt("return",v);case 17:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return a=u.uuid(),i=a.split("-"),d=(d=i.join("")).slice(0,32),f={clientOrderId:e,requestClientId:d},void 0!==s&&(f.quantity=u.amountToPrecision(t,s)),void 0!==o&&(f.price=u.priceToPrecision(t,o)),r.next=11,u.privatePatchOrderClientOrderId(u.extend(f,c));case 11:return l=r.sent,r.abrupt("return",u.parseOrder(l));case 13:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={clientOrderId:e},t.next=5,i.privateDeleteOrderClientOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"},e,e)}parseOrder(e,t){var r=this.parse8601(this.safeString(e,"createdAt")),n=this.parse8601(this.safeString(e,"updatedAt")),a=this.safeString(e,"symbol"),i=(t=this.safeMarket(a,t)).symbol,s=this.safeFloat(e,"quantity"),o=this.safeFloat(e,"cumQuantity"),c=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"clientOrderId"),d=u,f=this.safeFloat(e,"price"),l=void 0,h=void 0;void 0!==s&&void 0!==o&&(l=s-o,void 0!==f&&(h=o*f));var p=this.safeString(e,"type"),m=this.safeString(e,"side"),v=this.safeValue(e,"tradesReport"),b=void 0,g=void 0;if(void 0!==v){for(var y=void 0,w=(v=this.parseTrades(v,t)).length,k=0,x=0;x<w;x++){void 0===y&&(y=0),k=this.sum(k,v[x].cost);var _=this.safeValue(v[x],"fee",{}),S=this.safeFloat(_,"cost");void 0!==S&&(y=this.sum(y,S))}h=k,void 0!==o&&o>0&&(g=h/o,"market"===p&&void 0===f&&(f=g)),void 0!==y&&(b={cost:y,currency:t.quote})}var T=this.safeString(e,"timeInForce");return{id:u,clientOrderId:d,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:n,status:c,symbol:i,type:p,timeInForce:T,side:m,price:f,stopPrice:void 0,average:g,amount:s,cost:h,filled:o,remaining:l,fee:b,trades:v,info:e}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={clientOrderId:e},t.next=5,i.privateGetHistoryOrder(i.extend(a,r));case 5:if(s=t.sent,!(s.length>0)){t.next=9;break}return t.abrupt("return",i.parseOrder(s[0]));case 9:throw new f(i.id+" order "+e+" not found");case 10:case"end":return t.stop()}}),t)})))()}fetchOpenOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={clientOrderId:e},t.next=5,i.privateGetOrderClientOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.symbol=o.id),n.next=7,s.privateGetOrder(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.symbol=o.id),void 0!==r&&(c.limit=r),void 0!==t&&(c.from=s.iso8601(t)),n.next=9,s.privateGetHistoryOrder(s.extend(c,i));case 9:for(u=n.sent,d=s.parseOrders(u,o),f=[],l=0;l<d.length;l++)h=d[l],"closed"!==(p=h.status)&&"canceled"!==p||f.push(h);return n.abrupt("return",s.filterBySinceLimit(f,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.symbol=c.id),void 0!==t&&(o.from=s.iso8601(t)),void 0!==r&&(o.limit=r),n.next=9,s.privateGetHistoryTrades(s.extend(o,i));case 9:return u=n.sent,n.abrupt("return",s.parseTrades(u,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=void 0,void 0!==t&&(c=o.market(t)),u={orderId:e},n.next=7,o.privateGetHistoryOrderOrderIdTrades(o.extend(u,s));case 7:if(d=n.sent,!(d.length>0)){n.next=11;break}return n.abrupt("return",o.parseTrades(d,c,r,i));case 11:throw new f(o.id+" order "+e+" not found, "+o.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]');case 12:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostAccountCryptoAddressCurrency(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),r.checkAddress(c),u=r.safeString(o,"paymentId"),n.abrupt("return",{currency:i,address:c,tag:u,info:o});case 11:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetAccountCryptoAddressCurrency(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),r.checkAddress(c),u=r.safeString(o,"paymentId"),n.abrupt("return",{currency:i.code,address:c,tag:u,info:o});case 11:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return o.checkAddress(r),c=o.currency(e),u={currency:c.id,amount:parseFloat(t),address:r},i&&(u.paymentId=i),n.next=8,o.privatePostAccountCryptoWithdraw(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",{info:d,id:d.id});case 10:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/",o=this.omit(n,this.extractParams(e));if("public"===t)s+=t+"/"+this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),s+=this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o));var c=this.encode(this.apiKey+":"+this.secret),u=this.stringToBase64(c);a={Authorization:"Basic "+this.decode(u),"Content-Type":"application/json"}}return{url:s=this.urls.api[t]+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&e>=400){var f=this.id+" "+i;if(503===e||504===e)throw new d(f);if(429===e)return;if("{"===i[0]&&"error"in s){var l=this.safeString(s.error,"code");if(this.throwExactlyMatchedException(this.exceptions,l,f),"Duplicate clientOrderId"===this.safeString(s.error,"message"))throw new h(f)}throw new u(f)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeError,u=s.PermissionDenied,d=s.ExchangeNotAvailable,f=s.OnMaintenance,l=s.InvalidOrder,h=s.OrderNotFound,p=s.InsufficientFunds,m=s.ArgumentsRequired,v=s.BadSymbol,b=s.BadRequest,g=s.RequestTimeout,y=s.NetworkError,w=r(16).TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"huobipro",name:"Huobi Pro",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",pro:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{test:{market:"https://api.testnet.huobi.pro",public:"https://api.testnet.huobi.pro",private:"https://api.testnet.huobi.pro"},logo:"https://user-images.githubusercontent.com/1294454/76137448-22748a80-604e-11ea-8069-6e389271911d.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",v2Public:"https://{hostname}",v2Private:"https://{hostname}"},www:"https://www.huobi.com",referral:"https://www.huobi.com/en-us/topic/invited/?invite_code=rwrd3",doc:"https://huobiapi.github.io/docs/spot/v1/cn/",fees:"https://www.huobi.com/about/fee/"},api:{v2Public:{get:["reference/currencies"]},v2Private:{get:["account/ledger","account/withdraw/quota","account/withdraw/address","account/deposit/address","reference/transact-fee-rate","account/asset-valuation","point/account","sub-user/user-list","sub-user/user-state","sub-user/account-list","sub-user/deposit-address","sub-user/query-deposit","user/api-key"],post:["account/transfer","point/transfer","sub-user/management","sub-user/creation","sub-user/tradable-market","sub-user/transferability","sub-user/api-key-generation","sub-user/api-key-modification","sub-user/api-key-deletion"]},market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail","tickers"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","account/accounts/{sub-uid}","account/history","cross-margin/loan-info","margin/loan-info","fee/fee-rate/get","order/openOrders","order/orders","order/orders/{id}","order/orders/{id}/matchresults","order/orders/getClientOrder","order/history","order/matchresults","dw/withdraw-virtual/addresses","query/deposit-withdraw","margin/loan-info","margin/loan-orders","margin/accounts/balance","cross-margin/loan-orders","cross-margin/accounts/balance","points/actions","points/orders","subuser/aggregate-balance","stable-coin/exchange_rate","stable-coin/quote"],post:["account/transfer","futures/transfer","order/batch-orders","order/orders/place","order/orders/submitCancelClientOrder","order/orders/batchCancelOpenOrders","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay","cross-margin/transfer-in","cross-margin/transfer-out","cross-margin/orders","cross-margin/orders/{id}/repay","stable-coin/exchange","subuser/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":f,maintain:f},exact:{"bad-request":b,"base-date-limit-error":b,"api-not-support-temp-addr":u,timeout:g,"gateway-internal-error":d,"account-frozen-balance-insufficient-error":p,"invalid-amount":l,"order-limitorder-amount-min-error":l,"order-limitorder-amount-max-error":l,"order-marketorder-amount-min-error":l,"order-limitorder-price-min-error":l,"order-limitorder-price-max-error":l,"order-holding-limit-failed":l,"order-orderprice-precision-error":l,"order-orderstate-error":h,"order-queryorder-invalid":h,"order-update-error":d,"api-signature-check-failed":o,"api-signature-not-valid":o,"base-record-invalid":h,"base-symbol-trade-disabled":v,"base-symbol-error":v,"system-maintenance":f,"invalid symbol":v,"symbol trade not open now":v}},options:{fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"},commonCurrencies:{GET:"Themis",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin"}})}fetchTradingLimits(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:void 0===e&&(e=r.symbols),i={},s=0;case 5:if(!(s<e.length)){n.next=13;break}return o=e[s],n.next=9,r.fetchTradingLimitsById(r.marketId(o),t);case 9:i[o]=n.sent;case 10:s++,n.next=5;break;case 13:return n.abrupt("return",i);case 14:case"end":return n.stop()}}),a)})))()}fetchTradingLimitsById(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={symbol:e},n.next=3,r.publicGetCommonExchange(r.extend(i,t));case 3:return s=n.sent,n.abrupt("return",r.parseTradingLimits(r.safeValue(s,"data",{})));case 5:case"end":return n.stop()}}),a)})))()}parseTradingLimits(e,t,r={}){return{info:e,limits:{amount:{min:this.safeFloat(e,"limit-order-must-greater-than"),max:this.safeFloat(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.cost,this.precisionMode)}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,w,k,x,_,S;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.options.fetchMarketsMethod,r.next=3,t[a](e);case 3:if(i=r.sent,s=t.safeValue(i,"data"),!(s.length<1)){r.next=8;break}throw new y(t.id+" publicGetCommonSymbols returned empty response: "+t.json(s));case 8:for(o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"base-currency"),f=t.safeString(u,"quote-currency"),l=d+f,h=t.safeCurrencyCode(d),p=t.safeCurrencyCode(f),m=h+"/"+p,v={amount:t.safeInteger(u,"amount-precision"),price:t.safeInteger(u,"price-precision"),cost:t.safeInteger(u,"value-precision")},b="OMG"===h?0:.002,g="OMG"===h?0:.002,w=t.safeFloat(u,"min-order-amt",Math.pow(10,-v.amount)),k=t.safeFloat(u,"max-order-amt"),x=t.safeFloat(u,"min-order-value",0),_=t.safeString(u,"state"),S="online"===_,o.push({id:l,symbol:m,base:h,quote:p,baseId:d,quoteId:f,active:S,precision:v,taker:g,maker:b,limits:{amount:{min:w,max:k},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:x,max:void 0}},info:u});return r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"ts"),a=void 0,i=void 0,s=void 0,o=void 0;"bid"in e&&(Array.isArray(e.bid)?(a=this.safeFloat(e.bid,0),i=this.safeFloat(e.bid,1)):(a=this.safeFloat(e,"bid"),i=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e.ask)?(s=this.safeFloat(e.ask,0),o=this.safeFloat(e.ask,1)):(s=this.safeFloat(e,"ask"),o=this.safeValue(e,"askSize")));var c=this.safeFloat(e,"open"),u=this.safeFloat(e,"close"),d=void 0,f=void 0,l=void 0;void 0!==c&&void 0!==u&&(d=u-c,l=this.sum(c,u)/2,void 0!==u&&u>0&&(f=d/c*100));var h=this.safeFloat(e,"amount"),p=this.safeFloat(e,"vol"),m=this.vwap(h,p);return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:a,bidVolume:i,ask:s,askVolume:o,vwap:m,open:c,close:u,last:u,previousClose:void 0,change:d,percentage:f,average:l,baseVolume:h,quoteVolume:p,info:e}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,u,d,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={symbol:a.id,type:"step0"},t.next=6,i.marketGetDepth(i.extend(s,r));case 6:if(!("tick"in(o=t.sent))){t.next=15;break}if(o.tick){t.next=10;break}throw new v(i.id+" fetchOrderBook() returned empty response: "+i.json(o));case 10:return u=i.safeValue(o,"tick"),d=i.safeInteger(u,"ts",i.safeInteger(o,"ts")),(f=i.parseOrderBook(u,d)).nonce=i.safeInteger(u,"version"),t.abrupt("return",f);case 15:throw new c(i.id+" fetchOrderBook() returned unrecognized response: "+i.json(o));case 16:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.marketGetDetailMerged(r.extend(s,t));case 6:return o=n.sent,c=r.parseTicker(o.tick,i),u=r.safeValue(o,"ts"),c.timestamp=u,c.datetime=r.iso8601(u),n.abrupt("return",c);case 12:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.marketGetTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"data"),o=r.safeInteger(i,"ts"),c={},u=0;u<s.length;u++)d=r.safeString(s[u],"symbol"),f=r.safeMarket(d),l=f.symbol,(h=r.parseTicker(s[u],f)).timestamp=o,h.datetime=r.iso8601(o),c[l]=h;return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.safeInteger2(e,"ts","created-at"),i=this.safeString(e,"order-id"),s=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){var c=o.split("-");s=c[0],o=c[1]}var u=this.safeString(e,"role"),d=this.safeFloat(e,"price"),f=this.safeFloat2(e,"filled-amount","amount"),l=void 0;void 0!==d&&void 0!==f&&(l=f*d);var h=void 0,p=this.safeFloat(e,"filled-fees"),m=void 0;void 0!==t&&(m=this.safeCurrencyCode(this.safeString(e,"fee-currency")));var v=this.safeFloat(e,"filled-points");void 0!==v&&(void 0!==p&&0!==p||(p=v,m=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==p&&(h={cost:p,currency:m});var b=this.safeString2(e,"trade-id","tradeId");return{id:this.safeString(e,"id",b),info:e,order:i,timestamp:a,datetime:this.iso8601(a),symbol:n,type:o,side:s,takerOrMaker:u,price:d,amount:f,cost:l,fee:h}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.symbol=o.id),void 0!==r&&(c.size=r),void 0!==t&&(c["start-date"]=s.ymd(t),c["end-date"]=s.ymd(s.sum(t,864e5))),n.next=9,s.privateGetOrderMatchresults(s.extend(c,i));case 9:return u=n.sent,d=s.parseTrades(u.data,o,t,r),n.abrupt("return",d);case 12:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r=1e3,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.size=r),n.next=7,s.marketGetHistoryTrade(s.extend(c,i));case 7:for(u=n.sent,d=s.safeValue(u,"data"),f=[],l=0;l<d.length;l++)for(h=s.safeValue(d[l],"data",[]),p=0;p<h.length;p++)m=s.parseTrade(h[p],o),f.push(m);return f=s.sortBy(f,"timestamp"),n.abrupt("return",s.filterBySymbolSinceLimit(f,e,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"amount")]}fetchOHLCV(e,t="1m",r,i=1e3,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,period:o.timeframes[t]},void 0!==i&&(u.size=i),n.next=7,o.marketGetHistoryKline(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"data",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountAccounts(e);case 4:return a=r.sent,r.abrupt("return",a.data);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={language:t.options.language},r.next=3,t.publicGetSettingsCurrencys(t.extend(a,e));case 3:for(i=r.sent,s=t.safeValue(i,"data"),o={},c=0;c<s.length;c++)u=s[c],d=t.safeValue(u,"name"),f=t.safeInteger(u,"withdraw-precision"),l=t.safeCurrencyCode(d),h=u.visible&&u["deposit-enabled"]&&u["withdraw-enabled"],p=t.safeString(u,"display-name"),o[l]={id:d,code:l,type:"crypto",name:p,active:h,fee:void 0,precision:f,limits:{amount:{min:Math.pow(10,-f),max:Math.pow(10,f)},price:{min:Math.pow(10,-f),max:Math.pow(10,f)},cost:{min:void 0,max:void 0},deposit:{min:t.safeFloat(u,"deposit-min-amount"),max:Math.pow(10,f)},withdraw:{min:t.safeFloat(u,"withdraw-min-amount"),max:Math.pow(10,f)}},info:u};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:return a=t.options.fetchBalanceMethod,i={id:t.accounts[0].id},r.next=8,t[a](t.extend(i,e));case 8:for(s=r.sent,o=t.safeValue(s.data,"list",[]),c={info:s},u=0;u<o.length;u++)d=o[u],f=t.safeString(d,"currency"),l=t.safeCurrencyCode(f),h=void 0,h=l in c?c[l]:t.account(),"trade"===d.type&&(h.free=t.safeFloat(d,"balance")),"frozen"===d.type&&(h.used=t.safeFloat(d,"balance")),c[l]=h;return r.abrupt("return",t.parseBalance(c));case 13:case"end":return r.stop()}}),r)})))()}fetchOrdersByStates(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={states:e},u=void 0,void 0!==t&&(u=o.market(t),c.symbol=u.id),d=o.safeString(o.options,"fetchOrdersByStatesMethod","private_get_order_orders"),n.next=8,o[d](o.extend(c,s));case 8:return f=n.sent,n.abrupt("return",o.parseOrders(f.data,u,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrderOrdersId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.safeString(s.options,"fetchOpenOrdersMethod","fetch_open_orders_v1"),n.next=3,s[o](e,t,r,i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOpenOrdersV1(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new m(s.id+" fetchOpenOrdersV1() requires a symbol argument");case 2:return n.next=4,s.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,r,i);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrdersV2(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==e){n.next=4;break}throw new m(s.id+" fetchOpenOrders() requires a symbol argument");case 4:if(o=s.market(e),void 0!==(c=s.safeString(i,"account-id"))){n.next=19;break}return n.next=9,s.loadAccounts();case 9:u=0;case 10:if(!(u<s.accounts.length)){n.next=19;break}if("spot"!==(d=s.accounts[u]).type){n.next=16;break}if(void 0===(c=s.safeString(d,"id"))){n.next=16;break}return n.abrupt("break",19);case 16:u++,n.next=10;break;case 19:return f={symbol:o.id,"account-id":c},void 0!==r&&(f.size=r),l=s.omit(i,"account-id"),n.next=24,s.privateGetOrderOpenOrders(s.extend(f,l));case 24:return h=n.sent,p=s.safeValue(h,"data",[]),n.abrupt("return",s.parseOrders(p,o,t,r));case 27:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=void 0,a=void 0,i=void 0;if("type"in e){var s=e.type.split("-");n=s[0],a=s[1],i=this.parseOrderStatus(this.safeString(e,"state"))}var o=this.safeString(e,"symbol"),c=this.safeSymbol(o,t),u=this.safeInteger(e,"created-at"),d=this.safeFloat(e,"amount"),f=this.safeFloat2(e,"filled-amount","field-amount");"market"===a&&"buy"===n&&(d="closed"===i?f:void 0);var l=this.safeFloat(e,"price");0===l&&(l=void 0);var h=this.safeFloat2(e,"filled-cash-amount","field-cash-amount"),p=void 0,m=void 0;void 0!==f&&(void 0!==d&&(p=d-f),void 0!==h&&f>0&&(m=h/f));var v=this.safeFloat2(e,"filled-fees","field-fees"),b=void 0;if(void 0!==v){var g=void 0;void 0!==t&&(g="sell"===n?t.quote:t.base),b={cost:v,currency:g}}return{info:e,id:r,clientOrderId:void 0,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:c,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:l,stopPrice:void 0,average:m,cost:h,amount:d,filled:f,remaining:p,status:i,fee:b,trades:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return n.next=4,c.loadAccounts();case 4:if(u=c.market(e),d={"account-id":c.accounts[0].id,symbol:u.id,type:r+"-"+t},"market"!==t||"buy"!==r){n.next=18;break}if(!c.options.createMarketBuyOrderRequiresPrice){n.next=15;break}if(void 0!==s){n.next=12;break}throw new l(c.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");case 12:d.amount=c.costToPrecision(e,parseFloat(i)*parseFloat(s));case 13:n.next=16;break;case 15:d.amount=c.costToPrecision(e,i);case 16:n.next=19;break;case 18:d.amount=c.amountToPrecision(e,i);case 19:return"limit"!==t&&"ioc"!==t&&"limit-maker"!==t||(d.price=c.priceToPrecision(e,s)),f=c.options.createOrderMethod,n.next=23,c[f](c.extend(d,o));case 23:return h=n.sent,p=c.milliseconds(),m=c.safeString(h,"data"),n.abrupt("return",{info:h,id:m,timestamp:p,datetime:c.iso8601(p),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:r,price:s,amount:i,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0});case 27:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.privatePostOrderOrdersIdSubmitcancel({id:e});case 2:return r=t.sent,t.abrupt("return",i.extend(i.parseOrder(r),{id:e,status:"canceled"}));case 4:case"end":return t.stop()}}),t)})))()}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=n*c,d="quote";return"sell"===r?u*=a:d="base",{type:i,currency:o[d],rate:c,cost:parseFloat(this.currencyToPrecision(o[d],u))}}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"addressTag"),a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a);return this.checkAddress(r),{currency:i,address:r,tag:n,info:e}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.v2PrivateGetAccountDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",[]),n.abrupt("return",r.parseDepositAddress(r.safeValue(c,0,{}),i));case 9:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(void 0===r||r>100)&&(r=100),n.next=3,s.loadMarkets();case 3:return o=void 0,void 0!==e&&(o=s.currency(e)),c={type:"deposit",from:0},void 0!==o&&(c.currency=o.id),void 0!==r&&(c.size=r),n.next=10,s.privateGetQueryDepositWithdraw(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseTransactions(u.data,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(void 0===r||r>100)&&(r=100),n.next=3,s.loadMarkets();case 3:return o=void 0,void 0!==e&&(o=s.currency(e)),c={type:"withdraw",from:0},void 0!==o&&(c.currency=o.id),void 0!==r&&(c.size=r),n.next=10,s.privateGetQueryDepositWithdraw(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseTransactions(u.data,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeInteger(e,"created-at"),n=this.safeInteger(e,"updated-at"),a=this.safeCurrencyCode(this.safeString(e,"currency")),i=this.safeString(e,"type");"withdraw"===i&&(i="withdrawal");var s=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag"),c=this.safeFloat(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:r,datetime:this.iso8601(r),address:this.safeString(e,"address"),tag:o,type:i,amount:this.safeFloat(e,"amount"),currency:a,status:s,updated:n,fee:{currency:a,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"},e,e)}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return o.checkAddress(r),c=o.currency(e),u={address:r,amount:t,currency:c.id.toLowerCase()},void 0!==i&&(u["addr-tag"]=i),n.next=8,o.privatePostDwWithdrawApiCreate(o.extend(u,s));case 8:return d=n.sent,f=o.safeString(d,"data"),n.abrupt("return",{info:d,id:f});case 11:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/";"market"===t?s+=t:"public"===t||"private"===t?s+=this.version:"v2Public"!==t&&"v2Private"!==t||(s+="v2"),s+="/"+this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("private"===t||"v2Private"===t){this.checkRequiredCredentials();var c=this.ymdhms(this.milliseconds(),"T"),u={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:c};"POST"!==r&&(u=this.extend(u,o)),u=this.keysort(u);var d=this.urlencode(u),f=[r,this.hostname,s,d].join("\n"),l=this.hmac(this.encode(f),this.encode(this.secret),"sha256","base64");s+="?"+(d+="&"+this.urlencode({Signature:l})),"POST"===r?(i=this.json(o),a={"Content-Type":"application/json"}):a={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(n).length&&(s+="?"+this.urlencode(n));return{url:s=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&("status"in s&&"error"===this.safeString(s,"status"))){var d=this.safeString(s,"err-code"),f=this.id+" "+i;this.throwBroadlyMatchedException(this.exceptions.broad,i,f),this.throwExactlyMatchedException(this.exceptions.exact,d,f);var l=this.safeString(s,"err-msg");throw this.throwExactlyMatchedException(this.exceptions.exact,l,f),new c(f)}}}},function(e,t){var r="0123456789abcdef".split(""),n=[1,256,65536,16777216],a=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=e=>{var t,r,n,a,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X,W,Z,Y,Q,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(u<<1|d>>>31),r=s^(d<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(f<<1|l>>>31),r=c^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|p>>>31),r=d^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(a<<1|s>>>31),r=l^(s<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],v=e[1],J=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,F=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&y,e[1]=v^~g&w,e[10]=T^~A&E,e[11]=O^~M&C,e[20]=R^~N&V,e[21]=L^~D&j,e[30]=z^~J&W,e[31]=K^~X&Z,e[40]=te^~ne&ie,e[41]=re^~ae&se,e[2]=b^~y&k,e[3]=g^~w&x,e[12]=A^~E&I,e[13]=M^~C&F,e[22]=N^~V&U,e[23]=D^~j&q,e[32]=J^~W&Y,e[33]=X^~Z&Q,e[42]=ne^~ie&oe,e[43]=ae^~se&ce,e[4]=y^~k&_,e[5]=w^~x&S,e[14]=E^~I&P,e[15]=C^~F&B,e[24]=V^~U&G,e[25]=j^~q&H,e[34]=W^~Y&$,e[35]=Z^~Q&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&de,e[6]=k^~_&m,e[7]=x^~S&v,e[16]=I^~P&T,e[17]=F^~B&O,e[26]=U^~G&R,e[27]=q^~H&L,e[36]=Y^~$&z,e[37]=Q^~ee&K,e[46]=oe^~ue&te,e[47]=ce^~de&re,e[8]=_^~m&b,e[9]=S^~v&g,e[18]=P^~T&A,e[19]=B^~O&M,e[28]=G^~R&N,e[29]=H^~L&D,e[38]=$^~z&J,e[39]=ee^~K&X,e[48]=ue^~te&ne,e[49]=de^~re&ae,e[0]^=i[n],e[1]^=i[n+1]},o=e=>t=>{var i;if("0x"===t.slice(0,2)){i=[];for(var o=2,c=t.length;o<c;o+=2)i.push(parseInt(t.slice(o,o+2),16))}else i=t;return((e,t)=>{for(var i,o=t.length,c=e.blocks,u=e.blockCount<<2,d=e.blockCount,f=e.outputBlocks,l=e.s,h=0;h<o;){if(e.reset)for(e.reset=!1,c[0]=e.block,v=1;v<d+1;++v)c[v]=0;if("string"!==typeof t)for(v=e.start;h<o&&v<u;++h)c[v>>2]|=t[h]<<a[3&v++];else for(v=e.start;h<o&&v<u;++h)(i=t.charCodeAt(h))<128?c[v>>2]|=i<<a[3&v++]:i<2048?(c[v>>2]|=(192|i>>6)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]):i<55296||i>=57344?(c[v>>2]|=(224|i>>12)<<a[3&v++],c[v>>2]|=(128|i>>6&63)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),c[v>>2]|=(240|i>>18)<<a[3&v++],c[v>>2]|=(128|i>>12&63)<<a[3&v++],c[v>>2]|=(128|i>>6&63)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]);if(e.lastByteIndex=v,v>=u){for(e.start=v-u,e.block=c[d],v=0;v<d;++v)l[v]^=c[v];s(l),e.reset=!0}else e.start=v}if(c[(v=e.lastByteIndex)>>2]|=n[3&v],e.lastByteIndex===u)for(c[0]=c[d],v=1;v<d+1;++v)c[v]=0;for(c[d-1]|=2147483648,v=0;v<d;++v)l[v]^=c[v];s(l);for(var p,m="",v=0,b=0;b<f;){for(v=0;v<d&&b<f;++v,++b)p=l[v],m+=r[p>>4&15]+r[15&p]+r[p>>12&15]+r[p>>8&15]+r[p>>20&15]+r[p>>16&15]+r[p>>28&15]+r[p>>24&15];b%d===0&&(s(l),v=0)}return"0x"+m})((e=>{return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t})(e),i)};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(e,t){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t.handleEvent||t)},e.prototype.removeEventListener=function(e,t){if(e=e.toLowerCase(),this.listeners[e]){var r=this.listeners[e].indexOf(t.handleEvent||t);r<0||this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var t=e.type.toLowerCase();if(e.target=this,this.listeners[t])for(var r=0,n=this.listeners[t];r<n.length;r++){n[r].call(this,e)}var a=this["on"+t];return a&&a.call(this,e),!0},e}();t.XMLHttpRequestEventTarget=n},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(652),i=r(75),s=r(658);function o(e){t.decode(e)}t.names=s.names,t.codes=s.codes,t.defaultLengths=s.defaultLengths,t.toHexString=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")},t.fromHexString=function(e){return n.from(e,"hex")},t.toB58String=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return a.encode("base58btc",e).toString().slice(1)},t.fromB58String=function(e){var t=e;return n.isBuffer(e)&&(t=e.toString()),a.decode("z"+t)},t.decode=function(e){if(!n.isBuffer(e))throw new Error("multihash must be a Buffer");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");var r=i.decode(e);if(!t.isValidCode(r))throw new Error("multihash unknown function code: 0x".concat(r.toString(16)));e=e.slice(i.decode.bytes);var a=i.decode(e);if(a<0)throw new Error("multihash invalid length: ".concat(a));if((e=e.slice(i.decode.bytes)).length!==a)throw new Error("multihash length inconsistent: 0x".concat(e.toString("hex")));return{code:r,name:s.codes[r],length:a,digest:e}},t.encode=function(e,r,a){if(!e||void 0===r)throw new Error("multihash encode requires at least two args: digest, code");var s=t.coerceCode(r);if(!n.isBuffer(e))throw new Error("digest should be a Buffer");if(null==a&&(a=e.length),a&&e.length!==a)throw new Error("digest length should be equal to specified length.");return n.concat([n.from(i.encode(s)),n.from(i.encode(a)),e])},t.coerceCode=function(e){var r=e;if("string"===typeof e){if(void 0===s.names[e])throw new Error("Unrecognized hash function named: ".concat(e));r=s.names[e]}if("number"!==typeof r)throw new Error("Hash function code should be a number. Got: ".concat(r));if(void 0===s.codes[r]&&!t.isAppCode(r))throw new Error("Unrecognized function code: ".concat(r));return r},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!s.codes[e]},t.validate=o,t.prefix=function(e){return o(e),e.slice(0,2)}},function(e,t,r){r(675);var n=(e,t)=>parseInt(e.slice(2*t+2,2*t+4),16),a=e=>(e.length-2)/2,i=(e,t)=>t.length===2*e+2?t:i(e,"0x0"+t.slice(2)),s=(e,t)=>t.length===2*e+2?t:s(e,t+"0"),o=e=>{for(var t=[],r=2,n=e.length;r<n;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},c=e=>{for(var t="0x",r=0,n=e.length;r<n;++r){var a=e[r];t+=(a<16?"0":"")+a.toString(16)}return t};e.exports={random:e=>{var t;t="undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):r(92).randomBytes(e);for(var n="0x",a=0;a<e;++a)n+=("00"+t[a].toString(16)).slice(-2);return n},length:a,concat:(e,t)=>e.concat(t.slice(2)),flatten:e=>"0x"+e.reduce((e,t)=>e+t.slice(2),""),slice:(e,t,r)=>"0x"+r.slice(2*e+2,2*t+2),reverse:e=>{for(var t="0x",r=0,n=a(e);r<n;++r)t+=e.slice(2*(n-r),2*(n-r+1));return t},pad:i,padRight:s,fromAscii:e=>{for(var t="0x",r=0;r<e.length;++r)t+=("00"+e.charCodeAt(r).toString(16)).slice(-2);return t},toAscii:e=>{for(var t="",r=2;r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.slice(r,r+2),16));return t},fromString:e=>{for(var t=e=>{var t=e.toString(16);return t.length<2?"0"+t:t},r="0x",n=0;n!=e.length;n++){var a=e.charCodeAt(n);if(a<128)r+=t(a);else{if(a<2048)r+=t(a>>6|192);else{if(a>55295&&a<56320){if(++n==e.length)return null;var i=e.charCodeAt(n);if(i<56320||i>57343)return null;r+=t((a=65536+((1023&a)<<10)+(1023&i))>>18|240),r+=t(a>>12&63|128)}else r+=t(a>>12|224);r+=t(a>>6&63|128)}r+=t(63&a|128)}}return r},toString:e=>{for(var t="",r=0,i=a(e);r<i;){var s=n(e,r++);if(s>127){if(s>191&&s<224){if(r>=i)return null;s=(31&s)<<6|63&n(e,r)}else if(s>223&&s<240){if(r+1>=i)return null;s=(15&s)<<12|(63&n(e,r))<<6|63&n(e,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=i)return null;s=(7&s)<<18|(63&n(e,r))<<12|(63&n(e,++r))<<6|63&n(e,++r)}++r}if(s<=65535)t+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,t+=String.fromCharCode(s>>10|55296),t+=String.fromCharCode(1023&s|56320)}}return t},fromNumber:e=>{var t=e.toString(16);return t.length%2===0?"0x"+t:"0x0"+t},toNumber:e=>parseInt(e.slice(2),16),fromNat:e=>"0x0"===e?"0x":e.length%2===0?e:"0x0"+e.slice(2),toNat:e=>"0"===e[2]?"0x"+e.slice(3):e,fromArray:c,toArray:o,fromUint8Array:e=>c([].slice.call(e,0)),toUint8Array:e=>new Uint8Array(o(e))}},function(e,t,r){"use strict";var n=r(12),a=r(222),i=r(14).Buffer,s=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,a,i,s){return c(e+(t&r|~t&n)+a+i|0,s)+t|0}function d(e,t,r,n,a,i,s){return c(e+(t&n|r&~n)+a+i|0,s)+t|0}function f(e,t,r,n,a,i,s){return c(e+(t^r^n)+a+i|0,s)+t|0}function l(e,t,r,n,a,i,s){return c(e+(r^(t|~n))+a+i|0,s)+t|0}n(o,a),o.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,a=this._c,i=this._d;r=u(r,n,a,i,e[0],3614090360,7),i=u(i,r,n,a,e[1],3905402710,12),a=u(a,i,r,n,e[2],606105819,17),n=u(n,a,i,r,e[3],3250441966,22),r=u(r,n,a,i,e[4],4118548399,7),i=u(i,r,n,a,e[5],1200080426,12),a=u(a,i,r,n,e[6],2821735955,17),n=u(n,a,i,r,e[7],4249261313,22),r=u(r,n,a,i,e[8],1770035416,7),i=u(i,r,n,a,e[9],2336552879,12),a=u(a,i,r,n,e[10],4294925233,17),n=u(n,a,i,r,e[11],2304563134,22),r=u(r,n,a,i,e[12],1804603682,7),i=u(i,r,n,a,e[13],4254626195,12),a=u(a,i,r,n,e[14],2792965006,17),r=d(r,n=u(n,a,i,r,e[15],1236535329,22),a,i,e[1],4129170786,5),i=d(i,r,n,a,e[6],3225465664,9),a=d(a,i,r,n,e[11],643717713,14),n=d(n,a,i,r,e[0],3921069994,20),r=d(r,n,a,i,e[5],3593408605,5),i=d(i,r,n,a,e[10],38016083,9),a=d(a,i,r,n,e[15],3634488961,14),n=d(n,a,i,r,e[4],3889429448,20),r=d(r,n,a,i,e[9],568446438,5),i=d(i,r,n,a,e[14],3275163606,9),a=d(a,i,r,n,e[3],4107603335,14),n=d(n,a,i,r,e[8],1163531501,20),r=d(r,n,a,i,e[13],2850285829,5),i=d(i,r,n,a,e[2],4243563512,9),a=d(a,i,r,n,e[7],1735328473,14),r=f(r,n=d(n,a,i,r,e[12],2368359562,20),a,i,e[5],4294588738,4),i=f(i,r,n,a,e[8],2272392833,11),a=f(a,i,r,n,e[11],1839030562,16),n=f(n,a,i,r,e[14],4259657740,23),r=f(r,n,a,i,e[1],2763975236,4),i=f(i,r,n,a,e[4],1272893353,11),a=f(a,i,r,n,e[7],4139469664,16),n=f(n,a,i,r,e[10],3200236656,23),r=f(r,n,a,i,e[13],681279174,4),i=f(i,r,n,a,e[0],3936430074,11),a=f(a,i,r,n,e[3],3572445317,16),n=f(n,a,i,r,e[6],76029189,23),r=f(r,n,a,i,e[9],3654602809,4),i=f(i,r,n,a,e[12],3873151461,11),a=f(a,i,r,n,e[15],530742520,16),r=l(r,n=f(n,a,i,r,e[2],3299628645,23),a,i,e[0],4096336452,6),i=l(i,r,n,a,e[7],1126891415,10),a=l(a,i,r,n,e[14],2878612391,15),n=l(n,a,i,r,e[5],4237533241,21),r=l(r,n,a,i,e[12],1700485571,6),i=l(i,r,n,a,e[3],2399980690,10),a=l(a,i,r,n,e[10],4293915773,15),n=l(n,a,i,r,e[1],2240044497,21),r=l(r,n,a,i,e[8],1873313359,6),i=l(i,r,n,a,e[15],4264355552,10),a=l(a,i,r,n,e[6],2734768916,15),n=l(n,a,i,r,e[13],1309151649,21),r=l(r,n,a,i,e[4],4149444226,6),i=l(i,r,n,a,e[11],3174756917,10),a=l(a,i,r,n,e[2],718787259,15),n=l(n,a,i,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+i|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},function(e,t,r){"use strict";var n=r(61).codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}e.exports=function e(t,r,i){if("function"===typeof r)return e(t,null,r);r||(r={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}(i||a);var s=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||d()},u=t._writableState&&t._writableState.finished,d=function(){o=!1,u=!0,s||i.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,f=!0,o||i.call(t)},h=function(e){i.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):o&&!u?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},m=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",l),t.on("finish",d),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",l),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(12),i=r(222),s=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function h(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,a,i,s,o){return p(e+(t^r^n)+i+s|0,o)+a|0}function v(e,t,r,n,a,i,s,o){return p(e+(t&r|~t&n)+i+s|0,o)+a|0}function b(e,t,r,n,a,i,s,o){return p(e+((t|~r)^n)+i+s|0,o)+a|0}function g(e,t,r,n,a,i,s,o){return p(e+(t&n|r&~n)+i+s|0,o)+a|0}function y(e,t,r,n,a,i,s,o){return p(e+(t^(r|~n))+i+s|0,o)+a|0}a(h,i),h.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,a=0|this._c,i=0|this._d,h=0|this._e,w=0|this._a,k=0|this._b,x=0|this._c,_=0|this._d,S=0|this._e,T=0;T<80;T+=1){var O,A;T<16?(O=m(r,n,a,i,h,e[o[T]],f[0],u[T]),A=y(w,k,x,_,S,e[c[T]],l[0],d[T])):T<32?(O=v(r,n,a,i,h,e[o[T]],f[1],u[T]),A=g(w,k,x,_,S,e[c[T]],l[1],d[T])):T<48?(O=b(r,n,a,i,h,e[o[T]],f[2],u[T]),A=b(w,k,x,_,S,e[c[T]],l[2],d[T])):T<64?(O=g(r,n,a,i,h,e[o[T]],f[3],u[T]),A=v(w,k,x,_,S,e[c[T]],l[3],d[T])):(O=y(r,n,a,i,h,e[o[T]],f[4],u[T]),A=m(w,k,x,_,S,e[c[T]],l[4],d[T])),r=h,h=i,i=p(a,10),a=n,n=O,w=S,S=_,_=p(x,10),x=k,k=A}var M=this._b+a+_|0;this._b=this._c+i+S|0,this._c=this._d+h+w|0,this._d=this._e+r+k|0,this._e=this._a+n+x|0,this._a=M},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,r){(t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r}).sha=r(684),t.sha1=r(685),t.sha224=r(686),t.sha256=r(230),t.sha384=r(687),t.sha512=r(231)},function(e,t,r){"use strict";var n=r(24);function a(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=a,a.prototype._init=function(){},a.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},a.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},a.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,a=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(a,r)));for(var i=e.length-(e.length-t)%this.blockSize;t<i;t+=this.blockSize)this._update(e,t,a,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return a},a.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,a=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(a,r);return t+=this._buffer(e,t),a},a.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},a.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},a.prototype._unpad=function(e){return e},a.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,r){var n=r(696),a=r(704),i=r(244);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=a.createDecipher,t.createDecipheriv=t.Decipheriv=a.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(i)}},function(e,t,r){var n={ECB:r(697),CBC:r(698),CFB:r(699),CFB8:r(700),CFB1:r(701),OFB:r(702),CTR:r(242),GCM:r(242)},a=r(244);for(var i in a)a[i].module=n[a[i].mode];e.exports=a},function(e,t,r){var n=r(9),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){(function(t){var n=r(8),a=r(43);function i(e,r){var a=function(e){var t=s(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(r),i=r.modulus.byteLength(),o=(n.mont(r.modulus),new n(e).mul(a.blinder).umod(r.modulus)),c=o.toRed(n.mont(r.prime1)),u=o.toRed(n.mont(r.prime2)),d=r.coefficient,f=r.prime1,l=r.prime2,h=c.redPow(r.exponent1),p=u.redPow(r.exponent2);h=h.fromRed(),p=p.fromRed();var m=h.isub(p).imul(d).umod(f);return m.imul(l),p.iadd(m),new t(p.imul(a.unblinder).umod(r.modulus).toArray(!1,i))}function s(e){for(var t=e.modulus.byteLength(),r=new n(a(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(a(t));return r}e.exports=i,i.getr=s}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(t){var n,a=r(9),i=a.Buffer,s={};for(n in a)a.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=a[n]);var o=s.Buffer={};for(n in i)i.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(o[n]=i[n]);if(s.Buffer.prototype=i.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(e,t,r){if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&"undefined"===typeof e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return i(e,t,r)}),o.alloc||(o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=i(e);return t&&0!==t.length?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(c){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s}).call(this,r(18))},function(e,t,r){"use strict";var n=r(130).Reporter,a=r(78).EncoderBuffer,i=r(78).DecoderBuffer,s=r(24),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function u(e,t,r){var n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;var d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};d.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,a=r.default,s=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(s=this._peekTag(e,c,r.any),e.isError(s))return s}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(m){s=!1}e.restore(u)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){var d=this._decodeTag(e,r.explicit);if(e.isError(d))return d;e=d}var f=e.offset;if(null===r.use&&null===r.choice){var l;r.any&&(l=e.save());var h=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(h))return h;r.any?a=e.raw(l):e=h}if(t&&t.track&&null!==r.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(a=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(a))return a;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var p=new i(a);a=this._getUse(r.contains,e._reporterState.obj)._decode(p,t)}}return r.obj&&s&&(a=e.leaveObject(n)),null===r.key||null===a&&!0!==s?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,a),a},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,a=!1;return Object.keys(r.choice).some((function(i){var s=e.save(),o=r.choice[i];try{var c=o._decode(e,t);if(e.isError(c))return!1;n={type:i,value:c},a=!0}catch(u){return e.restore(s),!1}return!0}),this),a?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new a(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var a=this._encodeValue(e,t,r);if(void 0!==a&&!this._skipDefault(a,t,r))return a}},u.prototype._encodeValue=function(e,t,r){var a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new n);var i=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}var s=null,o=!1;if(a.any)i=this._createEncoderBuffer(e);else if(a.choice)i=this._encodeChoice(e,t);else if(a.contains)s=this._getUse(a.contains,r)._encode(e,t),o=!0;else if(a.children)s=a.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var a=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),a}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===a.tag||"setof"===a.tag){if(!a.args||1!==a.args.length)return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),c))}else null!==a.use?i=this._getUse(a.use,r)._encode(e,t):(s=this._encodePrimitive(a.tag,e),o=!0);if(!a.any&&null===a.choice){var u=null!==a.implicit?a.implicit:a.tag,d=null===a.implicit?"universal":"context";null===u?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(i=this._encodeComposite(u,o,d,s))}return null!==a.explicit&&(i=this._encodeComposite(a.explicit,!1,"context",i)),i},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,r){"use strict";var n=r(12);function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}t.Reporter=a,a.prototype.isError=function(e){return e instanceof i},a.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},a.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},a.prototype.enterKey=function(e){return this._reporterState.path.push(e)},a.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},a.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},a.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},a.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof i;if(t=n?e:new i(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},a.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(e,t,r){"use strict";function n(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n(t.tag)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhUnsafe=t.ecdh=t.recover=t.verify=t.sign=t.signatureImportLax=t.signatureImport=t.signatureExport=t.signatureNormalize=t.publicKeyCombine=t.publicKeyTweakMul=t.publicKeyTweakAdd=t.publicKeyVerify=t.publicKeyConvert=t.publicKeyCreate=t.privateKeyTweakMul=t.privateKeyTweakAdd=t.privateKeyModInverse=t.privateKeyNegate=t.privateKeyImport=t.privateKeyExport=t.privateKeyVerify=void 0;var n=r(733),a=r(737),i=r(738);t.privateKeyVerify=function(e){return 32===e.length&&n.privateKeyVerify(Uint8Array.from(e))},t.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=a.privateKeyExport(e,t);return i.privateKeyExport(e,r,t)},t.privateKeyImport=function(e){if(null!==(e=i.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},t.privateKeyNegate=function(t){return e.from(n.privateKeyNegate(Uint8Array.from(t)))},t.privateKeyModInverse=function(t){if(32!==t.length)throw new Error("private key length is invalid");return e.from(a.privateKeyModInverse(Uint8Array.from(t)))},t.privateKeyTweakAdd=function(t,r){return e.from(n.privateKeyTweakAdd(Uint8Array.from(t),r))},t.privateKeyTweakMul=function(t,r){return e.from(n.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r)))},t.publicKeyCreate=function(t,r){return e.from(n.publicKeyCreate(Uint8Array.from(t),r))},t.publicKeyConvert=function(t,r){return e.from(n.publicKeyConvert(Uint8Array.from(t),r))},t.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&n.publicKeyVerify(Uint8Array.from(e))},t.publicKeyTweakAdd=function(t,r,a){return e.from(n.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(r),a))},t.publicKeyTweakMul=function(t,r,a){return e.from(n.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r),a))},t.publicKeyCombine=function(t,r){var a=[];return t.forEach((function(e){a.push(Uint8Array.from(e))})),e.from(n.publicKeyCombine(a,r))},t.signatureNormalize=function(t){return e.from(n.signatureNormalize(Uint8Array.from(t)))},t.signatureExport=function(t){return e.from(n.signatureExport(Uint8Array.from(t)))},t.signatureImport=function(t){return e.from(n.signatureImport(Uint8Array.from(t)))},t.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=i.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return a.signatureImport(t)},t.sign=function(t,r,a){if(null===a)throw new TypeError("options should be an Object");var i=void 0;if(a){if(i={},null===a.data)throw new TypeError("options.data should be a Buffer");if(a.data){if(32!=a.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(a.data)}if(null===a.noncefn)throw new TypeError("options.noncefn should be a Function");a.noncefn&&(i.noncefn=function(t,r,n,i,s){var o=null!=n?e.from(n):null,c=null!=i?e.from(i):null,u=e.from("");return a.noncefn&&(u=a.noncefn(e.from(t),e.from(r),o,c,s)),new Uint8Array(u)})}var s=n.ecdsaSign(Uint8Array.from(t),Uint8Array.from(r),i);return{signature:e.from(s.signature),recovery:s.recid}},t.verify=function(e,t,r){return n.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},t.recover=function(t,r,a,i){return e.from(n.ecdsaRecover(Uint8Array.from(r),a,Uint8Array.from(t),i))},t.ecdh=function(t,r){return e.from(n.ecdh(Uint8Array.from(t),Uint8Array.from(r),{}))},t.ecdhUnsafe=function(t,r,n){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==r.length)throw new RangeError("private key length is invalid");return e.from(a.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(r),n))}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getLength=t.decode=t.encode=void 0;var n=r(8);function a(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function i(t,r){if(t<56)return e.from([t+r]);var n=o(t),a=o(r+55+n.length/2);return e.from(a+n,"hex")}function s(e){return"0x"===e.slice(0,2)}function o(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function c(t){if(!e.isBuffer(t)){if("string"===typeof t)return s(t)?e.from((r="string"!==typeof(a=t)?a:s(a)?a.slice(2):a).length%2?"0"+r:r,"hex"):e.from(t);if("number"===typeof t||"bigint"===typeof t)return t?function(t){var r=o(t);return e.from(r,"hex")}(t):e.from([]);if(null===t||void 0===t)return e.from([]);if(t instanceof Uint8Array)return e.from(t);if(n.isBN(t))return e.from(t.toArray());throw new Error("invalid type")}var r,a;return t}t.encode=function t(r){if(Array.isArray(r)){for(var n=[],a=0;a<r.length;a++)n.push(t(r[a]));var s=e.concat(n);return e.concat([i(s.length,192),s])}var o=c(r);return 1===o.length&&o[0]<128?o:e.concat([i(o.length,128),o])},t.decode=function(t,r){if(void 0===r&&(r=!1),!t||0===t.length)return e.from([]);var n=function t(r){var n,i,s,o,c,u=[],d=r[0];if(d<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(d<=183){if(n=d-127,s=128===d?e.from([]):r.slice(1,n),2===n&&s[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:s,remainder:r.slice(n)}}if(d<=191){if(i=d-182,r.length-1<i)throw new Error("invalid RLP: not enough bytes for string length");if((n=a(r.slice(1,i).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((s=r.slice(i,n+i)).length<n)throw new Error("invalid RLP: not enough bytes for string");return{data:s,remainder:r.slice(n+i)}}if(d<=247){for(n=d-191,o=r.slice(1,n);o.length;)c=t(o),u.push(c.data),o=c.remainder;return{data:u,remainder:r.slice(n)}}i=d-246,n=a(r.slice(1,i).toString("hex"),16);var f=i+n;if(f>r.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(o=r.slice(i,f)).length)throw new Error("invalid rlp, List has a invalid length");for(;o.length;)c=t(o),u.push(c.data),o=c.remainder;return{data:u,remainder:r.slice(f)}}(c(t));if(r)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},t.getLength=function(t){if(!t||0===t.length)return e.from([]);var r=c(t),n=r[0];if(n<=127)return r.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var i=n-246;return i+a(r.slice(1,i).toString("hex"),16)}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160=t.sha256=t.keccak256=t.keccak=void 0;var n=r(741),a=n.keccak224,i=n.keccak384,s=n.keccak256,o=n.keccak512,c=r(60),u=r(79),d=r(133),f=r(80);t.keccak=function(t,r){switch(void 0===r&&(r=256),t="string"!==typeof t||u.isHexString(t)?f.toBuffer(t):e.from(t,"utf8"),r||(r=256),r){case 224:return a(t);case 256:return s(t);case 384:return i(t);case 512:return o(t);default:throw new Error("Invald algorithm: keccak"+r)}},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=f.toBuffer(e),c("sha256").update(e).digest()},t.ripemd160=function(e,t){e=f.toBuffer(e);var r=c("rmd160").update(e).digest();return!0===t?f.setLength(r,32):r},t.rlphash=function(e){return t.keccak(d.encode(e))}}).call(this,r(9).Buffer)},function(e,t,r){(function(t,r){!function(){"use strict";var n="object"===typeof window?window:{};!n.JS_SHA3_NO_NODE_JS&&"object"===typeof t&&t.versions&&t.versions.node&&(n=r);for(var a=!n.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,i="0123456789abcdef".split(""),s=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],d=function(e,t,r){return function(n){return new k(e,t,e).update(n)[r]()}},f=function(e,t,r){return function(n,a){return new k(e,t,a).update(n)[r]()}},l=function(e,t){var r=d(e,t,"hex");r.create=function(){return new k(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<u.length;++n){var a=u[n];r[a]=d(e,t,a)}return r},h=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:l},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:l},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=f(e,t,"hex");r.create=function(r){return new k(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<u.length;++n){var a=u[n];r[a]=f(e,t,a)}return r}}],p={},m=[],v=0;v<h.length;++v)for(var b=h[v],g=b.bits,y=0;y<g.length;++y){var w=b.name+"_"+g[y];m.push(w),p[w]=b.createMethod(g[y],b.padding)}function k(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}k.prototype.update=function(e){var t="string"!==typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,a=e.length,i=this.blocks,o=this.byteCount,c=this.blockCount,u=0,d=this.s;u<a;){if(this.reset)for(this.reset=!1,i[0]=this.block,r=1;r<c+1;++r)i[r]=0;if(t)for(r=this.start;u<a&&r<o;++u)i[r>>2]|=e[u]<<s[3&r++];else for(r=this.start;u<a&&r<o;++u)(n=e.charCodeAt(u))<128?i[r>>2]|=n<<s[3&r++]:n<2048?(i[r>>2]|=(192|n>>6)<<s[3&r++],i[r>>2]|=(128|63&n)<<s[3&r++]):n<55296||n>=57344?(i[r>>2]|=(224|n>>12)<<s[3&r++],i[r>>2]|=(128|n>>6&63)<<s[3&r++],i[r>>2]|=(128|63&n)<<s[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++u)),i[r>>2]|=(240|n>>18)<<s[3&r++],i[r>>2]|=(128|n>>12&63)<<s[3&r++],i[r>>2]|=(128|n>>6&63)<<s[3&r++],i[r>>2]|=(128|63&n)<<s[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=i[c],r=0;r<c;++r)d[r]^=i[r];x(d),this.reset=!0}else this.start=r}return this},k.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];x(n)},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,s=0,o=0,c="";o<n;){for(s=0;s<t&&o<n;++s,++o)e=r[s],c+=i[e>>4&15]+i[15&e]+i[e>>12&15]+i[e>>8&15]+i[e>>20&15]+i[e>>16&15]+i[e>>28&15]+i[e>>24&15];o%t===0&&(x(r),s=0)}return a&&(e=r[s],a>0&&(c+=i[e>>4&15]+i[15&e]),a>1&&(c+=i[e>>12&15]+i[e>>8&15]),a>2&&(c+=i[e>>20&15]+i[e>>16&15])),c},k.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,s=0,o=this.outputBits>>3;e=a?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<n;){for(i=0;i<t&&s<n;++i,++s)c[s]=r[i];s%t===0&&x(r)}return a&&(c[i]=r[i],e=e.slice(0,o)),e},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,i=this.extraBytes,s=0,o=0,c=[];o<a;){for(s=0;s<r&&o<a;++s,++o)e=o<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%r===0&&x(n)}return i&&(e=o<<2,t=n[s],i>0&&(c[e]=255&t),i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c};var x=function(e){var t,r,n,a,i,s,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X,W,Z,Y,Q,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|c>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(u<<1|d>>>31),r=i^(d<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(f<<1|l>>>31),r=c^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|p>>>31),r=d^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(a<<1|i>>>31),r=l^(i<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],v=e[1],J=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,F=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&y,e[1]=v^~g&w,e[10]=T^~A&E,e[11]=O^~M&C,e[20]=R^~N&V,e[21]=L^~D&j,e[30]=z^~J&W,e[31]=K^~X&Z,e[40]=te^~ne&ie,e[41]=re^~ae&se,e[2]=b^~y&k,e[3]=g^~w&x,e[12]=A^~E&I,e[13]=M^~C&F,e[22]=N^~V&U,e[23]=D^~j&q,e[32]=J^~W&Y,e[33]=X^~Z&Q,e[42]=ne^~ie&oe,e[43]=ae^~se&ce,e[4]=y^~k&_,e[5]=w^~x&S,e[14]=E^~I&P,e[15]=C^~F&B,e[24]=V^~U&G,e[25]=j^~q&H,e[34]=W^~Y&$,e[35]=Z^~Q&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&de,e[6]=k^~_&m,e[7]=x^~S&v,e[16]=I^~P&T,e[17]=F^~B&O,e[26]=U^~G&R,e[27]=q^~H&L,e[36]=Y^~$&z,e[37]=Q^~ee&K,e[46]=oe^~ue&te,e[47]=ce^~de&re,e[8]=_^~m&b,e[9]=S^~v&g,e[18]=P^~T&A,e[19]=B^~O&M,e[28]=G^~R&N,e[29]=H^~L&D,e[38]=$^~z&J,e[39]=ee^~K&X,e[48]=ue^~te&ne,e[49]=de^~re&ae,e[0]^=o[n],e[1]^=o[n+1]};if(a)e.exports=p;else for(v=0;v<m.length;++v)n[m[v]]=p[m[v]]}()}).call(this,r(18),r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(15),a=r(39);function i(e){return Object(n.a)(Object(a.f)(e))}},function(e,t,r){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",a={},i=0;i<n.length;i++){var s=n.charAt(i);if(void 0!==a[s])throw new TypeError(s+" is ambiguous");a[s]=i}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function c(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(t=o(t),r=0;r<e.length;++r){var a=e.charCodeAt(r);t=o(t)^31&a}return t}function u(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var s=e.slice(0,i),u=e.slice(i+1);if(u.length<6)return"Data too short";var d=c(s);if("string"===typeof d)return d;for(var f=[],l=0;l<u.length;++l){var h=u.charAt(l),p=a[h];if(void 0===p)return"Unknown character "+h;d=o(d)^p,l+6>=u.length||f.push(p)}return 1!==d?"Invalid checksum for "+e:{prefix:s,words:f}}function d(e,t,r,n){for(var a=0,i=0,s=(1<<r)-1,o=[],c=0;c<e.length;++c)for(a=a<<t|e[c],i+=t;i>=r;)i-=r,o.push(a>>i&s);if(n)i>0&&o.push(a<<r-i&s);else{if(i>=t)return"Excess padding";if(a<<r-i&s)return"Non-zero padding"}return o}e.exports={decodeUnsafe:function(){var e=u.apply(null,arguments);if("object"===typeof e)return e},decode:function(e){var t=u.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var a=c(e=e.toLowerCase());if("string"===typeof a)throw new Error(a);for(var i=e+"1",s=0;s<t.length;++s){var u=t[s];if(u>>5!==0)throw new Error("Non 5-bit word");a=o(a)^u,i+=n.charAt(u)}for(s=0;s<6;++s)a=o(a);for(a^=1,s=0;s<6;++s){i+=n.charAt(a>>5*(5-s)&31)}return i},toWordsUnsafe:function(e){var t=d(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=d(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=d(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=d(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},,function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(O){o=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),s=new _(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return T()}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=w(s,r);if(o){if(o===d)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function f(){}function l(){}function h(){}var p={};p[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==t&&r.call(v,a)&&(p=v);var b=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var n;this._invoke=function(a,i){function s(){return new t((function(n,s){!function n(a,i,s,o){var c=u(e[a],e,i);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}(a,i,n,s)}))}return n=n?n.then(s,s):s()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return l.prototype=b.constructor=h,h.constructor=l,l.displayName=o(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[i]=function(){return this},e.AsyncIterator=y,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new y(c(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(b),o(b,s,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=n}catch(a){Function("r","regeneratorRuntime = r")(n)}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(141);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t,r){"use strict";var n=r(35).rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?s(t,r,n):2===e?i(t,r,n):void 0},t.ch32=a,t.maj32=i,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(35),a=r(69),i=r(143),s=r(24),o=n.sum32,c=n.sum32_4,u=n.sum32_5,d=i.ch32,f=i.maj32,l=i.s0_256,h=i.s1_256,p=i.g0_256,m=i.g1_256,v=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(g,v),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],v=this.h[2],b=this.h[3],g=this.h[4],y=this.h[5],w=this.h[6],k=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var x=u(k,h(g),d(g,y,w),this.k[n],r[n]),_=o(l(a),f(a,i,v));k=w,w=y,y=g,g=o(b,x),b=v,v=i,i=a,a=o(x,_)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],v),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],g),this.h[5]=o(this.h[5],y),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],k)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(35),a=r(69),i=r(24),s=n.rotr64_hi,o=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,d=n.sum64,f=n.sum64_hi,l=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,v=n.sum64_5_lo,b=a.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function k(e,t,r,n,a,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function x(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function _(e,t,r,n,a,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function I(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(y,b),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=C(r[n-4],r[n-3]),i=I(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=M(r[n-30],r[n-29]),u=E(r[n-30],r[n-29]),d=r[n-32],f=r[n-31];r[n]=h(a,i,s,o,c,u,d,f),r[n+1]=p(a,i,s,o,c,u,d,f)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],g=this.h[9],y=this.h[10],M=this.h[11],E=this.h[12],C=this.h[13],I=this.h[14],F=this.h[15];i(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var B=I,R=F,L=O(b,g),N=A(b,g),D=w(b,g,y,M,E),V=k(b,g,y,M,E,C),j=this.k[P],U=this.k[P+1],q=r[P],G=r[P+1],H=m(B,R,L,N,D,V,j,U,q,G),z=v(B,R,L,N,D,V,j,U,q,G);B=S(n,a),R=T(n,a),L=x(n,a,s,o,c),N=_(n,a,s,o,c,u);var K=f(B,R,L,N),J=l(B,R,L,N);I=E,F=C,E=y,C=M,y=b,M=g,b=f(h,p,H,z),g=l(p,p,H,z),h=c,p=u,c=s,u=o,s=n,o=a,n=f(H,z,K,J),a=l(H,z,K,J)}d(this.h,0,n,a),d(this.h,2,s,o),d(this.h,4,c,u),d(this.h,6,h,p),d(this.h,8,b,g),d(this.h,10,y,M),d(this.h,12,E,C),d(this.h,14,I,F)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(36).rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?s(t,r,n):2===e?i(t,r,n):void 0},t.ch32=a,t.maj32=i,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(36),a=r(70),i=r(146),s=r(24),o=n.sum32,c=n.sum32_4,u=n.sum32_5,d=i.ch32,f=i.maj32,l=i.s0_256,h=i.s1_256,p=i.g0_256,m=i.g1_256,v=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(g,v),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],v=this.h[2],b=this.h[3],g=this.h[4],y=this.h[5],w=this.h[6],k=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var x=u(k,h(g),d(g,y,w),this.k[n],r[n]),_=o(l(a),f(a,i,v));k=w,w=y,y=g,g=o(b,x),b=v,v=i,i=a,a=o(x,_)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],v),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],g),this.h[5]=o(this.h[5],y),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],k)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(36),a=r(70),i=r(24),s=n.rotr64_hi,o=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,d=n.sum64,f=n.sum64_hi,l=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,v=n.sum64_5_lo,b=a.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function k(e,t,r,n,a,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function x(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function _(e,t,r,n,a,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function I(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(y,b),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=C(r[n-4],r[n-3]),i=I(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=M(r[n-30],r[n-29]),u=E(r[n-30],r[n-29]),d=r[n-32],f=r[n-31];r[n]=h(a,i,s,o,c,u,d,f),r[n+1]=p(a,i,s,o,c,u,d,f)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],g=this.h[9],y=this.h[10],M=this.h[11],E=this.h[12],C=this.h[13],I=this.h[14],F=this.h[15];i(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var B=I,R=F,L=O(b,g),N=A(b,g),D=w(b,g,y,M,E),V=k(b,g,y,M,E,C),j=this.k[P],U=this.k[P+1],q=r[P],G=r[P+1],H=m(B,R,L,N,D,V,j,U,q,G),z=v(B,R,L,N,D,V,j,U,q,G);B=S(n,a),R=T(n,a),L=x(n,a,s,o,c),N=_(n,a,s,o,c,u);var K=f(B,R,L,N),J=l(B,R,L,N);I=E,F=C,E=y,C=M,y=b,M=g,b=f(h,p,H,z),g=l(p,p,H,z),h=c,p=u,c=s,u=o,s=n,o=a,n=f(H,z,K,J),a=l(H,z,K,J)}d(this.h,0,n,a),d(this.h,2,s,o),d(this.h,4,c,u),d(this.h,6,h,p),d(this.h,8,b,g),d(this.h,10,y,M),d(this.h,12,E,C),d(this.h,14,I,F)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="0x0000000000000000000000000000000000000000000000000000000000000000"},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="0x0000000000000000000000000000000000000000"},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=t;function a(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,s=255&a;i?r.push(i,s):r.push(s)}return r},n.zero2=a,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},function(e,t,r){"use strict";var n=t;n.base=r(82),n.short=r(314),n.mont=r(315),n.edwards=r(316)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(28);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))})))})),i=s.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(28),a=r(335),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r(158)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){o.headers[e]=n.merge(i)})),e.exports=o}).call(this,r(18))},function(e,t,r){"use strict";var n=r(28),a=r(336),i=r(338),s=r(155),o=r(339),c=r(342),u=r(343),d=r(159);e.exports=function(e){return new Promise((function(t,r){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(p+":"+m)}var v=o(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),s(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};a(t,r,i),h=null}},h.onabort=function(){h&&(r(d("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(d("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(d(t,e,"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(l[e.xsrfHeaderName]=b)}if("setRequestHeader"in h&&n.forEach(l,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete l[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(g){if("json"!==e.responseType)throw g}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),f||(f=null),h.send(f)}))}},function(e,t,r){"use strict";var n=r(337);e.exports=function(e,t,r,a,i){var s=new Error(e);return n(s,t,r,a,i)}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e,t){t=t||{};var r={},a=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(e[a],t[a])}n.forEach(a,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(i,u),n.forEach(s,(function(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(void 0,t[a])})),n.forEach(o,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var d=a.concat(i).concat(s).concat(o),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return n.forEach(f,u),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),parseFloat(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n;(0,a.default)(e),"object"===i(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var s=encodeURI(e).split(/%..|./).length-1;return s>=r&&("undefined"===typeof n||s<=n)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var r=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?i:s,n=!t.hasOwnProperty("min")||e>=t.min,o=!t.hasOwnProperty("max")||e<=t.max,c=!t.hasOwnProperty("lt")||e<t.lt,u=!t.hasOwnProperty("gt")||e>t.gt;return r.test(e)&&n&&o&&c&&u};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,s=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)},t.fullWidth=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)},t.halfWidth=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var r=t?new RegExp("^[".concat(t,"]+"),"g"):/^\s+/g;return e.replace(r,"")};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);for(var r=t?new RegExp("[".concat(t,"]")):/\s/,n=e.length-1;n>=0&&r.test(e[n]);n--);return n<e.length?e.substr(0,n+1):e};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";t.decode=t.parse=r(409),t.encode=t.stringify=r(410)},function(e,t,r){var n=r(413);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t,r){"use strict";var n=r(107).unCamelCase;e.exports=(e=>{for(var t in e)e[n(t)]=e[t];return e})(Object.assign({},r(415),r(447),r(107),r(190),r(16),r(73),r(451),r(199),r(475),r(476)))},function(e,t,r){"use strict";(function(t,n){var a=r(42);e.exports=y;var i,s=r(100);y.ReadableState=g;r(51).EventEmitter;var o=function(e,t){return e.listeners(t).length},c=r(175),u=r(14).Buffer,d=t.Uint8Array||function(){};var f=Object.create(r(37));f.inherits=r(12);var l=r(418),h=void 0;h=l&&l.debuglog?l.debuglog("stream"):function(){};var p,m=r(419),v=r(176);f.inherits(y,c);var b=["error","close","destroy","pause","resume"];function g(e,t){e=e||{};var n=t instanceof(i=i||r(52));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(53).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(52),!(this instanceof y))return new y(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,r,n,a){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,_(e)}(e,s)):(a||(i=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof d||"string"===typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?k(e,s,t,!1):T(e,s)):k(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=r(53).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),E(e)}function T(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(O,e,t))}function O(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function M(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;e-=a.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?a+=i:a+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,a=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++a}return t.length-=a,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):_(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:y;function u(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",g),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",u),r.removeListener("end",d),r.removeListener("end",y),r.removeListener("data",m),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function d(){h("onend"),e.end()}i.endEmitted?a.nextTick(c):r.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",f);var l=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==P(i.pipes,e))&&!l&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===o(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",b),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",b),e.once("finish",g),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var s=P(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_(this):a.nextTick(A,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(M,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(h("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!r.objectMode||null!==a&&void 0!==a)&&((r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause())))})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<b.length;i++)e.on(b[i],this.emit.bind(this,b[i]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=C}).call(this,r(19),r(18))},function(e,t,r){e.exports=r(51).EventEmitter},function(e,t,r){"use strict";var n=r(42);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";e.exports=s;var n=r(52),a=Object.create(r(37));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(12),a.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){(function(e){t.fetch=o(e.fetch)&&o(e.ReadableStream),t.writableStream=o(e.WritableStream),t.abortController=o(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){r=null}}else r=null;return r}function a(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var i="undefined"!==typeof e.ArrayBuffer,s=i&&o(e.ArrayBuffer.prototype.slice);function o(e){return"function"===typeof e}t.arraybuffer=t.fetch||i&&a("arraybuffer"),t.msstream=!t.fetch&&s&&a("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&a("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&o(n().overrideMimeType),t.vbArray=o(e.VBArray),r=null}).call(this,r(19))},function(e,t,r){(function(e,n,a){var i=r(178),s=r(12),o=r(180),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,r,s,c){var u=this;if(o.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===s){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),i.writableStream){var d=new WritableStream({write:function(e){return new Promise((function(t,r){u._destroyed?r():u.push(new n(e))?t():u._resumeFetch=t}))},close:function(){a.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void r.body.pipeTo(d).catch((function(e){a.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(p){}}var f=r.body.getReader();!function e(){f.read().then((function(t){if(!u._destroyed){if(t.done)return a.clearTimeout(c),void u.push(null);u.push(new n(t.value)),e()}})).catch((function(e){a.clearTimeout(c),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!i.overrideMimeType){var l=u.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(u._charset=h[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(u,o.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{r=new a.VBArray(t.responseBody).toArray()}catch(d){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(d){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new n(i.length),o=0;o<i.length;o++)s[o]=255&i.charCodeAt(o);e.push(s)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==c.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==c.LOADING)break;var u=new a.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(r)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(18),r(9).Buffer,r(19))},function(e,t,r){(t=e.exports=r(181)).Stream=t,t.Readable=t,t.Writable=r(184),t.Duplex=r(58),t.Transform=r(185),t.PassThrough=r(431)},function(e,t,r){"use strict";(function(t,n){var a=r(42);e.exports=y;var i,s=r(100);y.ReadableState=g;r(51).EventEmitter;var o=function(e,t){return e.listeners(t).length},c=r(182),u=r(14).Buffer,d=t.Uint8Array||function(){};var f=Object.create(r(37));f.inherits=r(12);var l=r(428),h=void 0;h=l&&l.debuglog?l.debuglog("stream"):function(){};var p,m=r(429),v=r(183);f.inherits(y,c);var b=["error","close","destroy","pause","resume"];function g(e,t){e=e||{};var n=t instanceof(i=i||r(58));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(53).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(58),!(this instanceof y))return new y(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,r,n,a){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,_(e)}(e,s)):(a||(i=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof d||"string"===typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?k(e,s,t,!1):T(e,s)):k(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=r(53).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),E(e)}function T(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(O,e,t))}function O(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function M(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;e-=a.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?a+=i:a+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,a=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++a}return t.length-=a,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):_(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:y;function u(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",g),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",u),r.removeListener("end",d),r.removeListener("end",y),r.removeListener("data",m),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function d(){h("onend"),e.end()}i.endEmitted?a.nextTick(c):r.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",f);var l=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==P(i.pipes,e))&&!l&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===o(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",b),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",b),e.once("finish",g),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var s=P(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_(this):a.nextTick(A,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(M,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(h("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!r.objectMode||null!==a&&void 0!==a)&&((r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause())))})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<b.length;i++)e.on(b[i],this.emit.bind(this,b[i]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=C}).call(this,r(19),r(18))},function(e,t,r){e.exports=r(51).EventEmitter},function(e,t,r){"use strict";var n=r(42);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,a){var i=r(42);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;g.WritableState=b;var u=Object.create(r(37));u.inherits=r(12);var d={deprecate:r(110)},f=r(182),l=r(14).Buffer,h=a.Uint8Array||function(){};var p,m=r(183);function v(){}function b(e,t){o=o||r(58),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,u=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(u||0===u)?u:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,a);else{var s=x(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?c(w,e,r,s,a):w(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function g(e){if(o=o||r(58),!p.call(g,this)&&!(this instanceof o))return new g(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,r,n,a,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,y(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,d,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=x(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(g,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===g&&(e&&e._writableState instanceof b)}})):p=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,l.isBuffer(n)||n instanceof h);return o&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"===typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof r&&(r=v),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"===typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,o,n,a,i);return c}(this,a,o,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var n=this._writableState;"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(18),r(81).setImmediate,r(19))},function(e,t,r){"use strict";e.exports=s;var n=r(58),a=Object.create(r(37));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(12),a.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var a in n)r.call(n,a)&&(e[a]=n[a])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){(function(e,n){var a;!function(i){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var o,c=2147483647,u=/^xn--/,d=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(l[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function b(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(f,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function y(e){return v(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))}function x(e){var t,r,n,a,i,s,o,u,d,f,l,p=[],v=e.length,b=0,g=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),p.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<v;){for(i=b,s=1,o=36;a>=v&&m("invalid-input"),((u=(l=e.charCodeAt(a++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36)>=36||u>h((c-b)/s))&&m("overflow"),b+=u*s,!(u<(d=o<=w?1:o>=w+26?26:o-w));o+=36)s>h(c/(f=36-d))&&m("overflow"),s*=f;w=k(b-i,t=p.length+1,0==i),h(b/t)>c-g&&m("overflow"),g+=h(b/t),b%=t,p.splice(b++,0,g)}return y(p)}function _(e){var t,r,n,a,i,s,o,u,d,f,l,v,b,y,x,_=[];for(v=(e=g(e)).length,t=128,r=0,i=72,s=0;s<v;++s)(l=e[s])<128&&_.push(p(l));for(n=a=_.length,a&&_.push("-");n<v;){for(o=c,s=0;s<v;++s)(l=e[s])>=t&&l<o&&(o=l);for(o-t>h((c-r)/(b=n+1))&&m("overflow"),r+=(o-t)*b,t=o,s=0;s<v;++s)if((l=e[s])<t&&++r>c&&m("overflow"),l==t){for(u=r,d=36;!(u<(f=d<=i?1:d>=i+26?26:d-i));d+=36)x=u-f,y=36-f,_.push(p(w(f+x%y,0))),u=h(x/y);_.push(p(w(u,0))),i=k(r,b,n==a),r=0,++n}++r,++t}return _.join("")}o={version:"1.4.1",ucs2:{decode:g,encode:y},decode:x,encode:_,toASCII:function(e){return b(e,(function(e){return d.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return o}.call(t,r,t,e))||(e.exports=a)}()}).call(this,r(46)(e),r(19))},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--s);a%=65521,i%=65521}return a|i<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,a){var i=n,s=a+r;e^=-1;for(var o=a;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}},function(e,t,r){"use strict";var n=Number.isFinite,a=Number.isInteger,i=Array.isArray,s=e=>void 0!==e&&null!==e,o=e=>"string"===typeof e,c=e=>null!==e&&"object"===typeof e,u=e=>s(e)&&e.toString||n(e),d=(e,t)=>c(e)?e[t]:void 0,f=(e,t,r)=>c(e)?t in e&&null!==e[t]?e[t]:e[r]:void 0,l=e=>n(e)||o(e)?parseFloat(e):NaN,h=e=>n(e)||o(e)?parseInt(e,10):NaN;e.exports={isNumber:n,isInteger:a,isArray:i,isObject:c,isString:o,isStringCoercible:u,isDictionary:e=>c(e)&&Object.getPrototypeOf(e)===Object.prototype&&!i(e)&&!(e=>e instanceof RegExp)(e),hasProps:s,prop:d,asFloat:l,asInteger:h,safeFloat:(e,t,r,a=l(d(e,t)))=>n(a)?a:r,safeInteger:(e,t,r,a=h(d(e,t)))=>n(a)?a:r,safeIntegerProduct:(e,t,r,a,i=h(d(e,t)))=>n(i)?parseInt(i*r):a,safeTimestamp:(e,t,r,a=l(d(e,t)))=>n(a)?parseInt(1e3*a):r,safeValue:(e,t,r,n=d(e,t))=>s(n)?n:r,safeString:(e,t,r,n=d(e,t))=>u(n)?String(n):r,safeStringLower:(e,t,r,n=d(e,t))=>u(n)?String(n).toLowerCase():r,safeStringUpper:(e,t,r,n=d(e,t))=>u(n)?String(n).toUpperCase():r,safeFloat2:(e,t,r,a,i=l(f(e,t,r)))=>n(i)?i:a,safeInteger2:(e,t,r,a,i=h(f(e,t,r)))=>n(i)?i:a,safeIntegerProduct2:(e,t,r,a,i,s=h(f(e,t,r)))=>n(s)?parseInt(s*a):i,safeTimestamp2:(e,t,r,a,i=l(f(e,t,r)))=>n(i)?parseInt(1e3*i):a,safeValue2:(e,t,r,n,a=f(e,t,r))=>s(a)?a:n,safeString2:(e,t,r,n,a=f(e,t,r))=>u(a)?String(a):n,safeStringLower2:(e,t,r,n,a=f(e,t,r))=>u(a)?String(a).toLowerCase():n,safeStringUpper2:(e,t,r,n,a=f(e,t,r))=>u(a)?String(a).toUpperCase():n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],o=Object.keys(s),c=0;c<o.length;++c){var u=o[c],d=s[u];"object"===typeof d&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:s,prop:u}),r.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var n=[],i=0;i<r.length;++i)"undefined"!==typeof r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(a){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"===typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<n.length;++s){var o=n.charCodeAt(s);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?a+=n.charAt(s):o<128?a+=i[o]:o<2048?a+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?a+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(s+=1,o=65536+((1023&o)<<10|1023&n.charCodeAt(s)),a+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return a},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,i){if(!r)return t;if("object"!==typeof r){if(a(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var o=t;return a(t)&&!a(r)&&(o=s(t,i)),a(t)&&a(r)?(r.forEach((function(r,a){if(n.call(t,a)){var s=t[a];s&&"object"===typeof s&&r&&"object"===typeof r?t[a]=e(s,r,i):t.push(r)}else t[a]=r})),t):Object.keys(r).reduce((function(t,a){var s=r[a];return n.call(t,a)?t[a]=e(t[a],s,i):t[a]=s,t}),o)}}},function(e,t,r){"use strict";var n=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){(function(t){var n=r(34)._;function a(e,r){null!=e&&("number"==typeof e?this.fromNumber(e,r):t.isBuffer(e)?this.fromBuffer(e):null==r&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,r))}function i(){return new a(null)}a.prototype.am=function(e,t,r,n,a,i){for(var s=16383&t,o=t>>14;--i>=0;){var c=16383&this[e],u=this[e++]>>14,d=o*c+u*s;a=((c=s*c+((16383&d)<<14)+r[n]+a)>>28)+(d>>14)+o*u,r[n++]=268435455&c}return a},a.prototype.DB=28,a.prototype.DM=268435455,a.prototype.DV=1<<28;a.prototype.FV=Math.pow(2,52),a.prototype.F1=24,a.prototype.F2=4;var s,o,c=new Array;for(s="0".charCodeAt(0),o=0;o<=9;++o)c[s++]=o;for(s="a".charCodeAt(0),o=10;o<36;++o)c[s++]=o;for(s="A".charCodeAt(0),o=10;o<36;++o)c[s++]=o;function u(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=c[e.charCodeAt(t)];return null==r?-1:r}function f(e){var t=i();return t.fromInt(e),t}function l(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function h(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function v(e,t){return e|t}function b(e,t){return e^t}function g(e){if(0===e)return-1;var t=0;return 0===(65535&e)&&(e>>=16,t+=16),0===(255&e)&&(e>>=8,t+=8),0===(15&e)&&(e>>=4,t+=4),0===(3&e)&&(e>>=2,t+=2),0===(1&e)&&++t,t}function y(){}function w(e){return e}function k(e){this.r2=i(),this.q3=i(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}h.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},y.prototype.convert=w,y.prototype.revert=w,y.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},y.prototype.sqrTo=function(e,t){e.squareTo(t)},k.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t},k.prototype.revert=function(e){return e},k.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},k.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},k.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},a.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0},a.prototype.fromString=function(e,t,r){var n;switch(t){case 2:n=1;break;case 4:n=2;break;case 8:n=3;break;case 16:n=4;break;case 32:n=5;break;case 256:n=8;break;default:return void this.fromRadix(e,t)}this.t=0,this.s=0;for(var i=e.length,s=!1,o=0;--i>=0;){var c=8==n?255&e[i]:d(e,i);c<0?"-"==e.charAt(i)&&(s=!0):(s=!1,0===o?this[this.t++]=c:o+n>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,(o+=n)>=this.DB&&(o-=this.DB))}r||8!=n||0==(128&e[0])||(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&a.ZERO.subTo(this,this)},a.prototype.fromByteArray=function(e,t){this.fromString(e,256,t)},a.prototype.fromBuffer=function(e){this.fromString(e,256,!0)},a.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},a.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},a.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,a=this.DB-n,i=(1<<a)-1,s=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>a|o,o=(this[r]&i)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()},a.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&i)<<a,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()}},a.prototype.subTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},a.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},a.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=i());var o=i(),c=this.s,u=e.s,d=this.DB-l(n[n.t-1]);d>0?(n.lShiftTo(d,o),s.lShiftTo(d,r)):(n.copyTo(o),s.copyTo(r));var f=o.t,h=o[f-1];if(0!==h){var p=h*(1<<this.F1)+(f>1?o[f-2]>>this.F2:0),m=this.FV/p,v=(1<<this.F1)/p,b=1<<this.F2,g=r.t,y=g-f,w=null==t?i():t;for(o.dlShiftTo(y,w),r.compareTo(w)>=0&&(r[r.t++]=1,r.subTo(w,r)),a.ONE.dlShiftTo(f,w),w.subTo(o,o);o.t<f;)o[o.t++]=0;for(;--y>=0;){var k=r[--g]==h?this.DM:Math.floor(r[g]*m+(r[g-1]+b)*v);if((r[g]+=o.am(0,k,r,y,0,f))<k)for(o.dlShiftTo(y,w),r.subTo(w,r);r[g]<--k;)r.subTo(w,r)}null!=t&&(r.drShiftTo(f,t),c!=u&&a.ZERO.subTo(t,t)),r.t=f,r.clamp(),d>0&&r.rShiftTo(d,r),c<0&&a.ZERO.subTo(r,r)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0===(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},a.prototype.isEven=function(){return 0===(this.t>0?1&this[0]:this.s)},a.prototype.exp=function(e,t){if(e>4294967295||e<1)return a.ONE;var r=i(),n=i(),s=t.convert(this),o=l(e)-1;for(s.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,s,r);else{var c=r;r=n,n=c}return t.revert(r)},a.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},a.prototype.toRadix=function(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=f(r),a=i(),s=i(),o="";for(this.divRemTo(n,a,s);a.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,a.divRemTo(n,a,s);return s.intValue().toString(e)+o},a.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,c=0;c<e.length;++c){var u=d(e,c);u<0?"-"==e.charAt(c)&&0===this.signum()&&(i=!0):(o=t*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&a.ZERO.subTo(this,this)},a.prototype.bitwiseTo=function(e,t,r){var n,a,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(a=e.s&this.DM,n=i;n<this.t;++n)r[n]=t(this[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=i;n<e.t;++n)r[n]=t(a,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},a.prototype.addTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},a.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},a.prototype.dAddOffset=function(e,t){if(0!==e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},a.prototype.multiplyLowerTo=function(e,t,r){var n,a=Math.min(this.t+e.t,t);for(r.s=0,r.t=a;a>0;)r[--a]=0;for(n=r.t-this.t;a<n;++a)r[a+this.t]=this.am(0,e[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e[a],r,a,0,t-a);r.clamp()},a.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},a.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,a=!1,i="",s=this.t,o=this.DB-s*this.DB%t;if(s-- >0)for(o<this.DB&&(r=this[s]>>o)>0&&(a=!0,i=u(r));s>=0;)o<t?(r=(this[s]&(1<<o)-1)<<t-o,r|=this[--s]>>(o+=this.DB-t)):(r=this[s]>>(o-=t)&n,o<=0&&(o+=this.DB,--s)),r>0&&(a=!0),a&&(i+=u(r));return a?i:"0"},a.prototype.negate=function(){var e=i();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},a.prototype.mod=function(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t},a.prototype.clone=function(){var e=i();return this.copyTo(e),e},a.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},a.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},a.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,a=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[a++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0===a&&(128&this.s)!=(128&r)&&++a,(a>0||r!=this.s)&&(t[a++]=r);return t},a.prototype.toBuffer=function(e){var r=t.from(this.toByteArray());if(!0===e&&0===r[0])r=r.slice(1);else if(n.isNumber(e)){if(r.length>e){for(var a=0;a<r.length-e;a++)if(0!==r[a])return null;return r.slice(r.length-e)}if(r.length<e){var i=t.alloc(e);return i.fill(0,0,e-r.length),r.copy(i,e-r.length),i}}return r},a.prototype.equals=function(e){return 0==this.compareTo(e)},a.prototype.min=function(e){return this.compareTo(e)<0?this:e},a.prototype.max=function(e){return this.compareTo(e)>0?this:e},a.prototype.and=function(e){var t=i();return this.bitwiseTo(e,m,t),t},a.prototype.or=function(e){var t=i();return this.bitwiseTo(e,v,t),t},a.prototype.xor=function(e){var t=i();return this.bitwiseTo(e,b,t),t},a.prototype.not=function(){for(var e=i(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},a.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+g(this[e]);return this.s<0?this.t*this.DB:-1},a.prototype.add=function(e){var t=i();return this.addTo(e,t),t},a.prototype.subtract=function(e){var t=i();return this.subTo(e,t),t},a.prototype.multiply=function(e){var t=i();return this.multiplyTo(e,t),t},a.prototype.divide=function(e){var t=i();return this.divRemTo(e,t,null),t},a.prototype.remainder=function(e){var t=i();return this.divRemTo(e,null,t),t},a.prototype.modPow=function(e,t){var r,n,a=e.bitLength(),s=f(1);if(a<=0)return s;r=a<18?1:a<48?3:a<144?4:a<768?5:6,n=a<8?new h(t):t.isEven()?new k(t):new p(t);var o=new Array,c=3,u=r-1,d=(1<<r)-1;if(o[1]=n.convert(this),r>1){var m=i();for(n.sqrTo(o[1],m);c<=d;)o[c]=i(),n.mulTo(m,o[c-2],o[c]),c+=2}var v,b,g=e.t-1,y=!0,w=i();for(a=l(e[g])-1;g>=0;){for(a>=u?v=e[g]>>a-u&d:(v=(e[g]&(1<<a+1)-1)<<u-a,g>0&&(v|=e[g-1]>>this.DB+a-u)),c=r;0===(1&v);)v>>=1,--c;if((a-=c)<0&&(a+=this.DB,--g),y)o[v].copyTo(s),y=!1;else{for(;c>1;)n.sqrTo(s,w),n.sqrTo(w,s),c-=2;c>0?n.sqrTo(s,w):(b=s,s=w,w=b),n.mulTo(w,o[v],s)}for(;g>=0&&0===(e[g]&1<<a);)n.sqrTo(s,w),b=s,s=w,w=b,--a<0&&(a=this.DB-1,--g)}return n.revert(s)},a.prototype.pow=function(e){return this.exp(e,new y)},a.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var a=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(a<i&&(i=a),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},a.int2char=u,a.ZERO=f(0),a.ONE=f(1),a.prototype.square=function(){var e=i();return this.squareTo(e),e},e.exports=a}).call(this,r(9).Buffer)},function(e,t,r){e.exports={pkcs1:r(454),isEncryption:function(t){return e.exports[t]&&e.exports[t].isEncryption},isSignature:function(t){return e.exports[t]&&e.exports[t].isSignature}}},function(e,t,r){var n=r(458);e.exports={Ber:n,BerReader:n.Reader}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,r){"use strict";var n,a=t,i=r(38),s=i.utils.assert;function o(e){"short"===e.type?this.curve=new i.curve.short(e):"edwards"===e.type?this.curve=new i.curve.edwards(e):this.curve=new i.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:r}),r}})}a.PresetCurve=o,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:"SHA256",gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:"SHA256",gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:"SHA256",gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:"SHA384",gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:"SHA512",gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(466)}catch(u){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:"SHA256",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(e,t,r){"use strict";var n=r(0),a=r(5),i=Date.now,s=()=>1e3*i(),o=i,c=setTimeout,u=(e,t,r=c,n=i()+t)=>{var a=()=>{},s=!0,o=r(()=>{s=!0;var t=n-i();t>0?a=u(e,t,r,n):e()},t);return function(){s&&(s=!1,clearTimeout(o)),a()}};class d extends Error{constructor(){super("timed out"),this.constructor=d,this.__proto__=d.prototype,this.message="timed out"}}var f=e=>{if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{var t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(Number.isNaN(t))return;return t}catch(r){return}};e.exports={now:i,microseconds:s,milliseconds:o,seconds:()=>Math.floor(i()/1e3),iso8601:e=>{var t=void 0;if(t="number"===typeof e?Math.floor(e):parseInt(e,10),!(Number.isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(r){return}},parse8601:f,rfc2616:e=>new Date(e).toUTCString(),uuidv1:()=>{var e=(10*s()+122192928e9).toString(16);return e.slice(7,15)+e.slice(3,7)+"1"+e.slice(0,3)+"9696"+"ff".repeat(6)},parseDate:e=>{if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(t){return}return f(e)}},mdy:(e,t="-")=>{t=t||"";var r=new Date(e),n=r.getUTCFullYear().toString(),a=r.getUTCMonth()+1,i=r.getUTCDate();return(a=a<10?"0"+a:a.toString())+t+(i=i<10?"0"+i:i.toString())+t+n},ymd:(e,t="-")=>{t=t||"";var r=new Date(e),n=r.getUTCFullYear().toString(),a=r.getUTCMonth()+1,i=r.getUTCDate();return n+t+(a=a<10?"0"+a:a.toString())+t+(i=i<10?"0"+i:i.toString())},ymdhms:(e,t=" ")=>{var r=new Date(e),n=r.getUTCFullYear(),a=r.getUTCMonth()+1,i=r.getUTCDate(),s=r.getUTCHours(),o=r.getUTCMinutes(),c=r.getUTCSeconds();return n+"-"+(a=a<10?"0"+a:a)+"-"+(i=i<10?"0"+i:i)+t+(s=s<10?"0"+s:s)+":"+(o=o<10?"0"+o:o)+":"+(c=c<10?"0"+c:c)},setTimeout_safe:u,sleep:e=>new Promise(t=>u(t,e)),TimedOut:d,timeout:function(){var e=a(n.mark((function e(t,r){var a,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=()=>{},i=new Promise(e=>a=u(e,t)),e.prev=2,e.next=5,Promise.race([r,i.then(()=>{throw new d})]);case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,a(),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])})));return function(t,r){return e.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.InsufficientFunds,c=s.OrderNotFound;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"acx",name:"ACX",countries:["AU"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/30247614-1fe61c74-9621-11e7-9e8c-f1a627afa279.jpg",extension:".json",api:"https://acx.io/api",www:"https://acx.io",doc:"https://acx.io/documents/api_v2"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},commonCurrencies:{PLA:"Plair"},exceptions:{2002:o,2003:c}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=o.id,u=o.name,d=t.safeString(o,"base_unit"),f=t.safeString(o,"quote_unit"),void 0!==d&&void 0!==f||(l=u.split("/"),d=l[0].toLowerCase(),f=l[1].toLowerCase()),h=d.toUpperCase(),p=f.toUpperCase(),h=t.safeCurrencyCode(h),p=t.safeCurrencyCode(p),m={amount:8,price:8},i.push({id:c,symbol:u,base:h,quote:p,baseId:d,quoteId:f,precision:m,info:o,active:void 0,limits:t.limits});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetMembersMe(e);case 4:for(a=r.sent,i=t.safeValue(a,"accounts"),s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"balance"),f.used=t.safeFloat(c,"locked"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={market:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicGetDepth(i.extend(o,r));case 7:return c=n.sent,u=i.safeTimestamp(c,"timestamp"),n.abrupt("return",i.parseOrderBook(c,u));case 10:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"at");e=e.ticker;var n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=void 0,f=u,u in r.markets_by_id?(d=r.markets_by_id[u],f=d.symbol):(l=u.slice(0,3),h=u.slice(3,6),l=l.toUpperCase(),h=h.toUpperCase(),l=r.safeCurrencyCode(l),h=r.safeCurrencyCode(h),f=l+"/"+h),o[f]=r.parseTicker(i[u],d);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTickersMarket(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"tid"),a=void 0;return void 0!==t&&(a=t.symbol),{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),fee:void 0}}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTimestamp(e);case 2:return a=r.sent,r.abrupt("return",1e3*a);case 4:case"end":return r.stop()}}),r)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===i&&(i=500),u={market:c.id,period:o.timeframes[t],limit:i},void 0!==r&&(u.timestamp=parseInt(r/1e3)),n.next=8,o.publicGetK(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"created_at")),i=this.parseOrderStatus(this.safeString(e,"state")),s=this.safeString(e,"type"),o=this.safeString(e,"side");return{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:i,symbol:n,type:s,timeInForce:void 0,postOnly:void 0,side:o,price:this.safeFloat(e,"price"),stopPrice:void 0,amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e,cost:void 0,average:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:parseInt(e)},t.next=5,i.privateGetOrder(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={market:c.marketId(e),side:r,volume:i.toString(),ord_type:t},"limit"===t&&(u.price=s.toString()),n.next=6,c.privatePostOrders(c.extend(u,o));case 6:return d=n.sent,f=c.safeValue(d,"market"),l=c.safeValue(c.markets_by_id,f),n.abrupt("return",c.parseOrder(d,l));case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostOrderDelete(i.extend(a,r));case 5:if(s=t.sent,o=i.parseOrder(s),"closed"!==(u=o.status)&&"canceled"!==u){t.next=10;break}throw new c(i.id+" "+i.json(o));case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return i=o.currency(e),c={currency:i.id,sum:t,address:r},n.next=7,o.privatePostWithdraw(o.extend(c,s));case 7:return u=n.sent,n.abrupt("return",{info:u,id:void 0});case 9:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}encodeParams(e){if("orders"in e){for(var t=e.orders,r=this.urlencode(this.keysort(this.omit(e,"orders"))),n=0;n<t.length;n++)for(var a=t[n],i=Object.keys(a),s=0;s<i.length;s++){var o=i[s];r+="&orders%5B%5D%5B"+o+"%5D="+a[o].toString()}return r}return this.urlencode(this.keysort(e))}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/"+this.implodeParams(e,n);"extension"in this.urls&&(s+=this.urls.extension);var o=this.omit(n,this.extractParams(e)),c=this.urls.api+s;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.encodeParams(this.extend({access_key:this.apiKey,tonce:u},n)),f=r+"|"+s+"|"+d,l=d+"&signature="+this.hmac(this.encode(f),this.encode(this.secret));"GET"===r?c+="?"+l:(i=l,a={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&400===e){var u=this.safeValue(s,"error"),d=this.safeString(u,"code"),f=this.id+" "+this.json(s);this.throwExactlyMatchedException(this.exceptions,d,f)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.ExchangeNotAvailable,d=s.InsufficientFunds,f=s.OrderNotFound,l=s.InvalidOrder,h=s.DDoSProtection,p=s.InvalidNonce,m=s.AuthenticationError,v=s.RateLimitExceeded,b=s.PermissionDenied,g=s.NotSupported,y=s.BadRequest,w=s.BadSymbol,k=s.AccountSuspended,x=s.OrderImmediatelyFillable,_=r(16),S=_.ROUND,T=_.TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"binance",name:"Binance",countries:["JP","MT"],rateLimit:500,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,fetchCurrencies:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",test:{dapiPublic:"https://testnet.binancefuture.com/dapi/v1",dapiPrivate:"https://testnet.binancefuture.com/dapi/v1",fapiPublic:"https://testnet.binancefuture.com/fapi/v1",fapiPrivate:"https://testnet.binancefuture.com/fapi/v1",fapiPrivateV2:"https://testnet.binancefuture.com/fapi/v2",public:"https://testnet.binance.vision/api/v3",private:"https://testnet.binance.vision/api/v3",v3:"https://testnet.binance.vision/api/v3",v1:"https://testnet.binance.vision/api/v1"},api:{wapi:"https://api.binance.com/wapi/v3",sapi:"https://api.binance.com/sapi/v1",dapiPublic:"https://dapi.binance.com/dapi/v1",dapiPrivate:"https://dapi.binance.com/dapi/v1",dapiData:"https://dapi.binance.com/futures/data",fapiPublic:"https://fapi.binance.com/fapi/v1",fapiPrivate:"https://fapi.binance.com/fapi/v1",fapiData:"https://fapi.binance.com/futures/data",fapiPrivateV2:"https://fapi.binance.com/fapi/v2",public:"https://api.binance.com/api/v3",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:"https://www.binance.com/?ref=10205187",doc:["https://binance-docs.github.io/apidocs/spot/en"],api_management:"https://www.binance.com/en/usercenter/settings/api-management",fees:"https://www.binance.com/en/fee/schedule"},api:{sapi:{get:["accountSnapshot","margin/asset","margin/pair","margin/allAssets","margin/allPairs","margin/priceIndex","asset/assetDividend","asset/transfer","margin/loan","margin/repay","margin/account","margin/transfer","margin/interestHistory","margin/forceLiquidationRec","margin/order","margin/openOrders","margin/allOrders","margin/myTrades","margin/maxBorrowable","margin/maxTransferable","margin/isolated/transfer","margin/isolated/account","margin/isolated/pair","margin/isolated/allPairs","futures/transfer","futures/loan/borrow/history","futures/loan/repay/history","futures/loan/wallet","futures/loan/configs","futures/loan/calcAdjustLevel","futures/loan/calcMaxAdjustAmount","futures/loan/adjustCollateral/history","futures/loan/liquidationHistory","capital/config/getall","capital/deposit/address","capital/deposit/hisrec","capital/deposit/subAddress","capital/deposit/subHisrec","capital/withdraw/history","sub-account/futures/account","sub-account/futures/accountSummary","sub-account/futures/positionRisk","sub-account/futures/internalTransfer","sub-account/margin/account","sub-account/margin/accountSummary","sub-account/spotSummary","sub-account/status","sub-account/transfer/subUserHistory","sub-account/universalTransfer","lending/daily/product/list","lending/daily/userLeftQuota","lending/daily/userRedemptionQuota","lending/daily/token/position","lending/union/account","lending/union/purchaseRecord","lending/union/redemptionRecord","lending/union/interestHistory","lending/project/list","lending/project/position/list","mining/pub/algoList","mining/pub/coinList","mining/worker/detail","mining/worker/list","mining/payment/list","mining/statistics/user/status","mining/statistics/user/list","bswap/pools","bswap/liquidity","bswap/liquidityOps","bswap/quote","bswap/swap","blvt/tokenInfo","blvt/subscribe/record","blvt/redeem/record","blvt/userLimit","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/recentRecord","apiReferral/rebate/historicalRecord","apiReferral/kickback/recentRecord","apiReferral/kickback/historicalRecord"],post:["asset/dust","asset/transfer","account/disableFastWithdrawSwitch","account/enableFastWithdrawSwitch","capital/withdraw/apply","margin/transfer","margin/loan","margin/repay","margin/order","margin/isolated/create","margin/isolated/transfer","sub-account/margin/transfer","sub-account/margin/enable","sub-account/margin/enable","sub-account/futures/enable","sub-account/futures/transfer","sub-account/futures/internalTransfer","sub-account/transfer/subToSub","sub-account/transfer/subToMaster","sub-account/universalTransfer","userDataStream","userDataStream/isolated","futures/transfer","futures/loan/borrow","futures/loan/repay","futures/loan/adjustCollateral","lending/customizedFixed/purchase","lending/daily/purchase","lending/daily/redeem","bswap/liquidityAdd","bswap/liquidityRemove","bswap/swap","blvt/subscribe","blvt/redeem","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/historicalRecord","apiReferral/kickback/historicalRecord"],put:["userDataStream","userDataStream/isolated"],delete:["margin/openOrders","margin/order","userDataStream","userDataStream/isolated"]},wapi:{post:["withdraw","sub-account/transfer"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","apiTradingStatus","userAssetDribbletLog","tradeFee","assetDetail","sub-account/list","sub-account/transfer/history","sub-account/assets"]},dapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","premiumIndex","fundingRate","klines","continuousKlines","indexPriceKlines","markPriceKlines","ticker/24hr","ticker/price","ticker/bookTicker","allForceOrders","openInterest"]},dapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerBuySellVol","basis"]},dapiPrivate:{get:["positionSide/dual","order","openOrder","openOrders","allOrders","balance","account","positionMargin/history","positionRisk","userTrades","income","leverageBracket","forceOrders","adlQuantile"],post:["positionSide/dual","order","batchOrders","countdownCancelAll","leverage","marginType","positionMargin","listenKey"],put:["listenKey"],delete:["order","allOpenOrders","batchOrders","listenKey"]},fapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","klines","continuousKlines","fundingRate","premiumIndex","ticker/24hr","ticker/price","ticker/bookTicker","allForceOrders","openInterest","indexInfo"]},fapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerlongshortRatio"]},fapiPrivate:{get:["allForceOrders","allOrders","openOrder","openOrders","order","account","balance","leverageBracket","positionMargin/history","positionRisk","positionSide/dual","userTrades","income","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/traderNum","apiReferral/overview","apiReferral/tradeVol","apiReferral/rebateVol","apiReferral/traderSummary"],post:["batchOrders","positionSide/dual","positionMargin","marginType","order","leverage","listenKey","countdownCancelAll","apiReferral/customization","apiReferral/userCustomization"],put:["listenKey"],delete:["batchOrders","order","allOpenOrders","listenKey"]},fapiPrivateV2:{get:["account","balance","positionRisk"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["ping","time","depth","trades","aggTrades","historicalTrades","klines","ticker/24hr","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["allOrderList","openOrderList","orderList","order","openOrders","allOrders","account","myTrades"],post:["order/oco","order","order/test"],delete:["openOrders","orderList","order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{BCC:"BCC",YOYO:"YOYOW"},options:{defaultTimeInForce:"GTC",defaultType:"spot",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT"},quoteOrderQty:!0,broker:{spot:"x-R4BD3S82",margin:"x-R4BD3S82",future:"x-xcKtGhcu",delivery:"x-xcKtGhcu"}},exceptions:{"System abnormality":o,"You are not authorized to execute this request.":b,"API key does not exist":m,"Order would trigger immediately.":x,"Stop price would trigger immediately.":x,"Order would immediately match and take.":x,"Account has insufficient balance for requested action.":d,"Rest API trading is not enabled.":u,"You don't have permission.":b,"Market is closed.":u,"Too many requests.":h,"-1000":u,"-1001":u,"-1002":m,"-1003":v,"-1013":l,"-1015":v,"-1016":u,"-1020":y,"-1021":p,"-1022":m,"-1100":y,"-1101":y,"-1102":y,"-1103":y,"-1104":y,"-1105":y,"-1106":y,"-1111":y,"-1112":l,"-1114":y,"-1115":y,"-1116":y,"-1117":y,"-1118":y,"-1119":y,"-1120":y,"-1121":w,"-1125":m,"-1127":y,"-1128":y,"-1130":y,"-1131":y,"-2010":o,"-2011":f,"-2013":f,"-2014":m,"-2015":m,"-2019":d,"-3005":d,"-3008":d,"-3010":o,"-3022":k,"-4028":y}})}currencyToPrecision(e,t){return this.numberToString(t)}nonce(){return this.milliseconds()-this.options.timeDifference}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.safeString2(t.options,"fetchTime","defaultType","spot"),i="publicGetTime","future"===a?i="fapiPublicGetTime":"delivery"===a&&(i="dapiPublicGetTime"),r.next=5,t[i](e);case 5:return s=r.sent,r.abrupt("return",t.safeInteger(s,"serverTime"));case 7:case"end":return r.stop()}}),r)})))()}loadTimeDifference(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchTime(e);case 2:return a=r.sent,i=t.milliseconds(),t.options.timeDifference=i-a,r.abrupt("return",t.options.timeDifference);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.checkRequiredCredentials(!1)){r.next=2;break}return r.abrupt("return",void 0);case 2:return r.next=4,t.sapiGetCapitalConfigGetall(e);case 4:for(a=r.sent,i={},s=0;s<a.length;s++){for(o=a[s],c=t.safeString(o,"coin"),u=t.safeString(o,"name"),d=t.safeCurrencyCode(c),void 0,f=!0,l=!0,h=t.safeValue(o,"networkList",[]),p={},m=void 0,v=0;v<h.length;v++)b=h[v],g=t.safeString(b,"name"),y=t.safeFloat(b,"withdrawFee"),w=t.safeValue(b,"depositEnable"),k=t.safeValue(b,"withdrawEnable"),l=l||w,f=f||k,p[g]=y,(t.safeValue(b,"isDefault")||void 0===m)&&(m=y);x=t.safeValue(o,"trading"),_=f&&l&&x,i[d]={id:c,name:u,code:d,precision:void 0,info:o,active:_,fee:m,fees:p,limits:t.limits}}return r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.safeString2(t.options,"fetchMarkets","defaultType","spot"),i=t.safeString(e,"type",a),s=t.omit(e,"type"),"spot"===i||"future"===i||"margin"===i||"delivery"===i){r.next=5;break}throw new o(t.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'delivery' or 'future'");case 5:return c="publicGetExchangeInfo","future"===i?c="fapiPublicGetExchangeInfo":"delivery"===i&&(c="dapiPublicGetExchangeInfo"),r.next=9,t[c](s);case 9:if(u=r.sent,!t.options.adjustForTimeDifference){r.next=13;break}return r.next=13,t.loadTimeDifference();case 13:for(d=t.safeValue(u,"symbols"),f=[],l=0;l<d.length;l++)h=d[l],p="spot"===i,m="future"===i,v="delivery"===i,b=t.safeString(h,"symbol"),g=t.safeStringLower(h,"symbol"),y=t.safeString(h,"baseAsset"),w=t.safeString(h,"quoteAsset"),k=t.safeCurrencyCode(y),x=t.safeCurrencyCode(w),_=t.safeString(h,"contractType"),S=(m||v)&&"PERPETUAL"!==_?b:k+"/"+x,T=t.safeValue(h,"filters",[]),O=t.indexBy(T,"filterType"),A={base:t.safeInteger(h,"baseAssetPrecision"),quote:t.safeInteger(h,"quotePrecision"),amount:t.safeInteger(h,"baseAssetPrecision"),price:t.safeInteger(h,"quotePrecision")},M=t.safeString2(h,"status","contractStatus"),E="TRADING"===M,C=t.safeValue(h,"isMarginTradingAllowed",m||v),I={id:b,lowercaseId:g,symbol:S,base:k,quote:x,baseId:y,quoteId:w,info:h,type:i,spot:p,margin:C,future:m,delivery:v,active:E,precision:A,limits:{amount:{min:Math.pow(10,-A.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}},"PRICE_FILTER"in O&&(F=t.safeValue(O,"PRICE_FILTER",{}),I.limits.price={min:t.safeFloat(F,"minPrice"),max:void 0},void 0!==(P=t.safeFloat(F,"maxPrice"))&&P>0&&(I.limits.price.max=P),I.precision.price=t.precisionFromString(F.tickSize)),"LOT_SIZE"in O&&(B=t.safeValue(O,"LOT_SIZE",{}),R=t.safeString(B,"stepSize"),I.precision.amount=t.precisionFromString(R),I.limits.amount={min:t.safeFloat(B,"minQty"),max:t.safeFloat(B,"maxQty")}),"MARKET_LOT_SIZE"in O&&(L=t.safeValue(O,"MARKET_LOT_SIZE",{}),I.limits.market={min:t.safeFloat(L,"minQty"),max:t.safeFloat(L,"maxQty")}),"MIN_NOTIONAL"in O&&(N=t.safeValue(O,"MIN_NOTIONAL",{}),I.limits.cost.min=t.safeFloat2(N,"minNotional","notional")),f.push(I);return r.abrupt("return",f);case 17:case"end":return r.stop()}}),r)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=n*u,f=o.precision.price;return"sell"===r?d*=a:(c="base",f=o.precision.amount),d=this.decimalToPrecision(d,S,f,this.precisionMode),{type:i,currency:o[c],rate:u,cost:parseFloat(d)}}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString2(t.options,"fetchBalance","defaultType","spot"),i=t.safeString(e,"type",a),s="privateGetAccount","future"===i?(o=t.safeValue(t.options,"future",{}),c=t.safeValue(o,"fetchBalance",{}),s=t.safeString(c,"method","fapiPrivateV2GetAccount")):"delivery"===i?(u=t.safeValue(t.options,"delivery",{}),d=t.safeValue(u,"fetchBalance",{}),s=t.safeString(d,"method","dapiPrivateGetAccount")):"margin"===i&&(s="sapiGetMarginAccount"),f=t.omit(e,"type"),r.next=9,t[s](f);case 9:if(l=r.sent,h={info:l},"spot"===i||"margin"===i)for(p=t.safeValue2(l,"balances","userAssets",[]),m=0;m<p.length;m++)v=p[m],b=t.safeString(v,"asset"),g=t.safeCurrencyCode(b),(y=t.account()).free=t.safeFloat(v,"free"),y.used=t.safeFloat(v,"locked"),h[g]=y;else for(w=l,Array.isArray(l)||(w=t.safeValue(l,"assets",[])),k=0;k<w.length;k++)x=w[k],_=t.safeString(x,"asset"),S=t.safeCurrencyCode(_),(T=t.account()).free=t.safeFloat(x,"availableBalance"),T.used=t.safeFloat(x,"initialMargin"),T.total=t.safeFloat2(x,"marginBalance","balance"),h[S]=T;return r.abrupt("return",t.parseBalance(h));case 13:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id},void 0!==t&&(o.limit=t),c="publicGetDepth",s.future?c="fapiPublicGetDepth":s.delivery&&(c="dapiPublicGetDepth"),n.next=9,i[c](i.extend(o,r));case 9:return u=n.sent,(d=i.parseOrderBook(u)).nonce=i.safeInteger(u,"lastUpdateId"),n.abrupt("return",d);case 13:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"closeTime"),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"lastPrice");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"openPrice"),close:i,last:i,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.wapiGetSystemStatus(e);case 2:return a=r.sent,void 0!==(i=t.safeValue(a,"status"))&&(i=0===i?"ok":"maintenance",t.status=t.extend(t.status,{status:i,updated:t.milliseconds()})),r.abrupt("return",t.status);case 6:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},o="publicGetTicker24hr",i.future?o="fapiPublicGetTicker24hr":i.delivery&&(o="dapiPublicGetTicker24hr"),n.next=8,r[o](r.extend(s,t));case 8:if(c=n.sent,!Array.isArray(c)){n.next=12;break}return u=r.safeValue(c,0,{}),n.abrupt("return",r.parseTicker(u,i));case 12:return n.abrupt("return",r.parseTicker(c,i));case 13:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchBidsAsks(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeString2(r.options,"fetchBidsAsks","defaultType","spot"),s=r.safeString(t,"type",i),o=r.omit(t,"type"),c=void 0,c="future"===s?"fapiPublicGetTickerBookTicker":"delivery"===s?"dapiPublicGetTickerBookTicker":"publicGetTickerBookTicker",n.next=9,r[c](o);case 9:return u=n.sent,n.abrupt("return",r.parseTickers(u,e));case 11:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeString2(r.options,"fetchTickers","defaultType","spot"),s=r.safeString(t,"type",i),o=r.omit(t,"type"),c=void 0,c="future"===s?"fapiPublicGetTicker24hr":"delivery"===s?"dapiPublicGetTicker24hr":"publicGetTicker24hr",u=r.safeString(r.options,"fetchTickersMethod",c),n.next=10,r[u](o);case 10:return d=n.sent,n.abrupt("return",r.parseTickers(d,e));case 12:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),500,1500,i=void 0===i?500:Math.min(i,1500),u={symbol:c.id,interval:o.timeframes[t],limit:i},d=o.parseTimeframe(t),void 0!==r&&(u.startTime=r,r>0&&(f=o.sum(r,i*d*1e3-1),l=o.milliseconds(),u.endTime=Math.min(l,f))),h="publicGetKlines",c.future?h="fapiPublicGetKlines":c.delivery&&(h="dapiPublicGetKlines"),n.next=13,o[h](o.extend(u,s));case 13:return p=n.sent,n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 15:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){if("isDustTrade"in e)return this.parseDustTrade(e,t);var r=this.safeInteger2(e,"T","time"),n=this.safeFloat2(e,"p","price"),a=this.safeFloat2(e,"q","qty"),i=this.safeString2(e,"a","id"),s=void 0,o=this.safeString(e,"orderId");"m"in e?s=e.m?"sell":"buy":"isBuyerMaker"in e?s=e.isBuyerMaker?"sell":"buy":"side"in e?s=this.safeStringLower(e,"side"):"isBuyer"in e&&(s=e.isBuyer?"buy":"sell");var c=void 0;"commission"in e&&(c={cost:this.safeFloat(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});var u=void 0;"isMaker"in e&&(u=e.isMaker?"maker":"taker"),"maker"in e&&(u=e.maker?"maker":"taker");var d=this.safeString(e,"symbol"),f=this.safeSymbol(d,t),l=void 0;return void 0!==n&&void 0!==a&&(l=n*a),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:f,id:i,order:o,type:void 0,side:s,takerOrMaker:u,price:n,amount:a,cost:l,fee:c}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},u=s.safeString2(s.options,"fetchTrades","defaultType","spot"),d=s.safeString(i,"type",u),f=s.omit(i,"type"),l=void 0,l="future"===d?"fapiPublicGetAggTrades":"delivery"===d?"dapiPublicGetAggTrades":"publicGetAggTrades","publicGetAggTrades"===(h=s.safeString(s.options,"fetchTradesMethod",l))?(void 0!==t&&(c.startTime=t,c.endTime=s.sum(t,36e5)),"future"===d?h="fapiPublicGetAggTrades":"delivery"===d&&(h="dapiPublicGetAggTrades")):"publicGetHistoricalTrades"===h&&("future"===d?h="fapiPublicGetHistoricalTrades":"delivery"===d&&(h="dapiPublicGetHistoricalTrades")),void 0!==r&&(c.limit=r),n.next=14,s[h](s.extend(c,f));case 14:return p=n.sent,n.abrupt("return",s.parseTrades(p,o,t,r));case 16:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=void 0;"time"in e?i=this.safeInteger(e,"time"):"transactTime"in e&&(i=this.safeInteger(e,"transactTime"));var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"origQty"),c=this.safeFloat(e,"executedQty"),u=void 0,d=this.safeFloat2(e,"cummulativeQuoteQty","cumQuote");void 0!==c&&(void 0!==o&&(u=o-c,this.options.parseOrderToPrecision&&(u=parseFloat(this.amountToPrecision(a,u))),u=Math.max(u,0)),void 0!==s&&void 0===d&&(d=s*c));var f=this.safeString(e,"orderId"),l=this.safeStringLower(e,"type");"market"===l?0===s&&void 0!==d&&void 0!==c&&d>0&&c>0&&(s=d/c,this.options.parseOrderToPrecision&&(s=parseFloat(this.priceToPrecision(a,s)))):"limit_maker"===l&&(l="limit");var h=this.safeStringLower(e,"side"),p=void 0,m=void 0,v=this.safeValue(e,"fills");if(void 0!==v&&(m=this.parseTrades(v,t)).length>0){d=m[0].cost,p={cost:m[0].fee.cost,currency:m[0].fee.currency};for(var b=1;b<m.length;b++)d=this.sum(d,m[b].cost),p.cost=this.sum(p.cost,m[b].fee.cost)}var g=void 0;void 0!==d&&(c&&(g=d/c,this.options.parseOrderToPrecision&&(g=parseFloat(this.priceToPrecision(a,g)))),this.options.parseOrderToPrecision&&(d=parseFloat(this.costToPrecision(a,d))));var y=this.safeString(e,"clientOrderId"),w=this.safeString(e,"timeInForce"),k="limit_maker"===l||"GTX"===w,x=this.safeFloat(e,"stopPrice");return{info:e,id:f,clientOrderId:y,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:a,type:l,timeInForce:w,postOnly:k,side:h,price:s,stopPrice:x,amount:o,cost:d,average:g,filled:c,remaining:u,status:r,fee:p,trades:m}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,h,p,m,v,b,g,y,w,k,x,_,S,O,A,M;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d=c.safeString2(c.options,"createOrder","defaultType",u.type),f=c.safeString(o,"type",d),h=c.safeString2(o,"newClientOrderId","clientOrderId"),o=c.omit(o,["type","newClientOrderId","clientOrderId"]),p="privatePostOrder","future"===f?p="fapiPrivatePostOrder":"delivery"===f?p="dapiPrivatePostOrder":"margin"===f&&(p="sapiPostMarginOrder"),u.spot&&(c.safeValue(o,"test",!1)&&(p+="Test"),o=c.omit(o,"test")),m=t.toUpperCase(),v=c.safeValue(u.info,"orderTypes"),c.inArray(m,v)){n.next=14;break}throw new l(c.id+" "+t+" is not a valid order type in "+u.type+" market "+e);case 14:if(b={symbol:u.id,type:m,side:r.toUpperCase()},void 0===h?(g=c.safeValue(c.options,"broker"))&&void 0!==(y=c.safeString(g,f))&&(b.newClientOrderId=y+c.uuid22()):b.newClientOrderId=h,u.spot&&(b.newOrderRespType=c.safeValue(c.options.newOrderRespType,t,"RESULT")),w=!1,k=!1,x=!1,_=!1,"MARKET"!==m){n.next=26;break}c.safeValue(c.options,"quoteOrderQty",!1)?(S=c.safeFloat(o,"quoteOrderQty"),O=u.precision.price,void 0!==S?(b.quoteOrderQty=c.decimalToPrecision(S,T,O,c.precisionMode),o=c.omit(o,"quoteOrderQty")):void 0!==s?b.quoteOrderQty=c.decimalToPrecision(i*s,T,O,c.precisionMode):_=!0):_=!0,n.next=67;break;case 26:if("LIMIT"!==m){n.next=32;break}k=!0,w=!0,_=!0,n.next=67;break;case 32:if("STOP_LOSS"!==m&&"TAKE_PROFIT"!==m){n.next=38;break}x=!0,_=!0,u.future&&(k=!0),n.next=67;break;case 38:if("STOP_LOSS_LIMIT"!==m&&"TAKE_PROFIT_LIMIT"!==m){n.next=45;break}_=!0,x=!0,k=!0,w=!0,n.next=67;break;case 45:if("LIMIT_MAKER"!==m){n.next=50;break}k=!0,_=!0,n.next=67;break;case 50:if("STOP"!==m){n.next=56;break}_=!0,x=!0,k=!0,n.next=67;break;case 56:if("STOP_MARKET"!==m&&"TAKE_PROFIT_MARKET"!==m){n.next=62;break}void 0===c.safeValue(o,"closePosition")&&(_=!0),x=!0,n.next=67;break;case 62:if("TRAILING_STOP_MARKET"!==m){n.next=67;break}if(_=!0,void 0!==c.safeFloat(o,"callbackRate")){n.next=67;break}throw new l(c.id+" createOrder() requires a callbackRate extra param for a "+t+" order");case 67:if(_&&(b.quantity=c.amountToPrecision(e,i)),!k){n.next=72;break}if(void 0!==s){n.next=71;break}throw new l(c.id+" createOrder() requires a price argument for a "+t+" order");case 71:b.price=c.priceToPrecision(e,s);case 72:if(w&&(b.timeInForce=c.options.defaultTimeInForce),!x){n.next=81;break}if(void 0!==(A=c.safeFloat(o,"stopPrice"))){n.next=79;break}throw new l(c.id+" createOrder() requires a stopPrice extra param for a "+t+" order");case 79:o=c.omit(o,"stopPrice"),b.stopPrice=c.priceToPrecision(e,A);case 81:return n.next=83,c[p](c.extend(b,o));case 83:return M=n.sent,n.abrupt("return",c.parseOrder(M,u));case 85:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o=i.safeString2(i.options,"fetchOrder","defaultType",s.type),u=i.safeString(r,"type",o),d="privateGetOrder","future"===u?d="fapiPrivateGetOrder":"delivery"===u?d="dapiPrivateGetOrder":"margin"===u&&(d="sapiGetMarginOrder"),f={symbol:s.id},void 0!==(l=i.safeValue2(r,"origClientOrderId","clientOrderId"))?f.origClientOrderId=l:f.orderId=e,h=i.omit(r,["type","clientOrderId","origClientOrderId"]),n.next=15,i[d](i.extend(f,h));case 15:return p=n.sent,n.abrupt("return",i.parseOrder(p,s));case 17:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u=s.safeString2(s.options,"fetchOrders","defaultType",o.type),d=s.safeString(i,"type",u),f="privateGetAllOrders","future"===d?f="fapiPrivateGetAllOrders":"delivery"===d?f="dapiPrivateGetAllOrders":"margin"===d&&(f="sapiGetMarginAllOrders"),l={symbol:o.id},void 0!==t&&(l.startTime=t),void 0!==r&&(l.limit=r),h=s.omit(i,"type"),n.next=15,s[f](s.extend(l,h));case 15:return p=n.sent,n.abrupt("return",s.parseOrders(p,o,t,r));case 17:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(c=void 0,u=void 0,d=void 0,f={},void 0===e){n.next=14;break}c=s.market(e),f.symbol=c.id,l=s.safeString2(s.options,"fetchOpenOrders","defaultType",c.type),d=s.safeString(i,"type",l),u=s.omit(i,"type"),n.next=24;break;case 14:if(!s.options.warnOnFetchOpenOrdersWithoutSymbol){n.next=21;break}throw h=s.symbols,p=h.length,m=parseInt(p/2),new o(s.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+m.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+s.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.');case 21:v=s.safeString2(s.options,"fetchOpenOrders","defaultType","spot"),d=s.safeString(i,"type",v),u=s.omit(i,"type");case 24:return b="privateGetOpenOrders","future"===d?b="fapiPrivateGetOpenOrders":"delivery"===d?b="dapiPrivateGetOpenOrders":"margin"===d&&(b="sapiGetMarginOpenOrders"),n.next=28,s[b](s.extend(f,u));case 28:return g=n.sent,n.abrupt("return",s.parseOrders(g,c,t,r));case 30:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrders(e,t,r,i);case 2:return o=n.sent,n.abrupt("return",s.filterBy(o,"status","closed"));case 4:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o=i.safeString2(i.options,"fetchOpenOrders","defaultType",s.type),u=i.safeString(r,"type",o),d=i.safeValue2(r,"origClientOrderId","clientOrderId"),f={symbol:s.id},void 0===d?f.orderId=e:f.origClientOrderId=d,l="privateDeleteOrder","future"===u?l="fapiPrivateDeleteOrder":"delivery"===u?l="dapiPrivateDeleteOrder":"margin"===u&&(l="sapiDeleteMarginOrder"),h=i.omit(r,["type","origClientOrderId","clientOrderId"]),n.next=15,i[l](i.extend(f,h));case 15:return p=n.sent,n.abrupt("return",i.parseOrder(p));case 17:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.market(e),s={symbol:i.id},o=r.safeString2(r.options,"cancelAllOrders","defaultType","spot"),u=r.safeString(t,"type",o),d=r.omit(t,"type"),f="privateDeleteOpenOrders","margin"===u?f="sapiDeleteMarginOpenOrders":"future"===u?f="fapiPrivateDeleteAllOpenOrders":"delivery"===u&&(f="dapiPrivateDeleteAllOpenOrders"),n.next=13,r[f](r.extend(s,d));case 13:if(l=n.sent,!Array.isArray(l)){n.next=18;break}return n.abrupt("return",r.parseOrders(l,i));case 18:return n.abrupt("return",l);case 19:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,r,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.fetchBalance(i);case 4:return t=e.sent,r=s.safeValue(t,"info",{}),a=s.safeValue2(r,"positions","userAssets",[]),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u=s.safeString2(s.options,"fetchMyTrades","defaultType",o.type),d=s.safeString(i,"type",u),i=s.omit(i,"type"),f=void 0,"spot"===d?f="privateGetMyTrades":"margin"===d?f="sapiGetMarginMyTrades":"future"===d?f="fapiPrivateGetUserTrades":"delivery"===d&&(f="dapiPrivateGetUserTrades"),l={symbol:o.id},void 0!==t&&(l.startTime=t),void 0!==r&&(l.limit=r),n.next=15,s[f](s.extend(l,i));case 15:return h=n.sent,n.abrupt("return",s.parseTrades(h,o,t,r));case 17:case"end":return n.stop()}}),a)})))()}fetchMyDustTrades(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o,c,u,d,f,l,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.wapiGetUserAssetDribbletLog(i);case 4:for(a=e.sent,o=s.safeValue(a,"results",{}),c=s.safeValue(o,"rows",[]),u=[],d=0;d<c.length;d++)for(f=c[d].logs,l=0;l<f.length;l++)f[l].isDustTrade=!0,u.push(f[l]);return h=s.parseTrades(u,void 0,t,r),e.abrupt("return",s.filterBySinceLimit(h,t,r));case 11:case"end":return e.stop()}}),e)})))()}parseDustTrade(e,t){var r=this.safeString(e,"tranId"),n=this.parse8601(this.safeString(e,"operateTime")),a=this.safeCurrencyCode(this.safeString(e,"fromAsset")),i=this.currency("BNB").code,s=i+"/"+a,o=!1;s in this.markets&&(o=!0);var c={currency:i,cost:this.safeFloat(e,"serviceChargeAmount")},u=void 0,d=void 0,f=void 0,l=void 0;o?(u=s,d=this.sum(this.safeFloat(e,"transferedAmount"),c.cost),f=this.safeFloat(e,"amount"),l="buy"):(u=a+"/"+i,d=this.safeFloat(e,"amount"),f=this.sum(this.safeFloat(e,"transferedAmount"),c.cost),l="sell");var h=void 0;void 0!==f&&d&&(h=f/d);return{id:void 0,timestamp:n,datetime:this.iso8601(n),symbol:u,order:r,type:void 0,takerOrMaker:void 0,side:l,amount:d,price:h,cost:f,fee:c,info:e}}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.asset=o.id),void 0!==t&&(c.startTime=t,c.endTime=s.sum(t,7776e6)),n.next=8,s.wapiGetDepositHistory(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTransactions(u.depositList,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.asset=o.id),void 0!==t&&(c.startTime=t,c.endTime=s.sum(t,7776e6)),n.next=8,s.wapiGetWithdrawHistory(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTransactions(u.withdrawList,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTransactionStatusByType(e,t){var r=this.safeValue({deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},t,{});return this.safeString(r,e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString(e,"addressTag");void 0!==a&&a.length<1&&(a=void 0);var i=this.safeString(e,"txId");void 0!==i&&i.indexOf("Internal transfer ")>=0&&(i=i.slice(18));var s=this.safeString(e,"asset"),o=this.safeCurrencyCode(s,t),c=void 0,u=this.safeInteger(e,"insertTime"),d=this.safeInteger(e,"applyTime"),f=this.safeString(e,"type");void 0===f&&(void 0!==u&&void 0===d?(f="deposit",c=u):void 0===u&&void 0!==d&&(f="withdrawal",c=d));var l=this.parseTransactionStatusByType(this.safeString(e,"status"),f),h=this.safeFloat(e,"amount"),p=this.safeFloat(e,"transactionFee"),m=void 0;void 0!==p&&(m={currency:o,cost:p});var v=this.safeInteger(e,"successTime");return{info:e,id:r,txid:i,timestamp:c,datetime:this.iso8601(c),address:n,addressTo:n,addressFrom:void 0,tag:a,tagTo:a,tagFrom:void 0,type:f,amount:h,currency:o,status:l,updated:v,fee:m}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={coin:i.id},n.next=6,r.sapiGetCapitalDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),u=r.safeString(o,"tag"),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:u,info:o});case 11:case"end":return n.stop()}}),a)})))()}fetchFundingFees(e,t={}){var r=this;return a(n.mark((function e(){var a,i,s,o,c,u,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wapiGetAssetDetail(t);case 2:for(a=e.sent,i=r.safeValue(a,"assetDetail",{}),s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=r.safeCurrencyCode(u),o[d]=r.safeFloat(i[u],"withdrawFee");return e.abrupt("return",{withdraw:o,deposit:{},info:a});case 8:case"end":return e.stop()}}),e)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u=r.slice(0,20),d={asset:c.id,address:r,amount:parseFloat(t),name:u},void 0!==i&&(d.addressTag=i),n.next=9,o.wapiPostWithdraw(o.extend(d,s));case 9:return f=n.sent,n.abrupt("return",{info:f,id:o.safeString(f,"id")});case 11:case"end":return n.stop()}}),a)})))()}parseTradingFee(e,t){var r=this.safeString(e,"symbol");return{info:e,symbol:this.safeSymbol(r),maker:this.safeFloat(e,"maker"),taker:this.safeFloat(e,"taker")}}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.wapiGetTradeFee(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"tradeFee",[]),u=r.safeValue(c,0,{}),n.abrupt("return",r.parseTradingFee(u));case 10:case"end":return n.stop()}}),a)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.wapiGetTradeFee(e);case 4:for(a=r.sent,i=t.safeValue(a,"tradeFee",[]),s={},o=0;o<i.length;o++)c=t.parseTradingFee(i[o]),u=c.symbol,s[u]=c;return r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}sign(e,t="public",r="GET",n={},a,i){if(!(t in this.urls.api))throw new g(this.id+" does not have a testnet/sandbox URL for "+t+" endpoints");var s=this.urls.api[t];s+="/"+e,"wapi"===t&&(s+=".html");var o="userDataStream"===e||"listenKey"===e;if("historicalTrades"===e){if(!this.apiKey)throw new m(this.id+" historicalTrades endpoint requires `apiKey` credential");a={"X-MBX-APIKEY":this.apiKey}}else if(o){if(!this.apiKey)throw new m(this.id+" userDataStream endpoint requires `apiKey` credential");i=this.urlencode(n),a={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"}}if("private"===t||"sapi"===t||"wapi"===t&&"systemStatus"!==e||"dapiPrivate"===t||"fapiPrivate"===t||"fapiPrivateV2"===t){this.checkRequiredCredentials();var c=void 0,u=this.safeInteger(this.options,"recvWindow",5e3);c="sapi"===t&&"asset/dust"===e?this.urlencodeWithArrayRepeat(this.extend({timestamp:this.nonce(),recvWindow:u},n)):"batchOrders"===e||e.indexOf("sub-account")>=0?this.rawencode(this.extend({timestamp:this.nonce(),recvWindow:u},n)):this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:u},n)),c+="&signature="+this.hmac(this.encode(c),this.encode(this.secret)),a={"X-MBX-APIKEY":this.apiKey},"GET"===r||"DELETE"===r||"wapi"===t?s+="?"+c:(i=c,a["Content-Type"]="application/x-www-form-urlencoded")}else o||Object.keys(n).length&&(s+="?"+this.urlencode(n));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+i);if(e>=400){if(i.indexOf("Price * QTY is zero or less")>=0)throw new l(this.id+" order cost = amount * price is zero or less "+i);if(i.indexOf("LOT_SIZE")>=0)throw new l(this.id+" order amount should be evenly divisible by lot size "+i);if(i.indexOf("PRICE_FILTER")>=0)throw new l(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+i)}if(void 0!==s){var d=this.safeValue(s,"success",!0);if(!d){var f=this.safeString(s,"msg"),p=void 0;if(void 0!==f){try{p=JSON.parse(f)}catch(g){p=void 0}void 0!==p&&(s=p)}}var m=this.safeString(s,"msg");void 0!==m&&this.throwExactlyMatchedException(this.exceptions,m,this.id+" "+m);var v=this.safeString(s,"code");if(void 0!==v){if("200"===v||"0"===v)return;if("-2015"===v&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new h(this.id+" temporary banned: "+i);var b=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,v,b),new o(b)}if(!d)throw new o(this.id+" "+i)}}request(e,t="public",r="GET",i={},s,o){var c=this;return a(n.mark((function a(){var u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.fetch2(e,t,r,i,s,o);case 2:return u=n.sent,"private"!==t&&"wapi"!==t||(c.options.hasAlreadyAuthenticatedSuccessfully=!0),n.abrupt("return",u);case 5:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.NotSupported,c=s.RateLimitExceeded,u=s.AuthenticationError,d=s.PermissionDenied,f=s.ArgumentsRequired,l=s.ExchangeError,h=s.ExchangeNotAvailable,p=s.InsufficientFunds,m=s.InvalidOrder,v=s.OrderNotFound,b=s.InvalidNonce,g=s.BadSymbol,y=r(16),w=y.SIGNIFICANT_DIGITS,k=y.DECIMAL_PLACES,x=y.TRUNCATE,_=y.ROUND;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,deposit:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v2:"https://api-pub.bitfinex.com",public:"https://api.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",referral:"https://www.bitfinex.com/?refcode=P61eYxFL",doc:["https://docs.bitfinex.com/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2}}},commonCurrencies:{ABS:"ABYSS",AIO:"AION",ALG:"ALGO",AMP:"AMPL",ATM:"ATMI",ATO:"ATOM",BAB:"BCH",CTX:"CTXC",DAD:"DADI",DAT:"DATA",DSH:"DASH",DRK:"DRK",EDO:"PNT",GSD:"GUSD",HOT:"Hydro Protocol",IOS:"IOST",IOT:"IOTA",IQX:"IQ",MIT:"MITH",MNA:"MANA",NCA:"NCASH",ORS:"ORS Group",POY:"POLY",QSH:"QASH",QTM:"QTUM",RBT:"RBTC",SEE:"SEER",SNG:"SNGLS",SPK:"SPANK",STJ:"STORJ",TRI:"TRIO",TSD:"TUSD",YYW:"YOYOW",UDC:"USDC",UST:"USDT",UTN:"UTNP",VSY:"VSYS",WAX:"WAXP",XCH:"XCHF",ZBT:"ZB"},exceptions:{exact:{temporarily_unavailable:h,"Order could not be cancelled.":v,"No such order found.":v,"Order price must be positive.":m,"Could not find a key matching the given X-BFX-APIKEY.":u,'Key price should be a decimal number, e.g. "123.456"':m,'Key amount should be a decimal number, e.g. "123.456"':m,ERR_RATE_LIMIT:c,Ratelimit:c,"Nonce is too small.":b,"No summary found.":l,"Cannot evaluate your available balance, please try again":h,"Unknown symbol":g},broad:{"Invalid X-BFX-SIGNATURE":u,"This API key does not have permission":d,"not enough exchange balance for ":p,"minimum size for ":m,"Invalid order":m,"The available balance is only":p}},precisionMode:w,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bab",BCI:"bci",BFT:"bft",BSV:"bsv",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",COMP:"comp",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LEO:"let",LINK:"link",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",TUSD:"tsd",USD:"wire",USDC:"udc",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"xtz"},orderTypes:{limit:"exchange limit",market:"exchange market"}}})}fetchFundingFees(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostAccountFees(e);case 4:for(a=r.sent,i=a.withdraw,s={},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),s[d]=t.safeFloat(i,u);return r.abrupt("return",{info:a,withdraw:s,deposit:s});case 10:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostSummary(e);case 4:return a=r.sent,r.abrupt("return",{info:a,maker:t.safeFloat(a,"maker_fee"),taker:t.safeFloat(a,"taker_fee")});case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function e(){var r,a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.publicGetSymbols();case 2:return r=e.sent,e.next=5,t.publicGetSymbolsDetails();case 5:a=e.sent,i=[],s=0;case 8:if(!(s<a.length)){e.next=27;break}if(o=a[s],c=t.safeString(o,"pair"),t.inArray(c,r)){e.next=13;break}return e.abrupt("continue",24);case 13:c=c.toUpperCase(),u=void 0,d=void 0,c.indexOf(":")>=0?(f=c.split(":"),u=f[0],d=f[1]):(u=c.slice(0,3),d=c.slice(3,6)),l=t.safeCurrencyCode(u),h=t.safeCurrencyCode(d),p=l+"/"+h,m={price:t.safeInteger(o,"price_precision"),amount:8},(v={amount:{min:t.safeFloat(o,"minimum_order_size"),max:t.safeFloat(o,"maximum_order_size")},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)}}).cost={min:v.amount.min*v.price.min,max:void 0},i.push({id:c,symbol:p,base:l,quote:h,baseId:u,quoteId:d,active:!0,precision:m,limits:v,info:o});case 24:s++,e.next=8;break;case 27:return e.abrupt("return",i);case 28:case"end":return e.stop()}}),e)})))()}amountToPrecision(e,t){return this.decimalToPrecision(t,x,this.markets[e].precision.amount,k)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,_,this.markets[e].precision.price,this.precisionMode),this.decimalToPrecision(t,x,8,k)}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=n*c,d="quote";"sell"===r?u*=a:d="base";var f=o[d],l=this.safeValue(this.currencies,f);void 0!==l&&(void 0!==this.safeInteger(l,"precision")&&(u=parseFloat(this.currencyToPrecision(f,u))));return{type:i,currency:o[d],rate:c,cost:u}}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={exchange:"exchange",deposit:"funding",trading:"margin"},i=t.safeString(e,"type","exchange"),s=t.omit(e,"type"),r.next=7,t.privatePostBalances(s);case 7:for(o=r.sent,c={info:o},u=0;u<o.length;u++)d=o[u],f=t.safeString(d,"type"),t.safeString(a,f)!==i&&f!==i||(l=t.safeString(d,"currency"),(h=t.safeCurrencyCode(l))in c||((p=t.account()).free=t.safeFloat(d,"available"),p.total=t.safeFloat(d,"amount"),c[h]=p));return r.abrupt("return",t.parseBalance(c));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.limit_bids=t,s.limit_asks=t),n.next=6,i.publicGetBookSymbol(i.extend(s,r));case 6:return o=n.sent,n.abrupt("return",i.parseOrderBook(o,void 0,"bids","asks","price","amount"));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetPubtickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeFloat(e,"timestamp");void 0!==r&&(r*=1e3),r=parseInt(r);var n=void 0;if(void 0!==t)n=t.symbol;else if("pair"in e){var a=this.safeString(e,"pair");if(void 0!==a)if(a in this.markets_by_id)n=(t=this.markets_by_id[a]).symbol;else{var i=a.slice(0,3),s=a.slice(3,6);n=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}}var o=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"mid"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){var r=this.safeString(e,"tid"),n=this.safeFloat(e,"timestamp");void 0!==n&&(n=1e3*parseInt(n));var a=this.safeStringLower(e,"type"),i=this.safeString(e,"order_id"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;void 0!==s&&void 0!==o&&(c=s*o);var u=void 0;if("fee_amount"in e){var d=-this.safeFloat(e,"fee_amount"),f=this.safeString(e,"fee_currency");u={cost:d,currency:this.safeCurrencyCode(f)}}return{id:r,info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,type:void 0,order:i,side:a,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:u}}fetchTrades(e,t,r=50,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id,limit_trades:r},void 0!==t&&(c.timestamp=parseInt(t/1e3)),n.next=7,s.publicGetTradesSymbol(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new f(s.id+" fetchMyTrades() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit_trades=r),void 0!==t&&(c.timestamp=parseInt(t/1e3)),n.next=10,s.privatePostMytrades(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return(u={symbol:c.marketId(e),side:r,amount:c.amountToPrecision(e,i),type:c.safeString(c.options.orderTypes,t,t),ocoorder:!1,buy_price_oco:0,sell_price_oco:0}).price="market"===t?c.nonce().toString():c.priceToPrecision(e,s),n.next=6,c.privatePostOrderNew(c.extend(u,o));case 6:return d=n.sent,n.abrupt("return",c.parseOrder(d));case 8:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function a(){var d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:return d={order_id:parseInt(e)},void 0!==o&&(d.price=u.priceToPrecision(t,o)),void 0!==s&&(d.amount=u.numberToString(s)),void 0!==t&&(d.symbol=u.marketId(t)),void 0!==i&&(d.side=i),void 0!==r&&(d.type=u.safeString(u.options.orderTypes,r,r)),n.next=10,u.privatePostOrderCancelReplace(u.extend(d,c));case 10:return f=n.sent,n.abrupt("return",u.parseOrder(f));case 12:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:parseInt(e)},t.next=5,i.privatePostOrderCancel(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.privatePostOrderCancelAll(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}parseOrder(e,t){var r=this.safeString(e,"side"),n=this.safeValue(e,"is_live"),a=this.safeValue(e,"is_cancelled"),i=void 0;i=n?"open":a?"canceled":"closed";var s=void 0;if(void 0===t){var o=this.safeStringUpper(e,"symbol");void 0!==o&&o in this.markets_by_id&&(t=this.markets_by_id[o])}void 0!==t&&(s=t.symbol);var c=e.type;c.indexOf("exchange ")>=0&&(c=e.type.split(" ")[1]);var u=this.safeFloat(e,"timestamp");return void 0!==u&&(u=1e3*parseInt(u)),{info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:s,type:c,timeInForce:void 0,postOnly:void 0,side:r,price:this.safeFloat(e,"price"),stopPrice:void 0,average:this.safeFloat(e,"avg_execution_price"),amount:this.safeFloat(e,"original_amount"),remaining:this.safeFloat(e,"remaining_amount"),filled:this.safeFloat(e,"executed_amount"),status:i,fee:void 0,cost:void 0,trades:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0===e){n.next=5;break}if(e in s.markets){n.next=5;break}throw new l(s.id+" has no symbol "+e);case 5:return n.next=7,s.privatePostOrders(i);case 7:return o=n.sent,c=s.parseOrders(o,void 0,t,r),void 0!==e&&(c=s.filterBy(c,"symbol",e)),n.abrupt("return",c);case 11:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.limit=r),n.next=6,s.privatePostOrdersHist(s.extend(o,i));case 6:return c=n.sent,u=s.parseOrders(c,void 0,t,r),void 0!==e&&(u=s.filterBy(u,"symbol",e)),u=s.filterByArray(u,"status",["closed","canceled"],!1),n.abrupt("return",u);case 11:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:parseInt(e)},t.next=5,i.privatePostOrderStatus(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return void 0===i&&(i=100),c=o.market(e),u="t"+c.id,d={symbol:u,timeframe:o.timeframes[t],sort:1,limit:i},void 0!==r&&(d.start=r),n.next=9,o.v2GetCandlesTradeTimeframeSymbolHist(o.extend(d,s));case 9:return f=n.sent,n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}getCurrencyName(e){if(e in this.options.currencyNames)return this.options.currencyNames[e];throw new o(this.id+" "+e+" not supported for withdrawal")}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={renew:1},n.next=5,r.fetchDepositAddress(e,r.extend(i,t));case 5:return s=n.sent,n.abrupt("return",s);case 7:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.getCurrencyName(e),s={method:i,wallet_name:"exchange",renew:0},n.next=6,r.privatePostDepositNew(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"address"),u=void 0,"address_pool"in o&&(u=c,c=o.address_pool),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:u,info:o});case 12:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=s.safeString(i,"currency"),c=s.omit(i,"currency"),u=void 0,void 0!==o){n.next=12;break}if(void 0!==e){n.next=10;break}throw new f(s.id+" fetchTransactions() requires a currency `code` argument or a `currency` parameter");case 10:u=s.currency(e),o=u.id;case 12:return c.currency=o,void 0!==t&&(c.since=parseInt(t/1e3)),n.next=16,s.privatePostHistoryMovements(s.extend(c,i));case 16:return d=n.sent,n.abrupt("return",s.parseTransactions(d,u,t,r));case 18:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeFloat(e,"timestamp_created");void 0!==r&&(r=parseInt(1e3*r));var n=this.safeFloat(e,"timestamp");void 0!==n&&(n=parseInt(1e3*n));var a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a,t),s=this.safeStringLower(e,"type"),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeFloat(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:r,datetime:this.iso8601(r),address:this.safeString(e,"address"),tag:void 0,type:s,amount:this.safeFloat(e,"amount"),currency:i,status:o,updated:n,fee:{currency:i,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({SENDING:"pending",CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"},e,e)}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.getCurrencyName(e),u={withdraw_type:c,walletselected:"exchange",amount:o.numberToString(t),address:r},void 0!==i&&(u.payment_id=i),n.next=8,o.privatePostWithdraw(o.extend(u,s));case 8:if(d=n.sent,f=d[0],h=o.safeString(f,"withdrawal_id"),p=o.safeString(f,"message"),m=o.findBroadlyMatchedKey(o.exceptions.broad,p),0!==h){n.next=18;break}if(void 0===m){n.next=17;break}throw new(0,o.exceptions.broad[m])(o.id+" "+p);case 17:throw new l(o.id+" withdraw returned an id of zero: "+o.json(f));case 18:return n.abrupt("return",{info:f,id:h});case 19:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privatePostPositions(i);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n);s="v2"===t?"/"+t+s:"/"+this.version+s;var o=this.omit(n,this.extractParams(e)),c=this.urls.api[t]+s;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){var u="?"+this.urlencode(o);c+=u,s+=u}if("private"===t){this.checkRequiredCredentials();var d=this.nonce();o=this.extend({nonce:d.toString(),request:s},o),i=this.json(o);var f=this.stringToBase64(i),l=this.encode(this.secret),h=this.hmac(f,l,"sha384");a={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(f),"X-BFX-SIGNATURE":h,"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&e>=400&&"{"===i[0]){var u=this.id+" "+i,d=this.safeString2(s,"message","error");throw this.throwExactlyMatchedException(this.exceptions.exact,d,u),this.throwBroadlyMatchedException(this.exceptions.broad,d,u),new l(u)}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.BadRequest,u=o.ExchangeError,d=o.ArgumentsRequired,f=o.AuthenticationError,l=o.InsufficientFunds,h=o.OrderNotFound,p=o.ExchangeNotAvailable,m=o.DDoSProtection,v=o.InvalidOrder,b=o.InvalidAddress;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"zb",name:"ZB",countries:["CN"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDepositAddresses:!0,fetchDeposits:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{exact:{1001:u,1002:u,1003:f,1004:f,1005:f,1006:f,1009:p,2001:l,2002:l,2003:l,2005:l,2006:l,2007:l,2009:l,3001:h,3002:v,3003:v,3004:f,3005:c,3006:f,3007:f,3008:h,3009:v,3011:v,4001:p,4002:m},broad:{"\u63d0\u5e01\u5730\u5740\u6709\u8bef\uff0c\u8bf7\u5148\u6dfb\u52a0\u63d0\u5e01\u5730\u5740\u3002":b}},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"http://api.zb.cn/data",private:"https://trade.zb.cn/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate"},api:{public:{get:["markets","ticker","allTicker","depth","trades","kline"]},private:{get:["order","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getAccountInfo","getUserAddress","getPayinAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","repay","getRepayments"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ENT:"ENTCash"}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(i=r.sent,s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=u.split("_"),l=a(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g={amount:t.safeInteger(d,"amountScale"),price:t.safeInteger(d,"priceScale")},o.push({id:u,symbol:b,baseId:h,quoteId:p,base:m,quote:v,active:!0,precision:g,limits:{amount:{min:Math.pow(10,-g.amount),max:void 0},price:{min:Math.pow(10,-g.price),max:void 0},cost:{min:0,max:void 0}},info:d});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetGetAccountInfo(e);case 4:for(a=r.sent,i=t.safeValue(a.result,"coins"),s={info:a},o=0;o<i.length;o++)c=i[o],u=t.account(),d=t.safeString(c,"key"),f=t.safeCurrencyCode(d),u.free=t.safeFloat(c,"available"),u.used=t.safeFloat(c,"freez"),s[f]=u;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"key"),n=void 0,a=this.safeString(e,"memo");if(void 0!==a)n=a;else if(r.indexOf("_")>=0){var i=r.split("_");r=i[0],n=i[1]}var s=this.safeString(e,"blockChain");return{currency:this.safeCurrencyCode(s,t),address:r,tag:n,info:e}}parseDepositAddresses(e,t){for(var r=[],n=0;n<e.length;n++){var a=this.parseDepositAddress(e[n]);r.push(a)}return t&&(r=this.filterByArray(r,"currency",t)),this.indexBy(r,"currency")}fetchDepositAddresses(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.privateGetGetPayinAddress(t);case 4:return i=n.sent,s=r.safeValue(i,"message",{}),o=r.safeValue(s,"datas",[]),n.abrupt("return",r.parseDepositAddresses(o,e));case 8:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetGetUserAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"message",{}),u=r.safeValue(c,"datas",{}),n.abrupt("return",r.parseDepositAddress(u,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(e),o={market:s.id},void 0!==t&&(o.size=t),n.next=7,a.publicGetDepth(a.extend(o,r));case 7:return c=n.sent,n.abrupt("return",a.parseOrderBook(c));case 9:case"end":return n.stop()}}),i)})))()}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetAllTicker(t);case 4:for(i=n.sent,s={},o={},c=Object.keys(r.marketsById),u=0;u<c.length;u++)d=c[u].replace("_",""),o[d]=r.marketsById[c[u]];for(f=Object.keys(i),l=0;l<f.length;l++)h=o[f[l]],s[h.symbol]=r.parseTicker(i[f[l]],h);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 12:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,c=o.ticker,n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}fetchOHLCV(e,t="1m",r,a,s={}){var o=this;return i(n.mark((function i(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===a&&(a=1e3),u={market:c.id,type:o.timeframes[t],limit:a},void 0!==r&&(u.since=r),n.next=8,o.publicGetKline(o.extend(u,s));case 8:return d=n.sent,f=o.safeValue(d,"data",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,a));case 11:case"end":return n.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"trade_type");n="bid"===n?"buy":"sell";var a=this.safeString(e,"tid"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;void 0!==i&&void 0!==s&&(o=i*s);var c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:a,timestamp:r,datetime:this.iso8601(r),symbol:c,type:void 0,side:n,order:void 0,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},n.next=6,s.publicGetTrades(s.extend(c,a));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),i)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new v(c.id+" allows limit orders only");case 2:return n.next=4,c.loadMarkets();case 4:return u={price:c.priceToPrecision(e,s),amount:c.amountToPrecision(e,a),tradeType:"buy"===r?"1":"0",currency:c.marketId(e)},n.next=7,c.privateGetOrder(c.extend(u,o));case 7:return d=n.sent,n.abrupt("return",{info:d,id:d.id});case 9:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s={id:e.toString(),currency:a.marketId(t)},n.next=5,a.privateGetCancelOrder(a.extend(s,r));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),i)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new d(a.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,a.loadMarkets();case 4:return s={id:e.toString(),currency:a.marketId(t)},n.next=7,a.privateGetGetOrder(a.extend(s,r));case 7:return o=n.sent,n.abrupt("return",a.parseOrder(o,void 0));case 9:case"end":return n.stop()}}),i)})))()}fetchOrders(e,t,r=50,a={}){var s=this;return i(n.mark((function i(){var o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+"fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={currency:o.id,pageIndex:1,pageSize:r},u="privateGetGetOrdersIgnoreTradeType","tradeType"in a&&(u="privateGetGetOrdersNew"),f=void 0,n.prev=9,n.next=12,s[u](s.extend(c,a));case 12:f=n.sent,n.next=20;break;case 15:if(n.prev=15,n.t0=n.catch(9),!(n.t0 instanceof h)){n.next=19;break}return n.abrupt("return",[]);case 19:throw n.t0;case 20:return n.abrupt("return",s.parseOrders(f,o,t,r));case 21:case"end":return n.stop()}}),i,null,[[9,15]])})))()}fetchOpenOrders(e,t,r=10,a={}){var s=this;return i(n.mark((function i(){var o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+"fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={currency:o.id,pageIndex:1,pageSize:r},u="privateGetGetUnfinishedOrdersIgnoreTradeType","tradeType"in a&&(u="privateGetGetOrdersNew"),f=void 0,n.prev=9,n.next=12,s[u](s.extend(c,a));case 12:f=n.sent,n.next=20;break;case 15:if(n.prev=15,n.t0=n.catch(9),!(n.t0 instanceof h)){n.next=19;break}return n.abrupt("return",[]);case 19:throw n.t0;case 20:return n.abrupt("return",s.parseOrders(f,o,t,r));case 21:case"end":return n.stop()}}),i,null,[[9,15]])})))()}parseOrder(e,t){var r=this.safeInteger(e,"type");r=1===r?"buy":"sell";var n=this.safeInteger(e,"trade_date"),a=this.safeString(e,"currency"),i=this.safeSymbol(a,t,"_"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"trade_amount"),c=this.safeFloat(e,"total_amount"),u=void 0;void 0!==c&&void 0!==o&&(u=c-o);var d=this.safeFloat(e,"trade_money"),f=void 0,l=this.parseOrderStatus(this.safeString(e,"status"));return void 0!==d&&void 0!==o&&o>0&&(f=d/o),{info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:s,stopPrice:void 0,average:f,cost:d,amount:c,filled:o,remaining:u,status:l,fee:void 0,trades:void 0}}parseOrderStatus(e){return this.safeString({0:"open",1:"canceled",2:"closed",3:"open"},e,e)}parseTransactionStatus(e){return this.safeString({0:"pending",1:"failed",2:"ok",3:"canceled",5:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"hash"),a=this.safeFloat(e,"amount"),i=this.parse8601(this.safeString(e,"submit_time"));i=this.safeInteger(e,"submitTime",i);var s=this.safeString2(e,"toAddress","address"),o=void 0;if(void 0!==s){var c=s.split("_");s=this.safeString(c,0),o=this.safeString(c,1)}var u=this.safeInteger(e,"confirmTimes"),d=this.safeInteger(e,"manageTime"),f=void 0,l=this.safeString(e,"currency"),h=this.safeCurrencyCode(l,t);void 0!==s&&(f=void 0===u?"withdrawal":"deposit");var p=this.parseTransactionStatus(this.safeString(e,"status")),m=void 0,v=this.safeFloat(e,"fees");return void 0!==v&&(m={cost:v,currency:h}),{info:e,id:r,txid:n,timestamp:i,datetime:this.iso8601(i),addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:o,tagTo:o,type:f,amount:a,currency:h,status:p,updated:d,fee:m}}withdraw(e,t,r,a,s={}){var o=this;return i(n.mark((function i(){var c,u,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(c=o.safeString(s,"safePwd",o.password))){n.next=3;break}throw new d(o.id+" withdraw() requires exchange.password or a safePwd parameter");case 3:if(void 0!==(u=o.safeFloat(s,"fees"))){n.next=6;break}throw new d(o.id+" withdraw() requires a fees parameter");case 6:return o.checkAddress(r),n.next=9,o.loadMarkets();case 9:return f=o.currency(e),void 0!==a&&(r+="_"+a),l={amount:o.currencyToPrecision(e,t),currency:f.id,fees:o.currencyToPrecision(e,u),method:"withdraw",receiveAddr:r,safePwd:c},n.next=14,o.privateGetWithdraw(o.extend(l,s));case 14:return h=n.sent,p=o.parseTransaction(h,f),n.abrupt("return",o.extend(p,{type:"withdrawal",address:r,addressTo:r,amount:t}));case 17:case"end":return n.stop()}}),i)})))()}fetchWithdrawals(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.pageSize=r),n.next=8,s.privateGetGetWithdrawRecord(s.extend(o,a));case 8:return u=n.sent,d=s.safeValue(u,"message",{}),f=s.safeValue(d,"datas",{}),l=s.safeValue(f,"list",[]),n.abrupt("return",s.parseTransactions(l,c,t,r));case 13:case"end":return n.stop()}}),i)})))()}fetchDeposits(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.pageSize=r),n.next=8,s.privateGetGetChargeRecord(s.extend(o,a));case 8:return u=n.sent,d=s.safeValue(u,"message",{}),f=s.safeValue(d,"datas",{}),l=s.safeValue(f,"list",[]),n.abrupt("return",s.parseTransactions(l,c,t,r));case 13:case"end":return n.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t];if("public"===t)s+="/"+this.version+"/"+e,Object.keys(n).length&&(s+="?"+this.urlencode(n));else{var o=this.keysort(this.extend({method:e,accesskey:this.apiKey},n)),c=this.nonce();o=this.keysort(o);var u=this.rawencode(o),d=this.hash(this.encode(this.secret),"sha1");s+="/"+e+"?"+u+"&"+("sign="+this.hmac(this.encode(u),this.encode(d),"md5")+"&reqTime="+c.toString())}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&"{"===i[0]){var d=this.id+" "+i;if(this.throwBroadlyMatchedException(this.exceptions.broad,i,d),"code"in s){var f=this.safeString(s,"code");if(this.throwExactlyMatchedException(this.exceptions.exact,f,d),"1000"!==f)throw new u(d)}var l=this.safeValue(s,"result");if(void 0!==l)if(!l)throw"\u670d\u52a1\u7aef\u5fd9\u788c"===this.safeString(s,"message")?new p(d):new u(d)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.InsufficientFunds,c=s.ArgumentsRequired,u=s.ExchangeError,d=s.InvalidOrder,f=s.InvalidAddress,l=s.AuthenticationError,h=s.NotSupported,p=s.OrderNotFound,m=s.OnMaintenance,v=s.PermissionDenied,b=s.RateLimitExceeded,g=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinbasepro",name:"Coinbase Pro",countries:["US"],rateLimit:1e3,userAgent:this.userAgents.chrome,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,deposit:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchClosedOrders:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},urls:{test:{public:"https://api-public.sandbox.pro.coinbase.com",private:"https://api-public.sandbox.pro.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:{public:"https://api.pro.coinbase.com",private:"https://api.pro.coinbase.com"},www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","fees","margin/profile_information","margin/buying_power","margin/withdrawal_power","margin/withdrawal_power_all","margin/exit_plan","margin/liquidation_history","margin/position_refresh_amounts","margin/status","oracle","orders","orders/{id}","orders/client:{client_oid}","otc/orders","payment-methods","position","profiles","profiles/{id}","reports/{report_id}","transfers","transfers/{transfer_id}","users/self/trailing-volume","users/self/exchange-limits","withdrawals/fee-estimate"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","profiles/transfer","reports","withdrawals/coinbase","withdrawals/coinbase-account","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/client:{client_oid}","orders/{id}"]}},commonCurrencies:{CGLD:"CELO"},precisionMode:g,fees:{trading:{tierBased:!0,percentage:!0,maker:.005,taker:.005},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":o,NotFound:p,"Invalid API Key":l,"invalid signature":l,"Invalid Passphrase":l,"Invalid order id":d,"Private rate limit exceeded":b,"Trading pair not available":v,"Product not found":d},broad:{"Order already done":p,"order not found":p,"price too small":d,"price too precise":d,"under maintenance":m,"size is too small":d,"Cancel only mode":m}}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeString(o,"name"),d=t.safeCurrencyCode(c),f=t.safeValue(o,"details",{}),l=t.safeFloat(o,"max_precision"),h=t.safeString(o,"status"),p="online"===h,i[d]={id:c,code:d,info:o,type:t.safeString(f,"type"),name:u,active:p,fee:void 0,precision:l,limits:{amount:{min:t.safeFloat(f,"min_size"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(f,"min_withdrawal_amount"),max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetProducts(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeString(o,"base_currency"),d=t.safeString(o,"quote_currency"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,p={min:t.safeFloat(o,"quote_increment"),max:void 0},m={amount:t.safeFloat(o,"base_increment"),price:t.safeFloat(o,"quote_increment")},v=t.safeString(o,"status"),b="online"===v,i.push(t.extend(t.fees.trading,{id:c,symbol:h,baseId:u,quoteId:d,base:f,quote:l,precision:m,limits:{amount:{min:t.safeFloat(o,"base_min_size"),max:t.safeFloat(o,"base_max_size")},price:p,cost:{min:t.safeFloat(o,"min_market_funds"),max:t.safeFloat(o,"max_market_funds")}},active:b,info:o}));return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccounts(e);case 4:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeString(o,"currency"),d=t.safeCurrencyCode(u),i.push({id:c,type:void 0,currency:d,info:o});return r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccounts(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),d={free:t.safeFloat(o,"available"),used:t.safeFloat(o,"hold"),total:t.safeFloat(o,"balance")},i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e),level:2},t.next=5,i.publicGetProductsIdBook(i.extend(a,r));case 5:return s=t.sent,(o=i.parseOrderBook(s)).nonce=i.safeInteger(s,"sequence"),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.parse8601(this.safeValue(e,"time")),n=this.safeFloat(e,"bid"),a=this.safeFloat(e,"ask"),i=this.safeFloat(e,"price");return{symbol:void 0===t?void 0:t.symbol,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:n,bidVolume:void 0,ask:a,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={id:i.id},o=r.safeString(r.options,"fetchTickerMethod","publicGetProductsIdTicker"),n.next=7,r[o](r.extend(s,t));case 7:return c=n.sent,n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString2(e,"time","created_at")),n=this.safeString(e,"product_id"),a=this.safeSymbol(n,t,"-"),i=void 0,s=void 0,o=void 0,c=void 0;if(void 0!==t){var u=this.safeStringLower(t,"quoteId")+"_value";c=this.safeFloat(e,u),s=t.quote;var d=this.safeString(e,"liquidity");void 0!==d&&(i=t[o="T"===d?"taker":"maker"])}var f={cost:this.safeFloat2(e,"fill_fees","fee"),currency:s,rate:i},l=this.safeString(e,"trade_id"),h="buy"===e.side?"sell":"buy",p=this.safeString(e,"order_id");void 0!==p&&(h="buy"===e.side?"buy":"sell");var m=this.safeFloat(e,"price"),v=this.safeFloat(e,"size");return void 0===c&&(c=v*m),{id:l,order:p,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,takerOrMaker:o,side:h,price:m,amount:v,fee:f,cost:c}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={product_id:o.id},void 0!==r&&(u.limit=r),n.next=9,s.privateGetFills(s.extend(u,i));case 9:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={id:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetProductsIdTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,3),this.safeFloat(e,2),this.safeFloat(e,1),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u=o.timeframes[t],d={id:c.id,granularity:u},void 0!==r&&(d.start=o.iso8601(r),void 0===i&&(i=300),d.end=o.iso8601(o.sum((i-1)*u*1e3,r))),n.next=8,o.publicGetProductsIdCandles(o.extend(d,s));case 8:return f=n.sent,n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeTimestamp(a,"epoch"));case 4:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"},e,e)}parseOrder(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"product_id");t=this.safeMarket(n,t,"-");var a=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"filled_size"),o=this.safeFloat(e,"size",s),c=void 0;void 0!==o&&void 0!==s&&(c=o-s);var u=this.safeFloat(e,"executed_value"),d=this.safeFloat(e,"fill_fees"),f=void 0;if(void 0!==d){var l=void 0;void 0!==t&&(l=t.quote),f={cost:d,currency:l,rate:void 0}}var h=this.safeString(e,"id"),p=this.safeString(e,"type"),m=this.safeString(e,"side"),v=this.safeString(e,"time_in_force"),b=this.safeValue(e,"post_only"),g=this.safeFloat(e,"stop_price");return{id:h,clientOrderId:this.safeString(e,"client_oid"),info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:a,symbol:t.symbol,type:p,timeInForce:v,postOnly:b,side:m,price:i,stopPrice:g,cost:u,amount:o,filled:s,remaining:c,fee:f,average:void 0,trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={},s=i.safeString2(r,"clientOrderId","client_oid"),o=void 0,void 0===s?(o="privateGetOrdersId",a.id=e):(o="privateGetOrdersClientClientOid",a.client_oid=s,r=i.omit(r,["clientOrderId","client_oid"])),t.next=8,i[o](i.extend(a,r));case 8:return c=t.sent,t.abrupt("return",i.parseOrder(c));case 10:case"end":return t.stop()}}),t)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=void 0,void 0!==t&&(c=o.market(t)),u={order_id:e},n.next=7,o.privateGetFills(o.extend(u,s));case 7:return d=n.sent,n.abrupt("return",o.parseTrades(d,c,r,i));case 9:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"all"},n.next=3,s.fetchOpenOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.product_id=c.id),void 0!==r&&(o.limit=r),n.next=8,s.privateGetOrders(s.extend(o,i));case 8:return u=n.sent,n.abrupt("return",s.parseOrders(u,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"done"},n.next=3,s.fetchOpenOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={type:t,side:r,product_id:u.id},void 0!==(f=c.safeString2(o,"clientOrderId","client_oid"))&&(d.client_oid=f,o=c.omit(o,["clientOrderId","client_oid"])),void 0!==(l=c.safeFloat2(o,"stopPrice","stop_price"))&&(d.stop_price=c.priceToPrecision(e,l),o=c.omit(o,["stopPrice","stop_price"])),void 0!==(h=c.safeString2(o,"timeInForce","time_in_force"))&&(d.time_in_force=h,o=c.omit(o,["timeInForce","time_in_force"])),"limit"===t?(d.price=c.priceToPrecision(e,s),d.size=c.amountToPrecision(e,i)):"market"===t&&(void 0===(p=c.safeFloat2(o,"cost","funds"))?void 0!==s&&(p=i*s):o=c.omit(o,["cost","funds"]),void 0!==p?d.funds=c.costToPrecision(e,p):d.size=c.amountToPrecision(e,i)),n.next=13,c.privatePostOrders(c.extend(d,o));case 13:return m=n.sent,n.abrupt("return",c.parseOrder(m,u));case 15:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={},o=i.safeString2(r,"clientOrderId","client_oid"),c=void 0,void 0===o?(c="privateDeleteOrdersId",s.id=e):(c="privateDeleteOrdersClientClientOid",s.client_oid=o,r=i.omit(r,["clientOrderId","client_oid"])),u=void 0,void 0!==t&&(u=i.market(t),s.product_id=u.symbol),n.next=10,i[c](i.extend(s,r));case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.product_id=s.symbol),n.next=7,r.privateDeleteOrders(r.extend(i,t));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),a)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=n*a,d=o.quote;return{type:i,currency:d,rate:c,cost:parseFloat(this.currencyToPrecision(d,c*u))}}fetchPaymentMethods(e={}){var t=this;return a(n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetPaymentMethods(e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}deposit(e,t,r,i={}){var s=this;return a(n.mark((function r(){var a,o,c,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.loadMarkets();case 2:if(a=s.currency(e),o={currency:a.id,amount:t},c="privatePostDeposits",!("payment_method_id"in i)){r.next=9;break}c+="PaymentMethod",r.next=14;break;case 9:if(!("coinbase_account_id"in i)){r.next=13;break}c+="CoinbaseAccount",r.next=14;break;case 13:throw new h(s.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");case 14:return r.next=16,s[c](s.extend(o,i));case 16:if(d=r.sent){r.next=19;break}throw new u(s.id+" deposit() error: "+s.json(d));case 19:return r.abrupt("return",{info:d,id:d.id});case 20:case"end":return r.stop()}}),r)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),d={currency:c.id,amount:t},f="privatePostWithdrawals","payment_method_id"in s?f+="PaymentMethod":"coinbase_account_id"in s?f+="CoinbaseAccount":(f+="Crypto",d.crypto_address=r,void 0!==i&&(d.destination_tag=i)),n.next=9,o[f](o.extend(d,s));case 9:if(l=n.sent){n.next=12;break}throw new u(o.id+" withdraw() error: "+o.json(l));case 12:return n.abrupt("return",{info:l,id:l.id});case 13:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:if(o=void 0,void 0!==(c=s.safeString(i,"id"))){n.next=14;break}if(void 0===e){n.next=14;break}if(o=s.currency(e),d=s.indexBy(s.accounts,"currency"),void 0!==(f=s.safeValue(d,e))){n.next=13;break}throw new u(s.id+" fetchTransactions() could not find account id for "+e);case 13:c=f.id;case 14:if(l={},void 0!==c&&(l.id=c),void 0!==r&&(l.limit=r),h=void 0,void 0!==c){n.next=25;break}return n.next=21,s.privateGetTransfers(s.extend(l,i));case 21:for(h=n.sent,p=0;p<h.length;p++)m=s.safeString(h[p],"account_id"),v=s.safeValue(s.accountsById,m),b=s.safeString(v,"currency"),h[p].currency=b;n.next=29;break;case 25:return n.next=27,s.privateGetAccountsIdTransfers(s.extend(l,i));case 27:for(h=n.sent,g=0;g<h.length;g++)h[g].currency=e;case 29:return n.abrupt("return",s.parseTransactions(h,o,t,r));case 30:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s.fetchTransactions(e,t,r,s.extend(i,{type:"deposit"})));case 1:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s.fetchTransactions(e,t,r,s.extend(i,{type:"withdraw"})));case 1:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){if(this.safeValue(e,"canceled_at"))return"canceled";var t=this.safeValue(e,"processed_at"),r=this.safeValue(e,"completed_at");return r?"ok":t&&!r?"failed":"pending"}parseTransaction(e,t){var r=this.safeValue(e,"details",{}),n=this.safeString(e,"id"),a=this.safeString(r,"crypto_transaction_hash"),i=this.parse8601(this.safeString(e,"created_at")),s=this.parse8601(this.safeString(e,"processed_at")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),u=this.parseTransactionStatus(e),d=this.safeFloat(e,"amount"),f=this.safeString(e,"type"),l=this.safeString(r,"crypto_address"),h=this.safeString(r,"destination_tag");l=this.safeString(e,"crypto_address",l);var p=void 0;if("withdraw"===f){f="withdrawal",l=this.safeString(r,"sent_to_address",l);var m=this.safeFloat(r,"fee");void 0!==m&&(void 0!==d&&(d-=m),p={cost:m,currency:c})}return{info:e,id:n,txid:a,timestamp:i,datetime:this.iso8601(i),address:l,tag:h,type:f,amount:d,currency:c,status:u,updated:s,fee:p}}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(s+="?"+this.urlencode(o));var c=this.urls.api[t]+s;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="";"GET"!==r&&Object.keys(o).length&&(d=i=this.json(o));var f=u+r+s+d,l=this.base64ToBinary(this.secret),h=this.hmac(this.encode(f),l,"sha256","base64");a={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":h,"CB-ACCESS-TIMESTAMP":u,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.currency(e),void 0!==(s=r.safeValue(r.options,"coinbaseAccounts"))){n.next=10;break}return n.next=7,r.privateGetCoinbaseAccounts();case 7:s=n.sent,r.options.coinbaseAccounts=s,r.options.coinbaseAccountsByCurrencyId=r.indexBy(s,"currency");case 10:if(o=i.id,void 0!==(c=r.safeValue(r.options.coinbaseAccountsByCurrencyId,o))){n.next=14;break}throw new f(r.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+o+" in this.options['coinbaseAccountsByCurrencyId']");case 14:return u={id:c.id},n.next=17,r.privatePostCoinbaseAccountsIdAddresses(r.extend(u,t));case 17:return d=n.sent,l=r.safeString(d,"address"),h=r.safeString(d,"destination_tag"),n.abrupt("return",{currency:e,address:r.checkAddress(l),tag:h,info:d});case 21:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,o,c){if(400===e||404===e){if("{"===i[0]){var d=this.safeString(s,"message"),f=this.id+" "+d;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new u(f)}throw new u(this.id+" "+i)}}request(e,t="public",r="GET",i={},s,o){var c=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.fetch2(e,t,r,i,s,o);case 2:if("string"===typeof(d=n.sent)){n.next=6;break}if(!("message"in d)){n.next=6;break}throw new u(c.id+" "+c.json(d));case 6:return n.abrupt("return",d);case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.ExchangeError,u=s.ExchangeNotAvailable,d=s.ArgumentsRequired,f=s.InsufficientFunds,l=s.InvalidOrder,h=s.RateLimitExceeded,p=s.InvalidNonce,m=s.AuthenticationError,v=s.NotSupported;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"fcoin",name:"FCoin",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v2",accounts:void 0,accountsById:void 0,hostname:"fcoin.com",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!1,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!0,fetchTicker:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!1,withdraw:!1},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","1d":"D1","1w":"W1","1M":"MN"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42244210-c8c42e1e-7f1c-11e8-8710-a5fb63b165c4.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}",market:"https://api.{hostname}",openapi:"https://www.{hostname}"},www:"https://www.fcoin.com",referral:"https://www.fcoin.com/i/Z5P7V",doc:"https://developer.fcoin.com",fees:"https://fcoinjp.zendesk.com/hc/en-us/articles/360018727371"},api:{openapi:{get:["symbols"]},market:{get:["ticker/{symbol}","depth/{level}/{symbol}","trades/{symbol}","candles/{timeframe}/{symbol}"]},public:{get:["symbols","currencies","server-time"]},private:{get:["accounts/balance","assets/accounts/balance","broker/otc/suborders","broker/otc/suborders/{id}","broker/otc/suborders/{id}/payments","broker/otc/users","broker/otc/users/me/balances","broker/otc/users/me/balance","broker/leveraged_accounts/account","broker/leveraged_accounts","orders","orders/{order_id}","orders/{order_id}/match-results"],post:["assets/accounts/assets-to-spot","accounts/spot-to-assets","broker/otc/assets/transfer/in","broker/otc/assets/transfer/out","broker/otc/suborders","broker/otc/suborders/{id}/pay_confirm","broker/otc/suborders/{id}/cancel","broker/leveraged/assets/transfer/in","broker/leveraged/assets/transfer/out","orders","orders/{order_id}/submit-cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-2e-4,taker:3e-4}},limits:{amount:{min:.01,max:1e5}},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"fetch_markets_from_open_api",limits:{"BTM/USDT":{amount:{min:.1,max:1e7}},"ETC/USDT":{amount:{min:.001,max:4e5}},"ETH/USDT":{amount:{min:.001,max:1e4}},"LTC/USDT":{amount:{min:.001,max:4e4}},"BCH/USDT":{amount:{min:.001,max:5e3}},"BTC/USDT":{amount:{min:.001,max:1e3}},"ICX/ETH":{amount:{min:.01,max:3e6}},"OMG/ETH":{amount:{min:.01,max:5e5}},"FT/USDT":{amount:{min:1,max:1e7}},"ZIL/ETH":{amount:{min:1,max:1e7}},"ZIP/ETH":{amount:{min:1,max:1e7}},"FT/BTC":{amount:{min:1,max:1e7}},"FT/ETH":{amount:{min:1,max:1e7}}}},exceptions:{400:v,401:m,405:v,429:h,1002:u,1016:f,2136:m,3008:l,6004:p,6005:m,40003:o},commonCurrencies:{DAG:"DAGX",PAI:"PCHAIN",MT:"Mariana Token"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.safeString(t.options,"fetchMarketsMethod","fetch_markets_from_open_api"),r.next=3,t[a](e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}fetchMarketsFromOpenAPI(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.openapiGetSymbols(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"symbols",{}),o=Object.keys(s),c=[],u=0;u<o.length;u++)d=o[u],f=s[d],l=t.safeString(f,"symbol"),h=t.safeString(f,"base_currency"),p=t.safeString(f,"quote_currency"),m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g={price:t.safeInteger(f,"price_decimal"),amount:t.safeInteger(f,"amount_decimal")},y={amount:{min:t.safeFloat(f,"limit_amount_min"),max:t.safeFloat(f,"limit_amount_max")},price:{min:Math.pow(10,-g.price),max:Math.pow(10,g.price)},cost:{min:void 0,max:void 0}},w=t.safeValue(f,"tradeable",!1),c.push({id:l,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:w,precision:g,limits:y,info:f});return r.abrupt("return",c);case 9:case"end":return r.stop()}}),r)})))()}fetchMarketsFromAPI(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSymbols(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"data"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"name"),d=t.safeString(c,"base_currency"),f=t.safeString(c,"quote_currency"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={price:c.price_decimal,amount:c.amount_decimal},v={price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)}},b=t.safeValue(c,"tradable",!1),p in t.options.limits&&(v=t.extend(t.options.limits[p],v)),i.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:b,precision:m,limits:v,info:c});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountsBalance(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"data"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"available"),f.total=t.safeFloat(c,"balance"),f.used=t.safeFloat(c,"frozen"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseBidsAsks(e,t=0,r=1){for(var n=[],a=e.length,i=parseInt(a/2),s=0;s<i;s++){var o=2*s,c=this.sum(o,t),u=this.sum(o,r);n.push([this.safeFloat(e,c),this.safeFloat(e,u)])}return n}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(void 0===t){n.next=10;break}if(20!==t&&150!==t){n.next=7;break}t="L"+t.toString(),n.next=8;break;case 7:throw new c(i.id+" fetchOrderBook supports limit of 20 or 150. Other values are not accepted");case 8:n.next=11;break;case 10:t="L20";case 11:return s={symbol:i.marketId(e),level:t},n.next=14,i.marketGetDepthLevelSymbol(i.extend(s,r));case 14:return o=n.sent,u=i.safeValue(o,"data"),n.abrupt("return",i.parseOrderBook(u,u.ts,"bids","asks",0,1));case 17:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.marketGetTickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o.data,i));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=void 0;if(void 0===t){var n=this.safeString(e,"type");if(void 0!==n){var a=n.split(".")[1];r=this.safeSymbol(a,t)}}var i=e.ticker,s=this.safeFloat(i,0);return{symbol:r,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(i,7),low:this.safeFloat(i,8),bid:this.safeFloat(i,2),bidVolume:this.safeFloat(i,3),ask:this.safeFloat(i,4),askVolume:this.safeFloat(i,5),vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,9),quoteVolume:this.safeFloat(i,10),info:e}}parseTrade(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"ts"),a=this.safeStringLower(e,"side"),i=this.safeString(e,"id"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;void 0!==s&&void 0!==o&&(c=o*s);return{id:i,info:e,timestamp:n,datetime:this.iso8601(n),symbol:r,type:void 0,order:void 0,side:a,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:void 0}}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetServerTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchTrades(e,t,r=50,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id,limit:r},void 0!==t&&(c.timestamp=parseInt(t/1e3)),n.next=7,s.marketGetTradesSymbol(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u.data,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u={symbol:c.marketId(e),side:r,type:t},"market"!==t||"buy"!==r){n.next=15;break}if(!c.options.createMarketBuyOrderRequiresPrice){n.next=12;break}if(void 0!==s){n.next=9;break}throw new l(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 9:u.amount=c.costToPrecision(e,i*s);case 10:n.next=13;break;case 12:u.amount=c.costToPrecision(e,i);case 13:n.next=16;break;case 15:u.amount=c.amountToPrecision(e,i);case 16:return"limit"!==t&&"ioc"!==t&&"fok"!==t||(u.price=c.priceToPrecision(e,s)),n.next=19,c.privatePostOrders(c.extend(u,o));case 19:return d=n.sent,n.abrupt("return",{info:d,id:d.data});case 21:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privatePostOrdersOrderIdSubmitCancel(i.extend(a,r));case 5:return s=t.sent,o=i.parseOrder(s),t.abrupt("return",i.extend(o,{id:e,status:"canceled"}));case 8:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({submitted:"open",canceled:"canceled",partial_filled:"open",partial_canceled:"canceled",filled:"closed",pending_cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"side"),a=this.parseOrderStatus(this.safeString(e,"state")),i=this.safeString(e,"symbol"),s=(t=this.safeMarket(i,t)).symbol,o=this.safeString(e,"type"),c=this.safeInteger(e,"created_at"),u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"filled_amount"),f=void 0,l=this.safeFloat(e,"price"),h=this.safeFloat(e,"executed_value");void 0!==d&&(void 0!==u&&(f=u-d),void 0===h?void 0!==l&&(h=l*d):h>0&&d>0&&(l=h/d));var p=void 0,m=void 0,v=this.safeFloat(e,"fees_income");return void 0!==v&&v>0?(void 0!==t&&(p="buy"===n?t.quote:t.base),m=-v):(m=this.safeFloat(e,"fill_fees"),void 0!==t&&(p="buy"===n?t.base:t.quote)),{info:e,id:r,clientOrderId:void 0,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:s,type:o,timeInForce:void 0,postOnly:void 0,side:n,price:l,stopPrice:void 0,cost:h,amount:u,remaining:f,filled:d,average:void 0,status:a,fee:{cost:m,currency:p},trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetOrdersOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s.data));case 7:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={states:"submitted,partial_filled"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={states:"partial_canceled,filled"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+" fetchOrders() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={symbol:o.id,states:"submitted,partial_filled,partial_canceled,filled,canceled"},void 0!==r&&(c.limit=r),n.next=9,s.privateGetOrders(s.extend(c,i));case 9:return u=n.sent,n.abrupt("return",s.parseOrders(u.data,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"base_vol")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===i&&(i=20),u={symbol:c.id,timeframe:o.timeframes[t],limit:i},void 0!==r&&(d=parseInt(r/1e3),f=i*o.parseTimeframe(t),u.before=o.sum(d,f)-1),n.next=8,o.marketGetCandlesTimeframeSymbol(o.extend(u,s));case 8:return l=n.sent,h=o.safeValue(l,"data",[]),n.abrupt("return",o.parseOHLCVs(h,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/",o="openapi"===t,c="private"===t;s+=o?t+"/":"",s+=this.version+"/",s+=c||o?"":t+"/",s+=this.implodeParams(e,n);var u=this.omit(n,this.extractParams(e)),d=this.implodeParams(this.urls.api[t],{hostname:this.hostname});if(d+=s,c){this.checkRequiredCredentials();var f=this.nonce().toString();u=this.keysort(u),"GET"===r&&Object.keys(u).length&&(d+="?"+this.rawencode(u));var l=r+d+f;"POST"===r&&Object.keys(u).length&&(i=this.json(u),l+=this.urlencode(u));var h=this.stringToBase64(l),p=this.hmac(h,this.encode(this.secret),"sha1","binary");p=this.decode(this.stringToBase64(p)),a={"FC-ACCESS-KEY":this.apiKey,"FC-ACCESS-SIGNATURE":p,"FC-ACCESS-TIMESTAMP":f,"Content-Type":"application/json"}}else Object.keys(u).length&&(d+="?"+this.urlencode(u));return{url:d,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"status");if("0"!==d&&"ok"!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,f),new c(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ExchangeNotAvailable,d=o.OnMaintenance,f=o.ArgumentsRequired,l=o.BadRequest,h=o.AccountSuspended,p=o.InvalidAddress,m=o.PermissionDenied,v=o.DDoSProtection,b=o.InsufficientFunds,g=o.InvalidNonce,y=o.CancelPending,w=o.InvalidOrder,k=o.OrderNotFound,x=o.AuthenticationError,_=o.RequestTimeout,S=o.NotSupported,T=o.BadSymbol,O=o.RateLimitExceeded,A=r(16),M=A.TICK_SIZE,E=A.TRUNCATE;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN","US"],version:"v3",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,futures:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2678400","3M":"8035200","6M":"16070400","1y":"31536000"},hostname:"okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://www.{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{general:{get:["time"]},account:{get:["wallet","sub-account","asset-valuation","wallet/{currency}","withdrawal/history","withdrawal/history/{currency}","ledger","deposit/address","deposit/history","deposit/history/{currency}","currencies","withdrawal/fee"],post:["transfer","withdrawal"]},spot:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","orders_pending","orders/{order_id}","orders/{client_oid}","trade_fee","fills","algo","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles"],post:["order_algo","orders","batch_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_algos","cancel_batch_orders"]},margin:{get:["accounts","accounts/{instrument_id}","accounts/{instrument_id}/ledger","accounts/availability","accounts/{instrument_id}/availability","accounts/borrowed","accounts/{instrument_id}/borrowed","orders","accounts/{instrument_id}/leverage","orders/{order_id}","orders/{client_oid}","orders_pending","fills","instruments/{instrument_id}/mark_price"],post:["accounts/borrow","accounts/repayment","orders","batch_orders","cancel_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_orders","accounts/{instrument_id}/leverage"]},futures:{get:["position","{instrument_id}/position","accounts","accounts/{underlying}","accounts/{underlying}/leverage","accounts/{underlying}/ledger","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","trade_fee","accounts/{instrument_id}/holds","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/estimated_price","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/liquidation"],post:["accounts/{underlying}/leverage","order","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","accounts/margin_mode","close_position","cancel_all","order_algo","cancel_algos"]},swap:{get:["position","{instrument_id}/position","accounts","{instrument_id}/accounts","accounts/{instrument_id}/settings","accounts/{instrument_id}/ledger","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","accounts/{instrument_id}/holds","trade_fee","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/depth","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/funding_time","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/historical_funding_rate"],post:["accounts/{instrument_id}/leverage","order","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","order_algo","cancel_algos","close_position","cancel_all","order_algo","cancel_algos"]},option:{get:["accounts","position","{underlying}/position","accounts/{underlying}","orders/{underlying}","fills/{underlying}","accounts/{underlying}/ledger","trade_fee","orders/{underlying}/{order_id}","orders/{underlying}/{client_oid}","underlying","instruments/{underlying}","instruments/{underlying}/summary","instruments/{underlying}/summary/{instrument_id}","instruments/{instrument_id}/book","instruments/{instrument_id}/trades","instruments/{instrument_id}/ticker","instruments/{instrument_id}/candles"],post:["order","orders","cancel_order/{underlying}/{order_id}","cancel_order/{underlying}/{client_oid}","cancel_batch_orders/{underlying}","amend_order/{underlying}","amend_batch_orders/{underlying}"]},index:{get:["{instrument_id}/constituents"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:c,"failure to get a peer from the ring-balancer":u,"Server is busy, please try again.":u,"An unexpected error occurred":c,"System error":c,4010:m,4001:c,4002:c,30001:x,30002:x,30003:x,30004:x,30005:g,30006:x,30007:l,30008:_,30009:c,30010:x,30011:m,30012:x,30013:x,30014:v,30015:x,30016:c,30017:c,30018:c,30019:u,30020:l,30021:l,30022:m,30023:l,30024:T,30025:l,30026:v,30027:x,30028:m,30029:h,30030:u,30031:l,30032:T,30033:l,30034:c,30035:c,30036:c,30037:u,30038:d,30044:_,32001:h,32002:m,32003:y,32004:c,32005:w,32006:w,32007:w,32008:w,32009:w,32010:c,32011:c,32012:c,32013:c,32014:c,32015:c,32016:c,32017:c,32018:c,32019:c,32020:c,32021:c,32022:c,32023:c,32024:c,32025:c,32026:c,32027:c,32028:c,32029:c,32030:w,32031:f,32038:x,32040:c,32044:c,32045:c,32046:c,32047:c,32048:w,32049:c,32050:w,32051:w,32052:c,32053:c,32057:c,32054:c,32055:w,32056:c,32058:c,32059:w,32060:w,32061:w,32062:w,32063:w,32064:c,32065:c,32066:c,32067:c,32068:c,32069:c,32070:c,32071:c,32072:c,32073:c,32074:c,32075:c,32076:c,32077:c,32078:c,32079:c,32080:c,32083:c,33001:m,33002:h,33003:b,33004:c,33005:c,33006:c,33007:c,33008:b,33009:c,33010:c,33011:c,33012:c,33013:w,33014:k,33015:w,33016:c,33017:b,33018:c,33020:c,33021:l,33022:w,33023:c,33024:w,33025:w,33026:c,33027:w,33028:w,33029:w,33034:c,33035:c,33036:c,33037:c,33038:c,33039:c,33040:c,33041:c,33042:c,33043:c,33044:c,33045:c,33046:c,33047:c,33048:c,33049:c,33050:c,33051:c,33059:l,33060:l,33061:c,33062:c,33063:c,33064:c,33065:c,33085:w,21009:c,34001:m,34002:p,34003:c,34004:c,34005:c,34006:c,34007:c,34008:b,34009:c,34010:c,34011:c,34012:c,34013:c,34014:c,34015:c,34016:m,34017:h,34018:x,34019:m,34020:m,34021:p,34022:c,34023:m,34026:O,34036:c,34037:c,34038:c,34039:c,35001:c,35002:c,35003:c,35004:c,35005:x,35008:w,35010:w,35012:w,35014:w,35015:w,35017:c,35019:w,35020:w,35021:w,35022:l,35024:l,35025:b,35026:l,35029:k,35030:w,35031:w,35032:c,35037:c,35039:b,35040:w,35044:c,35046:b,35047:b,35048:c,35049:w,35050:w,35052:b,35053:c,35055:b,35057:c,35058:c,35059:l,35060:l,35061:l,35062:w,35063:w,35064:w,35066:w,35067:w,35068:w,35069:w,35070:w,35071:w,35072:w,35073:w,35074:w,35075:w,35076:w,35077:w,35078:w,35079:w,35080:w,35081:w,35082:w,35083:w,35084:w,35085:w,35086:w,35087:w,35088:w,35089:w,35090:c,35091:c,35092:c,35093:c,35094:c,35095:l,35096:c,35097:c,35098:c,35099:c,35102:O,36001:l,36002:l,36005:c,36101:x,36102:m,36103:m,36104:m,36105:m,36106:m,36107:m,36108:b,36109:m,36201:m,36202:m,36203:w,36204:c,36205:l,36206:l,36207:w,36208:w,36209:w,36210:w,36211:w,36212:w,36213:w,36214:c,36216:k,36217:w,36218:w,36219:w,36220:w,36221:w,36222:w,36223:w,36224:w,36225:w,36226:w,36227:w,36228:w,36229:w,36230:w},broad:{}},precisionMode:M,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"}},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",YOYO:"YOYOW",WIN:"WinToken"}})}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.generalGetTime(e);case 2:return n=r.sent,r.abrupt("return",t.parse8601(t.safeString(n,"iso")));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.safeValue(t.options,"fetchMarkets"),i=[],s=0;case 3:if(!(s<n.length)){r.next=11;break}return r.next=6,t.fetchMarketsByType(n[s],e);case 6:o=r.sent,i=t.arrayConcat(i,o);case 8:s++,r.next=3;break;case 11:return r.abrupt("return",i);case 12:case"end":return r.stop()}}),r)})))()}parseMarkets(e){for(var t=[],r=0;r<e.length;r++)t.push(this.parseMarket(e[r]));return t}parseMarket(e){var t=this.safeString(e,"instrument_id"),r="spot",n=!0,a=!1,i=!1,s=!1,o=this.safeString(e,"base_currency"),c=this.safeString(e,"quote_currency");if(void 0!==this.safeFloat(e,"contract_val"))if("option_type"in e){r="option",n=!1,s=!0;var u=this.safeString(e,"underlying").split("-");o=this.safeString(u,0),c=this.safeString(u,1)}else{r="swap",n=!1,i=!0,void 0!==this.safeString(e,"alias")&&(i=!1,a=!0,r="futures",o=this.safeString(e,"underlying_index"))}var d=this.safeCurrencyCode(o),f=this.safeCurrencyCode(c),l=n?d+"/"+f:t,h=this.safeFloat2(e,"lot_size","trade_increment"),p={amount:this.safeFloat(e,"size_increment",h),price:this.safeFloat(e,"tick_size")},m=this.safeFloat2(e,"min_size","base_min_size"),v=this.safeValue2(this.fees,r,"trading",{});return this.extend(v,{id:t,symbol:l,base:d,quote:f,baseId:o,quoteId:c,info:e,type:r,spot:n,futures:a,swap:i,option:s,active:!0,precision:p,limits:{amount:{min:m,max:void 0},price:{min:p.price,max:void 0},cost:{min:p.price,max:void 0}}})}fetchMarketsByType(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("option"!==e){n.next=17;break}return n.next=3,r.optionGetUnderlying(t);case 3:i=n.sent,s=[],o=0;case 6:if(!(o<i.length)){n.next=14;break}return n.next=9,r.optionGetInstrumentsUnderlying({underlying:i[o]});case 9:c=n.sent,s=r.arrayConcat(s,c);case 11:o++,n.next=6;break;case 14:return n.abrupt("return",r.parseMarkets(s));case 17:if("spot"!==e&&"futures"!==e&&"swap"!==e){n.next=25;break}return u=e+"GetInstruments",n.next=21,r[u](t);case 21:return d=n.sent,n.abrupt("return",r.parseMarkets(d));case 25:throw new S(r.id+" fetchMarketsByType does not support market type "+e);case 26:case"end":return n.stop()}}),n)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.accountGetCurrencies(e);case 2:for(n=r.sent,i={},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),1e-8,d=t.safeString(o,"name"),f=t.safeInteger(o,"can_deposit"),l=t.safeInteger(o,"can_withdraw"),h=!(!f||!l),i[u]={id:c,code:u,info:o,type:void 0,name:d,active:h,fee:void 0,precision:1e-8,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"min_withdrawal"),max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o=s.type+"GetInstrumentsInstrumentId",o+="swap"===s.type?"Depth":"Book",c={instrument_id:s.id},void 0!==t&&(c.size=t),a.next=9,n[o](n.extend(c,r));case 9:return u=a.sent,d=n.parse8601(n.safeString(u,"timestamp")),a.abrupt("return",n.parseOrderBook(u,d));case 12:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),a=void 0,i=this.safeString(e,"instrument_id");if(i in this.markets_by_id)a=(t=this.markets_by_id[i]).symbol;else if(void 0!==i){var s=i.split("-");if(2===s.length){var o=n(s,2),c=o[0],u=o[1];a=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(u)}else a=i}void 0===a&&void 0!==t&&(a=t.symbol);var d=this.safeFloat(e,"last"),f=this.safeFloat(e,"open_24h");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_24h"),low:this.safeFloat(e,"low_24h"),bid:this.safeFloat(e,"best_bid"),bidVolume:this.safeFloat(e,"best_bid_size"),ask:this.safeFloat(e,"best_ask"),askVolume:this.safeFloat(e,"best_ask_size"),vwap:void 0,open:f,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"base_volume_24h"),quoteVolume:this.safeFloat(e,"quote_volume_24h"),info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s=i.type+"GetInstrumentsInstrumentIdTicker",o={instrument_id:i.id},n.next=7,r[s](r.extend(o,t));case 7:return c=n.sent,n.abrupt("return",r.parseTicker(c));case 9:case"end":return n.stop()}}),n)})))()}fetchTickersByType(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=e+"GetInstrumentsTicker",a.next=5,n[s](r);case 5:for(o=a.sent,c={},u=0;u<o.length;u++)d=n.parseTicker(o[u]),f=d.symbol,c[f]=d;return a.abrupt("return",n.filterByArray(c,"symbol",t));case 9:case"end":return a.stop()}}),i)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.safeString2(r.options,"fetchTickers","defaultType"),s=r.safeString(t,"type",i),n.next=4,r.fetchTickersByType(s,e,r.omit(t,"type"));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=void 0,a=this.safeString(e,"instrument_id"),i=void 0,s=void 0;if(a in this.markets_by_id)r=(t=this.markets_by_id[a]).symbol,i=t.base,s=t.quote;else if(void 0!==a){var o=a.split("-");if(2===o.length){var c=n(o,2),u=c[0],d=c[1];r=(i=this.safeCurrencyCode(u))+"/"+(s=this.safeCurrencyCode(d))}else r=a}void 0===r&&void 0!==t&&(r=t.symbol,i=t.base,s=t.quote);var f=this.parse8601(this.safeString2(e,"timestamp","created_at")),l=this.safeFloat(e,"price"),h=this.safeFloat2(e,"size","qty");h=this.safeFloat(e,"order_qty",h);var p=this.safeString2(e,"exec_type","liquidity");"M"===p?p="maker":"T"===p&&(p="taker");var m=this.safeString(e,"side"),v=void 0;void 0!==h&&void 0!==l&&(v=h*l);var b=this.safeFloat(e,"fee"),g=void 0;void 0!==b&&(g={cost:-b,currency:"buy"===m?i:s});var y=this.safeString(e,"order_id");return{info:e,timestamp:f,datetime:this.iso8601(f),symbol:r,id:this.safeString2(e,"trade_id","ledger_id"),order:y,type:void 0,takerOrMaker:p,side:m,price:l,amount:h,cost:v,fee:g}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c=o.type+"GetInstrumentsInstrumentIdTrades",(void 0===r||r>100)&&(r=100),u={instrument_id:o.id,limit:r},a.next=8,s[c](s.extend(u,n));case 8:return d=a.sent,a.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){if(Array.isArray(e)){var r=e.length>6?6:5,n=this.safeValue(e,0);return"string"===typeof n&&(n=this.parse8601(n)),[n,this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,r)]}return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:if(c=o.market(e),u=o.parseTimeframe(t),d={instrument_id:c.id,granularity:o.timeframes[t]},f=o.safeValue(o.options,"fetchOHLCV",{}),l=o.safeString(f,"type","Candles"),h=o.safeString(s,"type",l),s=o.omit(s,"type"),p=c.type+"GetInstrumentsInstrumentId"+h,"Candles"!==h){a.next=14;break}void 0!==r?(void 0!==n&&(d.end=o.iso8601(o.sum(r,n*u*1e3))),d.start=o.iso8601(r)):void 0!==n&&(m=o.milliseconds(),d.start=o.iso8601(m-n*u*1e3),d.end=o.iso8601(m)),a.next=18;break;case 14:if("HistoryCandles"!==h){a.next=18;break}if(!c.option){a.next=17;break}throw new S(o.id+" fetchOHLCV does not have "+h+" for "+c.type+" markets");case 17:void 0!==r?(void 0===n&&(n=300),d.start=o.iso8601(o.sum(r,n*u*1e3)),d.end=o.iso8601(r)):void 0!==n&&(v=o.milliseconds(),d.end=o.iso8601(v-n*u*1e3),d.start=o.iso8601(v));case 18:return a.next=20,o[p](o.extend(d,s));case 20:return b=a.sent,a.abrupt("return",o.parseOHLCVs(b,c,t,r,n));case 22:case"end":return a.stop()}}),i)})))()}parseAccountBalance(e){for(var t={info:e},r=0;r<e.length;r++){var n=e[r],a=this.safeString(n,"currency"),i=this.safeCurrencyCode(a),s=this.account();s.total=this.safeFloat(n,"balance"),s.used=this.safeFloat(n,"hold"),s.free=this.safeFloat(n,"available"),t[i]=s}return this.parseBalance(t)}parseMarginBalance(e){for(var t={info:e},r=0;r<e.length;r++){var a=e[r],i=this.safeString(a,"instrument_id"),s=this.safeValue(this.markets_by_id,i),o=void 0;if(void 0===s){var c=i.split("-"),u=n(c,2),d=u[0],f=u[1];o=this.safeCurrencyCode(d)+"/"+this.safeCurrencyCode(f)}else o=s.symbol;for(var l=this.omit(a,["instrument_id","liquidation_price","product_id","risk_rate","margin_ratio","maint_margin_ratio","tiers"]),h=Object.keys(l),p={},m=0;m<h.length;m++){var v=h[m],b=a[v];if(!(v.indexOf(":")>=0))throw new S(this.id+" margin balance response format has changed!");var g=v.split(":")[1],y=this.safeCurrencyCode(g),w=this.account();w.total=this.safeFloat(b,"balance"),w.used=this.safeFloat(b,"hold"),w.free=this.safeFloat(b,"available"),p[y]=w}t[o]=this.parseBalance(p)}return t}parseFuturesBalance(e){for(var t={info:e},r=this.safeValue(e,"info",{}),n=Object.keys(r),a=0;a<n.length;a++){var i=n[a],s=this.safeCurrencyCode(i),o=this.safeValue(r,i,{}),c=this.account(),u=this.safeFloat(o,"total_avail_balance");if("fixed"===this.safeString(o,"margin_mode")){for(var d=this.safeValue(o,"contracts",[]),f=u,l=0;l<d.length;l++){var h=d[l],p=this.safeFloat(h,"fixed_balance"),m=this.safeFloat(h,"realized_pnl"),v=this.safeFloat(h,"margin_frozen"),b=this.safeFloat(h,"margin_for_unfilled"),g=this.sum(p,m)-v-b;f=this.sum(f,g)}c.free=f}else{var y=this.safeFloat(o,"realized_pnl"),w=this.safeFloat(o,"unrealized_pnl"),k=this.safeFloat(o,"margin_frozen"),x=this.safeFloat(o,"margin_for_unfilled");c.free=this.sum(u,y,w)-k-x}c.total=this.safeFloat(o,"equity"),t[s]=c}return this.parseBalance(t)}parseSwapBalance(e){for(var t={info:e},r=this.safeValue(e,"info",[]),n=0;n<r.length;n++){var a=r[n],i=this.safeString(a,"instrument_id"),s=i;i in this.markets_by_id&&(s=this.markets_by_id[i].symbol);var o=this.account();o.total=this.safeFloat(a,"equity"),o.free=this.safeFloat(a,"total_avail_balance"),t[s]=o}return this.parseBalance(t)}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.safeString2(t.options,"fetchBalance","defaultType"),void 0!==(i=t.safeString(e,"type",n))){r.next=4;break}throw new f(t.id+" fetchBalance() requires a type parameter (one of 'account', 'spot', 'margin', 'futures', 'swap')");case 4:return r.next=6,t.loadMarkets();case 6:return s=i+"Get"+("account"===i?"Wallet":"Accounts"),o=t.omit(e,"type"),r.next=11,t[s](o);case 11:return c=r.sent,r.abrupt("return",t.parseBalanceByType(i,c));case 13:case"end":return r.stop()}}),r)})))()}parseBalanceByType(e,t){if("account"===e||"spot"===e)return this.parseAccountBalance(t);if("margin"===e)return this.parseMarginBalance(t);if("futures"===e)return this.parseFuturesBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new S(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:if(u=c.market(e),d={instrument_id:u.id},void 0!==(f=c.safeString2(o,"client_oid","clientOrderId"))&&(d.client_oid=f,o=c.omit(o,["client_oid","clientOrderId"])),l=void 0,!u.futures&&!u.swap){a.next=17;break}h=u.futures?c.numberToString(n):c.amountToPrecision(e,n),d=c.extend(d,{type:t,size:h}),p=c.safeString(o,"order_type"),"market"===t||"4"===p?d.order_type="4":d.price=c.priceToPrecision(e,s),u.futures&&(d.leverage="10"),l=u.type+"PostOrder",a.next=44;break;case 17:if(m=c.safeString(o,"margin_trading","1"),d=c.extend(d,{side:r,type:t,margin_trading:m}),"limit"!==t){a.next=24;break}d.price=c.priceToPrecision(e,s),d.size=c.amountToPrecision(e,n),a.next=43;break;case 24:if("market"!==t){a.next=43;break}if("buy"!==r){a.next=42;break}if(v=c.safeFloat(o,"notional"),!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){a.next=37;break}if(void 0===s){a.next=33;break}void 0===v&&(v=n*s),a.next=35;break;case 33:if(void 0!==v){a.next=35;break}throw new w(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)");case 35:a.next=38;break;case 37:v=void 0===v?n:v;case 38:b=u.precision.price,d.notional=c.decimalToPrecision(v,E,b,c.precisionMode),a.next=43;break;case 42:d.size=c.amountToPrecision(e,n);case 43:l="2"===m?"marginPostOrders":"spotPostOrders";case 44:return a.next=46,c[l](c.extend(d,o));case 46:return g=a.sent,y=c.parseOrder(g,u),a.abrupt("return",c.extend(y,{type:t,side:r}));case 49:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(n.id+" cancelOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:if(s=n.market(t),o=void 0,s.futures||s.swap?o=s.type:(c=n.safeString2(n.options,"cancelOrder","defaultType",s.type),o=n.safeString(r,"type",c)),void 0!==o){a.next=9;break}throw new f(n.id+" cancelOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");case 9:return u=o+"PostCancelOrder",d={instrument_id:s.id},s.futures||s.swap?u+="InstrumentId":u+="s",void 0!==(l=n.safeString2(r,"client_oid","clientOrderId"))?(u+="ClientOid",d.client_oid=l):(u+="OrderId",d.order_id=e),h=n.omit(r,["type","client_oid","clientOrderId"]),a.next=17,n[u](n.extend(d,h));case 17:return p=a.sent,m="result"in p?p:n.safeValue(p,s.id,{}),a.abrupt("return",n.parseOrder(m,s));case 20:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({"-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return this.safeString({1:"buy",2:"sell",3:"sell",4:"buy"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=this.parse8601(this.safeString(e,"timestamp")),a=this.safeString(e,"side"),i=this.safeString(e,"type");"buy"!==a&&"sell"!==a&&(a=this.parseOrderSide(i));var s=void 0,o=this.safeString(e,"instrument_id");s=o in this.markets_by_id?(t=this.markets_by_id[o]).symbol:o,void 0!==t&&void 0===s&&(s=t.symbol);var c=this.safeFloat(e,"size"),u=this.safeFloat2(e,"filled_size","filled_qty"),d=void 0;void 0!==c&&void 0!==u&&(c=Math.max(c,u),d=Math.max(0,c-u)),"market"===i&&(d=0);var f=this.safeFloat2(e,"filled_notional","funds"),l=this.safeFloat(e,"price"),h=this.safeFloat(e,"price_avg");void 0===f?void 0!==u&&void 0!==h&&(f=h*u):void 0===h&&void 0!==u&&u>0&&(h=f/u);var p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeFloat(e,"fee"),v=void 0;if(void 0!==m){v={cost:m,currency:void 0}}var b=this.safeString(e,"client_oid");void 0!==b&&b.length<1&&(b=void 0);var g=this.safeFloat(e,"trigger_price");return{info:e,id:r,clientOrderId:b,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:i,timeInForce:void 0,postOnly:void 0,side:a,price:l,stopPrice:g,average:h,cost:f,amount:c,filled:u,remaining:d,status:p,fee:v,trades:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(n.id+" fetchOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:if(s=n.market(t),o=n.safeString2(n.options,"fetchOrder","defaultType",s.type),void 0!==(c=n.safeString(r,"type",o))){a.next=9;break}throw new f(n.id+" fetchOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");case 9:return u=s.futures||s.swap?"InstrumentId":"",d=c+"GetOrders"+u,l={instrument_id:s.id},void 0!==(h=n.safeString(r,"client_oid"))?(d+="ClientOid",l.client_oid=h):(d+="OrderId",l.order_id=e),p=n.omit(r,"type"),a.next=17,n[d](n.extend(l,p));case 17:return m=a.sent,a.abrupt("return",n.parseOrder(m));case 19:case"end":return a.stop()}}),i)})))()}fetchOrdersByState(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(o.id+" fetchOrdersByState() requires a symbol argument");case 2:return a.next=4,o.loadMarkets();case 4:if(c=o.market(t),u=void 0,c.futures||c.swap?u=c.type:(d=o.safeString2(o.options,"fetchOrder","defaultType",c.type),u=o.safeString(s,"type",d)),void 0!==u){a.next=9;break}throw new f(o.id+" fetchOrdersByState() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");case 9:return l={instrument_id:c.id,state:e},h=u+"GetOrders",(c.futures||c.swap)&&(h+="InstrumentId"),p=o.omit(s,"type"),a.next=15,o[h](o.extend(l,p));case 15:if(m=a.sent,v=void 0,!c.swap&&!c.futures){a.next=21;break}v=o.safeValue(m,"order_info",[]),a.next=26;break;case 21:if(v=m,!((b=m.length)<1)){a.next=25;break}return a.abrupt("return",[]);case 25:b>1&&void 0!==o.safeValue(m[1],"before")&&(v=m[0]);case 26:return a.abrupt("return",o.parseOrders(v,c,r,n));case 27:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByState("6",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByState("7",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}parseDepositAddresses(e){for(var t={},r=0;r<e.length;r++){var n=this.parseDepositAddress(e[r]);t[n.currency]=n}return t}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString2(e,"tag","payment_id");n=this.safeString(e,"memo",n);var a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a);return this.checkAddress(r),{currency:i,address:r,tag:n,info:e}}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.accountGetDepositAddress(r.extend(s,t));case 6:if(o=n.sent,c=r.parseDepositAddresses(o),void 0!==(u=r.safeValue(c,e))){n.next=11;break}throw new p(r.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");case 11:return n.abrupt("return",u);case 12:case"end":return n.stop()}}),n)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:if(u=o.currency(e),n&&(r=r+":"+n),void 0!==(d=o.safeString(s,"fee"))){a.next=8;break}throw new f(o.id+" withdraw() requires a `fee` string parameter, network transaction fee must be \u2265 0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");case 8:if(l={currency:u.id,to_address:r,destination:"4",amount:o.numberToString(t),fee:d},"password"in s?l.trade_pwd=s.password:"trade_pwd"in s?l.trade_pwd=s.trade_pwd:o.password&&(l.trade_pwd=o.password),h=o.omit(s,["fee","password","trade_pwd"]),"trade_pwd"in l){a.next=13;break}throw new c(o.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");case 13:return a.next=15,o.accountPostWithdrawal(o.extend(l,h));case 15:return p=a.sent,a.abrupt("return",{info:p,id:o.safeString(p,"withdrawal_id")});case 17:case"end":return a.stop()}}),i)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c="accountGetDepositHistory",u=void 0,void 0!==e&&(u=s.currency(e),o.currency=u.id,c+="Currency"),a.next=8,s[c](s.extend(o,n));case 8:return d=a.sent,a.abrupt("return",s.parseTransactions(d,u,t,r,n));case 10:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c="accountGetWithdrawalHistory",u=void 0,void 0!==e&&(u=s.currency(e),o.currency=u.id,c+="Currency"),a.next=8,s[c](s.extend(o,n));case 8:return d=a.sent,a.abrupt("return",s.parseTransactions(d,u,t,r,n));case 10:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"},e,e)}parseTransaction(e,t){var r=void 0,n=void 0,a=void 0,i=this.safeString(e,"withdrawal_id"),s=this.safeString(e,"from"),o=this.safeString(e,"to"),c=this.safeString(e,"tag");void 0!==i?(r="withdrawal",n=i,a=o):(n=this.safeString2(e,"payment_id","deposit_id"),r="deposit",a=o);var u=this.safeString(e,"currency"),d=this.safeCurrencyCode(u),f=this.safeFloat(e,"amount"),l=this.parseTransactionStatus(this.safeString(e,"status")),h=this.safeString(e,"txid"),p=this.parse8601(this.safeString(e,"timestamp")),m=void 0;if("deposit"===r)m=0;else if(void 0!==u){var v=this.safeString(e,"fee");if(void 0!==v){var b=u.toLowerCase(),g=v.replace(b,"");m=parseFloat(g)}}return{info:e,id:n,currency:d,amount:f,addressFrom:s,addressTo:o,address:a,tagFrom:void 0,tagTo:c,tag:c,status:l,type:r,updated:void 0,txid:h,timestamp:p,datetime:this.iso8601(p),fee:{currency:d,cost:m}}}parseMyTrade(e,t){var r=this.safeValue(e,1),n=this.safeValue(e,0),a=this.safeString(n,"instrument_id");if(a!==this.safeString(r,"instrument_id"))throw new S(this.id+" parseMyTrade() received unrecognized response format, differing instrument_ids in one fill, the exchange API might have changed, paste your verbose output: https://github.com/ccxt/ccxt/wiki/FAQ#what-is-required-to-get-help");var i=a,s=(t=this.safeMarket(i,t)).symbol,o=t.quoteId,c=void 0,u=void 0,d=void 0,f=void 0;this.safeString(r,"currency")===o?(c=this.safeString(n,"side"),u=this.safeFloat(n,"size"),d=this.safeFloat(r,"size"),f=this.safeString(n,"currency")):(c=this.safeString(r,"side"),u=this.safeFloat(r,"size"),d=this.safeFloat(n,"size"),f=this.safeString(r,"currency"));var l=this.safeString(r,"trade_id"),h=this.safeFloat(r,"price"),p=this.safeFloat(n,"fee"),m=this.safeFloat(r,"fee"),v=this.safeCurrencyCode(this.safeString(n,"currency")),b=this.safeCurrencyCode(this.safeString(r,"currency")),g=void 0,y=void 0;void 0!==p&&0!==p?void 0!==m&&0!==m?y=[{cost:-p,currency:v},{cost:-m,currency:b}]:g={cost:-p,currency:v}:g=void 0!==m&&0!==m?{cost:-m,currency:b}:{cost:0,currency:this.safeCurrencyCode(f)};var w=this.parse8601(this.safeString2(r,"timestamp","created_at")),k=this.safeString2(r,"exec_type","liquidity");"M"===k?k="maker":"T"===k&&(k="taker");var x=this.safeString(r,"order_id"),_={info:e,timestamp:w,datetime:this.iso8601(w),symbol:s,id:l,order:x,type:void 0,takerOrMaker:k,side:c,price:h,amount:u,cost:d,fee:g};return void 0!==y&&(_.fees=y),_}parseMyTrades(e,t,r,n,a={}){for(var i=this.groupBy(e,"trade_id"),s=Object.keys(i),o=[],c=0;c<s.length;c++){var u=i[s[c]];if(2===u.length){var d=this.parseMyTrade(u);o.push(d)}}var f=void 0;return void 0!==t&&(f=t.symbol),this.filterBySymbolSinceLimit(o,f,r,n)}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new f(s.id+" fetchMyTrades() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.market(e),void 0!==r&&r>100&&(r=100),c={instrument_id:o.id},u=s.safeString2(s.options,"fetchMyTrades","defaultType"),d=s.safeString(n,"type",u),l=s.omit(n,"type"),h=d+"GetFills",a.next=13,s[h](s.extend(c,l));case 13:return p=a.sent,a.abrupt("return",s.parseMyTrades(p,o,t,r,n));case 15:case"end":return a.stop()}}),i)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={order_id:e},a.next=3,o.fetchMyTrades(t,r,n,o.extend(c,s));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchPosition(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.market(e),s=void 0,o={instrument_id:i.id},"futures"!==(c=i.type)&&"swap"!==c){n.next=10;break}s=c+"GetInstrumentIdPosition",n.next=18;break;case 10:if("option"!==c){n.next=17;break}if(void 0!==r.safeString(t,"underlying")){n.next=14;break}throw new f(r.id+" fetchPosition() requires an underlying parameter for "+c+" market "+e);case 14:s=c+"GetUnderlyingPosition",n.next=18;break;case 17:throw new S(r.id+" fetchPosition() does not support "+c+" market "+e+", supported market types are futures, swap or option");case 18:return n.next=20,r[s](r.extend(o,t));case 20:return u=n.sent,n.abrupt("return",u);case 22:case"end":return n.stop()}}),n)})))()}fetchPositions(e,t,r,n={}){var s=this;return i(a.mark((function e(){var t,r,i,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:if(t=void 0,r=s.safeString2(s.options,"fetchPositions","defaultType"),"futures"!==(i=s.safeString(n,"type",r))&&"swap"!==i){e.next=9;break}t=i+"GetPosition",e.next=17;break;case 9:if("option"!==i){e.next=16;break}if(void 0!==s.safeString(n,"underlying")){e.next=13;break}throw new f(s.id+" fetchPositions() requires an underlying parameter for "+i+" markets");case 13:t=i+"GetUnderlyingPosition",e.next=17;break;case 16:throw new S(s.id+" fetchPositions() does not support "+i+" markets, supported market types are futures, swap or option");case 17:return n=s.omit(n,"type"),e.next=20,s[t](n);case 20:return o=e.sent,e.abrupt("return",o);case 22:case"end":return e.stop()}}),e)})))()}fetchLedger(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,l,h,p,m,v,b,g,y,w,k,x,_,T,O;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o=s.safeString2(s.options,"fetchLedger","defaultType"),c=s.safeString(n,"type",o),u=s.omit(n,"type"),d="account"===c?"":"Accounts",l="",h={},void 0!==r&&(h.limit=r),p=void 0,"spot"!==c){a.next=18;break}if(void 0!==e){a.next=13;break}throw new f(s.id+" fetchLedger() requires a currency code argument for '"+c+"' markets");case 13:l="Currency",p=s.currency(e),h.currency=p.id,a.next=45;break;case 18:if("futures"!==c){a.next=31;break}if(void 0!==e){a.next=21;break}throw new f(s.id+" fetchLedger() requires an underlying symbol for '"+c+"' markets");case 21:l="Underlying",m=s.market(e),v=s.safeValue(m,"info",{}),b=s.safeString(v,"settlement_currency"),g=s.safeCurrencyCode(b),p=s.currency(g),y=s.safeString(v,"underlying"),h.underlying=y,a.next=45;break;case 31:if("margin"!==c&&"swap"!==c){a.next=40;break}if(void 0!==e){a.next=34;break}throw new f(s.id+" fetchLedger() requires a code argument (a market symbol) for '"+c+"' markets");case 34:l="InstrumentId",w=s.market(e),p=s.currency(w.base),h.instrument_id=w.id,a.next=45;break;case 40:if("account"!==c){a.next=44;break}void 0!==e&&(p=s.currency(e),h.currency=p.id),a.next=45;break;case 44:throw new S(s.id+" fetchLedger does not support the '"+c+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')");case 45:return k=c+"Get"+d+l+"Ledger",a.next=48,s[k](s.extend(h,u));case 48:if(x=a.sent,!(x.length<1)){a.next=52;break}return a.abrupt("return",[]);case 52:if(_=Array.isArray(x[0]),T="margin"===c&&_?x[0]:x,"swap"!==c){a.next=58;break}return O=s.parseLedger(T),a.abrupt("return",s.filterBySymbolSinceLimit(O,e,t,r));case 58:return a.abrupt("return",s.parseLedger(T,p,t,r));case 59:case"end":return a.stop()}}),i)})))()}parseLedgerEntryType(e){return this.safeString({transfer:"transfer",trade:"trade",rebate:"rebate",match:"trade",fee:"fee",settlement:"trade",liquidation:"trade",funding:"fee",margin:"margin"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"ledger_id"),n=this.safeValue(e,"details",{}),a=this.safeString(n,"order_id"),i=this.parseLedgerEntryType(this.safeString(e,"type")),s=this.safeCurrencyCode(this.safeString(e,"currency"),t),o=this.safeFloat(e,"amount"),c=this.parse8601(this.safeString(e,"timestamp")),u={cost:this.safeFloat(e,"fee"),currency:s},d=this.safeFloat(e,"balance"),f=this.safeString(e,"instrument_id"),l=void 0;f in this.markets_by_id&&(l=this.markets_by_id[f].symbol);return{info:e,id:r,account:void 0,referenceId:a,referenceAccount:void 0,type:i,currency:s,symbol:l,amount:o,before:void 0,after:d,status:"ok",timestamp:c,datetime:this.iso8601(c),fee:u}}sign(e,t="public",r="GET",n={},a,i){var s=Array.isArray(n),o="/api/"+t+"/"+this.version+"/";o+=s?e:this.implodeParams(e,n);var c=s?n:this.omit(n,this.extractParams(e)),u=this.implodeParams(this.urls.api.rest,{hostname:this.hostname})+o,d=this.getPathAuthenticationType(e);if("public"===d)Object.keys(c).length&&(u+="?"+this.urlencode(c));else if("private"===d){this.checkRequiredCredentials();var f=this.iso8601(this.milliseconds());a={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":f};var l=f+r+o;if("GET"===r){if(Object.keys(c).length){var h="?"+this.urlencode(c);u+=h,l+=h}}else(s||Object.keys(c).length)&&(l+=i=this.json(c)),a["Content-Type"]="application/json";var p=this.hmac(this.encode(l),this.encode(this.secret),"sha256","base64");a["OK-ACCESS-SIGN"]=p}return{url:u,method:r,body:i,headers:a}}getPathAuthenticationType(e){if("underlying"===e)return"public";var t=this.safeValue(this.options,"auth",{}),r=this.findBroadlyMatchedKey(t,e);return this.safeString(t,r,"private")}handleErrors(e,t,r,n,a,i,s,o,d){if(s){var f=this.id+" "+i;if(503===e)throw new u(f);var l=this.safeString(s,"message"),h=this.safeString2(s,"code","error_code"),p=void 0!==l&&""!==l,m=void 0!==h&&"0"!==h;if(p&&(this.throwExactlyMatchedException(this.exceptions.exact,l,f),this.throwBroadlyMatchedException(this.exceptions.broad,l,f)),m&&this.throwExactlyMatchedException(this.exceptions.exact,h,f),m||p)throw new c(f)}}}},function(e,t,r){var n=r(602),a=r(208);e.exports=function(e){if("string"===typeof e||"number"===typeof e){var t=new n(1),r=String(e).toLowerCase().trim(),i="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),s=a(r);if("-"===s.substr(0,1)&&(s=a(s.slice(1)),t=new n(-1,10)),!(s=""===s?"0":s).match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||!0===i&&s.match(/^[0-9A-Fa-f]+$/))return new n(s,16).mul(t);if((s.match(/^-?[0-9]+$/)||""===s)&&!1===i)return new n(s,10).mul(t)}else if("object"===typeof e&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new n(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},function(e,t,r){var n=r(209);e.exports=function(e){return"string"!==typeof e?e:n(e)?e.slice(2):e}},function(e,t){e.exports=function(e){if("string"!==typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},function(e,t,r){(function(t){var n=r(25),a=r(8),i=r(207),s=r(603),o=r(115),c=r(604),u=function(e){return a.isBN(e)},d=function(e){return e&&e.constructor&&"BigNumber"===e.constructor.name},f=function(e){try{return i.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},l=function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(e)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(e))||h(e))},h=function(e){e=e.replace(/^0x/i,"");for(var t=w(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},p=function(e){var t="";e=(e=(e=(e=(e=s.encode(e)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},m=function(e){if(n.isNull(e)||n.isUndefined(e))return e;if(!isFinite(e)&&!b(e))throw new Error('Given input "'+e+'" is not a number.');var t=f(e),r=t.toString(16);return t.lt(new a(0))?"-0x"+r.substr(1):"0x"+r},v=function(e){if(e=e.toString(16),!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},b=function(e){return(n.isString(e)||n.isNumber(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},g=function(e){return(n.isString(e)||n.isNumber(e))&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},y="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",w=function(e){u(e)&&(e=e.toString()),b(e)&&/^0x/i.test(e.toString())&&(e=v(e));var t=o.keccak256(e);return t===y?null:t};w._Hash=o;e.exports={BN:a,isBN:u,isBigNumber:d,toBN:f,isAddress:l,isBloom:function(e){return c.isBloom(e)},isUserEthereumAddressInBloom:function(e,t){return c.isUserEthereumAddressInBloom(e,t)},isContractAddressInBloom:function(e,t){return c.isContractAddressInBloom(e,t)},isTopic:function(e){return c.isTopic(e)},isTopicInBloom:function(e,t){return c.isTopicInBloom(e,t)},isInBloom:function(e,t){return c.isInBloom(e,t)},checkAddressChecksum:h,utf8ToHex:p,hexToUtf8:function(e){if(!b(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');for(var t="",r=0,n=(e=(e=(e=(e=(e=e.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,a=0;a<n;a+=2)r=parseInt(e.substr(a,2),16),t+=String.fromCharCode(r);return s.decode(t)},hexToNumber:function(e){if(!e)return e;if(n.isString(e)&&!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return f(e).toNumber()},hexToNumberString:function(e){if(!e)return e;if(n.isString(e)&&!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return f(e).toString(10)},numberToHex:m,toHex:function(e,r){if(l(e))return r?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(n.isBoolean(e))return r?"bool":e?"0x01":"0x00";if(t.isBuffer(e))return"0x"+e.toString("hex");if(n.isObject(e)&&!d(e)&&!u(e))return r?"string":p(JSON.stringify(e));if(n.isString(e)){if(0===e.indexOf("-0x")||0===e.indexOf("-0X"))return r?"int256":m(e);if(0===e.indexOf("0x")||0===e.indexOf("0X"))return r?"bytes":e;if(!isFinite(e))return r?"string":p(e)}return r?e<0?"int256":"uint256":m(e)},hexToBytes:v,bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return"0x"+t.join("")},isHex:g,isHexStrict:b,stripHexPrefix:function(e){return 0!==e&&g(e)?e.replace(/^(-)?0x/i,"$1"):e},leftPad:function(e,t,r){var n=/^0x/i.test(e)||"number"===typeof e,a=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},rightPad:function(e,t,r){var n=/^0x/i.test(e)||"number"===typeof e,a=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},toTwosComplement:function(e){return"0x"+f(e).toTwos(256).toString(16,64)},sha3:w,sha3Raw:function(e){return null===(e=w(e))?y:e}}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=r(30),a=r(8),i=function(e){var t="A".charCodeAt(0),r="Z".charCodeAt(0);return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map((function(e){var n=e.charCodeAt(0);return n>=t&&n<=r?n-t+10:e})).join("")},s=function(e){for(var t,r=e;r.length>2;)t=r.slice(0,9),r=parseInt(t,10)%97+r.slice(t.length);return parseInt(r,10)%97},o=function(e){this._iban=e};o.toAddress=function(e){if(!(e=new o(e)).isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()},o.toIban=function(e){return o.fromAddress(e).toString()},o.fromAddress=function(e){if(!n.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");var t=function(e,t){for(var r=e;r.length<2*t;)r="0"+r;return r}(new a(e,16).toString(36),15);return o.fromBban(t.toUpperCase())},o.fromBban=function(e){var t=("0"+(98-s(i("XE00"+e)))).slice(-2);return new o("XE"+t+e)},o.createIndirect=function(e){return o.fromBban("ETH"+e.institution+e.identifier)},o.isValid=function(e){return new o(e).isValid()},o.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(i(this._iban))},o.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},o.prototype.isIndirect=function(){return 20===this._iban.length},o.prototype.checksum=function(){return this._iban.substr(2,2)},o.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},o.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},o.prototype.toAddress=function(){if(this.isDirect()){var e=this._iban.substr(4),t=new a(e,36);return n.toChecksumAddress(t.toString(16,20))}return""},o.prototype.toString=function(){return this._iban},e.exports=o},function(e,t,r){"use strict";var n={messageId:0,toPayload:function(e,t){if(!e)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(t)+'"!');return n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:e,params:t||[]}},isValidResponse:function(e){return Array.isArray(e)?e.every(t):t(e);function t(e){return!!e&&!e.error&&"2.0"===e.jsonrpc&&("number"===typeof e.id||"string"===typeof e.id)&&void 0!==e.result}},toBatchPayload:function(e){return e.map((function(e){return n.toPayload(e.method,e.params)}))}};e.exports=n},function(e,t,r){"use strict";e.exports={addresses:{main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",ropsten:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",rinkeby:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},interfaceIds:{addr:"0x3b3b57de",setAddr:"0x3b3b57de",pubkey:"0xc8690233",setPubkey:"0xc8690233",contenthash:"0xbc1c58d1",setContenthash:"0xbc1c58d1",content:"0xd8389dc5",setContent:"0xd8389dc5"}}},function(e,t,r){"use strict";var n=r(25),a=r(55),i=r(56),s=r(30),o=r(89).subscription,c=r(23).formatters,u=r(23).errors,d=r(88),f=r(215),l=function e(t,r,i){var o=this,d=Array.prototype.slice.call(arguments);if(!(this instanceof e))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){a.packageInit(o,arguments),o.clearSubscriptions=o._requestManager.clearSubscriptions},a.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!t||!Array.isArray(t))throw u.ContractMissingABIError();this.options={};var l=d[d.length-1];n.isObject(l)&&!n.isArray(l)&&(i=l,this.options=n.extend(this.options,this._getOrSetDefaultOptions(i)),n.isObject(r)&&(r=null)),Object.defineProperty(this.options,"address",{set:function(e){e&&(o._address=s.toChecksumAddress(c.inputAddressFormatter(e)))},get:function(){return o._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(e){return o.methods={},o.events={},o._jsonInterface=e.map((function(e){var t,r;if(e.constant="view"===e.stateMutability||"pure"===e.stateMutability||e.constant,e.payable="payable"===e.stateMutability||e.payable,e.name&&(r=s._jsonInterfaceMethodToString(e)),"function"===e.type){if(e.signature=f.encodeFunctionSignature(r),t=o._createTxObject.bind({method:e,parent:o}),o.methods[e.name]){var n=o._createTxObject.bind({method:e,parent:o,nextMethod:o.methods[e.name]});o.methods[e.name]=n}else o.methods[e.name]=t;o.methods[e.signature]=t,o.methods[r]=t}else if("event"===e.type){e.signature=f.encodeEventSignature(r);var a=o._on.bind(o,e.signature);o.events[e.name]&&"bound "!==o.events[e.name].name||(o.events[e.name]=a),o.events[e.signature]=a,o.events[r]=a}return e})),o.events.allEvents=o._on.bind(o,"allevents"),o._jsonInterface},get:function(){return o._jsonInterface},enumerable:!0});var h=this.constructor.defaultAccount,p=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===o.options.handleRevert||!0===o.options.handleRevert?o.options.handleRevert:this.constructor.handleRevert},set:function(e){o.options.handleRevert=e},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return o.options.common||this.constructor.defaultCommon},set:function(e){o.options.common=e},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return o.options.hardfork||this.constructor.defaultHardfork},set:function(e){o.options.hardfork=e},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return o.options.chain||this.constructor.defaultChain},set:function(e){o.options.chain=e},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===o.options.transactionPollingTimeout?o.options.transactionPollingTimeout:o.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(e){o.options.transactionPollingTimeout=e},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===o.options.transactionConfirmationBlocks?o.options.transactionConfirmationBlocks:o.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(e){o.options.transactionConfirmationBlocks=e},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===o.options.transactionBlockTimeout?o.options.transactionBlockTimeout:o.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(e){o.options.transactionBlockTimeout=e},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return h},set:function(e){return e&&(h=s.toChecksumAddress(c.inputAddressFormatter(e))),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return p},set:function(e){return p=e,e},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=t};l.setProvider=function(e,t){a.packageInit(this,[e]),this._ethAccounts=t},l.prototype._getCallback=function(e){if(e&&n.isFunction(e[e.length-1]))return e.pop()},l.prototype._checkListener=function(e,t){if(t===e)throw u.ContractReservedEventError(e)},l.prototype._getOrSetDefaultOptions=function(e){var t=e.gasPrice?String(e.gasPrice):null,r=e.from?s.toChecksumAddress(c.inputAddressFormatter(e.from)):null;return e.data=e.data||this.options.data,e.from=r||this.options.from,e.gasPrice=t||this.options.gasPrice,e.gas=e.gas||e.gasLimit||this.options.gas,delete e.gasLimit,e},l.prototype._encodeEventABI=function(e,t){var r=(t=t||{}).filter||{},a={};if(["fromBlock","toBlock"].filter((function(e){return void 0!==t[e]})).forEach((function(e){a[e]=c.inputBlockNumberFormatter(t[e])})),n.isArray(t.topics))a.topics=t.topics;else{if(a.topics=[],e&&!e.anonymous&&"ALLEVENTS"!==e.name&&a.topics.push(e.signature),"ALLEVENTS"!==e.name){var i=e.inputs.filter((function(e){return!0===e.indexed})).map((function(e){var t=r[e.name];return t?n.isArray(t)?t.map((function(t){return f.encodeParameter(e.type,t)})):f.encodeParameter(e.type,t):null}));a.topics=a.topics.concat(i)}a.topics.length||delete a.topics}return this.options.address&&(a.address=this.options.address.toLowerCase()),a},l.prototype._decodeEventABI=function(e){var t=this;e.data=e.data||"",e.topics=e.topics||[];var r=c.outputLogFormatter(e);if("ALLEVENTS"===t.name&&(t=t.jsonInterface.find((function(t){return t.signature===e.topics[0]}))||{anonymous:!0}),t.inputs=t.inputs||[],!t.anonymous){var n=0;t.inputs.forEach(e=>e.indexed?n++:null),n>0&&e.topics.length!==n+1&&(t={anonymous:!0,inputs:[]})}var a=t.anonymous?e.topics:e.topics.slice(1);return r.returnValues=f.decodeLog(t.inputs,e.data,a),delete r.returnValues.__length__,r.event=t.name,r.signature=t.anonymous||!e.topics[0]?null:e.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r},l.prototype._encodeMethodABI=function(){var e=this._method.signature,t=this.arguments||[],r=!1,a=this._parent.options.jsonInterface.filter((function(t){return"constructor"===e&&t.type===e||(t.signature===e||t.signature===e.replace("0x","")||t.name===e)&&"function"===t.type})).map((function(e){var a=n.isArray(e.inputs)?e.inputs.length:0;if(a!==t.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+a+" arguments.");return"function"===e.type&&(r=e.signature),n.isArray(e.inputs)?e.inputs:[]})).map((function(e){return f.encodeParameters(e,t).replace("0x","")}))[0]||"";if("constructor"===e){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+a}var i=r?r+a:a;if(!i)throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".');return i},l.prototype._decodeMethodReturn=function(e,t){if(!t)return null;t=t.length>=2?t.slice(2):t;var r=f.decodeParameters(e,t);return 1===r.__length__?r[0]:(delete r.__length__,r)},l.prototype.deploy=function(e,t){if((e=e||{}).arguments=e.arguments||[],!(e=this._getOrSetDefaultOptions(e)).data){if("function"===typeof t)return t(u.ContractMissingDeployDataError());throw u.ContractMissingDeployDataError()}var r=n.find(this.options.jsonInterface,(function(e){return"constructor"===e.type}))||{};return r.signature="constructor",this._createTxObject.apply({method:r,parent:this,deployData:e.data,_ethAccounts:this.constructor._ethAccounts},e.arguments)},l.prototype._generateEventOptions=function(){var e=Array.prototype.slice.call(arguments),t=this._getCallback(e),r=n.isObject(e[e.length-1])?e.pop():{},a=n.isString(e[0])?e[0]:"allevents",i="allevents"===a.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find((function(e){return"event"===e.type&&(e.name===a||e.signature==="0x"+a.replace("0x",""))}));if(!i)throw u.ContractEventDoesNotExistError(a);if(!s.isAddress(this.options.address))throw u.ContractNoAddressDefinedError();return{params:this._encodeEventABI(i,r),event:i,callback:t}},l.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},l.prototype.once=function(e,t,r){var a=Array.prototype.slice.call(arguments);if(!(r=this._getCallback(a)))throw u.ContractOnceRequiresCallbackError();t&&delete t.fromBlock,this._on(e,t,(function(e,t,a){a.unsubscribe(),n.isFunction(r)&&r(e,t,a)}))},l.prototype._on=function(){var e=this._generateEventOptions.apply(this,arguments);e.params&&e.params.toBlock&&(delete e.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",e.event.name),this._checkListener("removeListener",e.event.name);var t=new o({subscription:{params:1,inputFormatter:[c.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event),subscriptionHandler:function(e){e.removed?this.emit("changed",e):this.emit("data",e),n.isFunction(this.callback)&&this.callback(null,e,this)}},type:"eth",requestManager:this._requestManager});return t.subscribe("logs",e.params,e.callback||function(){}),t},l.prototype.getPastEvents=function(){var e=this._generateEventOptions.apply(this,arguments),t=new i({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[c.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event)});t.setRequestManager(this._requestManager);var r=t.buildCall();return t=null,r(e.params,e.callback)},l.prototype._createTxObject=function(){var e=Array.prototype.slice.call(arguments),t={};if("function"===this.method.type&&(t.call=this.parent._executeMethod.bind(t,"call"),t.call.request=this.parent._executeMethod.bind(t,"call",!0)),t.send=this.parent._executeMethod.bind(t,"send"),t.send.request=this.parent._executeMethod.bind(t,"send",!0),t.encodeABI=this.parent._encodeMethodABI.bind(t),t.estimateGas=this.parent._executeMethod.bind(t,"estimate"),e&&this.method.inputs&&e.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,e);throw u.InvalidNumberOfParams(e.length,this.method.inputs.length,this.method.name)}return t.arguments=e||[],t._method=this.method,t._parent=this.parent,t._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(t._deployData=this.deployData),t},l.prototype._processExecuteArguments=function(e,t){var r={};if(r.type=e.shift(),r.callback=this._parent._getCallback(e),"call"===r.type&&!0!==e[e.length-1]&&(n.isString(e[e.length-1])||isFinite(e[e.length-1]))&&(r.defaultBlock=e.pop()),r.options=n.isObject(e[e.length-1])?e.pop():{},r.generateRequest=!0===e[e.length-1]&&e.pop(),r.options=this._parent._getOrSetDefaultOptions(r.options),r.options.data=this.encodeABI(),!this._deployData&&!s.isAddress(this._parent.options.address))throw u.ContractNoAddressDefinedError();return this._deployData||(r.options.to=this._parent.options.address),r.options.data?r:s._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),t.eventEmitter,t.reject,r.callback)},l.prototype._executeMethod=function(){var e=this,t=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),r),r=d("send"!==t.type),a=e.constructor._ethAccounts||e._ethAccounts;if(t.generateRequest){var o={params:[c.inputCallFormatter.call(this._parent,t.options)],callback:t.callback};return"call"===t.type?(o.params.push(c.inputDefaultBlockNumberFormatter.call(this._parent,t.defaultBlock)),o.method="eth_call",o.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):o.method="eth_sendTransaction",o}switch(t.type){case"estimate":var l=new i({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[c.inputCallFormatter],outputFormatter:s.hexToNumber,requestManager:e._parent._requestManager,accounts:a,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock}).createFunction();return l(t.options,t.callback);case"call":var h=new i({name:"call",call:"eth_call",params:2,inputFormatter:[c.inputCallFormatter,c.inputDefaultBlockNumberFormatter],outputFormatter:function(t){return e._parent._decodeMethodReturn(e._method.outputs,t)},requestManager:e._parent._requestManager,accounts:a,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,handleRevert:e._parent.handleRevert,abiCoder:f}).createFunction();return h(t.options,t.defaultBlock,t.callback);case"send":if(!s.isAddress(t.options.from))return s._fireError(u.ContractNoFromAddressDefinedError(),r.eventEmitter,r.reject,t.callback);if(n.isBoolean(this._method.payable)&&!this._method.payable&&t.options.value&&t.options.value>0)return s._fireError(new Error("Can not send value to non-payable contract method or constructor"),r.eventEmitter,r.reject,t.callback);var p={receiptFormatter:function(t){if(n.isArray(t.logs)){var r=n.map(t.logs,(function(t){return e._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:e._parent.options.jsonInterface},t)}));t.events={};var a=0;r.forEach((function(e){e.event?t.events[e.event]?Array.isArray(t.events[e.event])?t.events[e.event].push(e):t.events[e.event]=[t.events[e.event],e]:t.events[e.event]=e:(t.events[a]=e,a++)})),delete t.logs}return t},contractDeployFormatter:function(t){var r=e._parent.clone();return r.options.address=t.contractAddress,r}},m=new i({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[c.inputTransactionFormatter],requestManager:e._parent._requestManager,accounts:e.constructor._ethAccounts||e._ethAccounts,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,transactionBlockTimeout:e._parent.transactionBlockTimeout,transactionConfirmationBlocks:e._parent.transactionConfirmationBlocks,transactionPollingTimeout:e._parent.transactionPollingTimeout,defaultCommon:e._parent.defaultCommon,defaultChain:e._parent.defaultChain,defaultHardfork:e._parent.defaultHardfork,handleRevert:e._parent.handleRevert,extraFormatters:p,abiCoder:f}).createFunction();return m(t.options,t.callback);default:throw new Error('Method "'+t.type+'" not implemented.')}},e.exports=l},function(e,t,r){var n=r(9).Buffer,a=r(25),i=r(30),s=r(267).AbiCoder,o=r(267).ParamType,c=new s((function(e,t){return!e.match(/^u?int/)||a.isArray(t)||a.isObject(t)&&"BN"===t.constructor.name?t:t.toString()}));function u(){}var d=function(){};d.prototype.encodeFunctionSignature=function(e){return a.isObject(e)&&(e=i._jsonInterfaceMethodToString(e)),i.sha3(e).slice(0,10)},d.prototype.encodeEventSignature=function(e){return a.isObject(e)&&(e=i._jsonInterfaceMethodToString(e)),i.sha3(e)},d.prototype.encodeParameter=function(e,t){return this.encodeParameters([e],[t])},d.prototype.encodeParameters=function(e,t){var r=this;return e=r.mapTypes(e),t=t.map((function(t,n){var a=e[n];if("object"===typeof a&&a.type&&(a=a.type),t=r.formatParam(a,t),"string"===typeof a&&a.includes("tuple")){var i=c._getCoder(o.from(a)),s=(e,t)=>{if("array"===e.name)return t.map(t=>s(c._getCoder(o.from(e.type.replace("[]",""))),t));e.coders.forEach((e,n)=>{"tuple"===e.name?s(e,t[n]):t[n]=r.formatParam(e.name,t[n])})};s(i,t)}return t})),c.encode(e,t)},d.prototype.mapTypes=function(e){var t=this,r=[];return e.forEach((function(e){if("object"===typeof e&&"function"===e.type&&(e=Object.assign({},e,{type:"bytes24"})),t.isSimplifiedStructFormat(e)){var n=Object.keys(e)[0];r.push(Object.assign(t.mapStructNameAndType(n),{components:t.mapStructToCoderFormat(e[n])}))}else r.push(e)})),r},d.prototype.isSimplifiedStructFormat=function(e){return"object"===typeof e&&"undefined"===typeof e.components&&"undefined"===typeof e.name},d.prototype.mapStructNameAndType=function(e){var t="tuple";return e.indexOf("[]")>-1&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}},d.prototype.mapStructToCoderFormat=function(e){var t=this,r=[];return Object.keys(e).forEach((function(n){"object"!==typeof e[n]?r.push({name:n,type:e[n]}):r.push(Object.assign(t.mapStructNameAndType(n),{components:t.mapStructToCoderFormat(e[n])}))})),r},d.prototype.formatParam=function(e,t){var r=new RegExp(/^bytes([0-9]*)$/),a=new RegExp(/^bytes([0-9]*)\[\]$/),s=new RegExp(/^(u?int)([0-9]*)$/),o=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(i.isBN(t)||i.isBigNumber(t))return t.toString(10);if(e.match(a)||e.match(o))return t.map(t=>this.formatParam(e.replace("[]",""),t));var c=e.match(s);if(c){var u=parseInt(c[2]||"256");u/8<t.length&&(t=i.leftPad(t,u))}if(c=e.match(r)){n.isBuffer(t)&&(t=i.toHex(t));var d=parseInt(c[1]);if(d){var f=2*d;"0x"===t.substring(0,2)&&(f+=2),t.length<f&&(t=i.rightPad(t,2*d))}t.length%2===1&&(t="0x0"+t.substring(2))}return t},d.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")},d.prototype.decodeParameter=function(e,t){return this.decodeParameters([e],t)[0]},d.prototype.decodeParameters=function(e,t){return this.decodeParametersWith(e,t,!1)},d.prototype.decodeParametersWith=function(e,t,r){if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var n=c.decode(this.mapTypes(e),"0x"+t.replace(/0x/i,""),r),i=new u;return i.__length__=0,e.forEach((function(e,t){var r=n[i.__length__];r="0x"===r?null:r,i[t]=r,a.isObject(e)&&e.name&&(i[e.name]=r),i.__length__++})),i},d.prototype.decodeLog=function(e,t,r){var n=this;r=a.isArray(r)?r:[r],t=t||"";var i=[],s=[],o=0;e.forEach((function(e,t){e.indexed?(s[t]=["bool","int","uint","address","fixed","ufixed"].find((function(t){return-1!==e.type.indexOf(t)}))?n.decodeParameter(e.type,r[o]):r[o],o++):i[t]=e}));var c=t,d=c?this.decodeParametersWith(i,c,!0):[],f=new u;return f.__length__=0,e.forEach((function(e,t){f[t]="string"===e.type?"":null,"undefined"!==typeof d[t]&&(f[t]=d[t]),"undefined"!==typeof s[t]&&(f[t]=s[t]),e.name&&(f[e.name]=f[t]),f.__length__++})),f};var f=new d;e.exports=f},function(e,t,r){(function(e){var n=r(135).keccak_256,a=r(636);function i(e){return e?a.toUnicode(e,{useStd3ASCII:!0,transitional:!1}):e}t.hash=function(t){for(var r="",a=0;a<32;a++)r+="00";if(name=i(t),name){var s=name.split(".");for(a=s.length-1;a>=0;a--){var o=n(s[a]);r=n(new e(r+o,"hex"))}}return"0x"+r},t.normalize=i}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(75);function a(e){return parseInt(e.toString("hex"),16)}function i(e){var r=e.toString(16);return r.length%2===1&&(r="0"+r),t.from(r,"hex")}e.exports={numberToBuffer:i,bufferToNumber:a,varintBufferEncode:function(e){return t.from(n.encode(a(e)))},varintBufferDecode:function(e){return i(n.decode(e))},varintEncode:function(e){return t.from(n.encode(e))}}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(117),i=r(659),s=r(665),o=r(76),c=r(670),u=r(671);class d{constructor(e,t,r,o){if(f.isCID(e)){var c=e;return this.version=c.version,this.codec=c.codec,this.multihash=n.from(c.multihash),void(this.multibaseName=c.multibaseName||(0===c.version?"base58btc":"base32"))}if("string"===typeof e){var u=i.isEncoded(e);if(u){var l=i.decode(e);this.version=parseInt(l.slice(0,1).toString("hex"),16),this.codec=s.getCodec(l.slice(1)),this.multihash=s.rmPrefix(l.slice(1)),this.multibaseName=u}else this.version=0,this.codec="dag-pb",this.multihash=a.fromB58String(e),this.multibaseName="base58btc";return d.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(n.isBuffer(e)){var h=e.slice(0,1),p=parseInt(h.toString("hex"),16);if(1===p){var m=e;this.version=p,this.codec=s.getCodec(m.slice(1)),this.multihash=s.rmPrefix(m.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";d.validateCID(this)}else this.version=e,this.codec=t,this.multihash=r,this.multibaseName=o||(0===e?"base58btc":"base32"),d.validateCID(this)}get buffer(){var e=this._buffer;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");e=n.concat([n.from("01","hex"),s.getCodeVarint(this.codec),this.multihash])}Object.defineProperty(this,"_buffer",{value:e})}return e}get prefix(){return n.concat([n.from("0".concat(this.version),"hex"),s.getCodeVarint(this.codec),a.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");var e=a.decode(this.multihash),t=e.name,r=e.length;if("sha2-256"!==t)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==r)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new f(0,this.codec,this.multihash)}toV1(){return new f(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&e===this.multibaseName)return this.string;var t=null;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=a.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=i.encode(e,this.buffer).toString()}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&this.multihash.equals(e.multihash)}static validateCID(e){var t=c.checkCIDComponents(e);if(t)throw new Error(t)}}var f=u(d,{className:"CID",symbolName:"@ipld/js-cid/CID"});f.codecs=o,e.exports=f},function(e,t,r){"use strict";var n=r(14).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=a}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);var r=0;if(" "!==e[r]){for(var a=0,i=0;e[r]===c;)a++,r++;for(var s=(e.length-r)*u+1>>>0,d=new Uint8Array(s);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var l=0,h=s-1;(0!==f||l<i)&&-1!==h;h--,l++)f+=o*d[h]>>>0,d[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}if(" "!==e[r]){for(var p=s-i;p!==s&&0===d[p];)p++;var m=n.allocUnsafe(a+(s-p));m.fill(0,0,a);for(var v=a;p!==s;)m[v++]=d[p++];return m}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,a=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var u=(s-i)*d+1>>>0,f=new Uint8Array(u);i!==s;){for(var l=t[i],h=0,p=u-1;(0!==l||h<a)&&-1!==p;p--,h++)l+=256*f[p]>>>0,f[p]=l%o>>>0,l=l/o>>>0;if(0!==l)throw new Error("Non-zero carry");a=h,i++}for(var m=u-a;m!==u&&0===f[m];)m++;for(var v=c.repeat(r);m<u;++m)v+=e.charAt(f[m]);return v},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},function(e,t,r){"use strict";var n=r(75),a=r(9).Buffer;function i(e){return parseInt(e.toString("hex"),16)}function s(e){var t=e.toString(16);return t.length%2===1&&(t="0"+t),a.from(t,"hex")}e.exports={numberToBuffer:s,bufferToNumber:i,varintBufferEncode:function(e){return a.from(n.encode(i(e)))},varintBufferDecode:function(e){return s(n.decode(e))},varintEncode:function(e){return a.from(n.encode(e))}}},function(e,t,r){"use strict";var n=r(55),a=r(56),i=r(30),s=r(90),o=r(23).formatters,c=function(){var e=this;n.packageInit(this,arguments),this.net=new s(this);var t=null,r="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return t},set:function(e){return e&&(t=i.toChecksumAddress(o.inputAddressFormatter(e))),c.forEach((function(e){e.defaultAccount=t})),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return r},set:function(e){return r=e,c.forEach((function(e){e.defaultBlock=r})),e},enumerable:!0});var c=[new a({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:i.toChecksumAddress}),new a({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:i.toChecksumAddress}),new a({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[o.inputAddressFormatter,null,null]}),new a({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[o.inputAddressFormatter]}),new a({name:"importRawKey",call:"personal_importRawKey",params:2}),new a({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new a({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new a({name:"sign",call:"personal_sign",params:3,inputFormatter:[o.inputSignFormatter,o.inputAddressFormatter,null]}),new a({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[o.inputSignFormatter,null]})];c.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount}))};n.addProviders(c),e.exports=c},function(e,t,r){"use strict";var n=r(676).Buffer,a=r(223).Transform;function i(e){a.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(12)(i,a),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(a){n=a}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,a=0;this._blockOffset+e.length-a>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[a++];this._update(),this._blockOffset=0}for(;a<e.length;)r[this._blockOffset++]=e[a++];for(var s=0,o=8*e.length;o>0;++s)this._length[s]+=o,(o=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*o);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},function(e,t,r){(t=e.exports=r(224)).Stream=t,t.Readable=t,t.Writable=r(228),t.Duplex=r(62),t.Transform=r(229),t.PassThrough=r(682),t.finished=r(120),t.pipeline=r(683)},function(e,t,r){"use strict";(function(t,n){var a;e.exports=T,T.ReadableState=S;r(51).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=r(225),o=r(9).Buffer,c=t.Uint8Array||function(){};var u,d=r(677);u=d&&d.debuglog?d.debuglog("stream"):function(){};var f,l,h,p=r(678),m=r(226),v=r(227).getHighWaterMark,b=r(61).codes,g=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(12)(T,s);var x=m.errorOrDestroy,_=["error","close","destroy","pause","resume"];function S(e,t,n){a=a||r(62),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(53).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function T(e){if(a=a||r(62),!(this instanceof T))return new T(e);var t=this instanceof a;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function O(e,t,r,n,a){u("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?E(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,s);else if(a||(i=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof c||"string"===typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),i)x(e,i);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)s.endEmitted?x(e,new k):A(e,s,t,!0);else if(s.ended)x(e,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?A(e,s,t,!1):I(e,s)):A(e,s,t,!1)}else n||(s.reading=!1,I(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),I(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},T.prototype.unshift=function(e){return O(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){f||(f=r(53).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,a="";null!==n;)a+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(C,e))}function C(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(F,e,t))}function F(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){u("readable nexttick read 0"),e.read(0)}function R(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(V,t,e))}function V(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):E(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,a=t.needReadable;return u("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",a=!0),t.ended||t.reading?u("reading or ended",a=!1):a&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){x(this,new w("_read()"))},T.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,u("pipe count=%d opts=%j",a.pipesCount,t);var s=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:v;function o(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",c),r.removeListener("end",v),r.removeListener("data",l),f=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){u("onend"),e.end()}a.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",d);var f=!1;function l(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==j(a.pipes,e))&&!f&&(u("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function h(t){u("onerror",t),v(),e.removeListener("error",h),0===i(e,"error")&&x(e,t)}function p(){e.removeListener("finish",m),v()}function m(){u("onfinish"),e.removeListener("close",p),v()}function v(){u("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",r),a.flowing||(u("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,u("on readable",a.length,a.reading),a.length?E(this):a.reading||n.nextTick(B,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(P,this),r},T.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(P,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(R,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(u("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!r.objectMode||null!==a&&void 0!==a)&&((r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause())))})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<_.length;i++)e.on(_[i],this.emit.bind(this,_[i]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(680)),l(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=N,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(T.from=function(e,t){return void 0===h&&(h=r(681)),h(T,e,t)})}).call(this,r(19),r(18))},function(e,t,r){e.exports=r(51).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,t){a(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var s=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(a,this,e)):t.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?s._writableState?s._writableState.errorEmitted?t.nextTick(n,s):(s._writableState.errorEmitted=!0,t.nextTick(r,s,e)):t.nextTick(r,s,e):i?(t.nextTick(n,s),i(e)):t.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(18))},function(e,t,r){"use strict";var n=r(61).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,a){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(a?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";(function(t,n){function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=T,T.WritableState=S;var s={deprecate:r(110)},o=r(225),c=r(9).Buffer,u=t.Uint8Array||function(){};var d,f=r(226),l=r(227).getHighWaterMark,h=r(61).codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING,x=f.errorOrDestroy;function _(){}function S(e,t,s){i=i||r(62),e=e||{},"boolean"!==typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,a=r.sync,i=r.writecb;if("function"!==typeof i)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,a,i){--t.pendingcb,r?(n.nextTick(i,a),n.nextTick(I,e,t),e._writableState.errorEmitted=!0,x(e,a)):(i(a),e._writableState.errorEmitted=!0,x(e,a),I(e,t))}(e,r,a,t,i);else{var s=E(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),a?n.nextTick(A,e,r,s,i):A(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(e){var t=this instanceof(i=i||r(62));if(!t&&!d.call(T,this))return new T(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),o.call(this)}function O(e,t,r,n,a,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)i[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;i.allBuffers=c,O(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback;if(O(e,t,!1,t.objectMode?1:u.length,u,d,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=E(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var a=e._readableState;(!a||a.autoDestroy&&a.endEmitted)&&e.destroy()}return r}r(12)(T,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===T&&(e&&e._writableState instanceof S)}})):d=function(e){return e instanceof this},T.prototype.pipe=function(){x(this,new b)},T.prototype.write=function(e,t,r){var a,i=this._writableState,s=!1,o=!i.objectMode&&(a=e,c.isBuffer(a)||a instanceof u);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof r&&(r=_),i.ending?function(e,t){var r=new w;x(e,r),n.nextTick(t,r)}(this,r):(o||function(e,t,r,a){var i;return null===r?i=new y:"string"===typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(x(e,i),n.nextTick(a,i),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,o,n,a,i);return u}(this,i,o,e,t,r)),s},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var a=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,a,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=f.destroy,T.prototype._undestroy=f.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,r(19),r(18))},function(e,t,r){"use strict";e.exports=d;var n=r(61).codes,a=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(62);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(12)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new a("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){var n=r(12),a=r(63),i=r(14).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function d(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,a),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,a=0|this._b,i=0|this._c,o=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,b=0;b<16;++b)r[b]=e.readInt32BE(4*b);for(;b<64;++b)r[b]=0|(((t=r[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[b-7]+h(r[b-15])+r[b-16];for(var g=0;g<64;++g){var y=v+l(c)+u(c,p,m)+s[g]+r[g]|0,w=f(n)+d(n,a,i)|0;v=m,m=p,p=c,c=o+y|0,o=i,i=a,a=n,n=y+w|0}this._a=n+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},c.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,r){var n=r(12),a=r(63),i=r(14).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,a.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function d(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}n(c,a),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,a=0|this._ch,i=0|this._dh,o=0|this._eh,c=0|this._fh,g=0|this._gh,y=0|this._hh,w=0|this._al,k=0|this._bl,x=0|this._cl,_=0|this._dl,S=0|this._el,T=0|this._fl,O=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var E=t[M-30],C=t[M-30+1],I=h(E,C),F=p(C,E),P=m(E=t[M-4],C=t[M-4+1]),B=v(C,E),R=t[M-14],L=t[M-14+1],N=t[M-32],D=t[M-32+1],V=F+L|0,j=I+R+b(V,F)|0;j=(j=j+P+b(V=V+B|0,B)|0)+N+b(V=V+D|0,D)|0,t[M]=j,t[M+1]=V}for(var U=0;U<160;U+=2){j=t[U],V=t[U+1];var q=d(r,n,a),G=d(w,k,x),H=f(r,w),z=f(w,r),K=l(o,S),J=l(S,o),X=s[U],W=s[U+1],Z=u(o,c,g),Y=u(S,T,O),Q=A+J|0,$=y+K+b(Q,A)|0;$=($=($=$+Z+b(Q=Q+Y|0,Y)|0)+X+b(Q=Q+W|0,W)|0)+j+b(Q=Q+V|0,V)|0;var ee=z+G|0,te=H+q+b(ee,z)|0;y=g,A=O,g=c,O=T,c=o,T=S,o=i+$+b(S=_+Q|0,_)|0,i=a,_=x,a=n,x=k,n=r,k=w,r=$+te+b(w=Q+ee|0,Q)|0}this._al=this._al+w|0,this._bl=this._bl+k|0,this._cl=this._cl+x|0,this._dl=this._dl+_|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+O|0,this._hl=this._hl+A|0,this._ah=this._ah+r+b(this._al,w)|0,this._bh=this._bh+n+b(this._bl,k)|0,this._ch=this._ch+a+b(this._cl,x)|0,this._dh=this._dh+i+b(this._dl,_)|0,this._eh=this._eh+o+b(this._el,S)|0,this._fh=this._fh+c+b(this._fl,T)|0,this._gh=this._gh+g+b(this._gl,O)|0,this._hh=this._hh+y+b(this._hl,A)|0},c.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,r){"use strict";var n=r(12),a=r(688),i=r(44),s=r(14).Buffer,o=r(233),c=r(121),u=r(122),d=s.alloc(128);function f(e,t){i.call(this,"digest"),"string"===typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,d],r));for(var n=this._ipad=s.allocUnsafe(r),a=this._opad=s.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],a[o]=92^t[o];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(f,i),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new a(o,t):new f(e,t)}},function(e,t,r){var n=r(119);e.exports=function(e){return(new n).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,r){t.pbkdf2=r(690),t.pbkdf2Sync=r(238)},function(e,t){var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!==typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!==typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!==t)throw new TypeError("Bad key length")}},function(e,t,r){(function(t){var r;if(t.browser)r="utf-8";else if(t.version){r=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";e.exports=r}).call(this,r(18))},function(e,t,r){var n=r(233),a=r(121),i=r(122),s=r(14).Buffer,o=r(236),c=r(237),u=r(239),d=s.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(e,t,r){var o=function(e){function t(t){return i(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new a).update(e).digest()}:"md5"===e?n:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=o(t):t.length<c&&(t=s.concat([t,d],c));for(var u=s.allocUnsafe(c+f[e]),l=s.allocUnsafe(c+f[e]),h=0;h<c;h++)u[h]=54^t[h],l[h]=92^t[h];var p=s.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=l,this.alg=e,this.blocksize=c,this.hash=o,this.size=f[e]}l.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,a){o(r,n);var i=new l(a=a||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),d=s.allocUnsafe(n),h=s.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,m=f[a],v=Math.ceil(n/m),b=1;b<=v;b++){h.writeUInt32BE(b,t.length);for(var g=i.run(h,i.ipad1),y=g,w=1;w<r;w++){y=i.run(y,i.ipad2);for(var k=0;k<m;k++)g[k]^=y[k]}g.copy(d,p),p+=m}return d}},function(e,t,r){var n=r(14).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"===typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,r){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var a=0,i=0,s=6;s>=0;s-=2){for(var o=0;o<=24;o+=8)a<<=1,a|=t>>>o+s&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>>o+s&1}for(s=6;s>=0;s-=2){for(o=1;o<=25;o+=8)i<<=1,i|=t>>>o+s&1;for(o=1;o<=25;o+=8)i<<=1,i|=e>>>o+s&1}r[n+0]=a>>>0,r[n+1]=i>>>0},t.rip=function(e,t,r,n){for(var a=0,i=0,s=0;s<4;s++)for(var o=24;o>=0;o-=8)a<<=1,a|=t>>>o+s&1,a<<=1,a|=e>>>o+s&1;for(s=4;s<8;s++)for(o=24;o>=0;o-=8)i<<=1,i|=t>>>o+s&1,i<<=1,i|=e>>>o+s&1;r[n+0]=a>>>0,r[n+1]=i>>>0},t.pc1=function(e,t,r,n){for(var a=0,i=0,s=7;s>=5;s--){for(var o=0;o<=24;o+=8)a<<=1,a|=t>>o+s&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+s&1}for(o=0;o<=24;o+=8)a<<=1,a|=t>>o+s&1;for(s=1;s<=3;s++){for(o=0;o<=24;o+=8)i<<=1,i|=t>>o+s&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+s&1}for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+s&1;r[n+0]=a>>>0,r[n+1]=i>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,a){for(var i=0,s=0,o=n.length>>>1,c=0;c<o;c++)i<<=1,i|=e>>>n[c]&1;for(c=o;c<n.length;c++)s<<=1,s|=t>>>n[c]&1;r[a+0]=i>>>0,r[a+1]=s>>>0},t.expand=function(e,t,r){var n=0,a=0;n=(1&e)<<5|e>>>27;for(var i=23;i>=15;i-=4)n<<=6,n|=e>>>i&63;for(i=11;i>=3;i-=4)a|=e>>>i&63,a<<=6;a|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=a>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=a[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=a[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var a=[],i=0;i<t;i+=r)a.push(n.slice(i,i+r));return a.join(" ")}},function(e,t,r){"use strict";var n=r(24),a=r(12),i=r(240),s=r(123);function o(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}a(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=i.readUInt32BE(t,0),a=i.readUInt32BE(t,4);i.pc1(r,a,e.tmp,0),r=e.tmp[0],a=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=u[s>>>1];r=i.r28shl(r,o),a=i.r28shl(a,o),i.pc2(r,a,e.keys,s)}},c.prototype._update=function(e,t,r,n){var a=this._desState,s=i.readUInt32BE(e,t),o=i.readUInt32BE(e,t+4);i.ip(s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],"encrypt"===this.type?this._encrypt(a,s,o,a.tmp,0):this._decrypt(a,s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],i.writeUInt32BE(r,s,n),i.writeUInt32BE(r,o,n+4)},c.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,a){for(var s=t,o=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],d=e.keys[c+1];i.expand(o,e.tmp,0),u^=e.tmp[0],d^=e.tmp[1];var f=i.substitute(u,d),l=o;o=(s^i.permute(f))>>>0,s=l}i.rip(o,s,n,a)},c.prototype._decrypt=function(e,t,r,n,a){for(var s=r,o=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],d=e.keys[c+1];i.expand(s,e.tmp,0),u^=e.tmp[0],d^=e.tmp[1];var f=i.substitute(u,d),l=s;s=(o^i.permute(f))>>>0,o=l}i.rip(s,o,n,a)}},function(e,t,r){var n=r(77),a=r(14).Buffer,i=r(243);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return i(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),i=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(16*r)]);for(var o=0;o<r;o++){var c=s(e),u=i+16*o;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var d=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,d)}},function(e,t){e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,r){var n=r(93),a=r(14).Buffer,i=r(44),s=r(12),o=r(703),c=r(77),u=r(243);function d(e,t,r,s){i.call(this);var c=a.alloc(4,0);this._cipher=new n.AES(t);var d=this._cipher.encryptBlock(c);this._ghash=new o(d),r=function(e,t,r){if(12===t.length)return e._finID=a.concat([t,a.from([0,0,0,1])]),a.concat([t,a.from([0,0,0,2])]);var n=new o(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(a.alloc(s,0))),n.update(a.alloc(8,0));var c=8*i,d=a.alloc(8);d.writeUIntBE(c,0,8),n.update(d),e._finID=n.state;var f=a.from(e._finID);return u(f),f}(this,r,d),this._prev=a.from(r),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(d,i),d.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=a.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),a=0;a<n;++a)r+=e[a]^t[a];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},d.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=d},function(e,t,r){var n=r(93),a=r(14).Buffer,i=r(44);function s(e,t,r,s){i.call(this),this._cipher=new n.AES(t),this._prev=a.from(r),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._mode=e}r(12)(s,i),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},function(e,t,r){var n=r(43);e.exports=g,g.simpleSieve=v,g.fermatTest=b;var a=r(8),i=new a(24),s=new(r(248)),o=new a(1),c=new a(2),u=new a(5),d=(new a(16),new a(8),new a(10)),f=new a(3),l=(new a(7),new a(11)),h=new a(4),p=(new a(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),a=0;a<t&&e[a]<=n&&r%e[a]!==0;a++);t!==a&&e[a]<=n||(e[t++]=r)}return p=e,e}function v(e){for(var t=m(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function b(e){var t=a.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new a(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new a(t);;){for(r=new a(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(o),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(d).cmp(f);)r.iadd(h)}else for(;r.mod(i).cmp(l);)r.iadd(h);if(v(p=r.shrn(1))&&v(r)&&b(p)&&b(r)&&s.test(p)&&s.test(r))return r}}},function(e,t,r){var n=r(8),a=r(101);function i(e){this.rand=e||new a.Rand}e.exports=i,i.create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var a=new n(this.rand.generate(r))}while(a.cmp(e)>=0);return a},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,r){var a=e.bitLength(),i=n.mont(e),s=new n(1).toRed(i);t||(t=Math.max(1,a/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var u=e.shrn(c),d=o.toRed(i);t>0;t--){var f=this._randrange(new n(2),o);r&&r(f);var l=f.toRed(i).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(d)){for(var h=1;h<c;h++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(d))break}if(h===c)return!1}}return!0},i.prototype.getDivisor=function(e,t){var r=e.bitLength(),a=n.mont(e),i=new n(1).toRed(a);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),o=0;!s.testn(o);o++);for(var c=e.shrn(o),u=s.toRed(a);t>0;t--){var d=this._randrange(new n(2),s),f=e.gcd(d);if(0!==f.cmpn(1))return f;var l=d.toRed(a).redPow(c);if(0!==l.cmp(i)&&0!==l.cmp(u)){for(var h=1;h<o;h++){if(0===(l=l.redSqr()).cmp(i))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(u))break}if(h===o)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=r(711).Buffer}catch(A){}function o(e,t,r){for(var a=0,i=Math.min(e.length,r),s=0,o=t;o<i;o++){var c,u=e.charCodeAt(o)-48;a<<=4,a|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,s|=c}return n(!(240&s),"Invalid character in "+e),a}function c(e,t,r,a){for(var i=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;i*=a,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<a,"Invalid character"),i+=s}return i}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"===typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a,i=0;for(r=e.length-6,n=0;r>=t;r-=6)a=o(e,r,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,n++);r+6!==t&&(a=o(e,t,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303),this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,u=0,d=r;d<o;d+=n)u=c(e,d,d+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(A){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?f[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:f[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(a=0|e.words[p])*(i=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,a),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,v=0|s[2],b=8191&v,g=v>>>13,y=0|s[3],w=8191&y,k=y>>>13,x=0|s[4],_=8191&x,S=x>>>13,T=0|s[5],O=8191&T,A=T>>>13,M=0|s[6],E=8191&M,C=M>>>13,I=0|s[7],F=8191&I,P=I>>>13,B=0|s[8],R=8191&B,L=B>>>13,N=0|s[9],D=8191&N,V=N>>>13,j=0|o[0],U=8191&j,q=j>>>13,G=0|o[1],H=8191&G,z=G>>>13,K=0|o[2],J=8191&K,X=K>>>13,W=0|o[3],Z=8191&W,Y=W>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(u+(n=Math.imul(f,U))|0)+((8191&(a=(a=Math.imul(f,q))+Math.imul(l,U)|0))<<13)|0;u=((i=Math.imul(l,q))+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,U),a=(a=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var be=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(a=(a=a+Math.imul(f,z)|0)+Math.imul(l,H)|0))<<13)|0;u=((i=i+Math.imul(l,z)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,U),a=(a=Math.imul(b,q))+Math.imul(g,U)|0,i=Math.imul(g,q),n=n+Math.imul(p,H)|0,a=(a=a+Math.imul(p,z)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,z)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,X)|0)+Math.imul(l,J)|0))<<13)|0;u=((i=i+Math.imul(l,X)|0)+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),a=(a=Math.imul(w,q))+Math.imul(k,U)|0,i=Math.imul(k,q),n=n+Math.imul(b,H)|0,a=(a=a+Math.imul(b,z)|0)+Math.imul(g,H)|0,i=i+Math.imul(g,z)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,X)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,X)|0;var ye=(u+(n=n+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(l,Z)|0))<<13)|0;u=((i=i+Math.imul(l,Y)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,U),a=(a=Math.imul(_,q))+Math.imul(S,U)|0,i=Math.imul(S,q),n=n+Math.imul(w,H)|0,a=(a=a+Math.imul(w,z)|0)+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,X)|0)+Math.imul(g,J)|0,i=i+Math.imul(g,X)|0,n=n+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((i=i+Math.imul(l,ee)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),a=(a=Math.imul(O,q))+Math.imul(A,U)|0,i=Math.imul(A,q),n=n+Math.imul(_,H)|0,a=(a=a+Math.imul(_,z)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,n=n+Math.imul(w,J)|0,a=(a=a+Math.imul(w,X)|0)+Math.imul(k,J)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(g,Z)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var ke=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(a=(a=a+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((i=i+Math.imul(l,ne)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(E,U),a=(a=Math.imul(E,q))+Math.imul(C,U)|0,i=Math.imul(C,q),n=n+Math.imul(O,H)|0,a=(a=a+Math.imul(O,z)|0)+Math.imul(A,H)|0,i=i+Math.imul(A,z)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,X)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,X)|0,n=n+Math.imul(w,Z)|0,a=(a=a+Math.imul(w,Y)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(g,$)|0,i=i+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,se)|0)+Math.imul(l,ie)|0))<<13)|0;u=((i=i+Math.imul(l,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,U),a=(a=Math.imul(F,q))+Math.imul(P,U)|0,i=Math.imul(P,q),n=n+Math.imul(E,H)|0,a=(a=a+Math.imul(E,z)|0)+Math.imul(C,H)|0,i=i+Math.imul(C,z)|0,n=n+Math.imul(O,J)|0,a=(a=a+Math.imul(O,X)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(S,Z)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(w,$)|0,a=(a=a+Math.imul(w,ee)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var _e=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((i=i+Math.imul(l,ue)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,U),a=(a=Math.imul(R,q))+Math.imul(L,U)|0,i=Math.imul(L,q),n=n+Math.imul(F,H)|0,a=(a=a+Math.imul(F,z)|0)+Math.imul(P,H)|0,i=i+Math.imul(P,z)|0,n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,X)|0)+Math.imul(C,J)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Y)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,a=(a=a+Math.imul(w,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(g,ie)|0,i=i+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((i=i+Math.imul(l,le)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,U),a=(a=Math.imul(D,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(R,H)|0,a=(a=a+Math.imul(R,z)|0)+Math.imul(L,H)|0,i=i+Math.imul(L,z)|0,n=n+Math.imul(F,J)|0,a=(a=a+Math.imul(F,X)|0)+Math.imul(P,J)|0,i=i+Math.imul(P,X)|0,n=n+Math.imul(E,Z)|0,a=(a=a+Math.imul(E,Y)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,Y)|0,n=n+Math.imul(O,$)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(w,ie)|0,a=(a=a+Math.imul(w,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,fe)|0,i=i+Math.imul(m,le)|0;var Te=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((i=i+Math.imul(l,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,H),a=(a=Math.imul(D,z))+Math.imul(V,H)|0,i=Math.imul(V,z),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,X)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,X)|0,n=n+Math.imul(F,Z)|0,a=(a=a+Math.imul(F,Y)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,Y)|0,n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(O,re)|0,a=(a=a+Math.imul(O,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,a=(a=a+Math.imul(w,ue)|0)+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,n=n+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(g,fe)|0,i=i+Math.imul(g,le)|0;var Oe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,J),a=(a=Math.imul(D,X))+Math.imul(V,J)|0,i=Math.imul(V,X),n=n+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(F,$)|0,a=(a=a+Math.imul(F,ee)|0)+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(w,fe)|0,a=(a=a+Math.imul(w,le)|0)+Math.imul(k,fe)|0,i=i+Math.imul(k,le)|0;var Ae=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((i=i+Math.imul(g,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Z),a=(a=Math.imul(D,Y))+Math.imul(V,Z)|0,i=Math.imul(V,Y),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,n=n+Math.imul(F,re)|0,a=(a=a+Math.imul(F,ne)|0)+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,ue)|0,n=n+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,le)|0)+Math.imul(S,fe)|0,i=i+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(a=(a=a+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((i=i+Math.imul(k,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,$),a=(a=Math.imul(D,ee))+Math.imul(V,$)|0,i=Math.imul(V,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,n=n+Math.imul(F,ie)|0,a=(a=a+Math.imul(F,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,i=i+Math.imul(C,ue)|0,n=n+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,le)|0;var Ee=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,re),a=(a=Math.imul(D,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,se)|0,n=n+Math.imul(F,ce)|0,a=(a=a+Math.imul(F,ue)|0)+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,n=n+Math.imul(E,fe)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(C,fe)|0,i=i+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(a=(a=a+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((i=i+Math.imul(A,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ie),a=(a=Math.imul(D,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,ue)|0,n=n+Math.imul(F,fe)|0,a=(a=a+Math.imul(F,le)|0)+Math.imul(P,fe)|0,i=i+Math.imul(P,le)|0;var Ie=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((i=i+Math.imul(C,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,ce),a=(a=Math.imul(D,ue))+Math.imul(V,ce)|0,i=Math.imul(V,ue),n=n+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,le)|0;var Fe=(u+(n=n+Math.imul(F,pe)|0)|0)+((8191&(a=(a=a+Math.imul(F,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((i=i+Math.imul(P,me)|0)+(a>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(D,fe),a=(a=Math.imul(D,le))+Math.imul(V,fe)|0,i=Math.imul(V,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((i=i+Math.imul(L,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(D,pe))|0)+((8191&(a=(a=Math.imul(D,me))+Math.imul(V,pe)|0))<<13)|0;return u=((i=Math.imul(V,me))+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ve,c[1]=be,c[2]=ge,c[3]=ye,c[4]=we,c[5]=ke,c[6]=xe,c[7]=_e,c[8]=Se,c[9]=Te,c[10]=Oe,c[11]=Ae,c[12]=Me,c[13]=Ee,c[14]=Ce,c[15]=Ie,c[16]=Fe,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var d=i-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r._strip()}function b(e,t,r){return v(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?p(this,e,t):r<1024?v(this,e,t):b(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<a;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=r[d+h],m=n[d+h],v=r[d+h+s],b=n[d+h+s],g=f*v-l*b;b=f*b+l*v,v=g,r[d+h]=p+v,n[d+h]=m+b,r[d+h+s]=p-v,n[d+h+s]=m-b,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},g.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0===(-8192&i))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,d,f,n,a);for(var h=0;h<n;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,n),this.transform(o,c,l,i,n,a),this.conjugate(l,i,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),b(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,a=0;a<this.length;a++){var i=(0|this.words[a])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[a]=67108863&s}return 0!==r&&(this.words[a]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=e.words[n]>>>a&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"===typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=a);u--){var f=0|this.words[u];this.words[u]=d<<26-i|f>>>i,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this._strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,a=0,i=this.length-1;i>=0;i--)a=(r*a+(0|this.words[i]))%e;return t?-a:a},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,a=this.length-1;a>=0;a--){var i=(0|this.words[a])+67108864*r;this.words[a]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0===(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0===(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new T(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"===typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function O(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},a(k,w),k.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},k.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(x,w),a(_,w),a(S,w),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new k;else if("p224"===e)t=new x;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},T.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,v=0;0!==m.cmp(o);v++)m=m.redSqr();n(v<p);var b=this.pow(f,new i(1).iushln(p-v-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=v}return l},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new O(e)},a(O,T),O.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},O.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},O.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},O.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(46)(e))},function(e,t,r){"use strict";var n=t;n.bignum=r(8),n.define=r(713).define,n.base=r(716),n.constants=r(717),n.decoders=r(253),n.encoders=r(251)},function(e,t,r){"use strict";var n=t;n.der=r(252),n.pem=r(714)},function(e,t,r){"use strict";var n=r(12),a=r(128).Buffer,i=r(129),s=r(131);function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){i.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,i),c.prototype._encodeComposite=function(e,t,r,n){var i=function(e,t,r,n){var a;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))a=s.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);a=e}if(a>=31)return n.error("Multi-octet tag encoding unsupported");t||(a|=32);return a|=s.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128){var o=a.alloc(2);return o[0]=i,o[1]=n.length,this._createEncoderBuffer([o,n])}for(var c=1,u=n.length;u>=256;u>>=8)c++;var d=a.alloc(2+c);d[0]=i,d[1]=128|c;for(var f=1+c,l=n.length;l>0;f--,l>>=8)d[f]=255&l;return this._createEncoderBuffer([d,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=a.alloc(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var s=0,o=0;o<e.length;o++){var c=e[o];for(s++;c>=128;c>>=7)s++}for(var u=a.alloc(s),d=u.length-1,f=e.length-1;f>=0;f--){var l=e[f];for(u[d--]=127&l;(l>>=7)>0;)u[d--]=128|127&l}return this._createEncoderBuffer(u)},c.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!a.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=a.from(r)}if(a.isBuffer(e)){var n=e.length;0===e.length&&n++;var i=a.alloc(n);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var s=1,o=e;o>=256;o>>=8)s++;for(var c=new Array(s),u=c.length-1;u>=0;u--)c[u]=255&e,e>>=8;return 128&c[0]&&c.unshift(0),this._createEncoderBuffer(a.from(c))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){var n,a=this._baseState;if(null===a.default)return!1;var i=e.join();if(void 0===a.defaultBuffer&&(a.defaultBuffer=this._encodeValue(a.default,t,r).join()),i.length!==a.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==a.defaultBuffer[n])return!1;return!0}},function(e,t,r){"use strict";var n=t;n.der=r(254),n.pem=r(715)},function(e,t,r){"use strict";var n=r(12),a=r(8),i=r(78).DecoderBuffer,s=r(129),o=r(131);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function d(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=o.tagClass[r>>6],a=0===(32&r);if(31===(31&r)){var i=r;for(r=0;128===(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;r<<=7,r|=127&i}}else r&=31;return{cls:n,primitive:a,tag:r,tagStr:o.tag[r]}}function f(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0===(128&n))return n;var a=127&n;if(a>4)return e.error("length octect is too long");n=0;for(var i=0;i<a;i++){n<<=8;var s=e.readUInt8(r);if(e.isError(s))return s;n|=s}return n}e.exports=c,c.prototype.decode=function(e,t){return i.isDecoderBuffer(e)||(e=new i(e,t)),this.tree._decode(e,t)},n(u,s),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),a=d(e,'Failed to peek tag: "'+t+'"');return e.isError(a)?a:(e.restore(n),a.tag===t||a.tagStr===t||a.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=d(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var a=f(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==a)return e.skip(a,'Failed to match body of: "'+t+'"');var i=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(a=e.offset-i.offset,e.restore(i),e.skip(a,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=d(e,t);if(e.isError(r))return r;var n=f(e,r.primitive,t);if(e.isError(n))return n;var a=void 0;if(a=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(a))return a;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var a=[];!e.isEmpty();){var i=this._peekTag(e,"end");if(e.isError(i))return i;var s=r.decode(e,"der",n);if(e.isError(s)&&i)break;a.push(s)}return a},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var a="",i=0;i<n.length/2;i++)a+=String.fromCharCode(n.readUInt16BE(2*i));return a}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var o=e.raw().toString("ascii");return this._isPrintstr(o)?o:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,a=[],i=0,s=0;!e.isEmpty();)i<<=7,i|=127&(s=e.readUInt8()),0===(128&s)&&(a.push(i),i=0);128&s&&a.push(i);var o=a[0]/40|0,c=a[0]%40;if(n=r?a:[o,c].concat(a.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r,n,a,i,s,o,c=e.raw().toString();if("gentime"===t)r=0|c.slice(0,4),n=0|c.slice(4,6),a=0|c.slice(6,8),i=0|c.slice(8,10),s=0|c.slice(10,12),o=0|c.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|c.slice(0,2),n=0|c.slice(2,4),a=0|c.slice(4,6),i=0|c.slice(6,8),s=0|c.slice(8,10),o=0|c.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,a,i,s,o,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,r){var n=r(60),a=r(14).Buffer;function i(e){var t=a.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=a.alloc(0),o=0;s.length<t;)r=i(o++),s=a.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},function(e,t,r){var n=r(8),a=r(14).Buffer;e.exports=function(e,t){return a.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},function(e,t){e.exports={encode:e=>{var t=e=>{return(t=e.toString(16)).length%2===0?t:"0"+t;var t},r=(e,r)=>e<56?t(r+e):t(r+t(e).length/2+55)+t(e),n=e=>{if("string"===typeof e){var t=e.slice(2);return(2!=t.length||t>="80"?r(t.length/2,128):"")+t}var a=e.map(n).join("");return r(a.length/2,192)+a};return"0x"+n(e)},decode:e=>{var t=2,r=()=>{if(t>=e.length)throw"";var r=e.slice(t,t+2);return r<"80"?(t+=2,"0x"+r):r<"c0"?a():i()},n=()=>{var r=parseInt(e.slice(t,t+=2),16)%64;return r<56?r:parseInt(e.slice(t,t+=2*(r-55)),16)},a=()=>{var r=n();return"0x"+e.slice(t,t+=2*r)},i=()=>{for(var e=2*n()+t,a=[];t<e;)a.push(r());return a};try{return r()}catch(s){return[]}}}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(263),i=r(265),s=r(9),o=new a.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),c=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else{var r=t.chain?t.chain:"mainnet",n=t.hardfork?t.hardfork:"petersburg";this._common=new i.default(r,n)}var o=[{name:"nonce",length:32,allowLess:!0,default:new s.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new s.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new s.Buffer([])},{name:"to",allowZero:!0,length:20,default:new s.Buffer([])},{name:"value",length:32,allowLess:!0,default:new s.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new s.Buffer([])},{name:"v",allowZero:!0,default:new s.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new s.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new s.Buffer([])}];a.defineProperties(this,o,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([a.toBuffer(this.getChainId()),a.stripZeros(a.toBuffer(0)),a.stripZeros(a.toBuffer(0))]):this.raw.slice(0,6),a.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=a.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new a.BN(this.s).cmp(o))return!1;try{var t=a.bufferToInt(this.v),r=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=a.ecrecover(e,t,this.r,this.s,r?this.getChainId():void 0)}catch(n){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new s.Buffer([]),this.s=new s.Buffer([]),this.r=new s.Buffer([]);var t=this.hash(!1),r=a.ecsign(t,e);this._implementsEIP155()&&(r.v+=2*this.getChainId()+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new a.BN(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(this._common.param("gasPrices","txDataZero")):t.iaddn(this._common.param("gasPrices","txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new a.BN(this.gasLimit).imul(new a.BN(this.gasPrice)).iadd(new a.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new a.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return a.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=a.bufferToInt(e);if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",n({},t,{set:function(r){void 0!==r&&e._validateV(a.toBuffer(r)),t.set(r)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=a.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();t.default=c},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=t.rlp=t.BN=void 0;var i=r(132);t.secp256k1=i;var s=r(79),o=r(8);t.BN=o;var c=r(133);t.rlp=c,Object.assign(t,s),a(r(739),t),a(r(740),t),a(r(134),t),a(r(749),t),a(r(80),t),a(r(750),t)},function(e,t,r){e.exports=r(734)(r(735))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(751),i=r(757),s=function(){function e(e,t,r){this._chainParams=this.setChain(e),this._hardfork=null,this._supportedHardforks=void 0===r?[]:r,t&&this.setHardfork(t)}return e.forCustomChain=function(t,r,a,i){var s=e._getChainParams(t);return new e(n(n({},s),r),a,i)},e._getChainParams=function(e){if("number"===typeof e){if(a.chains.names[e])return a.chains[a.chains.names[e]];throw new Error("Chain with ID "+e+" not supported")}if(a.chains[e])return a.chains[e];throw new Error("Chain with name "+e+" not supported")},e.prototype.setChain=function(t){if("number"===typeof t||"string"===typeof t)this._chainParams=e._getChainParams(t);else{if("object"!==typeof t)throw new Error("Wrong input format");for(var r=0,n=["networkId","genesis","hardforks","bootstrapNodes"];r<n.length;r++){var a=n[r];if(void 0===t[a])throw new Error("Missing required chain parameter: "+a)}this._chainParams=t}return this._chainParams},e.prototype.setHardfork=function(e){if(!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks");for(var t=!1,r=0,n=i.hardforks;r<n.length;r++){n[r][0]===e&&(this._hardfork=e,t=!0)}if(!t)throw new Error("Hardfork with name "+e+" not supported")},e.prototype._chooseHardfork=function(e,t){if(t=void 0===t||t,e){if(t&&!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks")}else{if(!this._hardfork)throw new Error("Method called with neither a hardfork set nor provided by param");e=this._hardfork}return e},e.prototype._getHardfork=function(e){for(var t=0,r=this.hardforks();t<r.length;t++){var n=r[t];if(n.name===e)return n}throw new Error("Hardfork "+e+" not defined for chain "+this.chainName())},e.prototype._isSupportedHardfork=function(e){if(!(this._supportedHardforks.length>0))return!0;for(var t=0,r=this._supportedHardforks;t<r.length;t++){if(e===r[t])return!0}return!1},e.prototype.param=function(e,t,r){var n;r=this._chooseHardfork(r);for(var a=0,s=i.hardforks;a<s.length;a++){var o=s[a];if(!o[1][e])throw new Error("Topic "+e+" not defined");if(void 0!==o[1][e][t]&&(n=o[1][e][t].v),o[0]===r)break}if(void 0===n)throw new Error(e+" value for "+t+" not found");return n},e.prototype.paramByBlock=function(e,t,r){var n=this.activeHardforks(r),a=n[n.length-1].name;return this.param(e,t,a)},e.prototype.hardforkIsActiveOnBlock=function(e,t,r){var n=void 0!==(r=void 0!==r?r:{}).onlySupported&&r.onlySupported;e=this._chooseHardfork(e,n);var a=this.hardforkBlock(e);return null!==a&&t>=a},e.prototype.activeOnBlock=function(e,t){return this.hardforkIsActiveOnBlock(null,e,t)},e.prototype.hardforkGteHardfork=function(e,t,r){var n=void 0!==(r=void 0!==r?r:{}).onlyActive&&r.onlyActive;e=this._chooseHardfork(e,r.onlySupported);for(var a=-1,i=-1,s=0,o=0,c=n?this.activeHardforks(null,r):this.hardforks();o<c.length;o++){var u=c[o];u.name===e&&(a=s),u.name===t&&(i=s),s+=1}return a>=i},e.prototype.gteHardfork=function(e,t){return this.hardforkGteHardfork(null,e,t)},e.prototype.hardforkIsActiveOnChain=function(e,t){var r=void 0!==(t=void 0!==t?t:{}).onlySupported&&t.onlySupported;e=this._chooseHardfork(e,r);for(var n=0,a=this.hardforks();n<a.length;n++){var i=a[n];if(i.name===e&&null!==i.block)return!0}return!1},e.prototype.activeHardforks=function(e,t){t=void 0!==t?t:{};for(var r=[],n=0,a=this.hardforks();n<a.length;n++){var i=a[n];if(null!==i.block){if(void 0!==e&&null!==e&&e<i.block)break;t.onlySupported&&!this._isSupportedHardfork(i.name)||r.push(i)}}return r},e.prototype.activeHardfork=function(e,t){t=void 0!==t?t:{};var r=this.activeHardforks(e,t);if(r.length>0)return r[r.length-1].name;throw new Error("No (supported) active hardfork found")},e.prototype.hardforkBlock=function(e){return e=this._chooseHardfork(e,!1),this._getHardfork(e).block},e.prototype.isHardforkBlock=function(e,t){return t=this._chooseHardfork(t,!1),this.hardforkBlock(t)===e},e.prototype.consensus=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).consensus},e.prototype.finality=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).finality},e.prototype.genesis=function(){return this._chainParams.genesis},e.prototype.hardforks=function(){return this._chainParams.hardforks},e.prototype.bootstrapNodes=function(){return this._chainParams.bootstrapNodes},e.prototype.hardfork=function(){return this._hardfork},e.prototype.chainId=function(){return this._chainParams.chainId},e.prototype.chainName=function(){return a.chains.names[this.chainId()]||this._chainParams.name},e.prototype.networkId=function(){return this._chainParams.networkId},e}();t.default=s},function(e,t,r){r(785);var n=function(e,t){return parseInt(e.slice(2*t+2,2*t+4),16)},a=function(e){return(e.length-2)/2},i=function(e){for(var t=[],r=2,n=e.length;r<n;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},s=function(e){for(var t="0x",r=0,n=e.length;r<n;++r){var a=e[r];t+=(a<16?"0":"")+a.toString(16)}return t};e.exports={random:function(e){var t=void 0;t="undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):r(92).randomBytes(e);for(var n="0x",a=0;a<e;++a)n+=("00"+t[a].toString(16)).slice(-2);return n},length:a,concat:function(e,t){return e.concat(t.slice(2))},flatten:function(e){return"0x"+e.reduce((function(e,t){return e+t.slice(2)}),"")},slice:function(e,t,r){return"0x"+r.slice(2*e+2,2*t+2)},reverse:function(e){for(var t="0x",r=0,n=a(e);r<n;++r)t+=e.slice(2*(n-r),2*(n-r+1));return t},pad:function e(t,r){return r.length===2*t+2?r:e(t,"0x0"+r.slice(2))},padRight:function e(t,r){return r.length===2*t+2?r:e(t,r+"0")},fromAscii:function(e){for(var t="0x",r=0;r<e.length;++r)t+=("00"+e.charCodeAt(r).toString(16)).slice(-2);return t},toAscii:function(e){for(var t="",r=2;r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.slice(r,r+2),16));return t},fromString:function(e){for(var t=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},r="0x",n=0;n!=e.length;n++){var a=e.charCodeAt(n);if(a<128)r+=t(a);else{if(a<2048)r+=t(a>>6|192);else{if(a>55295&&a<56320){if(++n==e.length)return null;var i=e.charCodeAt(n);if(i<56320||i>57343)return null;r+=t((a=65536+((1023&a)<<10)+(1023&i))>>18|240),r+=t(a>>12&63|128)}else r+=t(a>>12|224);r+=t(a>>6&63|128)}r+=t(63&a|128)}}return r},toString:function(e){for(var t="",r=0,i=a(e);r<i;){var s=n(e,r++);if(s>127){if(s>191&&s<224){if(r>=i)return null;s=(31&s)<<6|63&n(e,r)}else if(s>223&&s<240){if(r+1>=i)return null;s=(15&s)<<12|(63&n(e,r))<<6|63&n(e,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=i)return null;s=(7&s)<<18|(63&n(e,r))<<12|(63&n(e,++r))<<6|63&n(e,++r)}++r}if(s<=65535)t+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,t+=String.fromCharCode(s>>10|55296),t+=String.fromCharCode(1023&s|56320)}}return t},fromNumber:function(e){var t=e.toString(16);return t.length%2===0?"0x"+t:"0x0"+t},toNumber:function(e){return parseInt(e.slice(2),16)},fromNat:function(e){return"0x0"===e?"0x":e.length%2===0?e:"0x0"+e.slice(2)},toNat:function(e){return"0"===e[2]?"0x"+e.slice(3):e},fromArray:s,toArray:i,fromUint8Array:function(e){return s([].slice.call(e,0))},toUint8Array:function(e){return new Uint8Array(i(e))}}},function(e,t,r){"use strict";r.r(t);var n=r(26),a=r(2),i=r(3),s=new i.b("abi/5.0.7"),o={},c={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function d(e,t){if("bytes"===e||"string"===e){if(c[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&u[t])return!0;return(c[t]||"payable"===t)&&s.throwArgumentError("invalid modifier","name",t),!1}function f(e,t){for(var r in t)Object(a.d)(e,r,t[r])}var l=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),h=new RegExp(/^(.*)\[([0-9]*)\]$/);class p{constructor(e,t){e!==o&&s.throwError("use fromString",i.b.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),f(this,t);var r=this.type.match(h);f(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:p.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=l.sighash),l[e]||s.throwArgumentError("invalid format type","format",e),e===l.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==l.sighash&&(r+=this.type),r+="("+this.components.map(t=>t.format(e)).join(e===l.full?", ":",")+")"):r+=this.type,e!==l.sighash&&(!0===this.indexed&&(r+=" indexed"),e===l.full&&this.name&&(r+=" "+this.name)),r}static from(e,t){return"string"===typeof e?p.fromString(e,t):p.fromObject(e)}static fromObject(e){return p.isParamType(e)?e:new p(o,{name:e.name||null,type:_(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})}static fromString(e,t){return function(e){return p.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}(function(e,t){var r=e;function n(t){s.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function a(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var i={type:"",name:"",state:{allowType:!0}},o=i,c=0;c<e.length;c++){var u=e[c];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(c),o.state.allowType=!1,o.type=_(o.type),o.components=[a(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(c),o.indexed=!0,o.name=""),d(o.type,o.name)&&(o.name=""),o.type=_(o.type);var f=o;(o=o.parent)||n(c),delete f.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(c),o.indexed=!0,o.name=""),d(o.type,o.name)&&(o.name=""),o.type=_(o.type);var l=a(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&""!==o.type&&(o.type=_(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(c),o.indexed&&n(c),o.indexed=!0,o.name=""):d(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(c),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(c),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(c)}}return o.parent&&s.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):d(o.type,o.name)&&(o.name=""),i.type=_(i.type),i}(e,!!t))}static isParamType(e){return!(null==e||!e._isParamType)}}function m(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,a=0;a<e.length;a++){var i=e[a];","===i&&0===n?(t.push(r),r=""):(r+=i,"("===i?n++:")"===i&&-1===--n&&s.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map(e=>p.fromString(e,t))}class v{constructor(e,t){e!==o&&s.throwError("use a static from method",i.b.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),f(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return v.isFragment(e)?e:"string"===typeof e?v.fromString(e):v.fromObject(e)}static fromObject(e){if(v.isFragment(e))return e;switch(e.type){case"function":return x.fromObject(e);case"event":return b.fromObject(e);case"constructor":return k.fromObject(e);case"fallback":case"receive":return null}return s.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?b.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?x.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?k.fromString(e.trim()):s.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class b extends v{format(e){if(e||(e=l.sighash),l[e]||s.throwArgumentError("invalid format type","format",e),e===l.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});var t="";return e!==l.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===l.full?", ":",")+") ",e!==l.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"===typeof e?b.fromString(e):b.fromObject(e)}static fromObject(e){if(b.isEventFragment(e))return e;"event"!==e.type&&s.throwArgumentError("invalid event object","value",e);var t={name:T(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(p.fromObject):[],type:"event"};return new b(o,t)}static fromString(e){var t=e.match(O);t||s.throwArgumentError("invalid event string","value",e);var r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:s.warn("unknown modifier: "+e)}}),b.fromObject({name:t[1].trim(),anonymous:r,inputs:m(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function g(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&s.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||s.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=n.a.from(r[1]),r[0]):e}function y(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function w(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&s.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&s.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||s.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&s.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&s.throwArgumentError("unable to determine stateMutability","value",e),t}class k extends v{format(e){if(e||(e=l.sighash),l[e]||s.throwArgumentError("invalid format type","format",e),e===l.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===l.sighash&&s.throwError("cannot format a constructor for sighash",i.b.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map(t=>t.format(e)).join(e===l.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"===typeof e?k.fromString(e):k.fromObject(e)}static fromObject(e){if(k.isConstructorFragment(e))return e;"constructor"!==e.type&&s.throwArgumentError("invalid constructor object","value",e);var t=w(e);t.constant&&s.throwArgumentError("constructor cannot be constant","value",e);var r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(p.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?n.a.from(e.gas):null};return new k(o,r)}static fromString(e){var t={type:"constructor"},r=(e=g(e,t)).match(O);return r&&"constructor"===r[1].trim()||s.throwArgumentError("invalid constructor string","value",e),t.inputs=m(r[2].trim(),!1),y(r[3].trim(),t),k.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class x extends k{format(e){if(e||(e=l.sighash),l[e]||s.throwArgumentError("invalid format type","format",e),e===l.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),ouputs:this.outputs.map(t=>JSON.parse(t.format(e)))});var t="";return e!==l.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===l.full?", ":",")+") ",e!==l.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"===typeof e?x.fromString(e):x.fromObject(e)}static fromObject(e){if(x.isFunctionFragment(e))return e;"function"!==e.type&&s.throwArgumentError("invalid function object","value",e);var t=w(e),r={type:e.type,name:T(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(p.fromObject):[],outputs:e.outputs?e.outputs.map(p.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?n.a.from(e.gas):null};return new x(o,r)}static fromString(e){var t={type:"function"},r=(e=g(e,t)).split(" returns ");r.length>2&&s.throwArgumentError("invalid function string","value",e);var n=r[0].match(O);if(n||s.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&T(t.name),t.inputs=m(n[2],!1),y(n[3].trim(),t),r.length>1){var a=r[1].match(O);""==a[1].trim()&&""==a[3].trim()||s.throwArgumentError("unexpected tokens","value",e),t.outputs=m(a[2],!1)}else t.outputs=[];return x.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function _(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var S=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function T(e){return e&&e.match(S)||s.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var O=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var A=r(1),M=new i.b("abi/5.0.7");function E(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var a in n){var i=r.slice();i.push(a);try{e(i,n[a])}catch(s){t.push({path:i,error:s})}}}([],e),t}class C{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){M.throwArgumentError(e,this.localName,t)}}class I{constructor(e){Object(a.d)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Object(A.c)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Object(A.b)(e._data))}writeBytes(e){var t=Object(A.a)(e),r=t.length%this.wordSize;return r&&(t=Object(A.b)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){var t=Object(A.a)(n.a.from(e));return t.length>this.wordSize&&M.throwError("value out-of-bounds",i.b.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Object(A.b)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){var e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class F{constructor(e,t,r,n){Object(a.d)(this,"_data",Object(A.a)(e)),Object(a.d)(this,"wordSize",t||32),Object(a.d)(this,"_coerceFunc",r),Object(a.d)(this,"allowLoose",n),this._offset=0}get data(){return Object(A.i)(this._data)}get consumed(){return this._offset}static coerce(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):F.coerce(e,t)}_peekBytes(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:M.throwError("data out-of-bounds",i.b.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new F(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return n.a.from(this.readBytes(this.wordSize))}}var P=r(13);class B extends C{constructor(e){super("address","address",e,!1)}encode(e,t){try{Object(P.a)(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return Object(P.a)(Object(A.h)(e.readValue().toHexString(),20))}}class R extends C{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}var L=new i.b("abi/5.0.7");function N(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var a={};n=t.map(e=>{var t=e.localName;return t||L.throwError("cannot encode object for signature with missing names",i.b.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),a[t]&&L.throwError("cannot encode object for signature with duplicate names",i.b.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),a[t]=!0,r[t]})}else L.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&L.throwArgumentError("types/value length mismatch","tuple",r);var s=new I(e.wordSize),o=new I(e.wordSize),c=[];t.forEach((e,t)=>{var r=n[t];if(e.dynamic){var a=o.length;e.encode(o,r);var i=s.writeUpdatableValue();c.push(e=>{i(e+a)})}else e.encode(s,r)}),c.forEach(e=>{e(s.length)});var u=e.appendWriter(s);return u+=e.appendWriter(o)}function D(e,t){var r=[],n=e.subReader(0);t.forEach(t=>{var a=null;if(t.dynamic){var s=e.readValue(),o=n.subReader(s.toNumber());try{a=t.decode(o)}catch(c){if(c.code===i.b.errors.BUFFER_OVERRUN)throw c;(a=c).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(c){if(c.code===i.b.errors.BUFFER_OVERRUN)throw c;(a=c).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});var a=t.reduce((e,t)=>{var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{var n=e.localName;if(n&&1===a[n]&&("length"===n&&(n="_length"),null==r[n])){var i=r[t];i instanceof Error?Object.defineProperty(r,n,{get:()=>{throw i}}):r[n]=i}});for(var s=function(e){var t=r[e];t instanceof Error&&Object.defineProperty(r,e,{get:()=>{throw t}})},o=0;o<r.length;o++)s(o);return Object.freeze(r)}class V extends C{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),L.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],a=0;a<t.length;a++)n.push(this.coder);return N(e,n,t)}decode(e){var t=this.length;-1===t&&(t=e.readValue().toNumber());for(var r=[],n=0;n<t;n++)r.push(new R(this.coder));return e.coerce(this.name,D(e,r))}}class j extends C{constructor(e){super("bool","bool",e,!1)}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class U extends C{constructor(e,t){super(e,e,t,!0)}encode(e,t){t=Object(A.a)(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class q extends U{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Object(A.i)(super.decode(e)))}}class G extends C{constructor(e,t){var r="bytes"+String(e);super(r,r,t,!1),this.size=e}encode(e,t){var r=Object(A.a)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Object(A.i)(e.readBytes(this.size)))}}class H extends C{constructor(e){super("null","",e,!1)}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var z=r(47);class K extends C{constructor(e,t,r){var n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}encode(e,t){var r=n.a.from(t),a=z.a.mask(8*e.wordSize);if(this.signed){var i=a.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(z.c).mul(z.b)))&&this._throwError("value out-of-bounds",t)}else(r.lt(z.f)||r.gt(a.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var J=r(39);class X extends U{constructor(e){super("string",e)}encode(e,t){return super.encode(e,Object(J.f)(t))}decode(e){return Object(J.h)(super.decode(e))}}class W extends C{constructor(e,t){var r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}encode(e,t){return N(e,this.coders,t)}decode(e){return e.coerce(this.name,D(e,this.coders))}}var Z=new i.b("abi/5.0.7"),Y=new RegExp(/^bytes([0-9]*)$/),Q=new RegExp(/^(u?int)([0-9]*)$/);class ${constructor(e){Z.checkNew(new.target,$),Object(a.d)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new B(e.name);case"bool":return new j(e.name);case"string":return new X(e.name);case"bytes":return new q(e.name);case"array":return new V(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new W((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new H(e.name)}var t=e.type.match(Q);if(t){var r=parseInt(t[2]||"256");return(0===r||r>256||r%8!==0)&&Z.throwArgumentError("invalid "+t[1]+" bit length","param",e),new K(r/8,"int"===t[1],e.name)}if(t=e.type.match(Y)){var n=parseInt(t[1]);return(0===n||n>32)&&Z.throwArgumentError("invalid bytes length","param",e),new G(n,e.name)}return Z.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new F(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new I(this._getWordSize())}encode(e,t){e.length!==t.length&&Z.throwError("types/values length mismatch",i.b.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var r=e.map(e=>this._getCoder(p.from(e))),n=new W(r,"_"),a=this._getWriter();return n.encode(a,t),a.data}decode(e,t,r){var n=e.map(e=>this._getCoder(p.from(e)));return new W(n,"_").decode(this._getReader(Object(A.a)(t),r))}}var ee=new $,te=r(136),re=r(15),ne=new i.b("abi/5.0.7");class ae extends a.a{}class ie extends a.a{}class se extends a.a{static isIndexed(e){return!(!e||!e._isIndexed)}}function oe(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}class ce{constructor(e){ne.checkNew(new.target,ce);var t=[];t="string"===typeof e?JSON.parse(e):e,Object(a.d)(this,"fragments",t.map(e=>v.from(e)).filter(e=>null!=e)),Object(a.d)(this,"_abiCoder",Object(a.e)(new.target,"getAbiCoder")()),Object(a.d)(this,"functions",{}),Object(a.d)(this,"errors",{}),Object(a.d)(this,"events",{}),Object(a.d)(this,"structs",{}),this.fragments.forEach(e=>{var t=null;switch(e.type){case"constructor":return this.deploy?void ne.warn("duplicate definition - constructor"):void Object(a.d)(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;default:return}var r=e.format();t[r]?ne.warn("duplicate definition - "+r):t[r]=e}),this.deploy||Object(a.d)(this,"deploy",k.from({payable:!1,type:"constructor"})),Object(a.d)(this,"_isInterface",!0)}format(e){e||(e=l.full),e===l.sighash&&ne.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map(t=>t.format(e));return e===l.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return ee}static getAddress(e){return Object(P.a)(e)}static getSighash(e){return Object(A.e)(Object(te.a)(e.format()),0,4)}static getEventTopic(e){return Object(te.a)(e.format())}getFunction(e){if(Object(A.l)(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];ne.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter(e=>e.split("(")[0]===r);return 0===n.length?ne.throwArgumentError("no matching function","name",r):n.length>1&&ne.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var a=this.functions[x.fromString(e).format()];return a||ne.throwArgumentError("no matching function","signature",e),a}getEvent(e){if(Object(A.l)(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];ne.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),a=Object.keys(this.events).filter(e=>e.split("(")[0]===n);return 0===a.length?ne.throwArgumentError("no matching event","name",n):a.length>1&&ne.throwArgumentError("multiple matching events","name",n),this.events[a[0]]}var i=this.events[b.fromString(e).format()];return i||ne.throwArgumentError("no matching event","signature",e),i}getSighash(e){return"string"===typeof e&&(e=this.getFunction(e)),Object(a.e)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"===typeof e&&(e=this.getEvent(e)),Object(a.e)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeFunctionData(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=Object(A.a)(t);return Object(A.i)(r.slice(0,4))!==this.getSighash(e)&&ne.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",Object(A.i)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Object(A.i)(Object(A.b)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=Object(A.a)(t),n=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(s){}break;case 4:"0x08c379a0"===Object(A.i)(r.slice(0,4))&&(a="Error(string)",n=this._abiCoder.decode(["string"],r.slice(4))[0])}return ne.throwError("call revert exception",i.b.errors.CALL_EXCEPTION,{method:e.format(),errorSignature:a,errorArgs:[n],reason:n})}encodeFunctionResult(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Object(A.i)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&ne.throwError("too many arguments for "+e.format(),i.b.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var r=[];e.anonymous||r.push(this.getEventTopic(e));var n=(e,t)=>"string"===e.type?Object(te.a)(t):"bytes"===e.type?Object(re.a)(Object(A.i)(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),Object(A.h)(Object(A.i)(t),32));for(t.forEach((t,a)=>{var i=e.inputs[a];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?ne.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map(e=>n(i,e))):r.push(n(i,t)):null!=t&&ne.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"===typeof e&&(e=this.getEvent(e));var r=[],n=[],a=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&ne.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,i)=>{var s=t[i];if(e.indexed)if("string"===e.type)r.push(Object(te.a)(s));else if("bytes"===e.type)r.push(Object(re.a)(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),a.push(s)}),{data:this._abiCoder.encode(n,a),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);Object(A.l)(r[0],32)&&r[0].toLowerCase()===n||ne.throwError("fragment/topic mismatch",i.b.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var a=[],s=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(a.push(p.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(a.push(e),o.push(!1)):(s.push(e),o.push(!1))});var c=null!=r?this._abiCoder.decode(a,Object(A.b)(r)):null,u=this._abiCoder.decode(s,t,!0),d=[],f=0,l=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==c)d[t]=new se({_isIndexed:!0,hash:null});else if(o[t])d[t]=new se({_isIndexed:!0,hash:c[l++]});else try{d[t]=c[l++]}catch(n){d[t]=n}else try{d[t]=u[f++]}catch(n){d[t]=n}if(e.name&&null==d[e.name]){var r=d[t];r instanceof Error?Object.defineProperty(d,e.name,{get:()=>{throw oe("property ".concat(JSON.stringify(e.name)),r)}}):d[e.name]=r}});for(var h=function(e){var t=d[e];t instanceof Error&&Object.defineProperty(d,e,{get:()=>{throw oe("index ".concat(e),t)}})},m=0;m<d.length;m++)h(m);return Object.freeze(d)}parseTransaction(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ie({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:n.a.from(e.value||"0")}):null}parseLog(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ae({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}static isInterface(e){return!(!e||!e._isInterface)}}r.d(t,"ConstructorFragment",(function(){return k})),r.d(t,"EventFragment",(function(){return b})),r.d(t,"Fragment",(function(){return v})),r.d(t,"FunctionFragment",(function(){return x})),r.d(t,"ParamType",(function(){return p})),r.d(t,"FormatTypes",(function(){return l})),r.d(t,"AbiCoder",(function(){return $})),r.d(t,"defaultAbiCoder",(function(){return ee})),r.d(t,"Interface",(function(){return ce})),r.d(t,"Indexed",(function(){return se})),r.d(t,"checkResultErrors",(function(){return E})),r.d(t,"LogDescription",(function(){return ae})),r.d(t,"TransactionDescription",(function(){return ie}))},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=r(277)},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return q}));var n=r(8),a=r.n(n),i=r(31),s=r.n(i);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function o(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},r.exports),r.exports}var c=u;function u(e,t){if(!e)throw new Error(t||"Assertion failed")}u.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var d=o((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,s=255&a;i?r.push(i,s):r.push(s)}return r},r.zero2=n,r.toHex=a,r.encode=function(e,t){return"hex"===t?a(e):e}})),f=o((function(e,t){var r=t;r.assert=c,r.toArray=d.toArray,r.zero2=d.zero2,r.toHex=d.toHex,r.encode=d.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var a=1<<t+1,i=e.clone(),s=0;s<n.length;s++){var o,c=i.andln(a-1);i.isOdd()?(o=c>(a>>1)-1?(a>>1)-c:c,i.isubn(o)):o=0,n[s]=o,i.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,a=0,i=0;e.cmpn(-a)>0||t.cmpn(-i)>0;){var s,o,c=e.andln(3)+a&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[0].push(s),o=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[1].push(o),2*a===s+1&&(a=1-a),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new a.a(e,"hex","le")}})),l=f.getNAF,h=f.getJSF,p=f.assert;function m(e,t){this.type=e,this.p=new a.a(t.p,16),this.red=t.prime?a.a.red(t.prime):a.a.mont(this.p),this.zero=new a.a(0).toRed(this.red),this.one=new a.a(1).toRed(this.red),this.two=new a.a(2).toRed(this.red),this.n=t.n&&new a.a(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var v=m;function b(e,t){this.curve=e,this.type=t,this.precomputed=null}m.prototype.point=function(){throw new Error("Not implemented")},m.prototype.validate=function(){throw new Error("Not implemented")},m.prototype._fixedNafMul=function(e,t){p(e.precomputed);var r=e._getDoubles(),n=l(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var i,s,o=[];for(i=0;i<n.length;i+=r.step){s=0;for(var c=i+r.step-1;c>=i;c--)s=(s<<1)+n[c];o.push(s)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=a;f>0;f--){for(i=0;i<o.length;i++)(s=o[i])===f?d=d.mixedAdd(r.points[i]):s===-f&&(d=d.mixedAdd(r.points[i].neg()));u=u.add(d)}return u.toP()},m.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,i=l(t,r,this._bitLength),s=this.jpoint(null,null,null),o=i.length-1;o>=0;o--){for(var c=0;o>=0&&0===i[o];o--)c++;if(o>=0&&c++,s=s.dblp(c),o<0)break;var u=i[o];p(0!==u),s="affine"===e.type?u>0?s.mixedAdd(a[u-1>>1]):s.mixedAdd(a[-u-1>>1].neg()):u>0?s.add(a[u-1>>1]):s.add(a[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},m.prototype._wnafMulAdd=function(e,t,r,n,a){var i,s,o,c=this._wnafT1,u=this._wnafT2,d=this._wnafT3,f=0;for(i=0;i<n;i++){var p=(o=t[i])._getNAFPoints(e);c[i]=p.wnd,u[i]=p.points}for(i=n-1;i>=1;i-=2){var m=i-1,v=i;if(1===c[m]&&1===c[v]){var b=[t[m],null,null,t[v]];0===t[m].y.cmp(t[v].y)?(b[1]=t[m].add(t[v]),b[2]=t[m].toJ().mixedAdd(t[v].neg())):0===t[m].y.cmp(t[v].y.redNeg())?(b[1]=t[m].toJ().mixedAdd(t[v]),b[2]=t[m].add(t[v].neg())):(b[1]=t[m].toJ().mixedAdd(t[v]),b[2]=t[m].toJ().mixedAdd(t[v].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=h(r[m],r[v]);for(f=Math.max(y[0].length,f),d[m]=new Array(f),d[v]=new Array(f),s=0;s<f;s++){var w=0|y[0][s],k=0|y[1][s];d[m][s]=g[3*(w+1)+(k+1)],d[v][s]=0,u[m]=b}}else d[m]=l(r[m],c[m],this._bitLength),d[v]=l(r[v],c[v],this._bitLength),f=Math.max(d[m].length,f),f=Math.max(d[v].length,f)}var x=this.jpoint(null,null,null),_=this._wnafT4;for(i=f;i>=0;i--){for(var S=0;i>=0;){var T=!0;for(s=0;s<n;s++)_[s]=0|d[s][i],0!==_[s]&&(T=!1);if(!T)break;S++,i--}if(i>=0&&S++,x=x.dblp(S),i<0)break;for(s=0;s<n;s++){var O=_[s];0!==O&&(O>0?o=u[s][O-1>>1]:O<0&&(o=u[s][-O-1>>1].neg()),x="affine"===o.type?x.mixedAdd(o):x.add(o))}}for(i=0;i<n;i++)u[i]=null;return a?x:x.toP()},m.BasePoint=b,b.prototype.eq=function(){throw new Error("Not implemented")},b.prototype.validate=function(){return this.curve.validate(this)},m.prototype.decodePoint=function(e,t){e=f.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?p(e[e.length-1]%2===0):7===e[0]&&p(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},b.prototype.encodeCompressed=function(e){return this.encode(e,!0)},b.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},b.prototype.encode=function(e,t){return f.encode(this._encode(t),e)},b.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},b.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},b.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},b.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},b.prototype._getBeta=function(){return null},b.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var g=o((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),y=f.assert;function w(e){v.call(this,"short",e),this.a=new a.a(e.a,16).toRed(this.red),this.b=new a.a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}g(w,v);var k=w;function x(e,t,r,n){v.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new a.a(t,16),this.y=new a.a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _(e,t,r,n){v.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a.a(0)):(this.x=new a.a(t,16),this.y=new a.a(r,16),this.z=new a.a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}w.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new a.a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new a.a(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],y(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new a.a(e.a,16),b:new a.a(e.b,16)}})):this._getEndoBasis(r)}}},w.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.a.mont(e),r=new a.a(2).toRed(t).redInvm(),n=r.redNeg(),i=new a.a(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},w.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,c,u,d,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new a.a(1),m=new a.a(0),v=new a.a(0),b=new a.a(1),g=0;0!==l.cmpn(0);){var y=h.div(l);u=h.sub(y.mul(l)),d=v.sub(y.mul(p));var w=b.sub(y.mul(m));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),i=d;else if(n&&2===++g)break;c=u,h=l,l=u,v=p,p=d,b=m,m=w}s=u.neg(),o=d;var k=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(k)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},w.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),o=i.mul(n.a),c=a.mul(r.b),u=i.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},w.prototype.pointFromX=function(e,t){(e=new a.a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},w.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(a).cmpn(0)},w.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),o=e[i],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*i]=o,n[2*i+1]=c,a[2*i]=s.k1,a[2*i+1]=s.k2}for(var u=this._wnafMulAdd(1,n,a,2*i,r),d=0;d<2*i;d++)n[d]=null,a[d]=null;return u},g(x,v.BasePoint),w.prototype.point=function(e,t,r){return new x(this,e,t,r)},w.prototype.pointFromJSON=function(e,t){return x.fromJSON(this,e,t)},x.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},x.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},x.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function a(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(a))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(a))}},n},x.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},x.prototype.isInfinity=function(){return this.inf},x.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},x.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},x.prototype.getX=function(){return this.x.fromRed()},x.prototype.getY=function(){return this.y.fromRed()},x.prototype.mul=function(e){return e=new a.a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},x.prototype.mulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},x.prototype.jmulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},x.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},x.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},x.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},g(_,v.BasePoint),w.prototype.jpoint=function(e,t,r){return new _(this,e,t,r)},_.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},_.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(a),c=i.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),f=n.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(i.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,h,p)},_.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=a.redSub(i);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(d).redISub(d),l=o.redMul(d.redISub(f)).redISub(a.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},_.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,a=this.curve.tinv,i=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=i.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=i.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),b=h.redMul(v);b=b.redIAdd(b).redISub(l);var g=u.redMul(o);t+1<e&&(c=c.redMul(l)),i=m,o=g,u=b}return this.curve.jpoint(i,u.redMul(a),o)},_.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),v=l.redIAdd(l);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},_.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)},_.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),o=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=o.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,h,p)},_.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=a.redIAdd(s).redSqr().redISub(i).redISub(o).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(o).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,l,h)},_.prototype.mul=function(e,t){return e=new a.a(e,t),this.curve._wnafMul(this,e)},_.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=r.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},_.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}},_.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var S=o((function(e,t){var r=t;r.base=v,r.short=k,r.mont=null,r.edwards=null})),T=o((function(e,t){var r,n=t,a=f.assert;function i(e){"short"===e.type?this.curve=new S.short(e):"edwards"===e.type?this.curve=new S.edwards(e):this.curve=new S.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new i(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=i,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.a.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(c){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function O(e){if(!(this instanceof O))return new O(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=d.toArray(e.entropy,e.entropyEnc||"hex"),r=d.toArray(e.nonce,e.nonceEnc||"hex"),n=d.toArray(e.pers,e.persEnc||"hex");c(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var A=O;O.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},O.prototype._hmac=function(){return new s.a.hmac(this.hash,this.K)},O.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},O.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=d.toArray(e,t),r=d.toArray(r,n),c(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},O.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=d.toArray(r,n||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var i=a.slice(0,e);return this._update(r),this._reseed++,d.encode(i,t)};var M=f.assert;function E(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var C=E;E.fromPublic=function(e,t,r){return t instanceof E?t:new E(e,{pub:t,pubEnc:r})},E.fromPrivate=function(e,t,r){return t instanceof E?t:new E(e,{priv:t,privEnc:r})},E.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},E.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},E.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},E.prototype._importPrivate=function(e,t){this.priv=new a.a(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},E.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?M(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||M(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},E.prototype.derive=function(e){return e.validate()||M(e.validate(),"public point not validated"),e.mul(this.priv).getX()},E.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},E.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},E.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var I=f.assert;function F(e,t){if(e instanceof F)return e;this._importDER(e,t)||(I(e.r&&e.s,"Signature without r or s"),this.r=new a.a(e.r,16),this.s=new a.a(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var P=F;function B(){this.place=0}function R(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s],a>>>=0;return!(a<=127)&&(t.place=s,a)}function L(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function N(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}F.prototype._importDER=function(e,t){e=f.toArray(e,t);var r=new B;if(48!==e[r.place++])return!1;var n=R(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=R(e,r);if(!1===i)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=R(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var c=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new a.a(s),this.s=new a.a(c),this.recoveryParam=null,!0},F.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=L(t),r=L(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];N(n,t.length),(n=n.concat(t)).push(2),N(n,r.length);var a=n.concat(r),i=[48];return N(i,a.length),i=i.concat(a),f.encode(i,e)};var D=function(){throw new Error("unsupported")},V=f.assert;function j(e){if(!(this instanceof j))return new j(e);"string"===typeof e&&(V(Object.prototype.hasOwnProperty.call(T,e),"Unknown curve "+e),e=T[e]),e instanceof T.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var U=j;j.prototype.keyPair=function(e){return new C(this,e)},j.prototype.keyFromPrivate=function(e,t){return C.fromPrivate(this,e,t)},j.prototype.keyFromPublic=function(e,t){return C.fromPublic(this,e,t)},j.prototype.genKeyPair=function(e){e||(e={});for(var t=new A({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||D(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new a.a(2));;){var i=new a.a(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},j.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},j.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new a.a(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),c=new A({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new a.a(1)),d=0;;d++){var f=n.k?n.k(d):new a.a(c.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var l=this.g.mul(f);if(!l.isInfinity()){var h=l.getX(),p=h.umod(this.n);if(0!==p.cmpn(0)){var m=f.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(p)?2:0);return n.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new P({r:p,s:m,recoveryParam:v})}}}}}},j.prototype.verify=function(e,t,r,n){e=this._truncateToN(new a.a(e,16)),r=this.keyFromPublic(r,n);var i=(t=new P(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,c=s.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},j.prototype.recoverPubKey=function(e,t,r,n){V((3&r)===r,"The recovery param is more than two bits"),t=new P(t,n);var i=this.n,s=new a.a(e),o=t.r,c=t.s,u=1&r,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");o=d?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var f=t.r.invm(i),l=i.sub(s).mul(f).umod(i),h=c.mul(f).umod(i);return this.g.mulAdd(l,o,h)},j.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new P(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")};var q=o((function(e,t){var r=t;r.version="6.5.4",r.utils=f,r.rand=function(){throw new Error("unsupported")},r.curve=S,r.curves=T,r.ec=U,r.eddsa=null})).ec}).call(this,r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="random/5.0.9"},function(e,t,r){"use strict";var n=r(591).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},,,,,function(e,t,r){"use strict";var n=r(68),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,d=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,p=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function w(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||g}function k(){}function x(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var _=x.prototype=new k;_.constructor=x,n(_,w.prototype),_.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var n,a={},s=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,n)&&!O.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===a[n]&&(a[n]=c[n]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:S.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g,C=[];function I(e,t,r,n){if(C.length){var a=C.pop();return a.result=e,a.keyPrefix=t,a.func=r,a.context=n,a.count=0,a}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function P(e,t,r){return null==e?0:function e(t,r,n,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var c=!1;if(null===t)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case i:case s:c=!0}}if(c)return n(a,t,""===r?"."+B(t,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var d=r+B(o=t[u],u);c+=e(o,d,n,a)}else if(null===t||"object"!==typeof t?d=null:d="function"===typeof(d=v&&t[v]||t["@@iterator"])?d:null,"function"===typeof d)for(t=d.call(t),u=0;!(o=t.next()).done;)c+=e(o=o.value,d=r+B(o,u++),n,a);else if("object"===o)throw n=""+t,Error(b(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return c}(e,"",t,r)}function B(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,r){var n=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,a){var i="";null!=r&&(i=(""+r).replace(E,"$&/")+"/"),P(e,L,t=I(t,i,n,a)),F(t)}var D={current:null};function V(){var e=D.current;if(null===e)throw Error(b(321));return e}var j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;P(e,R,t=I(null,null,t,r)),F(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(b(143));return e}},t.Component=w,t.Fragment=o,t.Profiler=u,t.PureComponent=x,t.StrictMode=c,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(b(267,e));var a=n({},e.props),s=e.key,o=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,c=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)T.call(t,d)&&!O.hasOwnProperty(d)&&(a[d]=void 0===t[d]&&void 0!==u?u[d]:t[d])}var d=arguments.length-2;if(1===d)a.children=r;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];a.children=u}return{$$typeof:i,type:e.type,key:s,ref:o,props:a,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return V().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,r){return V().useReducer(e,t,r)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";var n=r(4),a=r(68),i=r(278);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(s(227));function o(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var c=!1,u=null,d=!1,f=null,l={onError:function(e){c=!0,u=e}};function h(e,t,r,n,a,i,s,d,f){c=!1,u=null,o.apply(l,arguments)}var p=null,m=null,v=null;function b(e,t,r){var n=e.type||"unknown-event";e.currentTarget=v(r),function(e,t,r,n,a,i,o,l,p){if(h.apply(this,arguments),c){if(!c)throw Error(s(198));var m=u;c=!1,u=null,d||(d=!0,f=m)}}(n,t,void 0,e),e.currentTarget=null}var g=null,y={};function w(){if(g)for(var e in y){var t=y[e],r=g.indexOf(e);if(!(-1<r))throw Error(s(96,e));if(!x[r]){if(!t.extractEvents)throw Error(s(97,e));for(var n in x[r]=t,r=t.eventTypes){var a=void 0,i=r[n],o=t,c=n;if(_.hasOwnProperty(c))throw Error(s(99,c));_[c]=i;var u=i.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&k(u[a],o,c);a=!0}else i.registrationName?(k(i.registrationName,o,c),a=!0):a=!1;if(!a)throw Error(s(98,n,e))}}}}function k(e,t,r){if(S[e])throw Error(s(100,e));S[e]=t,T[e]=t.eventTypes[r].dependencies}var x=[],_={},S={},T={};function O(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!y.hasOwnProperty(t)||y[t]!==n){if(y[t])throw Error(s(102,t));y[t]=n,r=!0}}r&&w()}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),M=null,E=null,C=null;function I(e){if(e=m(e)){if("function"!==typeof M)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),M(e.stateNode,e.type,t))}}function F(e){E?C?C.push(e):C=[e]:E=e}function P(){if(E){var e=E,t=C;if(C=E=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function B(e,t){return e(t)}function R(e,t,r,n,a){return e(t,r,n,a)}function L(){}var N=B,D=!1,V=!1;function j(){null===E&&null===C||(L(),P())}function U(e,t,r){if(V)return e(t,r);V=!0;try{return N(e,t,r)}finally{V=!1,j()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,H={},z={};function K(e,t,r,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){J[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];J[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){J[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){J[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){J[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){J[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){J[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){J[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){J[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,W);J[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,W);J[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,W);J[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){J[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),J.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){J[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,r,n){var a=J.hasOwnProperty(t)?J[t]:null;(null!==a?0===a.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!G.call(z,e)||!G.call(H,e)&&(q.test(e)?z[e]=!0:(H[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,re=$?Symbol.for("react.fragment"):60107,ne=$?Symbol.for("react.strict_mode"):60108,ae=$?Symbol.for("react.profiler"):60114,ie=$?Symbol.for("react.provider"):60109,se=$?Symbol.for("react.context"):60110,oe=$?Symbol.for("react.concurrent_mode"):60111,ce=$?Symbol.for("react.forward_ref"):60112,ue=$?Symbol.for("react.suspense"):60113,de=$?Symbol.for("react.suspense_list"):60120,fe=$?Symbol.for("react.memo"):60115,le=$?Symbol.for("react.lazy"):60116,he=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ae:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case ie:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case he:return ve(e.render);case le:if(e=1===e._status?e._result:null)return ve(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,a=e._debugSource,i=ve(e.type);r=null,n&&(r=ve(n.type)),n=i,i="",a?i=" (at "+a.fileName.replace(Q,"")+":"+a.lineNumber+")":r&&(i=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+i}t+=r,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ye(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function xe(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function _e(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ge(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function Te(e,t){Se(e,t);var r=ge(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ae(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Me(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ee(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ge(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ge(r)}}function Fe(e,t){var r=ge(t.value),n=ge(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Be="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var De,Ve=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((De=De||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=De.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function je(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ue(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qe={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ge={},He={};function ze(e){if(Ge[e])return Ge[e];if(!qe[e])return e;var t,r=qe[e];for(t in r)if(r.hasOwnProperty(t)&&t in He)return Ge[e]=r[t];return e}A&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ke=ze("animationend"),Je=ze("animationiteration"),Xe=ze("animationstart"),We=ze("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function $e(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if($e(e)!==e)throw Error(s(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return tt(a),e;if(i===n)return tt(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var it=null;function st(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)b(e,t[n],r[n]);else t&&b(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ot(e){if(null!==e&&(it=nt(it,e)),e=it,it=null,e){if(at(e,st),it)throw Error(s(95));if(d)throw e=f,d=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!A)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function lt(e,t,r,n){if(dt.length){var a=dt.pop();return a.topLevelType=e,a.eventSystemFlags=n,a.nativeEvent=t,a.targetInst=r,a}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function ht(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Or(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var a=ct(e.nativeEvent);n=e.topLevelType;var i=e.nativeEvent,s=e.eventSystemFlags;0===r&&(s|=64);for(var o=null,c=0;c<x.length;c++){var u=x[c];u&&(u=u.extractEvents(n,t,i,a,s))&&(o=nt(o,u))}ot(o)}}function pt(e,t,r){if(!r.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Jt(e,t)}r.set(e,null)}}var mt,vt,bt,gt=!1,yt=[],wt=null,kt=null,xt=null,_t=new Map,St=new Map,Tt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Mt(e,t,r,n,a){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:a,container:n}}function Et(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Ct(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e=Mt(t,r,n,a,i),null!==t&&(null!==(t=Ar(t))&&vt(t)),e):(e.eventSystemFlags|=n,e)}function It(e){var t=Or(e.target);if(null!==t){var r=$e(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){bt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Ar(t);return null!==r&&vt(r),e.blockedOn=t,!1}return!0}function Pt(e,t,r){Ft(e)&&r.delete(t)}function Bt(){for(gt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Ar(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==wt&&Ft(wt)&&(wt=null),null!==kt&&Ft(kt)&&(kt=null),null!==xt&&Ft(xt)&&(xt=null),_t.forEach(Pt),St.forEach(Pt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Lt(e){function t(t){return Rt(t,e)}if(0<yt.length){Rt(yt[0],e);for(var r=1;r<yt.length;r++){var n=yt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==wt&&Rt(wt,e),null!==kt&&Rt(kt,e),null!==xt&&Rt(xt,e),_t.forEach(t),St.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)It(r),null===r.blockedOn&&Tt.shift()}var Nt={},Dt=new Map,Vt=new Map,jt=["abort","abort",Ke,"animationEnd",Je,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",We,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1],i="on"+(a[0].toUpperCase()+a.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],eventPriority:t},Vt.set(n,t),Dt.set(n,i),Nt[a]=i}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(jt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<qt.length;Gt++)Vt.set(qt[Gt],0);var Ht=i.unstable_UserBlockingPriority,zt=i.unstable_runWithPriority,Kt=!0;function Jt(e,t){Xt(t,e,!1)}function Xt(e,t,r){var n=Vt.get(t);switch(void 0===n?2:n){case 0:n=Wt.bind(null,t,1,e);break;case 1:n=Zt.bind(null,t,1,e);break;default:n=Yt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Wt(e,t,r,n){D||L();var a=Yt,i=D;D=!0;try{R(a,e,t,r,n)}finally{(D=i)||j()}}function Zt(e,t,r,n){zt(Ht,Yt.bind(null,e,t,r,n))}function Yt(e,t,r,n){if(Kt)if(0<yt.length&&-1<Ot.indexOf(e))e=Mt(null,e,t,r,n),yt.push(e);else{var a=Qt(e,t,r,n);if(null===a)Et(e,n);else if(-1<Ot.indexOf(e))e=Mt(a,e,t,r,n),yt.push(e);else if(!function(e,t,r,n,a){switch(t){case"focus":return wt=Ct(wt,e,t,r,n,a),!0;case"dragenter":return kt=Ct(kt,e,t,r,n,a),!0;case"mouseover":return xt=Ct(xt,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return _t.set(i,Ct(_t.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,St.set(i,Ct(St.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n)){Et(e,n),e=lt(e,n,null,t);try{U(ht,e)}finally{ft(e)}}}}function Qt(e,t,r,n){if(null!==(r=Or(r=ct(n)))){var a=$e(r);if(null===a)r=null;else{var i=a.tag;if(13===i){if(null!==(r=et(a)))return r;r=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}e=lt(e,n,r,t);try{U(ht,e)}finally{ft(e)}return null}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys($t).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]}))}));var nr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ar(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function ir(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sr=Be;function or(e,t){var r=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var n=0;n<t.length;n++)pt(t[n],e,r)}function cr(){}function ur(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var r,n=dr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dr(n)}}function lr(){for(var e=window,t=ur();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ur((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=null,mr=null;function vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var gr="function"===typeof setTimeout?setTimeout:void 0,yr="function"===typeof clearTimeout?clearTimeout:void 0;function wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),_r="__reactInternalInstance$"+xr,Sr="__reactEventHandlers$"+xr,Tr="__reactContainere$"+xr;function Or(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[_r]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=kr(e);null!==e;){if(r=e[_r])return r;e=kr(e)}return t}r=(e=r).parentNode}return null}function Ar(e){return!(e=e[_r]||e[Tr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Er(e){return e[Sr]||null}function Cr(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t){var r=e.stateNode;if(!r)return null;var n=p(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}function Fr(e,t,r){(t=Ir(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Pr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Cr(t);for(t=r.length;0<t--;)Fr(r[t],"captured",e);for(t=0;t<r.length;t++)Fr(r[t],"bubbled",e)}}function Br(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Ir(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Rr(e){e&&e.dispatchConfig.registrationName&&Br(e._targetInst,null,e)}function Lr(e){at(e,Pr)}var Nr=null,Dr=null,Vr=null;function jr(){if(Vr)return Vr;var e,t,r=Dr,n=r.length,a="value"in Nr?Nr.value:Nr.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Vr=a.slice(e,1<t?1-t:void 0)}function Ur(){return!0}function qr(){return!1}function Gr(e,t,r,n){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(r):"target"===a?this.target=n:this[a]=r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Ur:qr,this.isPropagationStopped=qr,this}function Hr(e,t,r,n){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,r,n),a}return new this(e,t,r,n)}function zr(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kr(e){e.eventPool=[],e.getPooled=Hr,e.release=zr}a(Gr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){this.isPersistent=Ur},isPersistent:qr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qr,this._dispatchInstances=this._dispatchListeners=null}}),Gr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;return a(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=a({},n.Interface,e),r.extend=n.extend,Kr(r),r},Kr(Gr);var Jr=Gr.extend({data:null}),Xr=Gr.extend({data:null}),Wr=[9,13,27,32],Zr=A&&"CompositionEvent"in window,Yr=null;A&&"documentMode"in document&&(Yr=document.documentMode);var Qr=A&&"TextEvent"in window&&!Yr,$r=A&&(!Zr||Yr&&8<Yr&&11>=Yr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function an(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var sn=!1;var on={eventTypes:tn,extractEvents:function(e,t,r,n){var a;if(Zr)e:{switch(e){case"compositionstart":var i=tn.compositionStart;break e;case"compositionend":i=tn.compositionEnd;break e;case"compositionupdate":i=tn.compositionUpdate;break e}i=void 0}else sn?nn(e,r)&&(i=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=tn.compositionStart);return i?($r&&"ko"!==r.locale&&(sn||i!==tn.compositionStart?i===tn.compositionEnd&&sn&&(a=jr()):(Dr="value"in(Nr=n)?Nr.value:Nr.textContent,sn=!0)),i=Jr.getPooled(i,t,r,n),a?i.data=a:null!==(a=an(r))&&(i.data=a),Lr(i),a=i):a=null,(e=Qr?function(e,t){switch(e){case"compositionend":return an(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(sn)return"compositionend"===e||!Zr&&nn(e,t)?(e=jr(),Vr=Dr=Nr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Xr.getPooled(tn.beforeInput,t,r,n)).data=e,Lr(t)):t=null,null===a?t:null===t?a:[a,t]}},cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!cn[e.type]:"textarea"===t}var dn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fn(e,t,r){return(e=Gr.getPooled(dn.change,e,t,r)).type="change",F(r),Lr(e),e}var ln=null,hn=null;function pn(e){ot(e)}function mn(e){if(ke(Mr(e)))return e}function vn(e,t){if("change"===e)return t}var bn=!1;function gn(){ln&&(ln.detachEvent("onpropertychange",yn),hn=ln=null)}function yn(e){if("value"===e.propertyName&&mn(hn))if(e=fn(hn,e,ct(e)),D)ot(e);else{D=!0;try{B(pn,e)}finally{D=!1,j()}}}function wn(e,t,r){"focus"===e?(gn(),hn=r,(ln=t).attachEvent("onpropertychange",yn)):"blur"===e&&gn()}function kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mn(hn)}function xn(e,t){if("click"===e)return mn(t)}function _n(e,t){if("input"===e||"change"===e)return mn(t)}A&&(bn=ut("input")&&(!document.documentMode||9<document.documentMode));var Sn={eventTypes:dn,_isInputEventSupported:bn,extractEvents:function(e,t,r,n){var a=t?Mr(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var s=vn;else if(un(a))if(bn)s=_n;else{s=kn;var o=wn}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(s=xn);if(s&&(s=s(e,t)))return fn(s,r,n);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Ae(a,"number",a.value)}},Tn=Gr.extend({view:null,detail:null}),On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Mn(){return An}var En=0,Cn=0,In=!1,Fn=!1,Pn=Tn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=En;return En=e.screenX,In?"mousemove"===e.type?e.screenX-t:0:(In=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Cn;return Cn=e.screenY,Fn?"mousemove"===e.type?e.screenY-t:0:(Fn=!0,0)}}),Bn=Pn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ln={eventTypes:Rn,extractEvents:function(e,t,r,n,a){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&0===(32&a)&&(r.relatedTarget||r.fromElement)||!s&&!i)return null;(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,s)?(s=t,null!==(t=(t=r.relatedTarget||r.toElement)?Or(t):null)&&(t!==$e(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var o=Pn,c=Rn.mouseLeave,u=Rn.mouseEnter,d="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=Bn,c=Rn.pointerLeave,u=Rn.pointerEnter,d="pointer");if(e=null==s?i:Mr(s),i=null==t?i:Mr(t),(c=o.getPooled(c,s,r,n)).type=d+"leave",c.target=e,c.relatedTarget=i,(r=o.getPooled(u,t,r,n)).type=d+"enter",r.target=i,r.relatedTarget=e,d=t,(n=s)&&d)e:{for(u=d,s=0,e=o=n;e;e=Cr(e))s++;for(e=0,t=u;t;t=Cr(t))e++;for(;0<s-e;)o=Cr(o),s--;for(;0<e-s;)u=Cr(u),e--;for(;s--;){if(o===u||o===u.alternate)break e;o=Cr(o),u=Cr(u)}o=null}else o=null;for(u=o,o=[];n&&n!==u&&(null===(s=n.alternate)||s!==u);)o.push(n),n=Cr(n);for(n=[];d&&d!==u&&(null===(s=d.alternate)||s!==u);)n.push(d),d=Cr(d);for(d=0;d<o.length;d++)Br(o[d],"bubbled",c);for(d=n.length;0<d--;)Br(n[d],"captured",r);return 0===(64&a)?[c]:[c,r]}};var Nn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Dn=Object.prototype.hasOwnProperty;function Vn(e,t){if(Nn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Dn.call(t,r[n])||!Nn(e[r[n]],t[r[n]]))return!1;return!0}var jn=A&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Gn=null,Hn=null,zn=!1;function Kn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zn||null==qn||qn!==ur(r)?null:("selectionStart"in(r=qn)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Hn&&Vn(Hn,r)?null:(Hn=r,(e=Gr.getPooled(Un.select,Gn,e,t)).type="select",e.target=qn,Lr(e),e))}var Jn={eventTypes:Un,extractEvents:function(e,t,r,n,a,i){if(!(i=!(a=i||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{a=Qe(a),i=T.onSelect;for(var s=0;s<i.length;s++)if(!a.has(i[s])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?Mr(t):window,e){case"focus":(un(a)||"true"===a.contentEditable)&&(qn=a,Gn=t,Hn=null);break;case"blur":Hn=Gn=qn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Kn(r,n);case"selectionchange":if(jn)break;case"keydown":case"keyup":return Kn(r,n)}return null}},Xn=Gr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Wn=Gr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zn=Tn.extend({relatedTarget:null});function Yn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ea=Tn.extend({key:function(e){if(e.key){var t=Qn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$n[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?Yn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ta=Pn.extend({dataTransfer:null}),ra=Tn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mn}),na=Gr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),aa=Pn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ia={eventTypes:Nt,extractEvents:function(e,t,r,n){var a=Dt.get(e);if(!a)return null;switch(e){case"keypress":if(0===Yn(r))return null;case"keydown":case"keyup":e=ea;break;case"blur":case"focus":e=Zn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ra;break;case Ke:case Je:case Xe:e=Xn;break;case We:e=na;break;case"scroll":e=Tn;break;case"wheel":e=aa;break;case"copy":case"cut":case"paste":e=Wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Bn;break;default:e=Gr}return Lr(t=e.getPooled(a,t,r,n)),t}};if(g)throw Error(s(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Er,m=Ar,v=Mr,O({SimpleEventPlugin:ia,EnterLeaveEventPlugin:Ln,ChangeEventPlugin:Sn,SelectEventPlugin:Jn,BeforeInputEventPlugin:on});var sa=[],oa=-1;function ca(e){0>oa||(e.current=sa[oa],sa[oa]=null,oa--)}function ua(e,t){oa++,sa[oa]=e.current,e.current=t}var da={},fa={current:da},la={current:!1},ha=da;function pa(e,t){var r=e.type.contextTypes;if(!r)return da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function va(){ca(la),ca(fa)}function ba(e,t,r){if(fa.current!==da)throw Error(s(168));ua(fa,t),ua(la,r)}function ga(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(s(108,ve(t)||"Unknown",i));return a({},r,{},n)}function ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,ha=fa.current,ua(fa,e),ua(la,la.current),!0}function wa(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=ga(e,t,ha),n.__reactInternalMemoizedMergedChildContext=e,ca(la),ca(fa),ua(fa,e)):ca(la),ua(la,r)}var ka=i.unstable_runWithPriority,xa=i.unstable_scheduleCallback,_a=i.unstable_cancelCallback,Sa=i.unstable_requestPaint,Ta=i.unstable_now,Oa=i.unstable_getCurrentPriorityLevel,Aa=i.unstable_ImmediatePriority,Ma=i.unstable_UserBlockingPriority,Ea=i.unstable_NormalPriority,Ca=i.unstable_LowPriority,Ia=i.unstable_IdlePriority,Fa={},Pa=i.unstable_shouldYield,Ba=void 0!==Sa?Sa:function(){},Ra=null,La=null,Na=!1,Da=Ta(),Va=1e4>Da?Ta:function(){return Ta()-Da};function ja(){switch(Oa()){case Aa:return 99;case Ma:return 98;case Ea:return 97;case Ca:return 96;case Ia:return 95;default:throw Error(s(332))}}function Ua(e){switch(e){case 99:return Aa;case 98:return Ma;case 97:return Ea;case 96:return Ca;case 95:return Ia;default:throw Error(s(332))}}function qa(e,t){return e=Ua(e),ka(e,t)}function Ga(e,t,r){return e=Ua(e),xa(e,t,r)}function Ha(e){return null===Ra?(Ra=[e],La=xa(Aa,Ka)):Ra.push(e),Fa}function za(){if(null!==La){var e=La;La=null,_a(e)}Ka()}function Ka(){if(!Na&&null!==Ra){Na=!0;var e=0;try{var t=Ra;qa(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ra=null}catch(r){throw null!==Ra&&(Ra=Ra.slice(e+1)),xa(Aa,za),r}finally{Na=!1}}}function Ja(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Xa(e,t){if(e&&e.defaultProps)for(var r in t=a({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Wa={current:null},Za=null,Ya=null,Qa=null;function $a(){Qa=Ya=Za=null}function ei(e){var t=Wa.current;ca(Wa),e.type._context._currentValue=t}function ti(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ri(e,t){Za=e,Qa=Ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Es=!0),e.firstContext=null)}function ni(e,t){if(Qa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ya){if(null===Za)throw Error(s(308));Ya=t,Za.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ya=Ya.next=t;return e._currentValue}var ai=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function oi(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ci(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ui(e,t){var r=e.alternate;null!==r&&si(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function di(e,t,r,n){var i=e.updateQueue;ai=!1;var s=i.baseQueue,o=i.shared.pending;if(null!==o){if(null!==s){var c=s.next;s.next=o.next,o.next=c}s=o,i.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=o))}if(null!==s){c=s.next;var u=i.baseState,d=0,f=null,l=null,h=null;if(null!==c)for(var p=c;;){if((o=p.expirationTime)<n){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(l=h=m,f=u):h=h.next=m,o>d&&(d=o)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ic(o,p.suspenseConfig);e:{var v=e,b=p;switch(o=t,m=r,b.tag){case 1:if("function"===typeof(v=b.payload)){u=v.call(m,u,o);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(o="function"===typeof(v=b.payload)?v.call(m,u,o):v)||void 0===o)break e;u=a({},u,o);break e;case 2:ai=!0}}null!==p.callback&&(e.effectTag|=32,null===(o=i.effects)?i.effects=[p]:o.push(p))}if(null===(p=p.next)||p===c){if(null===(o=i.shared.pending))break;p=s.next=o.next,o.next=c,i.baseQueue=s=o,i.shared.pending=null}}null===h?f=u:h.next=l,i.baseState=f,i.baseQueue=h,sc(d),e.expirationTime=d,e.memoizedState=u}}function fi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=a,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var li=Z.ReactCurrentBatchConfig,hi=(new n.Component).refs;function pi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:a({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var mi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$e(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Ko(),a=li.suspense;(a=oi(n=Jo(n,e,a),a)).payload=t,void 0!==r&&null!==r&&(a.callback=r),ci(e,a),Xo(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Ko(),a=li.suspense;(a=oi(n=Jo(n,e,a),a)).tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),ci(e,a),Xo(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Ko(),n=li.suspense;(n=oi(r=Jo(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),ci(e,n),Xo(e,r)}};function vi(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Vn(r,n)||!Vn(a,i))}function bi(e,t,r){var n=!1,a=da,i=t.contextType;return"object"===typeof i&&null!==i?i=ni(i):(a=ma(t)?ha:fa.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?pa(e,a):da),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function yi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=hi,ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ni(i):(i=ma(t)?ha:fa.current,a.context=pa(e,i)),di(e,r,a,n),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(pi(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mi.enqueueReplaceState(a,a.state,null),di(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var wi=Array.isArray;function ki(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=n.refs;t===hi&&(t=n.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xi(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function _i(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Ec(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=a(t,r.props)).ref=ki(e,t,r),n.return=e,n):((n=Ac(r.type,r.key,r.props,null,e.mode,n)).ref=ki(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Cc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function f(e,t,r,n,i){return null===t||7!==t.tag?((t=Mc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Ec(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Ac(t.type,t.key,t.props,null,e.mode,r)).ref=ki(e,null,t),r.return=e,r;case te:return(t=Cc(t,e.mode,r)).return=e,t}if(wi(t)||me(t))return(t=Mc(t,e.mode,r,null)).return=e,t;xi(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===a?r.type===re?f(e,t,r.props.children,n,a):u(e,t,r,n):null;case te:return r.key===a?d(e,t,r,n):null}if(wi(r)||me(r))return null!==a?null:f(e,t,r,n,null);xi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?f(t,e,n.props.children,a,n.key):u(t,e,n,a);case te:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a)}if(wi(n)||me(n))return f(t,e=e.get(r)||null,n,a,null);xi(t,n)}return null}function m(a,s,o,c){for(var u=null,d=null,f=s,m=s=0,v=null;null!==f&&m<o.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var b=h(a,f,o[m],c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(a,f),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,f=v}if(m===o.length)return r(a,f),u;if(null===f){for(;m<o.length;m++)null!==(f=l(a,o[m],c))&&(s=i(f,s,m),null===d?u=f:d.sibling=f,d=f);return u}for(f=n(a,f);m<o.length;m++)null!==(v=p(f,a,m,o[m],c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(a,e)})),u}function v(a,o,c,u){var d=me(c);if("function"!==typeof d)throw Error(s(150));if(null==(c=d.call(c)))throw Error(s(151));for(var f=d=null,m=o,v=o=0,b=null,g=c.next();null!==m&&!g.done;v++,g=c.next()){m.index>v?(b=m,m=null):b=m.sibling;var y=h(a,m,g.value,u);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(a,m),o=i(y,o,v),null===f?d=y:f.sibling=y,f=y,m=b}if(g.done)return r(a,m),d;if(null===m){for(;!g.done;v++,g=c.next())null!==(g=l(a,g.value,u))&&(o=i(g,o,v),null===f?d=g:f.sibling=g,f=g);return d}for(m=n(a,m);!g.done;v++,g=c.next())null!==(g=p(m,a,v,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),o=i(g,o,v),null===f?d=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(a,e)})),d}return function(e,n,i,c){var u="object"===typeof i&&null!==i&&i.type===re&&null===i.key;u&&(i=i.props.children);var d="object"===typeof i&&null!==i;if(d)switch(i.$$typeof){case ee:e:{for(d=i.key,u=n;null!==u;){if(u.key===d){switch(u.tag){case 7:if(i.type===re){r(e,u.sibling),(n=a(u,i.props.children)).return=e,e=n;break e}break;default:if(u.elementType===i.type){r(e,u.sibling),(n=a(u,i.props)).ref=ki(e,u,i),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}i.type===re?((n=Mc(i.props.children,e.mode,c,i.key)).return=e,e=n):((c=Ac(i.type,i.key,i.props,null,e.mode,c)).ref=ki(e,n,i),c.return=e,e=c)}return o(e);case te:e:{for(u=i.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=a(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Cc(i,e.mode,c)).return=e,e=n}return o(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,i)).return=e,e=n):(r(e,n),(n=Ec(i,e.mode,c)).return=e,e=n),o(e);if(wi(i))return m(e,n,i,c);if(me(i))return v(e,n,i,c);if(d&&xi(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Si=_i(!0),Ti=_i(!1),Oi={},Ai={current:Oi},Mi={current:Oi},Ei={current:Oi};function Ci(e){if(e===Oi)throw Error(s(174));return e}function Ii(e,t){switch(ua(Ei,t),ua(Mi,e),ua(Ai,Oi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ca(Ai),ua(Ai,t)}function Fi(){ca(Ai),ca(Mi),ca(Ei)}function Pi(e){Ci(Ei.current);var t=Ci(Ai.current),r=Ne(t,e.type);t!==r&&(ua(Mi,e),ua(Ai,r))}function Bi(e){Mi.current===e&&(ca(Ai),ca(Mi))}var Ri={current:0};function Li(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ni(e,t){return{responder:e,props:t}}var Di=Z.ReactCurrentDispatcher,Vi=Z.ReactCurrentBatchConfig,ji=0,Ui=null,qi=null,Gi=null,Hi=!1;function zi(){throw Error(s(321))}function Ki(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Ji(e,t,r,n,a,i){if(ji=i,Ui=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Di.current=null===e||null===e.memoizedState?vs:bs,e=r(n,a),t.expirationTime===ji){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(s(301));i+=1,Gi=qi=null,t.updateQueue=null,Di.current=gs,e=r(n,a)}while(t.expirationTime===ji)}if(Di.current=ms,t=null!==qi&&null!==qi.next,ji=0,Gi=qi=Ui=null,Hi=!1,t)throw Error(s(300));return e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gi?Ui.memoizedState=Gi=e:Gi=Gi.next=e,Gi}function Wi(){if(null===qi){var e=Ui.alternate;e=null!==e?e.memoizedState:null}else e=qi.next;var t=null===Gi?Ui.memoizedState:Gi.next;if(null!==t)Gi=t,qi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(qi=e).memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},null===Gi?Ui.memoizedState=Gi=e:Gi=Gi.next=e}return Gi}function Zi(e,t){return"function"===typeof t?t(e):t}function Yi(e){var t=Wi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=qi,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var c=o=i=null,u=a;do{var d=u.expirationTime;if(d<ji){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(o=c=f,i=n):c=c.next=f,d>Ui.expirationTime&&(Ui.expirationTime=d,sc(d))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ic(d,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==a);null===c?i=n:c.next=o,Nn(n,t.memoizedState)||(Es=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qi(e){var t=Wi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Nn(i,t.memoizedState)||(Es=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $i(e){var t=Xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e}).dispatch=ps.bind(null,Ui,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Ui.updateQueue)?(t={lastEffect:null},Ui.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ts(){return Wi().memoizedState}function rs(e,t,r,n){var a=Xi();Ui.effectTag|=e,a.memoizedState=es(1|t,r,void 0,void 0===n?null:n)}function ns(e,t,r,n){var a=Wi();n=void 0===n?null:n;var i=void 0;if(null!==qi){var s=qi.memoizedState;if(i=s.destroy,null!==n&&Ki(n,s.deps))return void es(t,r,i,n)}Ui.effectTag|=e,a.memoizedState=es(1|t,r,i,n)}function as(e,t){return rs(516,4,e,t)}function is(e,t){return ns(516,4,e,t)}function ss(e,t){return ns(4,2,e,t)}function os(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function cs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ns(4,2,os.bind(null,t,e),r)}function us(){}function ds(e,t){return Xi().memoizedState=[e,void 0===t?null:t],e}function fs(e,t){var r=Wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ki(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ls(e,t){var r=Wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ki(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hs(e,t,r){var n=ja();qa(98>n?98:n,(function(){e(!0)})),qa(97<n?97:n,(function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{e(!1),r()}finally{Vi.suspense=n}}))}function ps(e,t,r){var n=Ko(),a=li.suspense;a={expirationTime:n=Jo(n,e,a),suspenseConfig:a,action:r,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Ui||null!==i&&i===Ui)Hi=!0,a.expirationTime=ji,Ui.expirationTime=ji;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.eagerReducer=i,a.eagerState=o,Nn(o,s))return}catch(c){}Xo(e,n)}}var ms={readContext:ni,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useResponder:zi,useDeferredValue:zi,useTransition:zi},vs={readContext:ni,useCallback:ds,useContext:ni,useEffect:as,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,rs(4,2,os.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var r=Xi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ps.bind(null,Ui,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Xi().memoizedState=e},useState:$i,useDebugValue:us,useResponder:Ni,useDeferredValue:function(e,t){var r=$i(e),n=r[0],a=r[1];return as((function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=r}}),[e,t]),n},useTransition:function(e){var t=$i(!1),r=t[0];return t=t[1],[ds(hs.bind(null,t,e),[t,e]),r]}},bs={readContext:ni,useCallback:fs,useContext:ni,useEffect:is,useImperativeHandle:cs,useLayoutEffect:ss,useMemo:ls,useReducer:Yi,useRef:ts,useState:function(){return Yi(Zi)},useDebugValue:us,useResponder:Ni,useDeferredValue:function(e,t){var r=Yi(Zi),n=r[0],a=r[1];return is((function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Yi(Zi),r=t[0];return t=t[1],[fs(hs.bind(null,t,e),[t,e]),r]}},gs={readContext:ni,useCallback:fs,useContext:ni,useEffect:is,useImperativeHandle:cs,useLayoutEffect:ss,useMemo:ls,useReducer:Qi,useRef:ts,useState:function(){return Qi(Zi)},useDebugValue:us,useResponder:Ni,useDeferredValue:function(e,t){var r=Qi(Zi),n=r[0],a=r[1];return is((function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qi(Zi),r=t[0];return t=t[1],[fs(hs.bind(null,t,e),[t,e]),r]}},ys=null,ws=null,ks=!1;function xs(e,t){var r=Sc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function _s(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ss(e){if(ks){var t=ws;if(t){var r=t;if(!_s(e,t)){if(!(t=wr(r.nextSibling))||!_s(e,t))return e.effectTag=-1025&e.effectTag|2,ks=!1,void(ys=e);xs(ys,r)}ys=e,ws=wr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ks=!1,ys=e}}function Ts(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ys=e}function Os(e){if(e!==ys)return!1;if(!ks)return Ts(e),ks=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!br(t,e.memoizedProps))for(t=ws;t;)xs(e,t),t=wr(t.nextSibling);if(Ts(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ws=wr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ws=null}}else ws=ys?wr(e.stateNode.nextSibling):null;return!0}function As(){ws=ys=null,ks=!1}var Ms=Z.ReactCurrentOwner,Es=!1;function Cs(e,t,r,n){t.child=null===e?Ti(t,null,r,n):Si(t,e.child,r,n)}function Is(e,t,r,n,a){r=r.render;var i=t.ref;return ri(t,a),n=Ji(e,t,r,n,i,a),null===e||Es?(t.effectTag|=1,Cs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Js(e,t,a))}function Fs(e,t,r,n,a,i){if(null===e){var s=r.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ac(r.type,null,n,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ps(e,t,s,n,a,i))}return s=e.child,a<i&&(a=s.memoizedProps,(r=null!==(r=r.compare)?r:Vn)(a,n)&&e.ref===t.ref)?Js(e,t,i):(t.effectTag|=1,(e=Oc(s,n)).ref=t.ref,e.return=t,t.child=e)}function Ps(e,t,r,n,a,i){return null!==e&&Vn(e.memoizedProps,n)&&e.ref===t.ref&&(Es=!1,a<i)?(t.expirationTime=e.expirationTime,Js(e,t,i)):Rs(e,t,r,n,i)}function Bs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Rs(e,t,r,n,a){var i=ma(r)?ha:fa.current;return i=pa(t,i),ri(t,a),r=Ji(e,t,r,n,i,a),null===e||Es?(t.effectTag|=1,Cs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Js(e,t,a))}function Ls(e,t,r,n,a){if(ma(r)){var i=!0;ya(t)}else i=!1;if(ri(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),bi(t,r,n),yi(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;"object"===typeof u&&null!==u?u=ni(u):u=pa(t,u=ma(r)?ha:fa.current);var d=r.getDerivedStateFromProps,f="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||c!==u)&&gi(t,s,n,u),ai=!1;var l=t.memoizedState;s.state=l,di(t,n,s,a),c=t.memoizedState,o!==n||l!==c||la.current||ai?("function"===typeof d&&(pi(t,r,d,n),c=t.memoizedState),(o=ai||vi(t,r,o,n,l,c,u))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):("function"===typeof s.componentDidMount&&(t.effectTag|=4),n=!1)}else s=t.stateNode,si(e,t),o=t.memoizedProps,s.props=t.type===t.elementType?o:Xa(t.type,o),c=s.context,"object"===typeof(u=r.contextType)&&null!==u?u=ni(u):u=pa(t,u=ma(r)?ha:fa.current),(f="function"===typeof(d=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||c!==u)&&gi(t,s,n,u),ai=!1,c=t.memoizedState,s.state=c,di(t,n,s,a),l=t.memoizedState,o!==n||c!==l||la.current||ai?("function"===typeof d&&(pi(t,r,d,n),l=t.memoizedState),(d=ai||vi(t,r,o,n,c,l,u))?(f||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,l,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,l,u)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=d):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return Ns(e,t,r,n,i,a)}function Ns(e,t,r,n,a,i){Bs(e,t);var s=0!==(64&t.effectTag);if(!n&&!s)return a&&wa(t,r,!1),Js(e,t,i);n=t.stateNode,Ms.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&s?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,o,i)):Cs(e,t,o,i),t.memoizedState=n.state,a&&wa(t,r,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Ii(e,t.containerInfo)}var Vs,js,Us,qs={dehydrated:null,retryTime:0};function Gs(e,t,r){var n,a=t.mode,i=t.pendingProps,s=Ri.current,o=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&s)&&(null===e||null!==e.memoizedState)),n?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ua(Ri,1&s),null===e){if(void 0!==i.fallback&&Ss(t),o){if(o=i.fallback,(i=Mc(null,a,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(r=Mc(o,a,r,null)).return=t,i.sibling=r,t.memoizedState=qs,t.child=i,r}return a=i.children,t.memoizedState=null,t.child=Ti(t,null,a,r)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,o){if(i=i.fallback,(r=Oc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=o;null!==o;)o.return=r,o=o.sibling;return(a=Oc(a,i)).return=t,r.sibling=a,r.childExpirationTime=0,t.memoizedState=qs,t.child=r,a}return r=Si(t,e.child,i.children,r),t.memoizedState=null,t.child=r}if(e=e.child,o){if(o=i.fallback,(i=Mc(null,a,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(r=Mc(o,a,r,null)).return=t,i.sibling=r,r.effectTag|=2,i.childExpirationTime=0,t.memoizedState=qs,t.child=i,r}return t.memoizedState=null,t.child=Si(t,e,i.children,r)}function Hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ti(e.return,t)}function zs(e,t,r,n,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:a,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailExpiration=0,s.tailMode=a,s.lastEffect=i)}function Ks(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Cs(e,t,n.children,r),0!==(2&(n=Ri.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,r);else if(19===e.tag)Hs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ua(Ri,n),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Li(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),zs(t,!1,a,r,i,t.lastEffect);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Li(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}zs(t,!0,r,null,i,t.lastEffect);break;case"together":zs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Js(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&sc(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ws(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ma(t.type)&&va(),null;case 3:return Fi(),ca(la),ca(fa),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Os(t)||(t.effectTag|=4),null;case 5:Bi(t),r=Ci(Ei.current);var i=t.type;if(null!==e&&null!=t.stateNode)js(e,t,i,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ci(Ai.current),Os(t)){n=t.stateNode,i=t.type;var o=t.memoizedProps;switch(n[_r]=t,n[Sr]=o,i){case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(e=0;e<Ze.length;e++)Jt(Ze[e],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"form":Jt("reset",n),Jt("submit",n);break;case"details":Jt("toggle",n);break;case"input":_e(n,o),Jt("invalid",n),or(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Jt("invalid",n),or(r,"onChange");break;case"textarea":Ie(n,o),Jt("invalid",n),or(r,"onChange")}for(var c in ar(i,o),e=null,o)if(o.hasOwnProperty(c)){var u=o[c];"children"===c?"string"===typeof u?n.textContent!==u&&(e=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(c)&&null!=u&&or(r,c)}switch(i){case"input":we(n),Oe(n,o,!0);break;case"textarea":we(n),Pe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=cr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(c=9===r.nodeType?r:r.ownerDocument,e===sr&&(e=Le(i)),e===sr?"script"===i?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(i,{is:n.is}):(e=c.createElement(i),"select"===i&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,i),e[_r]=t,e[Sr]=n,Vs(e,t),t.stateNode=e,c=ir(i,n),i){case"iframe":case"object":case"embed":Jt("load",e),u=n;break;case"video":case"audio":for(u=0;u<Ze.length;u++)Jt(Ze[u],e);u=n;break;case"source":Jt("error",e),u=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),u=n;break;case"form":Jt("reset",e),Jt("submit",e),u=n;break;case"details":Jt("toggle",e),u=n;break;case"input":_e(e,n),u=xe(e,n),Jt("invalid",e),or(r,"onChange");break;case"option":u=Me(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},u=a({},n,{value:void 0}),Jt("invalid",e),or(r,"onChange");break;case"textarea":Ie(e,n),u=Ce(e,n),Jt("invalid",e),or(r,"onChange");break;default:u=n}ar(i,u);var d=u;for(o in d)if(d.hasOwnProperty(o)){var f=d[o];"style"===o?rr(e,f):"dangerouslySetInnerHTML"===o?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===o?"string"===typeof f?("textarea"!==i||""!==f)&&je(e,f):"number"===typeof f&&je(e,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(S.hasOwnProperty(o)?null!=f&&or(r,o):null!=f&&Y(e,o,f,c))}switch(i){case"input":we(e),Oe(e,n,!1);break;case"textarea":we(e),Pe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ge(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ee(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ee(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=cr)}vr(i,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Us(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));r=Ci(Ei.current),Ci(Ai.current),Os(t)?(r=t.stateNode,n=t.memoizedProps,r[_r]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[_r]=t,t.stateNode=r)}return null;case 13:return ca(Ri),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Os(t):(n=null!==(i=e.memoizedState),r||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ri.current)?Ao===wo&&(Ao=ko):(Ao!==wo&&Ao!==ko||(Ao=xo),0!==Fo&&null!==So&&(Pc(So,Oo),Bc(So,Fo)))),(r||n)&&(t.effectTag|=4),null);case 4:return Fi(),null;case 10:return ei(t),null;case 17:return ma(t.type)&&va(),null;case 19:if(ca(Ri),null===(n=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(o=n.rendering)){if(i)Xs(n,!1);else if(Ao!==wo||null!==e&&0!==(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Li(o))){for(t.effectTag|=64,Xs(n,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)o=r,(i=n).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;return ua(Ri,1&Ri.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Li(o))){if(t.effectTag|=64,i=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Xs(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Va()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,i=!0,Xs(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=n.last)?r.sibling=o:t.child=o,n.last=o)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Va()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Va(),r.sibling=null,t=Ri.current,ua(Ri,i?1&t|2:1&t),r):null}throw Error(s(156,t.tag))}function Zs(e){switch(e.tag){case 1:ma(e.type)&&va();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fi(),ca(la),ca(fa),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Bi(e),null;case 13:return ca(Ri),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ca(Ri),null;case 4:return Fi(),null;case 10:return ei(e),null;default:return null}}function Ys(e,t){return{value:e,source:t,stack:be(t)}}Vs=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},js=function(e,t,r,n,i){var s=e.memoizedProps;if(s!==n){var o,c,u=t.stateNode;switch(Ci(Ai.current),e=null,r){case"input":s=xe(u,s),n=xe(u,n),e=[];break;case"option":s=Me(u,s),n=Me(u,n),e=[];break;case"select":s=a({},s,{value:void 0}),n=a({},n,{value:void 0}),e=[];break;case"textarea":s=Ce(u,s),n=Ce(u,n),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(u.onclick=cr)}for(o in ar(r,n),r=null,s)if(!n.hasOwnProperty(o)&&s.hasOwnProperty(o)&&null!=s[o])if("style"===o)for(c in u=s[o])u.hasOwnProperty(c)&&(r||(r={}),r[c]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(S.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in n){var d=n[o];if(u=null!=s?s[o]:void 0,n.hasOwnProperty(o)&&d!==u&&(null!=d||null!=u))if("style"===o)if(u){for(c in u)!u.hasOwnProperty(c)||d&&d.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in d)d.hasOwnProperty(c)&&u[c]!==d[c]&&(r||(r={}),r[c]=d[c])}else r||(e||(e=[]),e.push(o,r)),r=d;else"dangerouslySetInnerHTML"===o?(d=d?d.__html:void 0,u=u?u.__html:void 0,null!=d&&u!==d&&(e=e||[]).push(o,d)):"children"===o?u===d||"string"!==typeof d&&"number"!==typeof d||(e=e||[]).push(o,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(S.hasOwnProperty(o)?(null!=d&&or(i,o),e||u===d||(e=[])):(e=e||[]).push(o,d))}r&&(e=e||[]).push("style",r),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Us=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Qs="function"===typeof WeakSet?WeakSet:Set;function $s(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=be(r)),null!==r&&ve(r.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(a){setTimeout((function(){throw a}))}}function eo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){gc(e,r)}else t.current=null}function to(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Xa(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ao(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void no(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Xa(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&fi(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}fi(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&vr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Lt(r)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function io(e,t,r){switch("function"===typeof xc&&xc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;qa(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var a=t;try{r()}catch(i){gc(a,i)}}e=e.next}while(e!==n)}))}break;case 1:eo(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){gc(e,r)}}(t,r);break;case 5:eo(t);break;case 4:uo(e,t,r)}}function so(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&so(t)}function oo(e){return 5===e.tag||3===e.tag||4===e.tag}function co(e){e:{for(var t=e.return;null!==t;){if(oo(t)){var r=t;break e}t=t.return}throw Error(s(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(s(161))}16&r.effectTag&&(je(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||oo(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=cr));else if(4!==a&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function uo(e,t,r){for(var n,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:n=n.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var c=e,u=i,d=r,f=u;;)if(io(c,f,d),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(c=n,u=i.stateNode,8===c.nodeType?c.parentNode.removeChild(u):c.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(io(e,i,r),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function fo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ro(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,a=null!==e?e.memoizedProps:n;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(r[Sr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Se(r,n),ir(e,a),t=ir(e,n),a=0;a<i.length;a+=2){var o=i[a],c=i[a+1];"style"===o?rr(r,c):"dangerouslySetInnerHTML"===o?Ve(r,c):"children"===o?je(r,c):Y(r,o,c,t)}switch(e){case"input":Te(r,n);break;case"textarea":Fe(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ee(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ee(r,!!n.multiple,n.defaultValue,!0):Ee(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Bo=Va()),null!==r)e:for(e=r;;){if(5===e.tag)i=e.stateNode,n?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=void 0!==(a=e.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,i.style.display=tr("display",a));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void lo(t);case 19:return void lo(t);case 17:return}throw Error(s(163))}function lo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=wc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,r){(r=oi(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Lo||(Lo=!0,No=n),$s(e,t)},r}function mo(e,t,r){(r=oi(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return $s(e,t),n(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Do?Do=new Set([this]):Do.add(this),$s(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var vo,bo=Math.ceil,go=Z.ReactCurrentDispatcher,yo=Z.ReactCurrentOwner,wo=0,ko=3,xo=4,_o=0,So=null,To=null,Oo=0,Ao=wo,Mo=null,Eo=1073741823,Co=1073741823,Io=null,Fo=0,Po=!1,Bo=0,Ro=null,Lo=!1,No=null,Do=null,Vo=!1,jo=null,Uo=90,qo=null,Go=0,Ho=null,zo=0;function Ko(){return 0!==(48&_o)?1073741821-(Va()/10|0):0!==zo?zo:zo=1073741821-(Va()/10|0)}function Jo(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=ja();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(16&_o))return Oo;if(null!==r)e=Ja(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Ja(e,150,100);break;case 97:case 96:e=Ja(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==So&&e===Oo&&--e,e}function Xo(e,t){if(50<Go)throw Go=0,Ho=null,Error(s(185));if(null!==(e=Wo(e,t))){var r=ja();1073741823===t?0!==(8&_o)&&0===(48&_o)?$o(e):(Yo(e),0===_o&&za()):Yo(e),0===(4&_o)||98!==r&&99!==r||(null===qo?qo=new Map([[e,t]]):(void 0===(r=qo.get(e))||r>t)&&qo.set(e,t))}}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,a=null;if(null===n&&3===e.tag)a=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){a=n.stateNode;break}n=n.return}return null!==a&&(So===a&&(sc(t),Ao===xo&&Pc(a,Oo)),Bc(a,t)),a}function Zo(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Fc(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Yo(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ha($o.bind(null,e));else{var t=Zo(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Ko();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=n)return;r!==Fa&&_a(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Ha($o.bind(null,e)):Ga(n,Qo.bind(null,e),{timeout:10*(1073741821-t)-Va()}),e.callbackNode=t}}}function Qo(e,t){if(zo=0,t)return Rc(e,t=Ko()),Yo(e),null;var r=Zo(e);if(0!==r){if(t=e.callbackNode,0!==(48&_o))throw Error(s(327));if(mc(),e===So&&r===Oo||rc(e,r),null!==To){var n=_o;_o|=16;for(var a=ac();;)try{cc();break}catch(c){nc(e,c)}if($a(),_o=n,go.current=a,1===Ao)throw t=Mo,rc(e,r),Pc(e,r),Yo(e),t;if(null===To)switch(a=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ao,So=null,n){case wo:case 1:throw Error(s(345));case 2:Rc(e,2<r?2:r);break;case ko:if(Pc(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(a)),1073741823===Eo&&10<(a=Bo+500-Va())){if(Po){var i=e.lastPingedTime;if(0===i||i>=r){e.lastPingedTime=r,rc(e,r);break}}if(0!==(i=Zo(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=gr(lc.bind(null,e),a);break}lc(e);break;case xo:if(Pc(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(a)),Po&&(0===(a=e.lastPingedTime)||a>=r)){e.lastPingedTime=r,rc(e,r);break}if(0!==(a=Zo(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Co?n=10*(1073741821-Co)-Va():1073741823===Eo?n=0:(n=10*(1073741821-Eo)-5e3,0>(n=(a=Va())-n)&&(n=0),(r=10*(1073741821-r)-a)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bo(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=gr(lc.bind(null,e),n);break}lc(e);break;case 5:if(1073741823!==Eo&&null!==Io){i=Eo;var o=Io;if(0>=(n=0|o.busyMinDurationMs)?n=0:(a=0|o.busyDelayMs,n=(i=Va()-(10*(1073741821-i)-(0|o.timeoutMs||5e3)))<=a?0:a+n-i),10<n){Pc(e,r),e.timeoutHandle=gr(lc.bind(null,e),n);break}}lc(e);break;default:throw Error(s(329))}if(Yo(e),e.callbackNode===t)return Qo.bind(null,e)}}return null}function $o(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&_o))throw Error(s(327));if(mc(),e===So&&t===Oo||rc(e,t),null!==To){var r=_o;_o|=16;for(var n=ac();;)try{oc();break}catch(a){nc(e,a)}if($a(),_o=r,go.current=n,1===Ao)throw r=Mo,rc(e,t),Pc(e,t),Yo(e),r;if(null!==To)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,So=null,lc(e),Yo(e)}return null}function ec(e,t){var r=_o;_o|=1;try{return e(t)}finally{0===(_o=r)&&za()}}function tc(e,t){var r=_o;_o&=-2,_o|=8;try{return e(t)}finally{0===(_o=r)&&za()}}function rc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,yr(r)),null!==To)for(r=To.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&va();break;case 3:Fi(),ca(la),ca(fa);break;case 5:Bi(n);break;case 4:Fi();break;case 13:case 19:ca(Ri);break;case 10:ei(n)}r=r.return}So=e,To=Oc(e.current,null),Oo=t,Ao=wo,Mo=null,Co=Eo=1073741823,Io=null,Fo=0,Po=!1}function nc(e,t){for(;;){try{if($a(),Di.current=ms,Hi)for(var r=Ui.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(ji=0,Gi=qi=Ui=null,Hi=!1,null===To||null===To.return)return Ao=1,Mo=t,To=null;e:{var a=e,i=To.return,s=To,o=t;if(t=Oo,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var c=o;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Ri.current),f=i;do{var l;if(l=13===f.tag){var h=f.memoizedState;if(null!==h)l=null!==h.dehydrated;else{var p=f.memoizedProps;l=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!d)}}if(l){var m=f.updateQueue;if(null===m){var v=new Set;v.add(c),f.updateQueue=v}else m.add(c);if(0===(2&f.mode)){if(f.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=oi(1073741823,null);b.tag=2,ci(s,b)}s.expirationTime=1073741823;break e}o=void 0,s=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new ho,o=new Set,g.set(c,o)):void 0===(o=g.get(c))&&(o=new Set,g.set(c,o)),!o.has(s)){o.add(s);var y=yc.bind(null,a,c,s);c.then(y,y)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);o=Error((ve(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(s))}5!==Ao&&(Ao=2),o=Ys(o,s),f=i;do{switch(f.tag){case 3:c=o,f.effectTag|=4096,f.expirationTime=t,ui(f,po(f,c,t));break e;case 1:c=o;var w=f.type,k=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Do||!Do.has(k)))){f.effectTag|=4096,f.expirationTime=t,ui(f,mo(f,c,t));break e}}f=f.return}while(null!==f)}To=dc(To)}catch(x){t=x;continue}break}}function ac(){var e=go.current;return go.current=ms,null===e?ms:e}function ic(e,t){e<Eo&&2<e&&(Eo=e),null!==t&&e<Co&&2<e&&(Co=e,Io=t)}function sc(e){e>Fo&&(Fo=e)}function oc(){for(;null!==To;)To=uc(To)}function cc(){for(;null!==To&&!Pa();)To=uc(To)}function uc(e){var t=vo(e.alternate,e,Oo);return e.memoizedProps=e.pendingProps,null===t&&(t=dc(e)),yo.current=null,t}function dc(e){To=e;do{var t=To.alternate;if(e=To.return,0===(2048&To.effectTag)){if(t=Ws(t,To,Oo),1===Oo||1!==To.childExpirationTime){for(var r=0,n=To.child;null!==n;){var a=n.expirationTime,i=n.childExpirationTime;a>r&&(r=a),i>r&&(r=i),n=n.sibling}To.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=To.firstEffect),null!==To.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=To.firstEffect),e.lastEffect=To.lastEffect),1<To.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=To:e.firstEffect=To,e.lastEffect=To))}else{if(null!==(t=Zs(To)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=To.sibling))return t;To=e}while(null!==To);return Ao===wo&&(Ao=5),null}function fc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function lc(e){var t=ja();return qa(99,hc.bind(null,e,t)),null}function hc(e,t){do{mc()}while(null!==jo);if(0!==(48&_o))throw Error(s(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=fc(r);if(e.firstPendingTime=a,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===So&&(To=So=null,Oo=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,a=r.firstEffect):a=r:a=r.firstEffect,null!==a){var i=_o;_o|=32,yo.current=null,pr=Kt;var o=lr();if(hr(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{var u=(c=(c=o.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{c.nodeType,f.nodeType}catch(O){c=null;break e}var l=0,h=-1,p=-1,m=0,v=0,b=o,g=null;t:for(;;){for(var y;b!==c||0!==d&&3!==b.nodeType||(h=l+d),b!==f||0!==u&&3!==b.nodeType||(p=l+u),3===b.nodeType&&(l+=b.nodeValue.length),null!==(y=b.firstChild);)g=b,b=y;for(;;){if(b===o)break t;if(g===c&&++m===d&&(h=l),g===f&&++v===u&&(p=l),null!==(y=b.nextSibling))break;g=(b=g).parentNode}b=y}c=-1===h||-1===p?null:{start:h,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;mr={activeElementDetached:null,focusedElem:o,selectionRange:c},Kt=!1,Ro=a;do{try{pc()}catch(O){if(null===Ro)throw Error(s(330));gc(Ro,O),Ro=Ro.nextEffect}}while(null!==Ro);Ro=a;do{try{for(o=e,c=t;null!==Ro;){var w=Ro.effectTag;if(16&w&&je(Ro.stateNode,""),128&w){var k=Ro.alternate;if(null!==k){var x=k.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&w){case 2:co(Ro),Ro.effectTag&=-3;break;case 6:co(Ro),Ro.effectTag&=-3,fo(Ro.alternate,Ro);break;case 1024:Ro.effectTag&=-1025;break;case 1028:Ro.effectTag&=-1025,fo(Ro.alternate,Ro);break;case 4:fo(Ro.alternate,Ro);break;case 8:uo(o,d=Ro,c),so(d)}Ro=Ro.nextEffect}}catch(O){if(null===Ro)throw Error(s(330));gc(Ro,O),Ro=Ro.nextEffect}}while(null!==Ro);if(x=mr,k=lr(),w=x.focusedElem,c=x.selectionRange,k!==w&&w&&w.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(w.ownerDocument.documentElement,w)){null!==c&&hr(w)&&(k=c.start,void 0===(x=c.end)&&(x=k),"selectionStart"in w?(w.selectionStart=k,w.selectionEnd=Math.min(x,w.value.length)):(x=(k=w.ownerDocument||document)&&k.defaultView||window).getSelection&&(x=x.getSelection(),d=w.textContent.length,o=Math.min(c.start,d),c=void 0===c.end?o:Math.min(c.end,d),!x.extend&&o>c&&(d=c,c=o,o=d),d=fr(w,o),f=fr(w,c),d&&f&&(1!==x.rangeCount||x.anchorNode!==d.node||x.anchorOffset!==d.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((k=k.createRange()).setStart(d.node,d.offset),x.removeAllRanges(),o>c?(x.addRange(k),x.extend(f.node,f.offset)):(k.setEnd(f.node,f.offset),x.addRange(k))))),k=[];for(x=w;x=x.parentNode;)1===x.nodeType&&k.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<k.length;w++)(x=k[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Kt=!!pr,mr=pr=null,e.current=r,Ro=a;do{try{for(w=e;null!==Ro;){var _=Ro.effectTag;if(36&_&&ao(w,Ro.alternate,Ro),128&_){k=void 0;var S=Ro.ref;if(null!==S){var T=Ro.stateNode;switch(Ro.tag){case 5:k=T;break;default:k=T}"function"===typeof S?S(k):S.current=k}}Ro=Ro.nextEffect}}catch(O){if(null===Ro)throw Error(s(330));gc(Ro,O),Ro=Ro.nextEffect}}while(null!==Ro);Ro=null,Ba(),_o=i}else e.current=r;if(Vo)Vo=!1,jo=e,Uo=t;else for(Ro=a;null!==Ro;)t=Ro.nextEffect,Ro.nextEffect=null,Ro=t;if(0===(t=e.firstPendingTime)&&(Do=null),1073741823===t?e===Ho?Go++:(Go=0,Ho=e):Go=0,"function"===typeof kc&&kc(r.stateNode,n),Yo(e),Lo)throw Lo=!1,e=No,No=null,e;return 0!==(8&_o)||za(),null}function pc(){for(;null!==Ro;){var e=Ro.effectTag;0!==(256&e)&&to(Ro.alternate,Ro),0===(512&e)||Vo||(Vo=!0,Ga(97,(function(){return mc(),null}))),Ro=Ro.nextEffect}}function mc(){if(90!==Uo){var e=97<Uo?97:Uo;return Uo=90,qa(e,vc)}}function vc(){if(null===jo)return!1;var e=jo;if(jo=null,0!==(48&_o))throw Error(s(331));var t=_o;for(_o|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ro(5,r),no(5,r)}}catch(n){if(null===e)throw Error(s(330));gc(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return _o=t,za(),!0}function bc(e,t,r){ci(e,t=po(e,t=Ys(r,t),1073741823)),null!==(e=Wo(e,1073741823))&&Yo(e)}function gc(e,t){if(3===e.tag)bc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){bc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Do||!Do.has(n))){ci(r,e=mo(r,e=Ys(t,e),1073741823)),null!==(r=Wo(r,1073741823))&&Yo(r);break}}r=r.return}}function yc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),So===e&&Oo===r?Ao===xo||Ao===ko&&1073741823===Eo&&Va()-Bo<500?rc(e,Oo):Po=!0:Fc(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Yo(e)))}function wc(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Jo(t=Ko(),e,null)),null!==(e=Wo(e,t))&&Yo(e)}vo=function(e,t,r){var n=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||la.current)Es=!0;else{if(n<r){switch(Es=!1,t.tag){case 3:Ds(t),As();break;case 5:if(Pi(t),4&t.mode&&1!==r&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ma(t.type)&&ya(t);break;case 4:Ii(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,a=t.type._context,ua(Wa,a._currentValue),a._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Gs(e,t,r):(ua(Ri,1&Ri.current),null!==(t=Js(e,t,r))?t.sibling:null);ua(Ri,1&Ri.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return Ks(e,t,r);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),ua(Ri,Ri.current),!n)return null}return Js(e,t,r)}Es=!1}}else Es=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=pa(t,fa.current),ri(t,r),a=Ji(null,t,n,e,a,r),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ma(n)){var i=!0;ya(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(t);var o=n.getDerivedStateFromProps;"function"===typeof o&&pi(t,n,o,e),a.updater=mi,t.stateNode=a,a._reactInternalFiber=t,yi(t,n,e,r),t=Ns(null,t,n,!0,i,r)}else t.tag=0,Cs(null,t,a,r),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===fe)return 14}return 2}(a),e=Xa(a,e),i){case 0:t=Rs(null,t,a,e,r);break e;case 1:t=Ls(null,t,a,e,r);break e;case 11:t=Is(null,t,a,e,r);break e;case 14:t=Fs(null,t,a,Xa(a.type,e),n,r);break e}throw Error(s(306,a,""))}return t;case 0:return n=t.type,a=t.pendingProps,Rs(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ls(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 3:if(Ds(t),n=t.updateQueue,null===e||null===n)throw Error(s(282));if(n=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,si(e,t),di(t,n,null,r),(n=t.memoizedState.element)===a)As(),t=Js(e,t,r);else{if((a=t.stateNode.hydrate)&&(ws=wr(t.stateNode.containerInfo.firstChild),ys=t,a=ks=!0),a)for(r=Ti(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Cs(e,t,n,r),As();t=t.child}return t;case 5:return Pi(t),null===e&&Ss(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,br(n,a)?o=null:null!==i&&br(n,i)&&(t.effectTag|=16),Bs(e,t),4&t.mode&&1!==r&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Cs(e,t,o,r),t=t.child),t;case 6:return null===e&&Ss(t),null;case 13:return Gs(e,t,r);case 4:return Ii(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Si(t,null,n,r):Cs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Is(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 7:return Cs(e,t,t.pendingProps,r),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value;var c=t.type._context;if(ua(Wa,c._currentValue),c._currentValue=i,null!==o)if(c=o.value,0===(i=Nn(c,i)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(c,i):1073741823))){if(o.children===a.children&&!la.current){t=Js(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){o=c.child;for(var d=u.firstContext;null!==d;){if(d.context===n&&0!==(d.observedBits&i)){1===c.tag&&((d=oi(r,null)).tag=2,ci(c,d)),c.expirationTime<r&&(c.expirationTime=r),null!==(d=c.alternate)&&d.expirationTime<r&&(d.expirationTime=r),ti(c.return,r),u.expirationTime<r&&(u.expirationTime=r);break}d=d.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}Cs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=(i=t.pendingProps).children,ri(t,r),n=n(a=ni(a,i.unstable_observedBits)),t.effectTag|=1,Cs(e,t,n,r),t.child;case 14:return i=Xa(a=t.type,t.pendingProps),Fs(e,t,a,i=Xa(a.type,i),n,r);case 15:return Ps(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xa(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ma(n)?(e=!0,ya(t)):e=!1,ri(t,r),bi(t,n,a),yi(t,n,a,r),Ns(null,t,n,!0,e,r);case 19:return Ks(e,t,r)}throw Error(s(156,t.tag))};var kc=null,xc=null;function _c(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sc(e,t,r,n){return new _c(e,t,r,n)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=Sc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ac(e,t,r,n,a,i){var o=2;if(n=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case re:return Mc(r.children,a,i,t);case oe:o=8,a|=7;break;case ne:o=8,a|=1;break;case ae:return(e=Sc(12,r,t,8|a)).elementType=ae,e.type=ae,e.expirationTime=i,e;case ue:return(e=Sc(13,r,t,a)).type=ue,e.elementType=ue,e.expirationTime=i,e;case de:return(e=Sc(19,r,t,a)).elementType=de,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ie:o=10;break e;case se:o=9;break e;case ce:o=11;break e;case fe:o=14;break e;case le:o=16,n=null;break e;case he:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Sc(o,r,t,a)).elementType=e,t.type=n,t.expirationTime=i,t}function Mc(e,t,r,n){return(e=Sc(7,e,n,t)).expirationTime=r,e}function Ec(e,t,r){return(e=Sc(6,e,null,t)).expirationTime=r,e}function Cc(e,t,r){return(t=Sc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fc(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Pc(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rc(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Lc(e,t,r,n){var a=t.current,i=Ko(),o=li.suspense;i=Jo(i,a,o);e:if(r){t:{if($e(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(s(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(ma(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===r.tag){var u=r.type;if(ma(u)){r=ga(r,u,c);break e}}r=c}else r=da;return null===t.context?t.context=r:t.pendingContext=r,(t=oi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ci(a,t),Xo(a,i),i}function Nc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Dc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Vc(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}function jc(e,t,r){var n=new Ic(e,t,r=null!=r&&!0===r.hydrate),a=Sc(3,null,null,2===t?7:1===t?3:0);n.current=a,a.stateNode=n,ii(a),e[Tr]=n.current,r&&0!==t&&function(e,t){var r=Qe(t);Ot.forEach((function(e){pt(e,t,r)})),At.forEach((function(e){pt(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof a){var o=a;a=function(){var e=Nc(s);o.call(e)}}Lc(t,s,e,a)}else{if(i=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new jc(e,0,t?{hydrate:!0}:void 0)}(r,n),s=i._internalRoot,"function"===typeof a){var c=a;a=function(){var e=Nc(s);c.call(e)}}tc((function(){Lc(t,s,e,a)}))}return Nc(s)}function Gc(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Hc(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uc(t))throw Error(s(200));return Gc(e,t,null,r)}jc.prototype.render=function(e){Lc(e,this._internalRoot,null,null)},jc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lc(null,e,null,(function(){t[Tr]=null}))},mt=function(e){if(13===e.tag){var t=Ja(Ko(),150,100);Xo(e,t),Vc(e,t)}},vt=function(e){13===e.tag&&(Xo(e,3),Vc(e,3))},bt=function(e){if(13===e.tag){var t=Ko();Xo(e,t=Jo(t,e,null)),Vc(e,t)}},M=function(e,t,r){switch(t){case"input":if(Te(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Er(n);if(!a)throw Error(s(90));ke(n),Te(n,a)}}}break;case"textarea":Fe(e,r);break;case"select":null!=(t=r.value)&&Ee(e,!!r.multiple,t,!1)}},B=ec,R=function(e,t,r,n,a){var i=_o;_o|=4;try{return qa(98,e.bind(null,t,r,n,a))}finally{0===(_o=i)&&za()}},L=function(){0===(49&_o)&&(function(){if(null!==qo){var e=qo;qo=null,e.forEach((function(e,t){Rc(t,e),Yo(t)})),za()}}(),mc())},N=function(e,t){var r=_o;_o|=2;try{return e(t)}finally{0===(_o=r)&&za()}};var zc={Events:[Ar,Mr,Er,O,_,Lr,function(e){at(e,Rr)},F,P,Yt,ot,mc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);kc=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},xc=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Or,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zc,t.createPortal=Hc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&_o))throw Error(s(187));var r=_o;_o|=1;try{return qa(99,e.bind(null,t))}finally{_o=r,za()}},t.hydrate=function(e,t,r){if(!Uc(t))throw Error(s(200));return qc(null,e,t,!0,r)},t.render=function(e,t,r){if(!Uc(t))throw Error(s(200));return qc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(s(40));return!!e._reactRootContainer&&(tc((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tr]=null}))})),!0)},t.unstable_batchedUpdates=ec,t.unstable_createPortal=function(e,t){return Hc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uc(r))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return qc(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(279)},function(e,t,r){"use strict";var n,a,i,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(n){throw setTimeout(e,0),n}},f=Date.now();t.unstable_now=function(){return Date.now()-f},n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},a=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},s=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var l=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof l&&"function"===typeof l.now)t.unstable_now=function(){return l.now()};else{var b=h.now();t.unstable_now=function(){return h.now()-b}}var g=!1,y=null,w=-1,k=5,x=0;s=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,S=_.port2;_.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+k;try{y(!0,e)?S.postMessage(null):(g=!1,y=null)}catch(r){throw S.postMessage(null),r}}else g=!1},n=function(e){y=e,g||(g=!0,S.postMessage(null))},a=function(e,r){w=p((function(){e(t.unstable_now())}),r)},i=function(){m(w),w=-1}}function T(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,a=e[n];if(!(void 0!==a&&0<M(a,t)))break e;e[n]=t,e[r]=a,r=n}}function O(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length;n<a;){var i=2*(n+1)-1,s=e[i],o=i+1,c=e[o];if(void 0!==s&&0>M(s,r))void 0!==c&&0>M(c,s)?(e[n]=c,e[o]=r,n=o):(e[n]=s,e[i]=r,n=i);else{if(!(void 0!==c&&0>M(c,r)))break e;e[n]=c,e[o]=r,n=o}}}return t}return null}function M(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var E=[],C=[],I=1,F=null,P=3,B=!1,R=!1,L=!1;function N(e){for(var t=O(C);null!==t;){if(null===t.callback)A(C);else{if(!(t.startTime<=e))break;A(C),t.sortIndex=t.expirationTime,T(E,t)}t=O(C)}}function D(e){if(L=!1,N(e),!R)if(null!==O(E))R=!0,n(V);else{var t=O(C);null!==t&&a(D,t.startTime-e)}}function V(e,r){R=!1,L&&(L=!1,i()),B=!0;var n=P;try{for(N(r),F=O(E);null!==F&&(!(F.expirationTime>r)||e&&!s());){var o=F.callback;if(null!==o){F.callback=null,P=F.priorityLevel;var c=o(F.expirationTime<=r);r=t.unstable_now(),"function"===typeof c?F.callback=c:F===O(E)&&A(E),N(r)}else A(E);F=O(E)}if(null!==F)var u=!0;else{var d=O(C);null!==d&&a(D,d.startTime-r),u=!1}return u}finally{F=null,P=n,B=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||B||(R=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return O(E)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var r=P;P=t;try{return e()}finally{P=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=P;P=e;try{return t()}finally{P=r}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();if("object"===typeof s&&null!==s){var c=s.delay;c="number"===typeof c&&0<c?o+c:o,s="number"===typeof s.timeout?s.timeout:j(e)}else s=j(e),c=o;return e={id:I++,callback:r,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>o?(e.sortIndex=c,T(C,e),null===O(E)&&e===O(C)&&(L?i():L=!0,a(D,c-o))):(e.sortIndex=s,T(E,e),R||B||(R=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=O(E);return r!==F&&null!==F&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<F.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=P;return function(){var r=P;P=t;try{return e.apply(this,arguments)}finally{P=r}}}},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),s=n[0],o=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,o)),d=0,f=o>0?s-4:s;for(r=0;r<f;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;2===o&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[d++]=255&t);1===o&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],s=0,o=r-a;s<o;s+=16383)i.push(d(e,s,s+16383>o?o:s+16383));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=s.length;o<c;++o)n[o]=s[o],a[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function d(e,t,r){for(var a,i,s=[],o=t;o<r;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,a){var i,s,o=8*a-n-1,c=(1<<o)-1,u=c>>1,d=-7,f=r?a-1:0,l=r?-1:1,h=e[t+f];for(f+=l,i=h&(1<<-d)-1,h>>=-d,d+=o;d>0;i=256*i+e[t+f],f+=l,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=n;d>0;s=256*s+e[t+f],f+=l,d-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=u}return(h?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var s,o,c,u=8*i-a-1,d=(1<<u)-1,f=d>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=d?(o=0,s=d):s+f>=1?(o=(t*c-1)*Math.pow(2,a),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,a),s=0));a>=8;e[r+h]=255&o,h+=p,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*m}},function(e,t,r){e.exports=r(139)},function(e,t){function r(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,c,"next",e)}function c(e){r(s,a,i,o,c,"throw",e)}o(void 0)}))}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e){return(t,...r)=>function(e,...t){return new Promise((r,n)=>{e(...t,(e,t)=>{e?n(e):r(t)})})}(t.bind(e),...r)}},function(e,t,r){var n=r(289),a=r(290),i=r(142),s=r(291);e.exports=function(e){return n(e)||a(e)||i(e)||s()}},function(e,t,r){var n=r(141);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){var n=r(293),a=r(294),i=r(142),s=r(295);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||s()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},,function(e,t,r){"use strict";t.sha1=r(298),t.sha224=r(299),t.sha256=r(144),t.sha384=r(300),t.sha512=r(145)},function(e,t,r){"use strict";var n=r(35),a=r(69),i=r(143),s=n.rotl32,o=n.sum32,c=n.sum32_5,u=i.ft_1,d=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,d),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var a=this.h[0],i=this.h[1],d=this.h[2],l=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(s(a,5),u(p,i,d,l),h,r[n],f[p]);h=l,l=d,d=s(i,30),i=a,a=m}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],l),this.h[4]=o(this.h[4],h)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(35),a=r(144);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(35),a=r(145);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(35),a=r(69),i=n.rotl32,s=n.sum32,o=n.sum32_3,c=n.sum32_4,u=a.BlockHash;function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(d,u),t.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],a=this.h[2],u=this.h[3],d=this.h[4],g=r,y=n,w=a,k=u,x=d,_=0;_<80;_++){var S=s(i(c(r,f(_,n,a,u),e[p[_]+t],l(_)),v[_]),d);r=d,d=u,u=i(a,10),a=n,n=S,S=s(i(c(g,f(79-_,y,w,k),e[m[_]+t],h(_)),b[_]),x),g=x,x=k,k=i(w,10),w=y,y=S}S=o(this.h[1],a,k),this.h[1]=o(this.h[2],u,x),this.h[2]=o(this.h[3],d,g),this.h[3]=o(this.h[4],r,y),this.h[4]=o(this.h[0],n,w),this.h[0]=S},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(35),a=r(24);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,r){"use strict";t.sha1=r(304),t.sha224=r(305),t.sha256=r(147),t.sha384=r(306),t.sha512=r(148)},function(e,t,r){"use strict";var n=r(36),a=r(70),i=r(146),s=n.rotl32,o=n.sum32,c=n.sum32_5,u=i.ft_1,d=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,d),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var a=this.h[0],i=this.h[1],d=this.h[2],l=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(s(a,5),u(p,i,d,l),h,r[n],f[p]);h=l,l=d,d=s(i,30),i=a,a=m}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],l),this.h[4]=o(this.h[4],h)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(36),a=r(147);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(36),a=r(148);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(36),a=r(70),i=n.rotl32,s=n.sum32,o=n.sum32_3,c=n.sum32_4,u=a.BlockHash;function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(d,u),t.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],a=this.h[2],u=this.h[3],d=this.h[4],g=r,y=n,w=a,k=u,x=d,_=0;_<80;_++){var S=s(i(c(r,f(_,n,a,u),e[p[_]+t],l(_)),v[_]),d);r=d,d=u,u=i(a,10),a=n,n=S,S=s(i(c(g,f(79-_,y,w,k),e[m[_]+t],h(_)),b[_]),x),g=x,x=k,k=i(w,10),w=y,y=S}S=o(this.h[1],a,k),this.h[1]=o(this.h[2],u,x),this.h[2]=o(this.h[3],d,g),this.h[3]=o(this.h[4],r,y),this.h[4]=o(this.h[0],n,w),this.h[0]=S},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(36),a=r(24);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,a=1,i={},s=!1,o=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?n=function(){var e=u(arguments);return t.nextTick(d(f,e)),e}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&f(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(){var r=u(arguments);return e.postMessage(t+r,"*"),r}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},n=function(){var t=u(arguments);return e.port2.postMessage(t),t}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;n=function(){var t=u(arguments),r=o.createElement("script");return r.onreadystatechange=function(){f(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r),t}}():n=function(){var e=u(arguments);return setTimeout(d(f,e),0),e},c.setImmediate=n,c.clearImmediate=l}function u(e){return i[a]=d.apply(void 0,e),a++}function d(e){var t=[].slice.call(arguments,1);return function(){"function"===typeof e?e.apply(void 0,t):new Function(""+e)()}}function f(e){if(s)setTimeout(d(f,e),0);else{var t=i[e];if(t){s=!0;try{t()}finally{l(e),s=!1}}}}function l(e){delete i[e]}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(19),r(18))},function(e,t,r){var n;!function(a){"use strict";var i,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,c=Math.floor,u="[BigNumber Error] ",d=u+"Number primitive has more than 15 significant digits: ",f=1e14,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,a=e.length,i=e[0]+"";n<a;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);i+=t}for(a=i.length;48===i.charCodeAt(--a););return i.slice(0,a+1||1)}function v(e,t){var r,n,a=e.c,i=t.c,s=e.s,o=t.s,c=e.e,u=t.e;if(!s||!o)return null;if(r=a&&!a[0],n=i&&!i[0],r||n)return r?n?0:-o:s;if(s!=o)return s;if(r=s<0,n=c==u,!a||!i)return n?0:!a^r?1:-1;if(!n)return c>u^r?1:-1;for(o=(c=a.length)<(u=i.length)?c:u,s=0;s<o;s++)if(a[s]!=i[s])return a[s]>i[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function b(e,t,r,n){if(e<t||e>r||e!==(e<0?o(e):c(e)))throw Error(u+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function g(e){return"[object Array]"==Object.prototype.toString.call(e)}function y(e){var t=e.c.length-1;return p(e.e/14)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,r){var n,a;if(t<0){for(a=r+".";++t;a+=r);e=a+e}else if(++t>(n=e.length)){for(a=r,t-=n;--t;a+=r);e+=a}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(i=function e(t){var r,n,a,i=B.prototype={constructor:B,toString:null,valueOf:null},x=new B(1),_=20,S=4,T=-7,O=21,A=-1e7,M=1e7,E=!1,C=1,I=0,F={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0},P="0123456789abcdefghijklmnopqrstuvwxyz";function B(e,t){var r,i,o,u,f,l,h,p,m=this;if(!(m instanceof B))return new B(e,t);if(null==t){if(e instanceof B)return m.s=e.s,m.e=e.e,void(m.c=(e=e.c)?e.slice():e);if((l="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return m.e=u,void(m.c=[e])}p=e+""}else{if(!s.test(p=e+""))return a(m,p,l);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(f=p.search(/e/i))>0?(u<0&&(u=f),u+=+p.slice(f+1),p=p.substring(0,f)):u<0&&(u=p.length)}else{if(b(t,2,P.length,"Base"),p=e+"",10==t)return D(m=new B(e instanceof B?e:p),_+m.e+1,S);if(l="number"==typeof e){if(0*e!=0)return a(m,p,l,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,B.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(d+e);l=!1}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=P.slice(0,t),u=f=0,h=p.length;f<h;f++)if(r.indexOf(i=p.charAt(f))<0){if("."==i){if(f>u){u=h;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,f=-1,u=0;continue}return a(m,e+"",l,t)}(u=(p=n(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(f=0;48===p.charCodeAt(f);f++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(f,++h)){if(h-=f,l&&B.DEBUG&&h>15&&(e>9007199254740991||e!==c(e)))throw Error(d+m.s*e);if((u=u-f-1)>M)m.c=m.e=null;else if(u<A)m.c=[m.e=0];else{if(m.e=u,m.c=[],f=(u+1)%14,u<0&&(f+=14),f<h){for(f&&m.c.push(+p.slice(0,f)),h-=14;f<h;)m.c.push(+p.slice(f,f+=14));f=14-(p=p.slice(f)).length}else f-=h;for(;f--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function R(e,t,r,n){var a,i,s,o,c;if(null==r?r=S:b(r,0,8),!e.c)return e.toString();if(a=e.c[0],s=e.e,null==t)c=m(e.c),c=1==n||2==n&&s<=T?w(c,s):k(c,s,"0");else if(i=(e=D(new B(e),t,r)).e,o=(c=m(e.c)).length,1==n||2==n&&(t<=i||i<=T)){for(;o<t;c+="0",o++);c=w(c,i)}else if(t-=s,c=k(c,i,"0"),i+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-o)>0)for(i+1==o&&(c+=".");t--;c+="0");return e.s<0&&a?"-"+c:c}function L(e,t){var r,n,a=0;for(g(e[0])&&(e=e[0]),r=new B(e[0]);++a<e.length;){if(!(n=new B(e[a])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function N(e,t,r){for(var n=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,n++);return(r=n+14*r-1)>M?e.c=e.e=null:r<A?e.c=[e.e=0]:(e.e=r,e.c=t),e}function D(e,t,r,n){var a,i,s,u,d,h,p,m=e.c,v=l;if(m){e:{for(a=1,u=m[0];u>=10;u/=10,a++);if((i=t-a)<0)i+=14,s=t,p=(d=m[h=0])/v[a-s-1]%10|0;else if((h=o((i+1)/14))>=m.length){if(!n)break e;for(;m.length<=h;m.push(0));d=p=0,a=1,s=(i%=14)-14+1}else{for(d=u=m[h],a=1;u>=10;u/=10,a++);p=(s=(i%=14)-14+a)<0?0:d/v[a-s-1]%10|0}if(n=n||t<0||null!=m[h+1]||(s<0?d:d%v[a-s-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(i>0?s>0?d/v[a-s]:0:m[h-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=v[(14-t%14)%14],e.e=-t||0):m[0]=e.e=0,e;if(0==i?(m.length=h,u=1,h--):(m.length=h+1,u=v[14-i],m[h]=s>0?c(d/v[a-s]%v[s])*u:0),n)for(;;){if(0==h){for(i=1,s=m[0];s>=10;s/=10,i++);for(s=m[0]+=u,u=1;s>=10;s/=10,u++);i!=u&&(e.e++,m[0]==f&&(m[0]=1));break}if(m[h]+=u,m[h]!=f)break;m[h--]=0,u=1}for(i=m.length;0===m[--i];m.pop());}e.e>M?e.c=e.e=null:e.e<A&&(e.c=[e.e=0])}return e}return B.clone=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(r=e[t],0,h,t),_=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(r=e[t],0,8,t),S=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(g(r=e[t])?(b(r[0],-h,0,t),b(r[1],0,h,t),T=r[0],O=r[1]):(b(r,-h,h,t),T=-(O=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if(g(r=e[t]))b(r[0],-h,-1,t),b(r[1],1,h,t),A=r[0],M=r[1];else{if(b(r,-h,h,t),!r)throw Error(u+t+" cannot be zero: "+r);A=-(M=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(u+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw E=!r,Error(u+"crypto unavailable");E=r}else E=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(r=e[t],0,9,t),C=r),e.hasOwnProperty(t="POW_PRECISION")&&(b(r=e[t],0,h,t),I=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(u+t+" not an object: "+r);F=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|\.|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);P=r}}return{DECIMAL_PLACES:_,ROUNDING_MODE:S,EXPONENTIAL_AT:[T,O],RANGE:[A,M],CRYPTO:E,MODULO_MODE:C,POW_PRECISION:I,FORMAT:F,ALPHABET:P}},B.isBigNumber=function(e){return e instanceof B||e&&!0===e._isBigNumber||!1},B.maximum=B.max=function(){return L(arguments,i.lt)},B.minimum=B.min=function(){return L(arguments,i.gt)},B.random=function(){var e=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var r,n,a,i,s,d=0,f=[],p=new B(x);if(null==t?t=_:b(t,0,h),i=o(t/14),E)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(i*=2));d<i;)(s=131072*r[d]+(r[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[d]=n[0],r[d+1]=n[1]):(f.push(s%1e14),d+=2);d=i/2}else{if(!crypto.randomBytes)throw E=!1,Error(u+"crypto unavailable");for(r=crypto.randomBytes(i*=7);d<i;)(s=281474976710656*(31&r[d])+1099511627776*r[d+1]+4294967296*r[d+2]+16777216*r[d+3]+(r[d+4]<<16)+(r[d+5]<<8)+r[d+6])>=9e15?crypto.randomBytes(7).copy(r,d):(f.push(s%1e14),d+=7);d=i/7}if(!E)for(;d<i;)(s=e())<9e15&&(f[d++]=s%1e14);for(t%=14,(i=f[--d])&&t&&(s=l[14-t],f[d]=c(i/s)*s);0===f[d];f.pop(),d--);if(d<0)f=[a=0];else{for(a=-1;0===f[0];f.splice(0,1),a-=14);for(d=1,s=f[0];s>=10;s/=10,d++);d<14&&(a-=14-d)}return p.e=a,p.c=f,p}}(),n=function(){function e(e,t,r,n){for(var a,i,s=[0],o=0,c=e.length;o<c;){for(i=s.length;i--;s[i]*=t);for(s[0]+=n.indexOf(e.charAt(o++)),a=0;a<s.length;a++)s[a]>r-1&&(null==s[a+1]&&(s[a+1]=0),s[a+1]+=s[a]/r|0,s[a]%=r)}return s.reverse()}return function(t,n,a,i,s){var o,c,u,d,f,l,h,p,v=t.indexOf("."),b=_,g=S;for(v>=0&&(d=I,I=0,t=t.replace(".",""),l=(p=new B(n)).pow(t.length-v),I=d,p.c=e(k(m(l.c),l.e,"0"),10,a,"0123456789"),p.e=p.c.length),u=d=(h=e(t,n,a,s?(o=P,"0123456789"):(o="0123456789",P))).length;0==h[--d];h.pop());if(!h[0])return o.charAt(0);if(v<0?--u:(l.c=h,l.e=u,l.s=i,h=(l=r(l,p,b,g,a)).c,f=l.r,u=l.e),v=h[c=u+b+1],d=a/2,f=f||c<0||null!=h[c+1],f=g<4?(null!=v||f)&&(0==g||g==(l.s<0?3:2)):v>d||v==d&&(4==g||f||6==g&&1&h[c-1]||g==(l.s<0?8:7)),c<1||!h[0])t=f?k(o.charAt(1),-b,o.charAt(0)):o.charAt(0);else{if(h.length=c,f)for(--a;++h[--c]>a;)h[c]=0,c||(++u,h=[1].concat(h));for(d=h.length;!h[--d];);for(v=0,t="";v<=d;t+=o.charAt(h[v++]));t=k(t,u,o.charAt(0))}return t}}(),r=function(){function e(e,t,r){var n,a,i,s,o=0,c=e.length,u=t%1e7,d=t/1e7|0;for(e=e.slice();c--;)o=((a=u*(i=e[c]%1e7)+(n=d*i+(s=e[c]/1e7|0)*u)%1e7*1e7+o)/r|0)+(n/1e7|0)+d*s,e[c]=a%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r,n){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,a,i,s,o){var u,d,l,h,m,v,b,g,y,w,k,x,_,S,T,O,A,M=n.s==a.s?1:-1,E=n.c,C=a.c;if(!E||!E[0]||!C||!C[0])return new B(n.s&&a.s&&(E?!C||E[0]!=C[0]:C)?E&&0==E[0]||!C?0*M:M/0:NaN);for(y=(g=new B(M)).c=[],M=i+(d=n.e-a.e)+1,o||(o=f,d=p(n.e/14)-p(a.e/14),M=M/14|0),l=0;C[l]==(E[l]||0);l++);if(C[l]>(E[l]||0)&&d--,M<0)y.push(1),h=!0;else{for(S=E.length,O=C.length,l=0,M+=2,(m=c(o/(C[0]+1)))>1&&(C=e(C,m,o),E=e(E,m,o),O=C.length,S=E.length),_=O,k=(w=E.slice(0,O)).length;k<O;w[k++]=0);A=C.slice(),A=[0].concat(A),T=C[0],C[1]>=o/2&&T++;do{if(m=0,(u=t(C,w,O,k))<0){if(x=w[0],O!=k&&(x=x*o+(w[1]||0)),(m=c(x/T))>1)for(m>=o&&(m=o-1),b=(v=e(C,m,o)).length,k=w.length;1==t(v,w,b,k);)m--,r(v,O<b?A:C,b,o),b=v.length,u=1;else 0==m&&(u=m=1),b=(v=C.slice()).length;if(b<k&&(v=[0].concat(v)),r(w,v,k,o),k=w.length,-1==u)for(;t(C,w,O,k)<1;)m++,r(w,O<k?A:C,k,o),k=w.length}else 0===u&&(m++,w=[0]);y[l++]=m,w[0]?w[k++]=E[_]||0:(w=[E[_]],k=1)}while((_++<S||null!=w[0])&&M--);h=null!=w[0],y[0]||y.splice(0,1)}if(o==f){for(l=1,M=y[0];M>=10;M/=10,l++);D(g,i+(g.e=l+14*d-1)+1,s,h)}else g.e=d,g.r=+h;return g}}(),a=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,s,o,c){var d,f=o?s:s.replace(a,"");if(n.test(f))i.s=isNaN(f)?null:f<0?-1:1,i.c=i.e=null;else{if(!o&&(f=f.replace(e,(function(e,t,r){return d="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=d?e:t})),c&&(d=c,f=f.replace(t,"$1").replace(r,"0.$1")),s!=f))return new B(f,d);if(B.DEBUG)throw Error(u+"Not a"+(c?" base "+c:"")+" number: "+s);i.c=i.e=i.s=null}}}(),i.absoluteValue=i.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},i.comparedTo=function(e,t){return v(this,new B(e,t))},i.decimalPlaces=i.dp=function(e,t){var r,n,a,i=this;if(null!=e)return b(e,0,h),null==t?t=S:b(t,0,8),D(new B(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=14*((a=r.length-1)-p(this.e/14)),a=r[a])for(;a%10==0;a/=10,n--);return n<0&&(n=0),n},i.dividedBy=i.div=function(e,t){return r(this,new B(e,t),_,S)},i.dividedToIntegerBy=i.idiv=function(e,t){return r(this,new B(e,t),0,1)},i.exponentiatedBy=i.pow=function(e,t){var r,n,a,i,s,d,f,l=this;if((e=new B(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+e);if(null!=t&&(t=new B(t)),i=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return f=new B(Math.pow(+l.valueOf(),i?2-y(e):+e)),t?f.mod(t):f;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new B(NaN);(n=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||i&&l.c[1]>=24e7:l.c[0]<8e13||i&&l.c[0]<=9999975e7)))return a=l.s<0&&y(e)?-0:0,l.e>-1&&(a=1/a),new B(s?1/a:a);I&&(a=o(I/14+2))}for(i?(r=new B(.5),d=y(e)):d=e%2,s&&(e.s=1),f=new B(x);;){if(d){if(!(f=f.times(l)).c)break;a?f.c.length>a&&(f.c.length=a):n&&(f=f.mod(t))}if(i){if(D(e=e.times(r),e.e+1,1),!e.c[0])break;i=e.e>14,d=y(e)}else{if(!(e=c(e/2)))break;d=e%2}l=l.times(l),a?l.c&&l.c.length>a&&(l.c.length=a):n&&(l=l.mod(t))}return n?f:(s&&(f=x.div(f)),t?f.mod(t):a?D(f,I,S,void 0):f)},i.integerValue=function(e){var t=new B(this);return null==e?e=S:b(e,0,8),D(t,t.e+1,e)},i.isEqualTo=i.eq=function(e,t){return 0===v(this,new B(e,t))},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(e,t){return v(this,new B(e,t))>0},i.isGreaterThanOrEqualTo=i.gte=function(e,t){return 1===(t=v(this,new B(e,t)))||0===t},i.isInteger=function(){return!!this.c&&p(this.e/14)>this.c.length-2},i.isLessThan=i.lt=function(e,t){return v(this,new B(e,t))<0},i.isLessThanOrEqualTo=i.lte=function(e,t){return-1===(t=v(this,new B(e,t)))||0===t},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&0==this.c[0]},i.minus=function(e,t){var r,n,a,i,s=this,o=s.s;if(t=(e=new B(e,t)).s,!o||!t)return new B(NaN);if(o!=t)return e.s=-t,s.plus(e);var c=s.e/14,u=e.e/14,d=s.c,l=e.c;if(!c||!u){if(!d||!l)return d?(e.s=-t,e):new B(l?s:NaN);if(!d[0]||!l[0])return l[0]?(e.s=-t,e):new B(d[0]?s:3==S?-0:0)}if(c=p(c),u=p(u),d=d.slice(),o=c-u){for((i=o<0)?(o=-o,a=d):(u=c,a=l),a.reverse(),t=o;t--;a.push(0));a.reverse()}else for(n=(i=(o=d.length)<(t=l.length))?o:t,o=t=0;t<n;t++)if(d[t]!=l[t]){i=d[t]<l[t];break}if(i&&(a=d,d=l,l=a,e.s=-e.s),(t=(n=l.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=f-1;n>o;){if(d[--n]<l[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=f}d[n]-=l[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?N(e,d,u):(e.s=3==S?-1:1,e.c=[e.e=0],e)},i.modulo=i.mod=function(e,t){var n,a,i=this;return e=new B(e,t),!i.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||i.c&&!i.c[0]?new B(i):(9==C?(a=e.s,e.s=1,n=r(i,e,0,3),e.s=a,n.s*=a):n=r(i,e,0,C),(e=i.minus(n.times(e))).c[0]||1!=C||(e.s=i.s),e)},i.multipliedBy=i.times=function(e,t){var r,n,a,i,s,o,c,u,d,l,h,m,v,b,g=this,y=g.c,w=(e=new B(e,t)).c;if(!y||!w||!y[0]||!w[0])return!g.s||!e.s||y&&!y[0]&&!w||w&&!w[0]&&!y?e.c=e.e=e.s=null:(e.s*=g.s,y&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(g.e/14)+p(e.e/14),e.s*=g.s,(c=y.length)<(l=w.length)&&(v=y,y=w,w=v,a=c,c=l,l=a),a=c+l,v=[];a--;v.push(0));for(b=f,1e7,a=l;--a>=0;){for(r=0,h=w[a]%1e7,m=w[a]/1e7|0,i=a+(s=c);i>a;)r=((u=h*(u=y[--s]%1e7)+(o=m*u+(d=y[s]/1e7|0)*h)%1e7*1e7+v[i]+r)/b|0)+(o/1e7|0)+m*d,v[i--]=u%b;v[i]=r}return r?++n:v.splice(0,1),N(e,v,n)},i.negated=function(){var e=new B(this);return e.s=-e.s||null,e},i.plus=function(e,t){var r,n=this,a=n.s;if(t=(e=new B(e,t)).s,!a||!t)return new B(NaN);if(a!=t)return e.s=-t,n.minus(e);var i=n.e/14,s=e.e/14,o=n.c,c=e.c;if(!i||!s){if(!o||!c)return new B(a/0);if(!o[0]||!c[0])return c[0]?e:new B(o[0]?n:0*a)}if(i=p(i),s=p(s),o=o.slice(),a=i-s){for(a>0?(s=i,r=c):(a=-a,r=o),r.reverse();a--;r.push(0));r.reverse()}for((a=o.length)-(t=c.length)<0&&(r=c,c=o,o=r,t=a),a=0;t;)a=(o[--t]=o[t]+c[t]+a)/f|0,o[t]=f===o[t]?0:o[t]%f;return a&&(o=[a].concat(o),++s),N(e,o,s)},i.precision=i.sd=function(e,t){var r,n,a,i=this;if(null!=e&&e!==!!e)return b(e,1,h),null==t?t=S:b(t,0,8),D(new B(i),e,t);if(!(r=i.c))return null;if(n=14*(a=r.length-1)+1,a=r[a]){for(;a%10==0;a/=10,n--);for(a=r[0];a>=10;a/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},i.shiftedBy=function(e){return b(e,-9007199254740991,9007199254740991),this.times("1e"+e)},i.squareRoot=i.sqrt=function(){var e,t,n,a,i,s=this,o=s.c,c=s.s,u=s.e,d=_+4,f=new B("0.5");if(1!==c||!o||!o[0])return new B(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);if(0==(c=Math.sqrt(+s))||c==1/0?(((t=m(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=p((u+1)/2)-(u<0||u%2),n=new B(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new B(c+""),n.c[0])for((c=(u=n.e)+d)<3&&(c=0);;)if(i=n,n=f.times(i.plus(r(s,i,d,1))),m(i.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(D(n,n.e+_+2,1),e=!n.times(n).eq(s));break}if(!a&&(D(i,i.e+_+2,0),i.times(i).eq(s))){n=i;break}d+=4,c+=4,a=1}return D(n,n.e+_+1,S,e)},i.toExponential=function(e,t){return null!=e&&(b(e,0,h),e++),R(this,e,t,1)},i.toFixed=function(e,t){return null!=e&&(b(e,0,h),e=e+this.e+1),R(this,e,t)},i.toFormat=function(e,t){var r=this.toFixed(e,t);if(this.c){var n,a=r.split("."),i=+F.groupSize,s=+F.secondaryGroupSize,o=F.groupSeparator,c=a[0],u=a[1],d=this.s<0,f=d?c.slice(1):c,l=f.length;if(s&&(n=i,i=s,s=n,l-=n),i>0&&l>0){for(n=l%i||i,c=f.substr(0,n);n<l;n+=i)c+=o+f.substr(n,i);s>0&&(c+=o+f.slice(n)),d&&(c="-"+c)}r=u?c+F.decimalSeparator+((s=+F.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+F.fractionGroupSeparator):u):c}return r},i.toFraction=function(e){var t,n,a,i,s,o,c,d,f,h,p,v,b=this,g=b.c;if(null!=e&&(!(d=new B(e)).isInteger()&&(d.c||1!==d.s)||d.lt(x)))throw Error(u+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+e);if(!g)return b.toString();for(n=new B(x),h=a=new B(x),i=f=new B(x),v=m(g),o=n.e=v.length-b.e-1,n.c[0]=l[(c=o%14)<0?14+c:c],e=!e||d.comparedTo(n)>0?o>0?n:h:d,c=M,M=1/0,d=new B(v),f.c[0]=0;p=r(d,n,0,1),1!=(s=a.plus(p.times(i))).comparedTo(e);)a=i,i=s,h=f.plus(p.times(s=h)),f=s,n=d.minus(p.times(s=n)),d=s;return s=r(e.minus(a),i,0,1),f=f.plus(s.times(h)),a=a.plus(s.times(i)),f.s=h.s=b.s,t=r(h,i,o*=2,S).minus(b).abs().comparedTo(r(f,a,o,S).minus(b).abs())<1?[h.toString(),i.toString()]:[f.toString(),a.toString()],M=c,t},i.toNumber=function(){return+this},i.toPrecision=function(e,t){return null!=e&&b(e,1,h),R(this,e,t,2)},i.toString=function(e){var t,r=this,a=r.s,i=r.e;return null===i?a?(t="Infinity",a<0&&(t="-"+t)):t="NaN":(t=m(r.c),null==e?t=i<=T||i>=O?w(t,i):k(t,i,"0"):(b(e,2,P.length,"Base"),t=n(k(t,i,"0"),10,e,a,!0)),a<0&&r.c[0]&&(t="-"+t)),t},i.valueOf=i.toJSON=function(){var e,t=this,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=T||r>=O?w(e,r):k(e,r,"0"),t.s<0?"-"+e:e)},i._isBigNumber=!0,null!=t&&B.set(t),B}()).default=i.BigNumber=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){(function(r){var n;t=e.exports=J,n="object"===typeof r&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var a=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],s=t.src=[],o=0,c=o++;s[c]="0|[1-9]\\d*";var u=o++;s[u]="[0-9]+";var d=o++;s[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=o++;s[f]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var l=o++;s[l]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var h=o++;s[h]="(?:"+s[c]+"|"+s[d]+")";var p=o++;s[p]="(?:"+s[u]+"|"+s[d]+")";var m=o++;s[m]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var v=o++;s[v]="(?:-?("+s[p]+"(?:\\."+s[p]+")*))";var b=o++;s[b]="[0-9A-Za-z-]+";var g=o++;s[g]="(?:\\+("+s[b]+"(?:\\."+s[b]+")*))";var y=o++,w="v?"+s[f]+s[m]+"?"+s[g]+"?";s[y]="^"+w+"$";var k="[v=\\s]*"+s[l]+s[v]+"?"+s[g]+"?",x=o++;s[x]="^"+k+"$";var _=o++;s[_]="((?:<|>)?=?)";var S=o++;s[S]=s[u]+"|x|X|\\*";var T=o++;s[T]=s[c]+"|x|X|\\*";var O=o++;s[O]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[m]+")?"+s[g]+"?)?)?";var A=o++;s[A]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[v]+")?"+s[g]+"?)?)?";var M=o++;s[M]="^"+s[_]+"\\s*"+s[O]+"$";var E=o++;s[E]="^"+s[_]+"\\s*"+s[A]+"$";var C=o++;s[C]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=o++;s[I]="(?:~>?)";var F=o++;s[F]="(\\s*)"+s[I]+"\\s+",i[F]=new RegExp(s[F],"g");var P=o++;s[P]="^"+s[I]+s[O]+"$";var B=o++;s[B]="^"+s[I]+s[A]+"$";var R=o++;s[R]="(?:\\^)";var L=o++;s[L]="(\\s*)"+s[R]+"\\s+",i[L]=new RegExp(s[L],"g");var N=o++;s[N]="^"+s[R]+s[O]+"$";var D=o++;s[D]="^"+s[R]+s[A]+"$";var V=o++;s[V]="^"+s[_]+"\\s*("+k+")$|^$";var j=o++;s[j]="^"+s[_]+"\\s*("+w+")$|^$";var U=o++;s[U]="(\\s*)"+s[_]+"\\s*("+k+"|"+s[O]+")",i[U]=new RegExp(s[U],"g");var q=o++;s[q]="^\\s*("+s[O]+")\\s+-\\s+("+s[O]+")\\s*$";var G=o++;s[G]="^\\s*("+s[A]+")\\s+-\\s+("+s[A]+")\\s*$";var H=o++;s[H]="(<|>)?=?\\s*\\*";for(var z=0;z<35;z++)n(z,s[z]),i[z]||(i[z]=new RegExp(s[z]));function K(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J)return e;if("string"!==typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[x]:i[y]).test(e))return null;try{return new J(e,t)}catch(r){return null}}function J(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?i[x]:i[y]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=K,t.valid=function(e,t){var r=K(e,t);return r?r.version:null},t.clean=function(e,t){var r=K(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof J||(e=new J(e,this.options)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.options)),W(this.major,e.major)||W(this.minor,e.minor)||W(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],a=e.prerelease[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return W(r,a)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"===typeof r&&(n=r,r=void 0);try{return new J(e,r).inc(t,n).version}catch(a){return null}},t.diff=function(e,t){if($(e,t))return null;var r=K(e),n=K(t),a="";if(r.prerelease.length||n.prerelease.length){a="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return a+s;return i},t.compareIdentifiers=W;var X=/^[0-9]+$/;function W(e,t){var r=X.test(e),n=X.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Z(e,t,r){return new J(e,r).compare(new J(t,r))}function Y(e,t,r){return Z(e,t,r)>0}function Q(e,t,r){return Z(e,t,r)<0}function $(e,t,r){return 0===Z(e,t,r)}function ee(e,t,r){return 0!==Z(e,t,r)}function te(e,t,r){return Z(e,t,r)>=0}function re(e,t,r){return Z(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof r&&(r=r.version),e===r;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return $(e,r,n);case"!=":return ee(e,r,n);case">":return Y(e,r,n);case">=":return te(e,r,n);case"<":return Q(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ae(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ae))return new ae(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return W(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=Z,t.compareLoose=function(e,t){return Z(e,t,!0)},t.rcompare=function(e,t,r){return Z(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=Y,t.lt=Q,t.eq=$,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=ae;var ie={};function se(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ae)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function oe(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,a,i,s,o,c,u,d,f,l){return((t=oe(r)?"":oe(n)?">="+r+".0.0":oe(a)?">="+r+"."+n+".0":">="+t)+" "+(o=oe(c)?"":oe(u)?"<"+(+c+1)+".0.0":oe(d)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+d+"-"+f:"<="+o)).trim()}function ue(e,t,r){for(var a=0;a<e.length;a++)if(!e[a].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(a=0;a<e.length;a++)if(n(e[a].semver),e[a].semver!==ie&&e[a].semver.prerelease.length>0){var i=e[a].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function de(e,t,r){try{t=new se(t,r)}catch(n){return!1}return t.test(e)}function fe(e,t,r,n){var a,i,s,o,c;switch(e=new J(e,n),t=new se(t,n),r){case">":a=Y,i=re,s=Q,o=">",c=">=";break;case"<":a=Q,i=te,s=Y,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(de(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var d=t.set[u],f=null,l=null;if(d.forEach((function(e){e.semver===ie&&(e=new ae(">=0.0.0")),f=f||e,l=l||e,a(e.semver,f.semver,n)?f=e:s(e.semver,l.semver,n)&&(l=e)})),f.operator===o||f.operator===c)return!1;if((!l.operator||l.operator===o)&&i(e,l.semver))return!1;if(l.operator===c&&s(e,l.semver))return!1}return!0}ae.prototype.parse=function(e){var t=this.options.loose?i[V]:i[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new J(r[2],this.options.loose):this.semver=ie},ae.prototype.toString=function(){return this.value},ae.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"===typeof e&&(e=new J(e,this.options)),ne(e,this.operator,this.semver,this.options))},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Comparator is required");var r;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),de(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),de(e.semver,r,t);var n=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),a=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),i=this.semver.version===e.semver.version,s=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),o=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||a||i&&s||o||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[G]:i[q];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[F],"$1~")).replace(i[L],"$1^")).split(/\s+/).join(" ");var a=t?i[V]:i[j],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[D]:i[N];return e.replace(r,(function(t,r,a,i,s){var o;return n("caret",e,t,r,a,i,s),oe(r)?o="":oe(a)?o=">="+r+".0.0 <"+(+r+1)+".0.0":oe(i)?o="0"===r?">="+r+"."+a+".0 <"+r+"."+(+a+1)+".0":">="+r+"."+a+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),o="0"===r?"0"===a?">="+r+"."+a+"."+i+"-"+s+" <"+r+"."+a+"."+(+i+1):">="+r+"."+a+"."+i+"-"+s+" <"+r+"."+(+a+1)+".0":">="+r+"."+a+"."+i+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),o="0"===r?"0"===a?">="+r+"."+a+"."+i+" <"+r+"."+a+"."+(+i+1):">="+r+"."+a+"."+i+" <"+r+"."+(+a+1)+".0":">="+r+"."+a+"."+i+" <"+(+r+1)+".0.0"),n("caret return",o),o}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[B]:i[P];return e.replace(r,(function(t,r,a,i,s){var o;return n("tilde",e,t,r,a,i,s),oe(r)?o="":oe(a)?o=">="+r+".0.0 <"+(+r+1)+".0.0":oe(i)?o=">="+r+"."+a+".0 <"+r+"."+(+a+1)+".0":s?(n("replaceTilde pr",s),o=">="+r+"."+a+"."+i+"-"+s+" <"+r+"."+(+a+1)+".0"):o=">="+r+"."+a+"."+i+" <"+r+"."+(+a+1)+".0",n("tilde return",o),o}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[E]:i[M];return e.replace(r,(function(t,r,a,i,s,o){n("xRange",e,t,r,a,i,s,o);var c=oe(a),u=c||oe(i),d=u||oe(s);return"="===r&&d&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&d?(u&&(i=0),s=0,">"===r?(r=">=",u?(a=+a+1,i=0,s=0):(i=+i+1,s=0)):"<="===r&&(r="<",u?a=+a+1:i=+i+1),t=r+a+"."+i+"."+s):u?t=">="+a+".0.0 <"+(+a+1)+".0.0":d&&(t=">="+a+"."+i+".0 <"+a+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(a)}))),s=s.map((function(e){return new ae(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"===typeof e&&(e=new J(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=de,t.maxSatisfying=function(e,t,r){var n=null,a=null;try{var i=new se(t,r)}catch(s){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==a.compare(e)||(a=new J(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,a=null;try{var i=new se(t,r)}catch(s){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==a.compare(e)||(a=new J(n=e,r)))})),n},t.minVersion=function(e,t){e=new se(e,t);var r=new J("0.0.0");if(e.test(r))return r;if(r=new J("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new J(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(r){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=K(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof J)return e;if("string"!==typeof e)return null;var t=e.match(i[C]);if(null==t)return null;return K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(this,r(18))},function(e){e.exports=JSON.parse('{"_args":[["elliptic@6.5.4","C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor"]],"_from":"elliptic@6.5.4","_id":"elliptic@6.5.4","_inBundle":false,"_integrity":"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.4","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.4","saveSpec":null,"fetchSpec":"6.5.4"},"_requiredBy":["/@ethersproject/signing-key","/browserify-sign","/create-ecdh","/eccrypto","/eccrypto/secp256k1","/eth-lib","/ethereumjs-tx/ethereumjs-util","/secp256k1","/swarm-js/eth-lib","/tronweb"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz","_spec":"6.5.4","_where":"C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},"description":"EC cryptography","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.4"}')},,function(e,t,r){"use strict";var n=r(32),a=r(8),i=r(12),s=r(82),o=n.assert;function c(e){s.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(r,16),this.z=new a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new a(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),r=new a(2).toRed(t).redInvm(),n=r.redNeg(),i=new a(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,c,u,d,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new a(1),m=new a(0),v=new a(0),b=new a(1),g=0;0!==l.cmpn(0);){var y=h.div(l);u=h.sub(y.mul(l)),d=v.sub(y.mul(p));var w=b.sub(y.mul(m));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),i=d;else if(n&&2===++g)break;c=u,h=l,l=u,v=p,p=d,b=m,m=w}s=u.neg(),o=d;var k=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(k)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),o=i.mul(n.a),c=a.mul(r.b),u=i.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(a).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),o=e[i],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*i]=o,n[2*i+1]=c,a[2*i]=s.k1,a[2*i+1]=s.k2}for(var u=this._wnafMulAdd(1,n,a,2*i,r),d=0;d<2*i;d++)n[d]=null,a[d]=null;return u},i(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function a(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(a))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(a))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(d,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new d(this,e,t,r)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(a),c=i.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),f=n.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(i.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,h,p)},d.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=a.redSub(i);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(d).redISub(d),l=o.redMul(d.redISub(f)).redISub(a.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},d.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,a=this.curve.tinv,i=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=i.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=i.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),b=h.redMul(v);b=b.redIAdd(b).redISub(l);var g=u.redMul(o);t+1<e&&(c=c.redMul(l)),i=m,o=g,u=b}return this.curve.jpoint(i,u.redMul(a),o)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),v=l.redIAdd(l);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},d.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)},d.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),o=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=o.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,h,p)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=a.redIAdd(s).redSqr().redISub(i).redISub(o).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(o).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,l,h)},d.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},d.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=r.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},d.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,r){"use strict";var n=r(8),a=r(12),i=r(82),s=r(32);function o(e){i.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){i.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,i),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},a(c,i.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),a=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,a)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),i=e.x.redSub(e.z).redMul(r),s=a.redMul(n),o=t.z.redMul(i.redAdd(s).redSqr()),c=t.x.redMul(i.redISub(s).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var i=a.length-1;i>=0;i--)0===a[i]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,r){"use strict";var n=r(32),a=r(8),i=r(12),s=r(82),o=n.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function u(e,t,r,n,i){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(r,16),this.z=n?new a(n,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(a)},i(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),s=i.redSub(r),o=n.redSub(t),c=a.redMul(s),u=i.redMul(o),d=a.redMul(o),f=s.redMul(i);return this.curve.point(c,u,f,d)},u.prototype._projDbl=function(){var e,t,r,n,a,i,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(a=this.z.redSqr(),i=u.redSub(a).redISub(a),e=s.redSub(o).redISub(c).redMul(i),t=u.redMul(n.redSub(c)),r=u.redMul(i))}else n=o.redAdd(c),a=this.curve._mulC(this.z).redSqr(),i=n.redSub(a).redSub(a),e=this.curve._mulC(s.redISub(n)).redMul(i),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(i);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),s=a.redSub(n),o=a.redAdd(n),c=r.redAdd(t),u=i.redMul(s),d=o.redMul(c),f=i.redMul(c),l=s.redMul(o);return this.curve.point(u,d,l,f)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),a=n.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),c=a.redSub(o),u=a.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),f=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(i))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(i)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,r){"use strict";var n=r(8),a=r(319),i=r(32),s=r(102),o=r(101),c=i.assert,u=r(320),d=r(321);function f(e){if(!(this instanceof f))return new f(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,r,i){"object"===typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new a({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new n(1)),l=0;;l++){var h=i.k?i.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var b=h.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),g^=1),new d({r:v,s:b,recoveryParam:g})}}}}}},f.prototype.verify=function(e,t,r,a){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,a);var i=(t=new d(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,c=s.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),f)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),f)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},f.prototype.recoverPubKey=function(e,t,r,a){c((3&r)===r,"The recovery param is more than two bits"),t=new d(t,a);var i=this.n,s=new n(e),o=t.r,u=t.s,f=1&r,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),f):this.curve.pointFromX(o,f);var h=t.r.invm(i),p=i.sub(s).mul(h).umod(i),m=u.mul(h).umod(i);return this.g.mulAdd(p,o,m)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new d(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")}},function(e,t,r){"use strict";var n=r(31),a=r(152),i=r(24);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=a.toArray(e.entropy,e.entropyEnc||"hex"),r=a.toArray(e.nonce,e.nonceEnc||"hex"),n=a.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=a.toArray(e,t),r=a.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=a.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,a.encode(s,t)}},function(e,t,r){"use strict";var n=r(8),a=r(32).assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.validate()||a(e.validate(),"public point not validated"),e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,r){"use strict";var n=r(8),a=r(32),i=a.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s],a>>>=0;return!(a<=127)&&(t.place=s,a)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function d(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=a.toArray(e,t);var r=new o;if(48!==e[r.place++])return!1;var i=c(e,r);if(!1===i)return!1;if(i+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var d=c(e,r);if(!1===d)return!1;if(e.length!==d+r.place)return!1;var f=e.slice(r.place,d+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(u),this.s=new n(f),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];d(n,t.length),(n=n.concat(t)).push(2),d(n,r.length);var i=n.concat(r),s=[48];return d(s,i.length),s=s.concat(i),a.encode(s,e)}},function(e,t,r){"use strict";var n=r(31),a=r(102),i=r(32),s=i.assert,o=i.parseBytes,c=r(323),u=r(324);function d(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof d))return new d(e);e=a[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=d,d.prototype.sign=function(e,t){e=o(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),a=this.g.mul(n),i=this.encodePoint(a),s=this.hashInt(i,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:i})},d.prototype.verify=function(e,t,r){e=o(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),a=this.hashInt(t.Rencoded(),n.pubBytes(),e),i=this.g.mul(t.S());return t.R().add(n.pub().mul(a)).eq(i)},d.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},d.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},d.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},d.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},d.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),a=i.intFromLE(r);return this.curve.pointFromY(a,n)},d.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(e){return i.intFromLE(e)},d.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,r){"use strict";var n=r(32),a=n.assert,i=n.parseBytes,s=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},function(e,t,r){"use strict";var n=r(8),a=r(32),i=a.assert,s=a.cachedProperty,o=a.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){var n=r(327);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(140),a=r(151);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?a(e):t}},function(e,t,r){e.exports=r(330)},function(e,t,r){"use strict";var n=r(28),a=r(154),i=r(331),s=r(160);function o(e){var t=new i(e),r=a(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=o(r(157));c.Axios=i,c.create=function(e){return o(s(c.defaults,e))},c.Cancel=r(161),c.CancelToken=r(344),c.isCancel=r(156),c.all=function(e){return Promise.all(e)},c.spread=r(345),c.isAxiosError=r(346),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(28),a=r(155),i=r(332),s=r(333),o=r(160);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=o(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(o(n||{},{method:e,url:t,data:r}))}})),e.exports=c},function(e,t,r){"use strict";var n=r(28);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,r){"use strict";var n=r(28),a=r(334),i=r(156),s=r(157);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return o(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(o(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(159);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(28);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,i,s){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(a)&&o.push("path="+a),n.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(340),a=r(341);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(28),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(28);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(161);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_e(r(103)),a=_e(r(162)),i=_e(r(348)),s=_e(r(349)),o=_e(r(350)),c=_e(r(351)),u=_e(r(352)),d=_e(r(353)),f=_e(r(354)),l=_e(r(355)),h=_e(r(83)),p=_e(r(356)),m=_e(r(105)),v=_e(r(357)),b=xe(r(358)),g=xe(r(359)),y=_e(r(360)),w=_e(r(361)),k=_e(r(362)),x=_e(r(363)),_=_e(r(364)),S=_e(r(165)),T=_e(r(166)),O=_e(r(365)),A=_e(r(366)),M=_e(r(367)),E=_e(r(164)),C=xe(r(368)),I=_e(r(369)),F=_e(r(167)),P=_e(r(370)),B=_e(r(371)),R=_e(r(372)),L=_e(r(373)),N=_e(r(374)),D=_e(r(375)),V=_e(r(376)),j=_e(r(377)),U=_e(r(378)),q=_e(r(163)),G=_e(r(379)),H=_e(r(380)),z=_e(r(381)),K=_e(r(382)),J=_e(r(383)),X=_e(r(384)),W=_e(r(385)),Z=_e(r(386)),Y=_e(r(387)),Q=_e(r(388)),$=xe(r(389)),ee=_e(r(390)),te=_e(r(391)),re=_e(r(392)),ne=_e(r(393)),ae=_e(r(394)),ie=_e(r(395)),se=_e(r(396)),oe=_e(r(397)),ce=_e(r(398)),ue=_e(r(399)),de=xe(r(400)),fe=_e(r(168)),le=_e(r(169)),he=_e(r(401)),pe=_e(r(402)),me=_e(r(403)),ve=_e(r(404)),be=_e(r(405)),ge=_e(r(170)),ye=_e(r(406)),we=_e(r(407)),ke=_e(r(104));function xe(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _e(e){return e&&e.__esModule?e:{default:e}}var Se={version:"10.11.0",toDate:n.default,toFloat:a.default,toInt:i.default,toBoolean:s.default,equals:o.default,contains:c.default,matches:u.default,isEmail:d.default,isURL:f.default,isMACAddress:l.default,isIP:h.default,isIPRange:p.default,isFQDN:m.default,isBoolean:v.default,isAlpha:b.default,isAlphaLocales:b.locales,isAlphanumeric:g.default,isAlphanumericLocales:g.locales,isNumeric:y.default,isPort:w.default,isLowercase:k.default,isUppercase:x.default,isAscii:_.default,isFullWidth:S.default,isHalfWidth:T.default,isVariableWidth:O.default,isMultibyte:A.default,isSurrogatePair:M.default,isInt:E.default,isFloat:C.default,isFloatLocales:C.locales,isDecimal:I.default,isHexadecimal:F.default,isDivisibleBy:P.default,isHexColor:B.default,isISRC:R.default,isMD5:L.default,isHash:N.default,isJWT:D.default,isJSON:V.default,isEmpty:j.default,isLength:U.default,isByteLength:q.default,isUUID:G.default,isMongoId:H.default,isAfter:z.default,isBefore:K.default,isIn:J.default,isCreditCard:X.default,isIdentityCard:W.default,isISIN:Z.default,isISBN:Y.default,isISSN:Q.default,isMobilePhone:$.default,isMobilePhoneLocales:$.locales,isPostalCode:de.default,isPostalCodeLocales:de.locales,isCurrency:ee.default,isISO8601:te.default,isRFC3339:re.default,isISO31661Alpha2:ne.default,isISO31661Alpha3:ae.default,isBase64:ie.default,isDataURI:se.default,isMagnetURI:oe.default,isMimeType:ce.default,isLatLong:ue.default,ltrim:fe.default,rtrim:le.default,trim:he.default,escape:pe.default,unescape:me.default,stripLow:ve.default,whitelist:be.default,blacklist:ge.default,isWhitelisted:ye.default,normalizeEmail:we.default,toString:ke.default};t.default=Se,e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),parseInt(e,t||10)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),t)return"1"===e||"true"===e;return"0"!==e&&"false"!==e&&""!==e};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e===t};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),e.indexOf((0,a.default)(t))>=0};var n=i(r(10)),a=i(r(104));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r));return t.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,a.default)(t,u)).require_display_name||t.allow_display_name){var r=e.match(d);if(r)e=r[1];else if(t.require_display_name)return!1}var c=e.split("@"),v=c.pop(),b=c.join("@"),g=v.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===g||"googlemail.com"===g)){var y=(b=b.toLowerCase()).split("+")[0];if(!(0,i.default)(y.replace(".",""),{min:6,max:30}))return!1;for(var w=y.split("."),k=0;k<w.length;k++)if(!l.test(w[k]))return!1}if(!(0,i.default)(b,{max:64})||!(0,i.default)(v,{max:254}))return!1;if(!(0,s.default)(v,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var x=v.substr(1,v.length-2);if(0===x.length||!(0,o.default)(x))return!1}}if('"'===b[0])return b=b.slice(1,b.length-1),t.allow_utf8_local_part?m.test(b):h.test(b);for(var _=t.allow_utf8_local_part?p:f,S=b.split("."),T=0;T<S.length;T++)if(!_.test(S[T]))return!1;return!0};var n=c(r(10)),a=c(r(49)),i=c(r(163)),s=c(r(105)),o=c(r(83));function c(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,l=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var r,o,f,l,h,p,m,v;if(t=(0,s.default)(t,c),m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(r=m.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;m[0]=e.substr(2)}}if(""===(e=m.join("://")))return!1;if(m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1){if(t.disallow_auth)return!1;if((o=m.shift()).indexOf(":")>=0&&o.split(":").length>2)return!1}l=m.join("@"),p=null,v=null;var b=l.match(u);b?(f="",v=b[1],p=b[2]||null):(m=l.split(":"),f=m.shift(),m.length&&(p=m.join(":")));if(null!==p&&(h=parseInt(p,10),!/^[0-9]+$/.test(p)||h<=0||h>65535))return!1;if(!(0,i.default)(f)&&!(0,a.default)(f,t)&&(!v||!(0,i.default)(v,6)))return!1;if(f=f||v,t.host_whitelist&&!d(f,t.host_whitelist))return!1;if(t.host_blacklist&&d(f,t.host_blacklist))return!1;return!0};var n=o(r(10)),a=o(r(105)),i=o(r(83)),s=o(r(49));function o(e){return e&&e.__esModule?e:{default:e}}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(a=n,"[object RegExp]"===Object.prototype.toString.call(a)&&n.test(e)))return!0}var a;return!1}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),t&&t.no_colons)return s.test(e);return i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,s=/^([0-9a-fA-F]){12}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.split("/");if(2!==t.length)return!1;if(!s.test(t[1]))return!1;if(t[1].length>1&&t[1].startsWith("0"))return!1;return(0,a.default)(t[0],4)&&t[1]<=32&&t[1]>=0};var n=i(r(10)),a=i(r(83));function i(e){return e&&e.__esModule?e:{default:e}}var s=/^\d{1,2}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),["true","false","1","0"].indexOf(e)>=0};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,a.default)(e),t in i.alpha)return i.alpha[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n},i=r(84);var s=Object.keys(i.alpha);t.locales=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,a.default)(e),t in i.alphanumeric)return i.alphanumeric[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n},i=r(84);var s=Object.keys(i.alphanumeric);t.locales=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),t&&t.no_symbols)return s.test(e);return i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[+-]?([0-9]*[.])?[0-9]+$/,s=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e,{min:0,max:65535})};var n,a=(n=r(164))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),e===e.toLowerCase()};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),e===e.toUpperCase()};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.fullWidth.test(e)&&s.halfWidth.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n},i=r(165),s=r(166);e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e),t=t||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?i.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||"-"===e||"+"===e)return!1;var n=parseFloat(e.replace(",","."));return r.test(e)&&(!t.hasOwnProperty("min")||n>=t.min)&&(!t.hasOwnProperty("max")||n<=t.max)&&(!t.hasOwnProperty("lt")||n<t.lt)&&(!t.hasOwnProperty("gt")||n>t.gt)},t.locales=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n},i=r(84);var s=Object.keys(i.decimal);t.locales=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),(t=(0,n.default)(t,c)).locale in s.decimal)return!(0,i.default)(u,e.replace(/ /g,""))&&function(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(s.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var n=o(r(49)),a=o(r(10)),i=o(r(106)),s=r(84);function o(e){return e&&e.__esModule?e:{default:e}}var c={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,a.default)(e)%parseInt(t,10)===0};var n=i(r(10)),a=i(r(162));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),new RegExp("^[a-f0-9]{".concat(i[t],"}$")).test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===i(t)}catch(r){}return!1};var n,a=(n=r(10))&&n.__esModule?n:{default:n};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),0===((t=(0,a.default)(t,s)).ignore_whitespace?e.trim().length:e.length)};var n=i(r(10)),a=i(r(49));function i(e){return e&&e.__esModule?e:{default:e}}var s={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n;(0,a.default)(e),"object"===i(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var s=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],o=e.length-s.length;return o>=r&&("undefined"===typeof n||o<=n)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,a.default)(e);var r=i[t];return r&&r.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,a.default)(e)&&24===e.length};var n=i(r(10)),a=i(r(167));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,a.default)(t),i=(0,a.default)(e);return!!(i&&r&&i>r)};var n=i(r(10)),a=i(r(103));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,a.default)(t),i=(0,a.default)(e);return!!(i&&r&&i<r)};var n=i(r(10)),a=i(r(103));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;if((0,n.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var i=[];for(r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=(0,a.default)(t[r]));return i.indexOf(e)>=0}if("object"===s(t))return t.hasOwnProperty(e);if(t&&"function"===typeof t.indexOf)return t.indexOf(e)>=0;return!1};var n=i(r(10)),a=i(r(104));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(e);var t=e.replace(/[- ]+/g,"");if(!i.test(t))return!1;for(var r,n,s,o=0,c=t.length-1;c>=0;c--)r=t.substring(c,c+1),n=parseInt(r,10),o+=s&&(n*=2)>=10?n%10+1:n,s=!s;return!(o%10!==0||!t)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if((0,a.default)(e),t in i)return i[t](e);if("any"===t){for(var r in i)if(i.hasOwnProperty(r)){var n=i[r];if(n(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i={ES:function(e){(0,a.default)(e);var t={X:0,Y:1,Z:2},r=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(r))return!1;var n=r.slice(0,-1).replace(/[X,Y,Z]/g,(function(e){return t[e]}));return r.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][n%23])}};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(e),!i.test(e))return!1;for(var t,r,n=e.replace(/[A-Z]/g,(function(e){return parseInt(e,36)})),s=0,o=!0,c=n.length-2;c>=0;c--)t=n.substring(c,c+1),r=parseInt(t,10),s+=o&&(r*=2)>=10?r+1:r,o=!o;return parseInt(e.substr(e.length-1),10)===(1e4-s)%10};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,a.default)(t),!(r=String(r)))return e(t,10)||e(t,13);var n,c=t.replace(/[\s-]+/g,""),u=0;if("10"===r){if(!i.test(c))return!1;for(n=0;n<9;n++)u+=(n+1)*c.charAt(n);if("X"===c.charAt(9)?u+=100:u+=10*c.charAt(9),u%11===0)return!!c}else if("13"===r){if(!s.test(c))return!1;for(n=0;n<12;n++)u+=o[n%2]*c.charAt(n);if(c.charAt(12)-(10-u%10)%10===0)return!!c}return!1};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,o=[1,3];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(e);var r=i;if(r=t.require_hyphen?r.replace("?",""):r,!(r=t.case_sensitive?new RegExp(r):new RegExp(r,"i")).test(e))return!1;for(var n=e.replace("-","").toUpperCase(),s=0,o=0;o<n.length;o++){var c=n[o];s+=("X"===c?10:+c)*(8-o)}return s%11===0};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if((0,a.default)(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(i.hasOwnProperty(t)&&i[t].test(e))return!0;return!1}));if(t in i)return i[t].test(e);if(!t||"any"===t){for(var n in i){if(i.hasOwnProperty(n))if(i[n].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[012]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/\+?(88)?0?1[356789][0-9]{8}\b/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)?[7]\d{8}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};i["en-CA"]=i["en-US"],i["fr-BE"]=i["nl-BE"],i["zh-HK"]=i["en-HK"];var s=Object.keys(i);t.locales=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach((function(e,r){0!==r&&(t="".concat(t,"|\\d{").concat(e,"}"))}));var r="(\\".concat(e.symbol.replace(/\./g,"\\."),")").concat(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),a="(".concat(["0","[1-9]\\d*",n].join("|"),")?"),i="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),s=a+(e.allow_decimal||e.require_decimal?i:"");e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?s+="-?":e.negative_sign_before_digits&&(s="-?"+s));e.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):e.allow_space_after_symbol?s=" ?".concat(s):e.allow_space_after_digits&&(s+="( (?!$))?");e.symbol_after_digits?s+=r:s=r+s;e.allow_negatives&&(e.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(s="-?"+s));return new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(t=(0,n.default)(t,s)).test(e)};var n=i(r(49)),a=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}var s={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var r=i.test(e);return t&&r&&t.strict?function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var r=Number(t[1]),n=Number(t[2]);return r%4===0&&r%100!==0?n<=366:n<=365}var a=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),i=a[1],s=a[2],o=a[3],c=s?"0".concat(s).slice(-2):s,u=o?"0".concat(o).slice(-2):o,d=new Date("".concat(i,"-").concat(c||"01","-").concat(u||"01"));if(isNaN(d.getUTCFullYear()))return!1;if(s&&o)return d.getUTCFullYear()===i&&d.getUTCMonth()+1===s&&d.getUTCDate()===o;return!0}(e):r};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),l.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/([01][0-9]|2[0-3])/,s=/[0-5][0-9]/,o=new RegExp("[-+]".concat(i.source,":").concat(s.source)),c=new RegExp("([zZ]|".concat(o.source,")")),u=new RegExp("".concat(i.source,":").concat(s.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),d=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),f=new RegExp("".concat(u.source).concat(c.source)),l=new RegExp("".concat(d.source,"[ tT]").concat(f.source));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,a.default)(s,e.toUpperCase())};var n=i(r(10)),a=i(r(106));function i(e){return e&&e.__esModule?e:{default:e}}var s=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,a.default)(s,e.toUpperCase())};var n=i(r(10)),a=i(r(106));function i(e){return e&&e.__esModule?e:{default:e}}var s=["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(e);var t=e.length;if(!t||t%4!==0||i.test(e))return!1;var r=e.indexOf("=");return-1===r||r===t-1||r===t-2&&"="===e[t-1]};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/[^A-Z0-9+\/=]/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(e);var t=e.split(",");if(t.length<2)return!1;var r=t.shift().trim().split(";"),n=r.shift();if("data:"!==n.substr(0,5))return!1;var c=n.substr(5);if(""!==c&&!i.test(c))return!1;for(var u=0;u<r.length;u++)if(u===r.length-1&&"base64"===r[u].toLowerCase());else if(!s.test(r[u]))return!1;for(var d=0;d<t.length;d++)if(!o.test(t[d]))return!1;return!0};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^[a-z]+\/[a-z0-9\-\+]+$/i,s=/^[a-z\-]+=[a-z0-9\-]+$/i,o=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e.trim())};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),i.test(e)||s.test(e)||o.test(e)};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,s=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,o=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(e),!e.includes(","))return!1;var t=e.split(",");return i.test(t[0])&&s.test(t[1])};var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),t in c)return c[t].test(e);if("any"===t){for(var r in c){if(c.hasOwnProperty(r))if(c[r].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,a=(n=r(10))&&n.__esModule?n:{default:n};var i=/^\d{4}$/,s=/^\d{5}$/,o=/^\d{6}$/,c={AD:/^AD\d{3}$/,AT:i,AU:i,BE:i,BG:i,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:i,CZ:/^\d{3}\s?\d{2}$/,DE:s,DK:i,DZ:s,EE:s,ES:s,FI:s,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:i,IL:s,IN:o,IS:/^\d{3}$/,IT:s,JP:/^\d{3}\-\d{4}$/,KE:s,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:i,LV:/^LV\-\d{4}$/,MX:s,NL:/^\d{4}\s?[a-z]{2}$/i,NO:i,PL:/^\d{2}\-\d{3}$/,PT:/^\d{4}\-\d{3}?$/,RO:o,RU:o,SA:s,SE:/^\d{3}\s?\d{2}$/,SI:i,SK:/^\d{3}\s?\d{2}$/,TN:i,TW:/^\d{3}(\d{2})?$/,UA:s,US:/^\d{5}(-\d{4})?$/,ZA:i,ZM:s},u=Object.keys(c);t.locales=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)((0,a.default)(e,t),t)};var n=i(r(169)),a=i(r(168));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);var r=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,a.default)(e,r)};var n=i(r(10)),a=i(r(170));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);for(var r=e.length-1;r>=0;r--)if(-1===t.indexOf(e[r]))return!1;return!0};var n,a=(n=r(10))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,a.default)(t,i);var r=e.split("@"),n=r.pop(),f=[r.join("@"),n];if(f[1]=f[1].toLowerCase(),"gmail.com"===f[1]||"googlemail.com"===f[1]){if(t.gmail_remove_subaddress&&(f[0]=f[0].split("+")[0]),t.gmail_remove_dots&&(f[0]=f[0].replace(/\.+/g,d)),!f[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(f[0]=f[0].toLowerCase()),f[1]=t.gmail_convert_googlemaildotcom?"gmail.com":f[1]}else if(s.indexOf(f[1])>=0){if(t.icloud_remove_subaddress&&(f[0]=f[0].split("+")[0]),!f[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(f[0]=f[0].toLowerCase())}else if(o.indexOf(f[1])>=0){if(t.outlookdotcom_remove_subaddress&&(f[0]=f[0].split("+")[0]),!f[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(f[0]=f[0].toLowerCase())}else if(c.indexOf(f[1])>=0){if(t.yahoo_remove_subaddress){var l=f[0].split("-");f[0]=l.length>1?l.slice(0,-1).join("-"):l[0]}if(!f[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(f[0]=f[0].toLowerCase())}else u.indexOf(f[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(f[0]=f[0].toLowerCase()),f[1]="yandex.ru"):t.all_lowercase&&(f[0]=f[0].toLowerCase());return f.join("@")};var n,a=(n=r(49))&&n.__esModule?n:{default:n};var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],o=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],c=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function d(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,i),!0;case 6:return d.fn.call(d.context,t,r,n,i,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,n);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||c(this,i);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var s={};if("string"!==typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var c=1e3;i&&"number"===typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var d=0;d<u;++d){var f,l,h,p,m=e[d].replace(o,"%20"),v=m.indexOf(r);v>=0?(f=m.substr(0,v),l=m.substr(v+1)):(f=m,l=""),h=decodeURIComponent(f),p=decodeURIComponent(l),n(s,h)?a(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p}return s};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?i(s(e),(function(s){var o=encodeURIComponent(n(s))+r;return a(e[s])?i(e[s],(function(e){return o+encodeURIComponent(n(e))})).join(t):o+encodeURIComponent(n(e[s]))})).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";(function(t){var n="undefined"!==typeof window,a="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,i="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,s="undefined"!==typeof t&&"win32"===t.platform,o=!(n||i),c="undefined"===typeof fetch?r(416)().fetch:fetch;e.exports={isBrowser:n,isElectron:a,isWebWorker:i,isNode:o,isWindows:s,defaultFetch:c}}).call(this,r(18))},function(e,t,r){"use strict";var n=r(417);function a(e){var t=function(t,r){return"string"===typeof t&&"//"===t.slice(0,2)?e("https:"+t,r):e(t,r)};return t.http=e.http,t.https=e.https,t}e.exports=function(e){return e&&e.Promise&&(n.Promise=e.Promise),{fetch:a(n),Headers:n.Headers,Request:n.Request,Response:n.Response}}},function(e,t,r){"use strict";(function(n,a){var i=r(40);Object.defineProperty(t,"__esModule",{value:!0});var s=Symbol("buffer"),o=Symbol("type");class c{constructor(){this[o]="";var e=arguments[0],t=arguments[1],r=[];if(e)for(var a=e,i=Number(a.length),u=0;u<i;u++){var d=a[u],f=void 0;f=d instanceof n?d:ArrayBuffer.isView(d)?n.from(d.buffer,d.byteOffset,d.byteLength):d instanceof ArrayBuffer?n.from(d):d instanceof c?d[s]:n.from("string"===typeof d?d:String(d)),r.push(f)}this[s]=n.concat(r);var l=t&&void 0!==t.type&&String(t.type).toLowerCase();l&&!/[^\u0020-\u007E]/.test(l)&&(this[o]=l)}get size(){return this[s].length}get type(){return this[o]}slice(){var e,t,r=this.size,n=arguments[0],a=arguments[1];e=void 0===n?0:n<0?Math.max(r+n,0):Math.min(n,r),t=void 0===a?r:a<0?Math.max(r+a,0):Math.min(a,r);var i=Math.max(t-e,0),o=this[s].slice(e,e+i),u=new c([],{type:arguments[2]});return u[s]=o,u}}function u(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(c.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="FetchError";var d=r(50),f=r(50).PassThrough,l=Symbol("Body internals");function h(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.size,i=void 0===a?0:a,s=r.timeout,o=void 0===s?0:s;null==e?e=null:"string"===typeof e||m(e)||e instanceof c||n.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||e instanceof d||(e=String(e)),this[l]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=o,e instanceof d&&e.on("error",(function(e){t[l].error=new u("Invalid response body while trying to fetch ".concat(t.url,": ").concat(e.message),"system",e)}))}function p(){var e=this;if(this[l].disturbed)return h.Promise.reject(new TypeError("body used already for: ".concat(this.url)));if(this[l].disturbed=!0,this[l].error)return h.Promise.reject(this[l].error);if(null===this.body)return h.Promise.resolve(n.alloc(0));if("string"===typeof this.body)return h.Promise.resolve(n.from(this.body));if(this.body instanceof c)return h.Promise.resolve(this.body[s]);if(n.isBuffer(this.body))return h.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return h.Promise.resolve(n.from(this.body));if(!(this.body instanceof d))return h.Promise.resolve(n.alloc(0));var t=[],r=0,a=!1;return new h.Promise((function(i,s){var o;e.timeout&&(o=setTimeout((function(){a=!0,s(new u("Response timeout while trying to fetch ".concat(e.url," (over ").concat(e.timeout,"ms)"),"body-timeout"))}),e.timeout)),e.body.on("error",(function(t){s(new u("Invalid response body while trying to fetch ".concat(e.url,": ").concat(t.message),"system",t))})),e.body.on("data",(function(n){if(!a&&null!==n){if(e.size&&r+n.length>e.size)return a=!0,void s(new u("content size at ".concat(e.url," over limit: ").concat(e.size),"max-size"));r+=n.length,t.push(n)}})),e.body.on("end",(function(){if(!a){clearTimeout(o);try{i(n.concat(t))}catch(r){s(new u("Could not create Buffer from response body for ".concat(e.url,": ").concat(r.message),"system",r))}}}))}))}function m(e){return"object"===typeof e&&"function"===typeof e.append&&"function"===typeof e.delete&&"function"===typeof e.get&&"function"===typeof e.getAll&&"function"===typeof e.has&&"function"===typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"===typeof e.sort)}function v(e){var t,r,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof d&&"function"!==typeof n.getBoundary&&(t=new f,r=new f,n.pipe(t),n.pipe(r),e[l].body=t,n=r),n}function b(e){var t=e.body;return null===t?0:"string"===typeof t?n.byteLength(t):m(t)?n.byteLength(String(t)):t instanceof c?t.size:n.isBuffer(t)?t.length:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?t.byteLength:t&&"function"===typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}h.prototype={get body(){return this[l].body},get bodyUsed(){return this[l].disturbed},arrayBuffer(){return p.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){var e=this.headers&&this.headers.get("content-type")||"";return p.call(this).then((function(t){return Object.assign(new c([],{type:e.toLowerCase()}),{[s]:t})}))},json(){var e=this;return p.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(r){return h.Promise.reject(new u("invalid json response body at ".concat(e.url," reason: ").concat(r.message),"invalid-json"))}}))},text(){return p.call(this).then((function(e){return e.toString()}))},buffer(){return p.call(this)},textConverted(){var e=this;return p.call(this).then((function(t){return function(e,t){if("function"!==typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");var r,n,a=t.get("content-type"),i="utf-8";a&&(r=/charset=([^;]*)/i.exec(a));n=e.slice(0,1024).toString(),!r&&n&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(n));!r&&n&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(r=/charset=(.*)/i.exec(r.pop()));!r&&n&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n));r&&("gb2312"!==(i=r.pop())&&"gbk"!==i||(i="gb18030"));return convert(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(h.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),h.mixIn=function(e){var t,r=i(Object.getOwnPropertyNames(h.prototype));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!(n in e)){var a=Object.getOwnPropertyDescriptor(h.prototype,n);Object.defineProperty(e,n,a)}}}catch(s){r.e(s)}finally{r.f()}},h.Promise=a.Promise;var g=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,y=/[^\t\x20-\x7e\x80-\xff]/;function w(e){if(e="".concat(e),g.test(e))throw new TypeError("".concat(e," is not a legal HTTP header name"))}function k(e){if(e="".concat(e),y.test(e))throw new TypeError("".concat(e," is not a legal HTTP header value"))}function x(e,t){for(var r in t=t.toLowerCase(),e)if(r.toLowerCase()===t)return r}var _=Symbol("map");class S{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[_]=Object.create(null),e instanceof S)for(var t=e.raw(),r=0,n=Object.keys(t);r<n.length;r++){var a,s=n[r],o=i(t[s]);try{for(o.s();!(a=o.n()).done;){var c=a.value;this.append(s,c)}}catch(k){o.e(k)}finally{o.f()}}else if(null==e);else{if("object"!==typeof e)throw new TypeError("Provided initializer must be an object");var u=e[Symbol.iterator];if(null!=u){if("function"!==typeof u)throw new TypeError("Header pairs must be iterable");var d,f=[],l=i(e);try{for(l.s();!(d=l.n()).done;){var h=d.value;if("object"!==typeof h||"function"!==typeof h[Symbol.iterator])throw new TypeError("Each header pair must be iterable");f.push(Array.from(h))}}catch(k){l.e(k)}finally{l.f()}for(var p=0,m=f;p<m.length;p++){var v=m[p];if(2!==v.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(v[0],v[1])}}else for(var b=0,g=Object.keys(e);b<g.length;b++){var y=g[b],w=e[y];this.append(y,w)}}}get(e){w(e="".concat(e));var t=x(this[_],e);return void 0===t?null:this[_][t].join(", ")}forEach(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=T(this),n=0;n<r.length;){var a=r[n],i=a[0],s=a[1];e.call(t,s,i,this),r=T(this),n++}}set(e,t){e="".concat(e),t="".concat(t),w(e),k(t);var r=x(this[_],e);this[_][void 0!==r?r:e]=[t]}append(e,t){e="".concat(e),t="".concat(t),w(e),k(t);var r=x(this[_],e);void 0!==r?this[_][r].push(t):this[_][e]=[t]}has(e){return w(e="".concat(e)),void 0!==x(this[_],e)}delete(e){w(e="".concat(e));var t=x(this[_],e);void 0!==t&&delete this[_][t]}raw(){return this[_]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value",r=Object.keys(e[_]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[_][t].join(", ")}:function(t){return[t.toLowerCase(),e[_][t].join(", ")]})}S.prototype.entries=S.prototype[Symbol.iterator],Object.defineProperty(S.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(S.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});var O=Symbol("internal");function A(e,t){var r=Object.create(M);return r[O]={target:e,kind:t,index:0},r}var M=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==M)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[O],t=e.target,r=e.kind,n=e.index,a=T(t,r);return n>=a.length?{value:void 0,done:!0}:(this[O].index=n+1,{value:a[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function E(e){var t=Object.assign({__proto__:null},e[_]),r=x(e[_],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(M,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});var C=r(71).STATUS_CODES,I=Symbol("Response internals");class F{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.call(this,e,t);var r=t.status||200;this[I]={url:t.url,status:r,statusText:t.statusText||C[r],headers:new S(t.headers)}}get url(){return this[I].url}get status(){return this[I].status}get ok(){return this[I].status>=200&&this[I].status<300}get statusText(){return this[I].statusText}get headers(){return this[I].headers}clone(){return new F(v(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}h.mixIn(F.prototype),Object.defineProperties(F.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var P=r(54),B=P.format,R=P.parse,L=Symbol("Request internals");function N(e){return"object"===typeof e&&"object"===typeof e[L]}class D{constructor(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(e)?t=R(e.url):(t=e&&e.href?R(e.href):R("".concat(e)),e={});var a=r.method||e.method||"GET";if(a=a.toUpperCase(),(null!=r.body||N(e)&&null!==e.body)&&("GET"===a||"HEAD"===a))throw new TypeError("Request with GET/HEAD method cannot have body");var i=null!=r.body?r.body:N(e)&&null!==e.body?v(e):null;h.call(this,i,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});var s=new S(r.headers||e.headers||{});if(null!=r.body){var o=function(e){var t=e.body;return null===t?null:"string"===typeof t?"text/plain;charset=UTF-8":m(t)?"application/x-www-form-urlencoded;charset=UTF-8":t instanceof c?t.type||null:n.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:"function"===typeof t.getBoundary?"multipart/form-data;boundary=".concat(t.getBoundary()):null}(this);null===o||s.has("Content-Type")||s.append("Content-Type",o)}this[L]={method:a,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[L].method}get url(){return B(this[L].parsedURL)}get headers(){return this[L].headers}get redirect(){return this[L].redirect}clone(){return new D(this)}}h.mixIn(D.prototype),Object.defineProperty(D.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(D.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});var V=r(71),j=r(111),U=r(50).PassThrough,q=r(54).resolve,G=r(435);function H(e,t){if(!H.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return h.Promise=H.Promise,new H.Promise((function(r,a){var o,d=new D(e,t),f=function(e){var t=e[L].parsedURL,r=new S(e[L].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");var n=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),null!=e.body){var a=b(e);"number"===typeof a&&(n=String(a))}return n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&r.set("Accept-Encoding","gzip,deflate"),r.has("Connection")||e.agent||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:E(r),agent:e.agent})}(d),l=(0,("https:"===f.protocol?j:V).request)(f);function h(){l.abort(),clearTimeout(o)}d.timeout&&l.once("socket",(function(e){o=setTimeout((function(){a(new u("network timeout at: ".concat(d.url),"request-timeout")),h()}),d.timeout)})),l.on("error",(function(e){a(new u("request to ".concat(d.url," failed, reason: ").concat(e.message),"system",e)),h()})),l.on("response",(function(e){clearTimeout(o);var t=function(e){for(var t=new S,r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];if(!g.test(a))if(Array.isArray(e[a])){var s,o=i(e[a]);try{for(o.s();!(s=o.n()).done;){var c=s.value;y.test(c)||(void 0===t[_][a]?t[_][a]=[c]:t[_][a].push(c))}}catch(u){o.e(u)}finally{o.f()}}else y.test(e[a])||(t[_][a]=[e[a]])}return t}(e.headers);if(H.isRedirect(e.statusCode)){var n=t.get("Location"),s=null===n?null:q(d.url,n);switch(d.redirect){case"error":return a(new u("redirect mode is set to error: ".concat(d.url),"no-redirect")),void h();case"manual":null!==s&&t.set("Location",s);break;case"follow":if(null===s)break;if(d.counter>=d.follow)return a(new u("maximum redirect reached at: ".concat(d.url),"max-redirect")),void h();var c={headers:new S(d.headers),follow:d.follow,counter:d.counter+1,agent:d.agent,compress:d.compress,method:d.method,body:d.body};return 303!==e.statusCode&&d.body&&null===b(d)?(a(new u("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==d.method)||(c.method="GET",c.body=void 0,c.headers.delete("content-length")),r(H(new D(s,c))),void h())}}var f=e.pipe(new U),l={url:d.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:d.size,timeout:d.timeout},p=t.get("Content-Encoding");if(d.compress&&"HEAD"!==d.method&&null!==p&&204!==e.statusCode&&304!==e.statusCode){var m={flush:G.Z_SYNC_FLUSH,finishFlush:G.Z_SYNC_FLUSH};if("gzip"==p||"x-gzip"==p)return f=f.pipe(G.createGunzip(m)),void r(new F(f,l));if("deflate"!=p&&"x-deflate"!=p)r(new F(f,l));else e.pipe(new U).once("data",(function(e){f=8===(15&e[0])?f.pipe(G.createInflate()):f.pipe(G.createInflateRaw()),r(new F(f,l))}))}else r(new F(f,l))})),function(e,t){var r=t.body;null===r?e.end():"string"===typeof r?(e.write(r),e.end()):m(r)?(e.write(n.from(String(r))),e.end()):r instanceof c?(e.write(r[s]),e.end()):n.isBuffer(r)?(e.write(r),e.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(r)?(e.write(n.from(r)),e.end()):r.pipe(e)}(l,d)}))}H.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},H.default=H,H.Promise=a.Promise,H.http=V,H.https=j,e.exports=t=H,t.Headers=S,t.Request=D,t.Response=F,t.FetchError=u}).call(this,r(9).Buffer,r(19))},,function(e,t,r){"use strict";var n=r(14).Buffer,a=r(420);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,a,i=n.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,a=o,t.copy(r,a),o+=s.data.length,s=s.next;return i},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,r){var n=r(9),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports=i;var n=r(177),a=Object.create(r(37));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}a.inherits=r(12),a.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(109)},function(e,t,r){e.exports=r(52)},function(e,t,r){e.exports=r(108).Transform},function(e,t,r){e.exports=r(108).PassThrough},function(e,t,r){(function(t,n,a){var i=r(178),s=r(12),o=r(179),c=r(180),u=r(432),d=o.IncomingMessage,f=o.readyStates;var l=e.exports=function(e){var r,n=this;c.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var a=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)a=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(r,a),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};s(l,c.Writable),l.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},l.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},l.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},l.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,s=e._headers,o=null;"GET"!==r.method&&"HEAD"!==r.method&&(o=i.arraybuffer?u(t.concat(e._body)):i.blobConstructor?new n.Blob(e._body.map((function(e){return u(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach((function(e){c.push([t,e])})):c.push([t,r])})),"fetch"===e._mode){var d=null;if(i.abortController){var l=new AbortController;d=l.signal,e._fetchAbortController=l,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:d}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new n.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(p){return void a.nextTick((function(){e.emit("error",p)}))}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(h.timeout=r.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(o)}catch(p){return void a.nextTick((function(){e.emit("error",p)}))}}}},l.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},l.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},l.prototype._write=function(e,t,r){this._body.push(e),r()},l.prototype.abort=l.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},l.prototype.end=function(e,t,r){"function"===typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(9).Buffer,r(19),r(18))},,function(e,t,r){"use strict";var n=r(14).Buffer,a=r(430);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,a,i=n.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,a=o,t.copy(r,a),o+=s.data.length,s=s.next;return i},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,r){"use strict";e.exports=i;var n=r(185),a=Object.create(r(37));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}a.inherits=r(12),a.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(9).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,a=0;a<r;a++)t[a]=e[a];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";(function(e){var n=r(9).Buffer,a=r(50).Transform,i=r(436),s=r(112),o=r(72).ok,c=r(9).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";i.Z_MIN_WINDOWBITS=8,i.Z_MAX_WINDOWBITS=15,i.Z_DEFAULT_WINDOWBITS=15,i.Z_MIN_CHUNK=64,i.Z_MAX_CHUNK=1/0,i.Z_DEFAULT_CHUNK=16384,i.Z_MIN_MEMLEVEL=1,i.Z_MAX_MEMLEVEL=9,i.Z_DEFAULT_MEMLEVEL=8,i.Z_MIN_LEVEL=-1,i.Z_MAX_LEVEL=9,i.Z_DEFAULT_LEVEL=i.Z_DEFAULT_COMPRESSION;for(var d=Object.keys(i),f=0;f<d.length;f++){var l=d[f];l.match(/^Z/)&&Object.defineProperty(t,l,{enumerable:!0,value:i[l],writable:!1})}for(var h={Z_OK:i.Z_OK,Z_STREAM_END:i.Z_STREAM_END,Z_NEED_DICT:i.Z_NEED_DICT,Z_ERRNO:i.Z_ERRNO,Z_STREAM_ERROR:i.Z_STREAM_ERROR,Z_DATA_ERROR:i.Z_DATA_ERROR,Z_MEM_ERROR:i.Z_MEM_ERROR,Z_BUF_ERROR:i.Z_BUF_ERROR,Z_VERSION_ERROR:i.Z_VERSION_ERROR},p=Object.keys(h),m=0;m<p.length;m++){var v=p[m];h[h[v]]=v}function b(e,t,r){var a=[],i=0;function s(){for(var t;null!==(t=e.read());)a.push(t),i+=t.length;e.once("readable",s)}function o(){var t,s=null;i>=c?s=new RangeError(u):t=n.concat(a,i),a=[],e.close(),r(s,t)}e.on("error",(function(t){e.removeListener("end",o),e.removeListener("readable",s),r(t)})),e.on("end",o),e.end(t),s()}function g(e,t){if("string"===typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function y(e){if(!(this instanceof y))return new y(e);A.call(this,e,i.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);A.call(this,e,i.INFLATE)}function k(e){if(!(this instanceof k))return new k(e);A.call(this,e,i.GZIP)}function x(e){if(!(this instanceof x))return new x(e);A.call(this,e,i.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);A.call(this,e,i.DEFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);A.call(this,e,i.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);A.call(this,e,i.UNZIP)}function O(e){return e===i.Z_NO_FLUSH||e===i.Z_PARTIAL_FLUSH||e===i.Z_SYNC_FLUSH||e===i.Z_FULL_FLUSH||e===i.Z_FINISH||e===i.Z_BLOCK}function A(e,r){var s=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!O(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!O(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||i.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:i.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new i.Zlib(r);var o=this;this._hadError=!1,this._handle.onerror=function(e,r){M(o),o._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],o.emit("error",n)};var c=t.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(c=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function M(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function E(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),t.Deflate=y,t.Inflate=w,t.Gzip=k,t.Gunzip=x,t.DeflateRaw=_,t.InflateRaw=S,t.Unzip=T,t.createDeflate=function(e){return new y(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new S(e)},t.createGzip=function(e){return new k(e)},t.createGunzip=function(e){return new x(e)},t.createUnzip=function(e){return new T(e)},t.deflate=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new y(t),e,r)},t.deflateSync=function(e,t){return g(new y(t),e)},t.gzip=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new k(t),e,r)},t.gzipSync=function(e,t){return g(new k(t),e)},t.deflateRaw=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new _(t),e,r)},t.deflateRawSync=function(e,t){return g(new _(t),e)},t.unzip=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new T(t),e,r)},t.unzipSync=function(e,t){return g(new T(t),e)},t.inflate=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new w(t),e,r)},t.inflateSync=function(e,t){return g(new w(t),e)},t.gunzip=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new x(t),e,r)},t.gunzipSync=function(e,t){return g(new x(t),e)},t.inflateRaw=function(e,t,r){return"function"===typeof t&&(r=t,t={}),b(new S(t),e,r)},t.inflateRawSync=function(e,t){return g(new S(t),e)},s.inherits(A,a),A.prototype.params=function(r,n,a){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var s=this;this.flush(i.Z_SYNC_FLUSH,(function(){o(s._handle,"zlib binding closed"),s._handle.params(r,n),s._hadError||(s._level=r,s._strategy=n,a&&a())}))}else e.nextTick(a)},A.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},A.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},A.prototype.flush=function(t,r){var a=this,s=this._writableState;("function"===typeof t||void 0===t&&!r)&&(r=t,t=i.Z_FULL_FLUSH),s.ended?r&&e.nextTick(r):s.ending?r&&this.once("end",r):s.needDrain?r&&this.once("drain",(function(){return a.flush(t,r)})):(this._flushFlag=t,this.write(n.alloc(0),"",r))},A.prototype.close=function(t){M(this,t),e.nextTick(E,this)},A.prototype._transform=function(e,t,r){var a,s=this._writableState,o=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||n.isBuffer(e)?this._handle?(o?a=this._finishFlushFlag:(a=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||i.Z_NO_FLUSH)),void this._processChunk(e,a,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},A.prototype._processChunk=function(e,t,r){var a=e&&e.length,i=this._chunkSize-this._offset,s=0,d=this,f="function"===typeof r;if(!f){var l,h=[],p=0;this.on("error",(function(e){l=e})),o(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,s,a,this._buffer,this._offset,i)}while(!this._hadError&&g(m[0],m[1]));if(this._hadError)throw l;if(p>=c)throw M(this),new RangeError(u);var v=n.concat(h,p);return M(this),v}o(this._handle,"zlib binding closed");var b=this._handle.write(t,e,s,a,this._buffer,this._offset,i);function g(c,u){if(this&&(this.buffer=null,this.callback=null),!d._hadError){var l=i-u;if(o(l>=0,"have should not go down"),l>0){var m=d._buffer.slice(d._offset,d._offset+l);d._offset+=l,f?d.push(m):(h.push(m),p+=m.length)}if((0===u||d._offset>=d._chunkSize)&&(i=d._chunkSize,d._offset=0,d._buffer=n.allocUnsafe(d._chunkSize)),0===u){if(s+=a-c,a=c,!f)return!0;var v=d._handle.write(t,e,s,a,d._buffer,d._offset,d._chunkSize);return v.callback=g,void(v.buffer=e)}if(!f)return!1;r()}}b.buffer=e,b.callback=g},s.inherits(y,A),s.inherits(w,A),s.inherits(k,A),s.inherits(x,A),s.inherits(_,A),s.inherits(S,A),s.inherits(T,A)}).call(this,r(18))},function(e,t,r){"use strict";(function(e,n){var a=r(72),i=r(439),s=r(440),o=r(443),c=r(446);for(var u in c)t[u]=c[u];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function d(e){if("number"!==typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}d.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||o.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},d.prototype.write=function(e,t,r,n,a,i,s){return this._write(!0,e,t,r,n,a,i,s)},d.prototype.writeSync=function(e,t,r,n,a,i,s){return this._write(!1,e,t,r,n,a,i,s)},d.prototype._write=function(r,i,s,o,c,u,d,f){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==t.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=e.alloc(0),c=0,o=0),this.strm.avail_in=c,this.strm.input=s,this.strm.next_in=o,this.strm.avail_out=f,this.strm.output=u,this.strm.next_out=d,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return n.nextTick((function(){l._process(),l._after()})),this},d.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},d.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},d.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},d.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},d.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},d.prototype.init=function(e,r,n,i,s){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(r>=-1&&r<=9,"invalid compression level"),a(n>=1&&n<=9,"invalid memlevel"),a(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,i,s),this._setDictionary()},d.prototype.params=function(){throw new Error("deflateParams Not supported")},d.prototype.reset=function(){this._reset(),this._setDictionary()},d.prototype._init=function(e,r,n,a,c){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=a,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},d.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},d.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=s.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=d}).call(this,r(9).Buffer,r(18))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";var n,a=r(85),i=r(441),s=r(188),o=r(189),c=r(442);function u(e,t){return e.msg=c[t],t}function d(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function l(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(a.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function h(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,l(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,a.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=s(e.adler,t,i,r):2===e.state.wrap&&(e.adler=o(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function b(e,t){var r,n,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,d=e.w_mask,f=e.prev,l=e.strstart+258,h=u[i+s-1],p=u[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+s]===p&&u[r+s-1]===h&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<l);if(n=258-(l-i),i=l-258,n>s){if(e.match_start=t,s=n,n>=o)break;h=u[i+s-1],p=u[i+s]}}}while((t=f[t&d])>c&&0!==--a);return s<=e.lookahead?s:e.lookahead}function g(e){var t,r,n,i,s,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-262)){a.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--r);t=r=o;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--r);i+=o}if(0===e.strm.avail_in)break;if(r=v(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var r,n;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=b(e,r)),e.match_length>=3)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function w(e,t){for(var r,n,a;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=b(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):u(e,-2)}function S(e){var t,r=_(e);return 0===r&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function T(e,t,r,n,i,s){if(!e)return-2;var o=1;if(-1===t&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||s<0||s>4)return u(e,-2);8===n&&(n=9);var c=new x;return e.state=c,c.strm=e,c.wrap=o,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new a.Buf8(2*c.w_size),c.head=new a.Buf16(c.hash_size),c.prev=new a.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new a.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=r,S(e)}n=[new k(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,h(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),1)})),new k(4,4,8,4,y),new k(4,5,16,8,y),new k(4,6,32,32,y),new k(4,4,16,16,w),new k(8,16,32,32,w),new k(8,16,128,128,w),new k(8,32,128,256,w),new k(32,128,258,1024,w),new k(32,258,258,4096,w)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=S,t.deflateResetKeep=_,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var r,a,s,c;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(a.strm=e,r=a.last_flush,a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,p(a,31),p(a,139),p(a,8),a.gzhead?(p(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),p(a,255&a.gzhead.time),p(a,a.gzhead.time>>8&255),p(a,a.gzhead.time>>16&255),p(a,a.gzhead.time>>24&255),p(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),p(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(p(a,255&a.gzhead.extra.length),p(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=o(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(p(a,0),p(a,0),p(a,0),p(a,0),p(a,0),p(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),p(a,3),a.status=113);else{var v=8+(a.w_bits-8<<4)<<8;v|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(v|=32),v+=31-v%31,a.status=113,m(a,v),0!==a.strstart&&(m(a,e.adler>>>16),m(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),l(e),s=a.pending,a.pending!==a.pending_buf_size));)p(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),l(e),s=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,p(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),0===c&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),l(e),s=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,p(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),0===c&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&l(e),a.pending+2<=a.pending_buf_size&&(p(a,255&e.adler),p(a,e.adler>>8&255),e.adler=0,a.status=113)):a.status=113),0!==a.pending){if(l(e),0===e.avail_out)return a.last_flush=-1,0}else if(0===e.avail_in&&d(t)<=d(r)&&4!==t)return u(e,-5);if(666===a.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==a.lookahead||0!==t&&666!==a.status){var b=2===a.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(a,t):3===a.strategy?function(e,t){for(var r,n,a,s,o=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[a=e.strstart-1])===o[++a]&&n===o[++a]&&n===o[++a]){s=e.strstart+258;do{}while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<s);e.match_length=258-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(a,t):n[a.level].func(a,t);if(3!==b&&4!==b||(a.status=666),1===b||3===b)return 0===e.avail_out&&(a.last_flush=-1),0;if(2===b&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(f(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),l(e),0===e.avail_out))return a.last_flush=-1,0}return 4!==t?0:a.wrap<=0?1:(2===a.wrap?(p(a,255&e.adler),p(a,e.adler>>8&255),p(a,e.adler>>16&255),p(a,e.adler>>24&255),p(a,255&e.total_in),p(a,e.total_in>>8&255),p(a,e.total_in>>16&255),p(a,e.total_in>>24&255)):(m(a,e.adler>>>16),m(a,65535&e.adler)),l(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var r,n,i,o,c,u,d,l,h=t.length;if(!e||!e.state)return-2;if(2===(o=(r=e.state).wrap)||1===o&&42!==r.status||r.lookahead)return-2;for(1===o&&(e.adler=s(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===o&&(f(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new a.Buf8(r.w_size),a.arraySet(l,t,h-r.w_size,r.w_size,0),t=l,h=r.w_size),c=e.avail_in,u=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,g(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,g(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=d,e.avail_in=c,r.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var n=r(85);function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);a(u);var d=new Array(60);a(d);var f=new Array(512);a(f);var l=new Array(256);a(l);var h=new Array(29);a(h);var p,m,v,b=new Array(30);function g(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?f[e]:f[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function _(e,t,r){x(e,r[2*t],r[2*t+1])}function S(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function T(e,t,r){var n,a,i=new Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+r[n-1]<<1;for(a=0;a<=t;a++){var o=e[2*a+1];0!==o&&(e[2*a]=S(i[o]++,o))}}function O(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function M(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]}function E(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&M(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!M(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function C(e,t,r){var n,a,o,c,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],a=e.pending_buf[e.l_buf+u],u++,0===n?_(e,a,t):(_(e,(o=l[a])+256+1,t),0!==(c=i[o])&&x(e,a-=h[o],c),_(e,o=w(--n),r),0!==(c=s[o])&&x(e,n-=b[o],c))}while(u<e.last_lit);_(e,256,t)}function I(e,t){var r,n,a,i=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==i[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)E(e,i,r);a=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,E(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,a,i,s,o,c=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=c[2*c[2*(n=e.heap[r])+1]+1]+1)>p&&(i=p,m++),c[2*n+1]=i,n>u||(e.bl_count[i]++,s=0,n>=h&&(s=l[n-h]),o=c[2*n],e.opt_len+=o*(i+s),f&&(e.static_len+=o*(d[2*n+1]+s)));if(0!==m){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(i=p;0!==i;i--)for(n=e.bl_count[i];0!==n;)(a=e.heap[--r])>u||(c[2*a+1]!==i&&(e.opt_len+=(i-c[2*a+1])*c[2*a],c[2*a+1]=i),n--)}}(e,t),T(i,u,e.bl_count)}function F(e,t,r){var n,a,i=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=s,s=t[2*(n+1)+1],++o<c&&a===s||(o<u?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))}function P(e,t,r){var n,a,i=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(a=s,s=t[2*(n+1)+1],!(++o<c&&a===s)){if(o<u)do{_(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==i&&(_(e,a,e.bl_tree),o--),_(e,16,e.bl_tree),x(e,o-3,2)):o<=10?(_(e,17,e.bl_tree),x(e,o-3,3)):(_(e,18,e.bl_tree),x(e,o-11,7));o=0,i=a,0===s?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}}a(b);var B=!1;function R(e,t,r,a){x(e,0+(a?1:0),3),function(e,t,r,a){A(e),a&&(k(e,r),k(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){B||(!function(){var e,t,r,n,a,c=new Array(16);for(r=0,n=0;n<28;n++)for(h[n]=r,e=0;e<1<<i[n];e++)l[r++]=n;for(l[r-1]=n,a=0,n=0;n<16;n++)for(b[n]=a,e=0;e<1<<s[n];e++)f[a++]=n;for(a>>=7;n<30;n++)for(b[n]=a<<7,e=0;e<1<<s[n]-7;e++)f[256+a++]=n;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,c[8]++;for(;e<=255;)u[2*e+1]=9,e++,c[9]++;for(;e<=279;)u[2*e+1]=7,e++,c[7]++;for(;e<=287;)u[2*e+1]=8,e++,c[8]++;for(T(u,287,c),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=S(e,5);p=new g(u,i,257,286,15),m=new g(d,s,0,30,15),v=new g(new Array(0),o,0,19,7)}(),B=!0),e.l_desc=new y(e.dyn_ltree,p),e.d_desc=new y(e.dyn_dtree,m),e.bl_desc=new y(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,O(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,r,n){var a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),s=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?R(e,t,r,n):4===e.strategy||i===a?(x(e,2+(n?1:0),3),C(e,u,d)):(x(e,4+(n?1:0),3),function(e,t,r,n){var a;for(x(e,t-257,5),x(e,r-1,5),x(e,n-4,4),a=0;a<n;a++)x(e,e.bl_tree[2*c[a]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),C(e,e.dyn_ltree,e.dyn_dtree)),O(e),n&&A(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(l[r]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),_(e,256,u),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";var n=r(85),a=r(188),i=r(189),s=r(444),o=r(445);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):-2}function l(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,f(e))):-2}function h(e,t){var r,n;return e?(n=new u,e.state=n,n.window=null,0!==(r=l(e,t))&&(e.state=null),r):-2}var p,m,v=!0;function b(e){if(v){var t;for(p=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function g(e,t,r,a){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),a>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>a&&(i=a),n.arraySet(s.window,t,r-a,i,s.wnext),(a-=i)?(n.arraySet(s.window,t,r-a,a,0),s.wnext=a,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}t.inflateReset=f,t.inflateReset2=l,t.inflateResetKeep=d,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var r,u,d,f,l,h,p,m,v,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B=0,R=new n.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(r=e.state).mode&&(r.mode=13),l=e.next_out,d=e.output,p=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=r.hold,v=r.bits,y=h,w=p,I=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(2&r.wrap&&35615===m){r.check=0,R[0]=255&m,R[1]=m>>>8&255,r.check=i(r.check,R,2,0),m=0,v=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!==(15&m)){e.msg="unknown compression method",r.mode=30;break}if(v-=4,C=8+(15&(m>>>=4)),0===r.wbits)r.wbits=C;else if(C>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<C,e.adler=r.check=1,r.mode=512&m?10:12,m=0,v=0;break;case 2:for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(r.flags=m,8!==(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=i(r.check,R,2,0)),m=0,v=0,r.mode=3;case 3:for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.head&&(r.head.time=m),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,r.check=i(r.check,R,4,0)),m=0,v=0,r.mode=4;case 4:for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=i(r.check,R,2,0)),m=0,v=0,r.mode=5;case 5:if(1024&r.flags){for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=i(r.check,R,2,0)),m=0,v=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((k=r.length)>h&&(k=h),k&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,u,f,k,C)),512&r.flags&&(r.check=i(r.check,u,k,f)),h-=k,f+=k,r.length-=k),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===h)break e;k=0;do{C=u[f+k++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C))}while(C&&k<h);if(512&r.flags&&(r.check=i(r.check,u,k,f)),h-=k,f+=k,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===h)break e;k=0;do{C=u[f+k++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C))}while(C&&k<h);if(512&r.flags&&(r.check=i(r.check,u,k,f)),h-=k,f+=k,C)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}m=0,v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}e.adler=r.check=c(m),m=0,v=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=l,e.avail_out=p,e.next_in=f,e.avail_in=h,r.hold=m,r.bits=v,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&v,v-=7&v,r.mode=27;break}for(;v<3;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}switch(r.last=1&m,v-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6===t){m>>>=2,v-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if((65535&m)!==(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,m=0,v=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(k=r.length){if(k>h&&(k=h),k>p&&(k=p),0===k)break e;n.arraySet(d,u,f,k,l),h-=k,f+=k,p-=k,l+=k,r.length-=k;break}r.mode=12;break;case 17:for(;v<14;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(r.nlen=257+(31&m),m>>>=5,v-=5,r.ndist=1+(31&m),m>>>=5,v-=5,r.ncode=4+(15&m),m>>>=4,v-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;v<3;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.lens[L[r.have++]]=7&m,m>>>=3,v-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},I=o(0,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,I){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(B=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,O=65535&B,!((S=B>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(O<16)m>>>=S,v-=S,r.lens[r.have++]=O;else{if(16===O){for(P=S+2;v<P;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m>>>=S,v-=S,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}C=r.lens[r.have-1],k=3+(3&m),m>>>=2,v-=2}else if(17===O){for(P=S+3;v<P;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}v-=S,C=0,k=3+(7&(m>>>=S)),m>>>=3,v-=3}else{for(P=S+7;v<P;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}v-=S,C=0,k=11+(127&(m>>>=S)),m>>>=7,v-=7}if(r.have+k>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;k--;)r.lens[r.have++]=C}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,F={bits:r.lenbits},I=o(1,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,I){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},I=o(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,I){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(h>=6&&p>=258){e.next_out=l,e.avail_out=p,e.next_in=f,e.avail_in=h,r.hold=m,r.bits=v,s(e,w),l=e.next_out,d=e.output,p=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=r.hold,v=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;T=(B=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,O=65535&B,!((S=B>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(T&&0===(240&T)){for(A=S,M=T,E=O;T=(B=r.lencode[E+((m&(1<<A+M)-1)>>A)])>>>16&255,O=65535&B,!(A+(S=B>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}m>>>=A,v-=A,r.back+=A}if(m>>>=S,v-=S,r.back+=S,r.length=O,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(P=r.extra;v<P;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(B=r.distcode[m&(1<<r.distbits)-1])>>>16&255,O=65535&B,!((S=B>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(0===(240&T)){for(A=S,M=T,E=O;T=(B=r.distcode[E+((m&(1<<A+M)-1)>>A)])>>>16&255,O=65535&B,!(A+(S=B>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}m>>>=A,v-=A,r.back+=A}if(m>>>=S,v-=S,r.back+=S,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=O,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(P=r.extra;v<P;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,v-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===p)break e;if(k=w-p,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}k>r.wnext?(k-=r.wnext,x=r.wsize-k):x=r.wnext-k,k>r.length&&(k=r.length),_=r.window}else _=d,x=l-r.offset,k=r.length;k>p&&(k=p),p-=k,r.length-=k;do{d[l++]=_[x++]}while(--k);0===r.length&&(r.mode=21);break;case 26:if(0===p)break e;d[l++]=r.length,p--,r.mode=21;break;case 27:if(r.wrap){for(;v<32;){if(0===h)break e;h--,m|=u[f++]<<v,v+=8}if(w-=p,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?i(r.check,d,w,l-w):a(r.check,d,w,l-w)),w=p,(r.flags?m:c(m))!==r.check){e.msg="incorrect data check",r.mode=30;break}m=0,v=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}m=0,v=0}r.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=l,e.avail_out=p,e.next_in=f,e.avail_in=h,r.hold=m,r.bits=v,(r.wsize||w!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&g(e,e.output,e.next_out,w-e.avail_out)?(r.mode=31,-4):(y-=e.avail_in,w-=e.avail_out,e.total_in+=y,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?i(r.check,d,w,e.next_out-w):a(r.check,d,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===y&&0===w||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0===(2&(r=e.state).wrap)?-2:(r.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&a(1,t,n,0)!==r.check?-3:g(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O;r=e.state,n=e.next_in,T=e.input,a=n+(e.avail_in-5),i=e.next_out,O=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,f=r.wnext,l=r.window,h=r.hold,p=r.bits,m=r.lencode,v=r.distcode,b=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;e:do{p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),y=m[h&b];t:for(;;){if(h>>>=w=y>>>24,p-=w,0===(w=y>>>16&255))O[i++]=65535&y;else{if(!(16&w)){if(0===(64&w)){y=m[(65535&y)+(h&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}k=65535&y,(w&=15)&&(p<w&&(h+=T[n++]<<p,p+=8),k+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),y=v[h&g];r:for(;;){if(h>>>=w=y>>>24,p-=w,!(16&(w=y>>>16&255))){if(0===(64&w)){y=v[(65535&y)+(h&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&y,p<(w&=15)&&(h+=T[n++]<<p,(p+=8)<w&&(h+=T[n++]<<p,p+=8)),(x+=h&(1<<w)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=w,p-=w,x>(w=i-s)){if((w=x-w)>d&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=0,S=l,0===f){if(_+=u-w,w<k){k-=w;do{O[i++]=l[_++]}while(--w);_=i-x,S=O}}else if(f<w){if(_+=u+f-w,(w-=f)<k){k-=w;do{O[i++]=l[_++]}while(--w);if(_=0,f<k){k-=w=f;do{O[i++]=l[_++]}while(--w);_=i-x,S=O}}}else if(_+=f-w,w<k){k-=w;do{O[i++]=l[_++]}while(--w);_=i-x,S=O}for(;k>2;)O[i++]=S[_++],O[i++]=S[_++],O[i++]=S[_++],k-=3;k&&(O[i++]=S[_++],k>1&&(O[i++]=S[_++]))}else{_=i-x;do{O[i++]=O[_++],O[i++]=O[_++],O[i++]=O[_++],k-=3}while(k>2);k&&(O[i++]=O[_++],k>1&&(O[i++]=O[_++]))}break}}break}}while(n<a&&i<o);n-=k=p>>3,h&=(1<<(p-=k<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=i<o?o-i+257:257-(i-o),r.hold=h,r.bits=p}},function(e,t,r){"use strict";var n=r(85),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,c,u,d,f,l){var h,p,m,v,b,g,y,w,k,x=l.bits,_=0,S=0,T=0,O=0,A=0,M=0,E=0,C=0,I=0,F=0,P=null,B=0,R=new n.Buf16(16),L=new n.Buf16(16),N=null,D=0;for(_=0;_<=15;_++)R[_]=0;for(S=0;S<c;S++)R[t[r+S]]++;for(A=x,O=15;O>=1&&0===R[O];O--);if(A>O&&(A=O),0===O)return u[d++]=20971520,u[d++]=20971520,l.bits=1,0;for(T=1;T<O&&0===R[T];T++);for(A<T&&(A=T),C=1,_=1;_<=15;_++)if(C<<=1,(C-=R[_])<0)return-1;if(C>0&&(0===e||1!==O))return-1;for(L[1]=0,_=1;_<15;_++)L[_+1]=L[_]+R[_];for(S=0;S<c;S++)0!==t[r+S]&&(f[L[t[r+S]]++]=S);if(0===e?(P=N=f,g=19):1===e?(P=a,B-=257,N=i,D-=257,g=256):(P=s,N=o,g=-1),F=0,S=0,_=T,b=d,M=A,E=0,m=-1,v=(I=1<<A)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){y=_-E,f[S]<g?(w=0,k=f[S]):f[S]>g?(w=N[D+f[S]],k=P[B+f[S]]):(w=96,k=0),h=1<<_-E,T=p=1<<M;do{u[b+(F>>E)+(p-=h)]=y<<24|w<<16|k|0}while(0!==p);for(h=1<<_-1;F&h;)h>>=1;if(0!==h?(F&=h-1,F+=h):F=0,S++,0===--R[_]){if(_===O)break;_=t[r+f[S]]}if(_>A&&(F&v)!==m){for(0===E&&(E=A),b+=T,C=1<<(M=_-E);M+E<O&&!((C-=R[M+E])<=0);)M++,C<<=1;if(I+=1<<M,1===e&&I>852||2===e&&I>592)return 1;u[m=F&v]=A<<24|M<<16|b-d|0}}return 0!==F&&(u[b+F]=_-E<<24|64<<16|0),l.bits=A,0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";var n=r(40),a=r(190),i=(a.isObject,a.isNumber),s=a.isDictionary,o=a.isArray,c=Object.keys,u=e=>o(e)?e:Object.values(e),d=e=>new Set(u(e)),f=(...e)=>Object.assign({},...e),l=e=>o(e)?Array.from(e):f(e);e.exports={keys:c,values:u,extend:f,clone:l,index:d,ordered:e=>e,unique:e=>Array.from(d(e)),arrayConcat:(e,t)=>e.concat(t),inArray:(e,t)=>t.includes(e),toArray:e=>Object.values(e),isEmpty:e=>!e||(Array.isArray(e)?e:Object.keys(e)).length<1,keysort(e,t={}){var r,a=n(c(e).sort());try{for(a.s();!(r=a.n()).done;){var i=r.value;t[i]=e[i]}}catch(s){a.e(s)}finally{a.f()}return t},indexBy(e,t,r={}){var a,i=n(u(e));try{for(i.s();!(a=i.n()).done;){var s=a.value;t in s&&(r[s[t]]=s)}}catch(o){i.e(o)}finally{i.f()}return r},groupBy(e,t,r={}){var a,i=n(u(e));try{for(i.s();!(a=i.n()).done;){var s=a.value;if(t in s){var o=s[t];r[o]=r[o]||[],r[o].push(s)}}}catch(c){i.e(c)}finally{i.f()}return r},filterBy(e,t,r,a=[]){var i,s=n(u(e));try{for(s.s();!(i=s.n()).done;){var o=i.value;o[t]===r&&a.push(o)}}catch(c){s.e(c)}finally{s.f()}return a},sortBy:(e,t,r=!1,n=(r?-1:1))=>e.sort((e,r)=>e[t]<r[t]?-n:e[t]>r[t]?n:0),flatten:function e(t,r=[]){var a,i=n(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;o(s)?e(s,r):r.push(s)}}catch(c){i.e(c)}finally{i.f()}return r},pluck:(e,t)=>u(e).filter(e=>t in e).map(e=>e[t]),omit(e,...t){if(!Array.isArray(e)){var r,a=l(e),i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(o(s)){var c,u=n(s);try{for(u.s();!(c=u.n()).done;){delete a[c.value]}}catch(d){u.e(d)}finally{u.f()}}else delete a[s]}}catch(d){i.e(d)}finally{i.f()}return a}return e},sum(...e){var t=e.filter(i);return t.length>0?t.reduce((e,t)=>e+t,0):void 0},deepExtend:function e(...t){for(var r=void 0,n=0,a=t;n<a.length;n++){var i=a[n];if(s(i))for(var o in s(r)||(r={}),i)r[o]=e(r[o],i[o]);else r=i}return r}}},function(e,t,r){"use strict";var n=r(449),a=r(450),i=r(192);e.exports={formats:i,parse:a,stringify:n}},function(e,t,r){"use strict";var n=r(191),a=r(192),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,o(t)?t:[t])},d=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:a.formatters[a.default],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,a,i,s,c,d,l,h,p,m,v,b){var g=t;if("function"===typeof d?g=d(r,g):g instanceof Date?g=p(g):"comma"===a&&o(g)&&(g=g.join(",")),null===g){if(i)return c&&!v?c(r,f.encoder,b):r;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||n.isBuffer(g))return c?[m(v?r:c(r,f.encoder,b))+"="+m(c(g,f.encoder,b))]:[m(r)+"="+m(String(g))];var y,w=[];if("undefined"===typeof g)return w;if(o(d))y=d;else{var k=Object.keys(g);y=l?k.sort(l):k}for(var x=0;x<y.length;++x){var _=y[x];s&&null===g[_]||(o(g)?u(w,e(g[_],"function"===typeof a?a(r,_):r,a,i,s,c,d,l,h,p,m,v,b)):u(w,e(g[_],r+(h?"."+_:"["+_+"]"),a,i,s,c,d,l,h,p,m,v,b)))}return w};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if("undefined"!==typeof e.format){if(!i.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=a.formatters[r],s=f.filter;return("function"===typeof e.filter||o(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:s,formatter:n,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"===typeof c.filter?n=(0,c.filter)("",n):o(c.filter)&&(r=c.filter);var d,h=[];if("object"!==typeof n||null===n)return"";d=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[d];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var v=r[m];c.skipNulls&&null===n[v]||u(h,l(n[v],v,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var b=h.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),b.length>0?g+b:""}},function(e,t,r){"use strict";var n=r(191),a=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(n),o=s?n.slice(0,s.index):n,c=[];if(o){if(!r.plainObjects&&a.call(Object.prototype,o)&&!r.allowPrototypes)return;c.push(o)}for(var u=0;null!==(s=i.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&a.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+n.slice(s.index)+"]"),function(e,t,r){for(var n=t,a=e.length-1;a>=0;--a){var i,s=e[a];if("[]"===s&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(o,10);r.parseArrays||""!==o?!isNaN(c)&&s!==o&&String(c)===o&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[o]=n:i={0:n}}n=i}return n}(c,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?i.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:i.comma,decoder:"function"===typeof e.decoder?e.decoder:i.decoder,delimiter:"string"===typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"===typeof e.depth?e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){var r,o={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,u),f=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?l="utf-8":"utf8=%26%2310003%3B"===d[r]&&(l="iso-8859-1"),f=r,r=d.length);for(r=0;r<d.length;++r)if(r!==f){var h,p,m=d[r],v=m.indexOf("]="),b=-1===v?m.indexOf("="):v+1;-1===b?(h=t.decoder(m,i.decoder,l),p=t.strictNullHandling?null:""):(h=t.decoder(m.slice(0,b),i.decoder,l),p=t.decoder(m.slice(b+1),i.decoder,l)),p&&t.interpretNumericEntities&&"iso-8859-1"===l&&(p=s(p)),p&&t.comma&&p.indexOf(",")>-1&&(p=p.split(",")),a.call(o,h)?o[h]=n.combine(o[h],p):o[h]=p}return o}(e,r):e,u=r.plainObjects?Object.create(null):{},d=Object.keys(c),f=0;f<d.length;++f){var l=d[f],h=o(l,c[l],r);u=n.merge(u,h,r)}return n.compact(u)}},function(e,t,r){"use strict";var n=r(74),a=r(107).capitalize,i=r(73),s=i.stringToBase64,o=i.urlencodeBase64,c=r(452),u=r(73),d=u.binaryToBase58,f=u.byteArrayToWordArray,l=r(38),h=l.ec,p=l.eddsa,m=(r(6).ArgumentsRequired,r(29)),v=(e,t="md5",r="hex")=>{var i={};"keccak"===t&&(t="SHA3",i.outputLength=256);var s=n[t.toUpperCase()](e,i);return"binary"===r?s:s.toString(n.enc[a(r)])},b=(e,t,r="sha256",i="hex")=>{var s=n["Hmac"+r.toUpperCase()](e,t);if(i){var o="binary"===i?"Latin1":a(i);return s.toString(n.enc[a(o)])}return s};function g(e,t,r="RS256"){var n={RS256:"pkcs1-sha256",RS512:"pkcs1-sha512"};if(!(r in n))throw new ExchangeError(r+" is not a supported rsa signing algorithm.");return new c(t,{environment:"browser",signingScheme:n[r]}).sign(e,"base64","binary")}e.exports={hash:v,hmac:b,jwt:function(e,t,r="HS256"){var n=[o(s(JSON.stringify({alg:r,typ:"JWT"}))),o(s(JSON.stringify(e)))].join("."),a=r.slice(0,2),i=void 0;return"HS"===a?i=o(b(n,t,{HS256:"sha256",HS384:"sha384",HS512:"sha512"}[r],"base64")):"RS"===a&&(i=o(g(n,t,r))),[n,i].join(".")},totp:e=>{var t=e=>parseInt(e,16),r=(e,t)=>(t+e).slice(-t.length);return(e=>{e=e.replace(" ","");var a,i=Math.round((new Date).getTime()/1e3),s=r(((a=Math.floor(i/30))<15.5?"0":"")+Math.round(a).toString(16),"0000000000000000"),o=b(n.enc.Hex.parse(s),n.enc.Hex.parse((e=>{for(var t="",n="",a=0;a<e.length;a++){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(e.charAt(a).toUpperCase());t+=r(i.toString(2),"00000")}for(var s=0;s+4<=t.length;s+=4){var o=t.substr(s,4);n+=parseInt(o,2).toString(16)}return n})(e)),"sha1","hex"),c=t(o.substring(o.length-1)),u=(t(o.substr(2*c,8))&t("7fffffff"))+"";return u=u.substr(u.length-6,6)})(e)},rsa:g,ecdsa:function(e,t,r="p256",n,a=!1){var i=e;void 0!==n&&(i=v(e,n,"hex"));for(var s=new h(r),o=s.sign(i,t,"hex",{canonical:!0}),c=new m("0"),u=new m("1").shln(248).sub(new m("1"));a&&(o.r.gt(s.nh)||o.r.lte(u)||o.s.lte(u));)o=s.sign(i,t,"hex",{canonical:!0,extraEntropy:c.toArray("le",32)}),c=c.add(new m("1"));return{r:o.r.toString(16).padStart(64,"0"),s:o.s.toString(16).padStart(64,"0"),v:o.recoveryParam}},eddsa:function(e,t,r="ed25519"){var n=new p(r).signModified(e,t);return d(f(n.toBytes()))}}},function(e,t,r){(function(t){var n=r(453),a=r(34)._,i=r(194),s=r(456);e.exports=function(){var e={browser:["md5","ripemd160","sha1","sha256","sha512"]},r={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function o(e,r,i){if(!(this instanceof o))return new o(e,r,i);a.isObject(r)&&(i=r,r=void 0),this.$options={signingScheme:"pkcs1",signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:"pkcs1",encryptionSchemeOptions:{hash:"sha1",label:null},environment:"browser",rsaUtils:this},this.keyPair=new n.Key,this.$cache={},t.isBuffer(e)||a.isString(e)?this.importKey(e,r):a.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(i)}return o.prototype.setOptions=function(t){if((t=t||{}).environment&&(this.$options.environment=t.environment),t.signingScheme){if(a.isString(t.signingScheme)){var r=t.signingScheme.toLowerCase().split("-");1==r.length?e.node.indexOf(r[0])>-1?(this.$options.signingSchemeOptions={hash:r[0]},this.$options.signingScheme="pkcs1"):(this.$options.signingScheme=r[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:r[1]},this.$options.signingScheme=r[0])}else a.isObject(t.signingScheme)&&(this.$options.signingScheme=t.signingScheme.scheme||"pkcs1",this.$options.signingSchemeOptions=a.omit(t.signingScheme,"scheme"));if(!i.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(t.encryptionScheme){if(a.isString(t.encryptionScheme)?(this.$options.encryptionScheme=t.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):a.isObject(t.encryptionScheme)&&(this.$options.encryptionScheme=t.encryptionScheme.scheme||"pkcs1",this.$options.encryptionSchemeOptions=a.omit(t.encryptionScheme,"scheme")),!i.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},o.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=r[t]||t),!s.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},o.prototype.isPrivate=function(){return this.keyPair.isPrivate()},o.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},o.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},o.prototype.sign=function(e,t,r){if(!this.isPrivate())throw Error("This is not private key");var n=this.keyPair.sign(this.$getDataForEncrypt(e,r));return t&&"buffer"!=t&&(n=n.toString(t)),n},o.prototype.$getDataForEncrypt=function(e,r){if(a.isString(e)||a.isNumber(e))return t.from(""+e,r||"utf8");if(t.isBuffer(e))return e;if(a.isObject(e))return t.from(JSON.stringify(e));throw Error("Unexpected data type")},o}()}).call(this,r(9).Buffer)},function(e,t,r){var n=r(34)._,a=r(193),i=r(34),s=r(194);e.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=s[e.signingScheme],r=s[e.encryptionScheme];t===r?this.signingScheme=this.encryptionScheme=r.makeScheme(this,e):(this.encryptionScheme=r.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e))},e.prototype.setPrivate=function(e,t,r,s,o,c,u,d){if(!(e&&t&&r&&e.length>0&&(n.isNumber(t)||t.length>0)&&r.length>0))throw Error("Invalid RSA private key");this.n=new a(e),this.e=n.isNumber(t)?t:i.get32IntFromBuffer(t,0),this.d=new a(r),s&&o&&c&&u&&d&&(this.p=new a(s),this.q=new a(o),this.dmp1=new a(c),this.dmq1=new a(u),this.coeff=new a(d)),this.$$recalculateCache()},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},function(e,t,r){(function(t){var n=r(193),a=r(74),i=3;r(455);var s={md2:t.from("3020300c06082a864886f70d020205000410","hex"),md5:t.from("3020300c06082a864886f70d020505000410","hex"),sha1:t.from("3021300906052b0e03021a05000414","hex"),sha224:t.from("302d300d06096086480165030402040500041c","hex"),sha256:t.from("3031300d060960864801650304020105000420","hex"),sha384:t.from("3041300d060960864801650304020205000430","hex"),sha512:t.from("3051300d060960864801650304020305000440","hex"),ripemd160:t.from("3021300906052b2403020105000414","hex"),rmd160:t.from("3021300906052b2403020105000414","hex")},o={ripemd160:"rmd160"};function c(e,t){var r=[];return t>0&&r.push(e>>>24),t>1&&r.push(e>>>16&255),t>2&&r.push(e>>>8&255),t>3&&r.push(255&e),r}e.exports={isEncryption:!0,isSignature:!0},e.exports.makeScheme=function(e,r){function u(e,t){this.key=e,this.options=t}return u.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i?this.key.encryptedDataLength:this.key.encryptedDataLength-11},u.prototype.encUnPad=function(e,t){t=t||{};var r=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i)return"function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length);if(e.length<4)return null;if(1===t.type){if(0!==e[0]&&1!==e[1])return null;for(r=3;0!==e[r];)if(255!=e[r]||++r>=e.length)return null}else{if(0!==e[0]&&2!==e[1])return null;for(r=3;0!==e[r];)if(++r>=e.length)return null}return e.slice(r+1,e.length)},u.prototype.sign=function(e){var r=this.options.signingSchemeOptions.hash||"sha256";if("browser"===this.options.environment){var i=function(e){var r=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");r=e.sigBytes,e=e.words;var n=[],a=[],i=0;for(;r>0;)a=c(e[i],Math.min(4,r)),r-=a.length,n.push(a),i++;return new t.from([].concat.apply([],n),"hex")}(a[(r=o[r]||r).toUpperCase()](e.toString())),s=this.pkcs1pad(i,r);return this.key.$doPrivate(new n(s)).toBuffer(this.key.encryptedDataLength)}throw new Error("CCXT only supports browser mode :P")},u.prototype.pkcs1pad=function(e,r){var n=s[r];if(!n)throw Error("Unsupported hash algorithm");var a=t.concat([n,e]);if(a.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+r+")");var i=t.alloc(this.key.encryptedDataLength-a.length-1);return i.fill(255,0,i.length-1),i[0]=1,i[i.length-1]=0,t.concat([i,a])},new u(e,r)}}).call(this,r(9).Buffer)},function(e){e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},function(e,t,r){r(34)._;e.exports={pkcs1:r(457),pkcs8:r(460),components:r(461),detectAndImport:function(t,r,n){if(void 0===n){for(var a in e.exports)if("function"===typeof e.exports[a].autoImport&&e.exports[a].autoImport(t,r))return!0}else if(n){var i=formatParse(n);if(!e.exports[i.scheme])throw Error("Unsupported key format");"private"===i.keyType?e.exports[i.scheme].privateImport(t,r,i.keyOpt):e.exports[i.scheme].publicImport(t,r,i.keyOpt)}return!1}}},function(e,t,r){(function(t){var n=r(195).Ber,a=r(34)._,i=r(34);e.exports={privateExport:function(e,t){t=t||{};var r=e.n.toBuffer(),a=e.d.toBuffer(),s=e.p.toBuffer(),o=e.q.toBuffer(),c=e.dmp1.toBuffer(),u=e.dmq1.toBuffer(),d=e.coeff.toBuffer(),f=r.length+a.length+s.length+o.length+c.length+u.length+d.length+512,l=new n.Writer({size:f});return l.startSequence(),l.writeInt(0),l.writeBuffer(r,2),l.writeInt(e.e),l.writeBuffer(a,2),l.writeBuffer(s,2),l.writeBuffer(o,2),l.writeBuffer(c,2),l.writeBuffer(u,2),l.writeBuffer(d,2),l.endSequence(),"der"===t.type?l.buffer:"-----BEGIN RSA PRIVATE KEY-----\n"+i.linebrk(l.buffer.toString("base64"),64)+"\n-----END RSA PRIVATE KEY-----"},privateImport:function(e,r,s){var o;if("der"!==(s=s||{}).type){if(t.isBuffer(r)&&(r=r.toString("utf8")),!a.isString(r))throw Error("Unsupported key format");var c=i.trimSurroundingText(r,"-----BEGIN RSA PRIVATE KEY-----","-----END RSA PRIVATE KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}else{if(!t.isBuffer(r))throw Error("Unsupported key format");o=r}var u=new n.Reader(o);u.readSequence(),u.readString(2,!0),e.setPrivate(u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0))},publicExport:function(e,t){t=t||{};var r=e.n.toBuffer(),a=r.length+512,s=new n.Writer({size:a});return s.startSequence(),s.writeBuffer(r,2),s.writeInt(e.e),s.endSequence(),"der"===t.type?s.buffer:"-----BEGIN RSA PUBLIC KEY-----\n"+i.linebrk(s.buffer.toString("base64"),64)+"\n-----END RSA PUBLIC KEY-----"},publicImport:function(e,r,s){var o;if("der"!==(s=s||{}).type){if(t.isBuffer(r)&&(r=r.toString("utf8")),a.isString(r)){var c=i.trimSurroundingText(r,"-----BEGIN RSA PUBLIC KEY-----","-----END RSA PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}}else{if(!t.isBuffer(r))throw Error("Unsupported key format");o=r}var u=new n.Reader(o);u.readSequence(),e.setPublic(u.readString(2,!0),u.readString(2,!0))},autoImport:function(t,r){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(r)?(e.exports.privateImport(t,r),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(r)&&(e.exports.publicImport(t,r),!0)}}}).call(this,r(9).Buffer)},function(e,t,r){var n=r(196),a=r(197),i=r(459);for(var s in e.exports={Reader:i},a)a.hasOwnProperty(s)&&(e.exports[s]=a[s]);for(var o in n)n.hasOwnProperty(o)&&(e.exports[o]=n[o])},function(e,t,r){(function(t){var n=r(72),a=r(197),i=r(196).newInvalidAsn1Error;function s(e){if(!e||!t.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(s.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(s.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),s.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},s.prototype.peek=function(){return this.readByte(!0)},s.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128===(128&t)){if(0===(t&=127))throw i("Indefinite length not supported");if(t>4)throw i("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},s.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw i("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},s.prototype.readInt=function(){return this._readTag(a.Integer)},s.prototype.readBoolean=function(){return 0!==this._readTag(a.Boolean)},s.prototype.readEnumeration=function(){return this._readTag(a.Enumeration)},s.prototype.readString=function(e,r){e||(e=a.OctetString);var n=this.peek();if(null===n)return null;if(n!==e)throw i("Expected 0x"+e.toString(16)+": got 0x"+n.toString(16));var s=this.readLength(this._offset+1);if(null===s)return null;if(this.length>this._size-s)return null;if(this._offset=s,0===this.length)return r?t.alloc(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,r?o:o.toString("utf8")},s.prototype.readOID=function(e){e||(e=a.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var s=255&t[i];n<<=7,n+=127&s,0===(128&s)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},s.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw i("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw i("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var a=this._buf[this._offset],s=0,o=0;o<this.length;o++)s<<=8,s|=255&this._buf[this._offset++];return 128===(128&a)&&4!==o&&(s-=1<<8*o),s>>0},e.exports=s}).call(this,r(9).Buffer)},function(e,t,r){(function(t){var n=r(195).Ber,a=r(34)._,i=r(34);e.exports={privateExport:function(e,t){t=t||{};var r=e.n.toBuffer(),a=e.d.toBuffer(),s=e.p.toBuffer(),o=e.q.toBuffer(),c=e.dmp1.toBuffer(),u=e.dmq1.toBuffer(),d=e.coeff.toBuffer(),f=r.length+a.length+s.length+o.length+c.length+u.length+d.length+512,l=new n.Writer({size:f});l.startSequence(),l.writeInt(0),l.writeBuffer(r,2),l.writeInt(e.e),l.writeBuffer(a,2),l.writeBuffer(s,2),l.writeBuffer(o,2),l.writeBuffer(c,2),l.writeBuffer(u,2),l.writeBuffer(d,2),l.endSequence();var h=new n.Writer({size:f});return h.startSequence(),h.writeInt(0),h.startSequence(),h.writeOID("1.2.840.113549.1.1.1"),h.writeNull(),h.endSequence(),h.writeBuffer(l.buffer,4),h.endSequence(),"der"===t.type?h.buffer:"-----BEGIN PRIVATE KEY-----\n"+i.linebrk(h.buffer.toString("base64"),64)+"\n-----END PRIVATE KEY-----"},privateImport:function(e,r,s){var o;if("der"!==(s=s||{}).type){if(t.isBuffer(r)&&(r=r.toString("utf8")),!a.isString(r))throw Error("Unsupported key format");var c=i.trimSurroundingText(r,"-----BEGIN PRIVATE KEY-----","-----END PRIVATE KEY-----").replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}else{if(!t.isBuffer(r))throw Error("Unsupported key format");o=r}var u=new n.Reader(o);if(u.readSequence(),u.readInt(0),"1.2.840.113549.1.1.1"!==new n.Reader(u.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var d=new n.Reader(u.readString(4,!0));d.readSequence(),d.readString(2,!0),e.setPrivate(d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0))},publicExport:function(e,t){t=t||{};var r=e.n.toBuffer(),a=r.length+512,s=new n.Writer({size:a});s.writeByte(0),s.startSequence(),s.writeBuffer(r,2),s.writeInt(e.e),s.endSequence();var o=new n.Writer({size:a});return o.startSequence(),o.startSequence(),o.writeOID("1.2.840.113549.1.1.1"),o.writeNull(),o.endSequence(),o.writeBuffer(s.buffer,3),o.endSequence(),"der"===t.type?o.buffer:"-----BEGIN PUBLIC KEY-----\n"+i.linebrk(o.buffer.toString("base64"),64)+"\n-----END PUBLIC KEY-----"},publicImport:function(e,r,s){var o;if("der"!==(s=s||{}).type){if(t.isBuffer(r)&&(r=r.toString("utf8")),a.isString(r)){var c=i.trimSurroundingText(r,"-----BEGIN PUBLIC KEY-----","-----END PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}}else{if(!t.isBuffer(r))throw Error("Unsupported key format");o=r}var u=new n.Reader(o);if(u.readSequence(),"1.2.840.113549.1.1.1"!==new n.Reader(u.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var d=new n.Reader(u.readString(3,!0));d.readByte(),d.readSequence(),e.setPublic(d.readString(2,!0),d.readString(2,!0))},autoImport:function(t,r){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(r)?(e.exports.privateImport(t,r),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(r)&&(e.exports.publicImport(t,r),!0)}}}).call(this,r(9).Buffer)},function(e,t,r){r(34)._,r(34);e.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,r){if(!(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff))throw Error("Invalid key data");e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff)},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,r){if(!t.n||!t.e)throw Error("Invalid key data");e.setPublic(t.n,t.e)},autoImport:function(t,r){return!(!r.n||!r.e)&&(r.d&&r.p&&r.q&&r.dmp1&&r.dmq1&&r.coeff?(e.exports.privateImport(t,r),!0):(e.exports.publicImport(t,r),!0))}}},function(e,t,r){"use strict";var n=r(29),a=r(38).utils,i=a.getNAF,s=a.getJSF,o=a.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=i(t,1),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;for(var s=[],c=0;c<n.length;c+=r.step){var u=0;for(t=c+r.step-1;t>=c;t--)u=(u<<1)+n[t];s.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),l=a;l>0;l--){for(c=0;c<s.length;c++){(u=s[c])===l?f=f.mixedAdd(r.points[c]):u===-l&&(f=f.mixedAdd(r.points[c].neg()))}d=d.add(f)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,s=i(t,r),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(t=0;u>=0&&0===s[u];u--)t++;if(u>=0&&t++,c=c.dblp(t),u<0)break;var d=s[u];o(0!==d),c="affine"===e.type?d>0?c.mixedAdd(a[d-1>>1]):c.mixedAdd(a[-d-1>>1].neg()):d>0?c.add(a[d-1>>1]):c.add(a[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,a){for(var o=this._wnafT1,c=this._wnafT2,u=this._wnafT3,d=0,f=0;f<n;f++){var l=(T=t[f])._getNAFPoints(e);o[f]=l.wnd,c[f]=l.points}for(f=n-1;f>=1;f-=2){var h=f-1,p=f;if(1===o[h]&&1===o[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=s(r[h],r[p]);d=Math.max(b[0].length,d),u[h]=new Array(d),u[p]=new Array(d);for(var g=0;g<d;g++){var y=0|b[0][g],w=0|b[1][g];u[h][g]=v[3*(y+1)+(w+1)],u[p][g]=0,c[h]=m}}else u[h]=i(r[h],o[h]),u[p]=i(r[p],o[p]),d=Math.max(u[h].length,d),d=Math.max(u[p].length,d)}var k=this.jpoint(null,null,null),x=this._wnafT4;for(f=d;f>=0;f--){for(var _=0;f>=0;){var S=!0;for(g=0;g<n;g++)x[g]=0|u[g][f],0!==x[g]&&(S=!1);if(!S)break;_++,f--}if(f>=0&&_++,k=k.dblp(_),f<0)break;for(g=0;g<n;g++){var T,O=x[g];0!==O&&(O>0?T=c[g][O-1>>1]:O<0&&(T=c[g][-O-1>>1].neg()),k="affine"===T.type?k.mixedAdd(T):k.add(T))}}for(f=0;f<n;f++)c[f]=null;return a?k:k.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?o(e[e.length-1]%2===0):7===e[0]&&o(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},function(e,t,r){"use strict";var n=r(86),a=r(38),i=r(29),s=a.inherits,o=n.base,c=a.utils.assert;function u(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],c(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),a=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(a).fromRed(),n.redSub(a).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,a,s,o,c,u,d,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),b=new i(1),g=0;0!==l.cmpn(0);){var y=h.div(l);u=h.sub(y.mul(l)),d=v.sub(y.mul(p));var w=b.sub(y.mul(m));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),a=d;else if(n&&2===++g)break;c=u,h=l,l=u,v=p,p=d,b=m,m=w}s=u.neg(),o=d;var k=n.sqr().add(a.sqr());return s.sqr().add(o.sqr()).cmp(k)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),a=a.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:a},{a:s,b:o}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),o=i.mul(n.a),c=a.mul(r.b),u=i.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var a=n.fromRed().isOdd();return(t&&!a||!t&&a)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(a).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),o=e[i],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*i]=o,n[2*i+1]=c,a[2*i]=s.k1,a[2*i+1]=s.k2}for(var u=this._wnafMulAdd(1,n,a,2*i,r),d=0;d<2*i;d++)n[d]=null,a[d]=null;return u},s(d,o.BasePoint),u.prototype.point=function(e,t,r){return new d(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return d.fromJSON(this,e,t)},d.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function a(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(a))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(a))}},n},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},d.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(e){return e=new i(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},d.prototype.jmulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},d.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},d.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(f,o.BasePoint),u.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(a),c=i.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),f=n.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(i.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=a.redSub(i);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(d).redISub(d),l=o.redMul(d.redISub(f)).redISub(a.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,a=this.curve.tinv,i=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var d=i.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=i.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),b=h.redMul(v);b=b.redIAdd(b).redISub(l);var g=u.redMul(o);r+1<e&&(c=c.redMul(l)),i=m,o=g,u=b}return this.curve.jpoint(i,u.redMul(a),o)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),v=l.redIAdd(l);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),o=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=o.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=a.redIAdd(s).redSqr().redISub(i).redISub(o).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(o).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=r.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}return!1},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,r){"use strict";var n=r(86),a=r(29),i=r(38).inherits,s=n.base,o=r(38).utils;function c(e){s.call(this,"mont",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(t,16),this.z=new a(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(c,s),e.exports=c,c.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(u,s.BasePoint),c.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},c.prototype.point=function(e,t){return new u(this,e,t)},c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),a=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,a)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),i=e.x.redSub(e.z).redMul(r),s=a.redMul(n),o=t.z.redMul(i.redAdd(s).redSqr()),c=t.x.redMul(i.redISub(s).redSqr());return this.curve.point(o,c)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var i=a.length-1;i>=0;i--)0===a[i]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,r){"use strict";var n=r(86),a=r(38),i=r(29),s=a.inherits,o=n.base,c=a.utils.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function d(e,t,r,n,a){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=a&&new i(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),a=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(a.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),a=r.redMul(this.d).redAdd(this.one),s=n.redMul(a.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(a)},s(d,o.BasePoint),u.prototype.pointFromJSON=function(e){return d.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new d(this,e,t,r,n)},d.fromJSON=function(e,t){return new d(e,t[0],t[1],t[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},d.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),s=i.redSub(r),o=n.redSub(t),c=a.redMul(s),u=i.redMul(o),d=a.redMul(o),f=s.redMul(i);return this.curve.point(c,u,f,d)},d.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(a)).redAdd(i);if(this.zOne)e=n.redSub(a).redSub(i).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(i)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),c=s.redSub(o).redISub(o);e=n.redSub(a).redISub(i).redMul(c),t=s.redMul(u.redSub(i)),r=s.redMul(c)}}else{var u=a.redAdd(i);o=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=u.redSub(o).redSub(o);e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(a.redISub(i)),r=u.redMul(c)}return this.curve.point(e,t,r)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),s=a.redSub(n),o=a.redAdd(n),c=r.redAdd(t),u=i.redMul(s),d=o.redMul(c),f=i.redMul(c),l=s.redMul(o);return this.curve.point(u,d,l,f)},d.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),a=n.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),c=a.redSub(o),u=a.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),f=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(i))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(i)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},d.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},d.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},d.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},d.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,r){"use strict";var n=r(29),a=r(468),i=r(38),s=i.utils.assert,o=r(469),c=r(470);function u(e){if(!(this instanceof u))return new u(e);"string"===typeof e&&(s(i.curves.hasOwnProperty(e),"Unknown curve "+e),e=i.curves[e]),e instanceof i.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=u,u.prototype.keyPair=function(e){return new o(this,e)},u.prototype.keyFromPrivate=function(e,t){return o.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return o.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||null,entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,r,i){"object"===typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),u=e.toArray("be",s),d=new a({hash:this.hash,entropy:i.extraEntropy?o.concat(i.extraEntropy):o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new n(1)),l=0;;l++){var h=i.k?i.k(l):new n(d.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var b=h.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),g^=1),new c({r:v,s:b,recoveryParam:g})}}}}}},u.prototype.verify=function(e,t,r,a){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,a);var i=(t=new c(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,u=s.invm(this.n),d=u.mul(e).umod(this.n),f=u.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(d,r.getPublic(),f)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(d,r.getPublic(),f)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},u.prototype.recoverPubKey=function(e,t,r,a){s((3&r)===r,"The recovery param is more than two bits"),t=new c(t,a);var i=this.n,o=new n(e),u=t.r,d=t.s,f=1&r,l=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");u=l?this.curve.pointFromX(u.add(this.curve.n),f):this.curve.pointFromX(u,f);var h=t.r.invm(i),p=i.sub(o).mul(h).umod(i),m=d.mul(h).umod(i);return this.g.mulAdd(p,u,m)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new c(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")}},function(e,t,r){"use strict";var n=r(74),a=r(59).assert,i=r(59),s=r(73).byteArrayToWordArray,o=n.enc.Utf8.parse("\x01"),c=n.enc.Utf8.parse("\0");function u(e){if(!(this instanceof u))return new u(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.slice(3,6),this.minEntropy=e.minEntropy||192,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=e.entropy,r=e.nonce;a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,[])}e.exports=u,u.prototype._init=function(e,t,r){var a=e.concat(t).concat(r);this.K=new n.lib.WordArray.init,this.V=new n.lib.WordArray.init;this.V.words=Array(this.outLen/32).fill(16843009),this.V.sigBytes=32,this._update(a),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new n.lib.WordArray.init},u.prototype._update=function(e){var t=this._hmac();t.concat(this.V),t.concat(c),e&&t.concat(s(e)),this.K=n["Hmac"+this.hash](t,this.K),this.V=n["Hmac"+this.hash](this.V,this.K),e&&((t=this._hmac()).concat(this.V),t.concat(o),t.concat(s(e)),this.K=n["Hmac"+this.hash](t,this.K),this.V=n["Hmac"+this.hash](this.V,this.K))},u.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(r,r=t,t=null),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},u.prototype.generate=function(e,t,r,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r,r=t,t=null),r&&(r=n.enc.Utf8.parse(r),this._update(r));for(var s=new n.lib.WordArray.init;s.sigBytes<e;)this.V=n["Hmac"+this.hash](this.V,this.K),s.concat(this.V);return this._update(r),this._reseed++,i.wordArrayToBuffer(s)}},function(e,t,r){"use strict";var n=r(29),a=r(38).utils.assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,r){"use strict";var n=r(29),a=r(38).utils.assert;e.exports=function e(t,r){if(t instanceof e)return t;a(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam}},function(e,t,r){"use strict";var n=r(198),a=r(59),i=a.assert,s=a.parseBytes,o=r(472),c=r(473),u=r(29),d=r(73).byteArrayToWordArray,f=r(74);function l(e){if(i("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);var t=n[e].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8)}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.secret(),e),a=this.g.mul(n),i=this.encodePoint(a),o=this.hashInt(i,r.pubBytes(),e);o=o.mul(r.priv());var c=n.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:i})},l.prototype.signModified=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=new u(r.secret(),16,"le"),a=this.encodePoint(this.g.mul(n)),i=128&a[31],o=this.hashInt(r.secret(),e),c=this.g.mul(o),d=this.encodePoint(c),f=this.hashInt(d,a,e);f=f.mul(n);var l=o.add(f).umod(this.curve.n),h=l.toArray("le");return h[31]|=i,this.makeSignature({R:c,S:l,Rencoded:d,Sencoded:h})},l.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),a=this.hashInt(t.Rencoded(),n.pubBytes(),e),i=this.g.mul(t.S());return t.R().add(n.pub().mul(a)).eq(i)},l.prototype.hashInt=function(){var e=Array.from(arguments).reduce((e,t)=>e.concat(t));e=d(e);var t=f.SHA512(e).toString(f.enc.Hex);return a.intFromLE(t).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return o.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return o.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),i=a.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return a.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,r){"use strict";var n=r(59),a=n.assert,i=n.parseBytes,s=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.signModified=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.signModified(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},function(e,t,r){"use strict";var n=r(29),a=r(59),i=a.assert,s=a.cachedProperty,o=a.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},function(e,t,r){"use strict";e.exports={BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{BadSymbol:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{RateLimitExceeded:{}},ExchangeNotAvailable:{OnMaintenance:{}},InvalidNonce:{},RequestTimeout:{}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(199),s=i.sleep,o=i.now;e.exports={throttle:function e(t){var r=o(),i=void 0!==t.numTokens?t.numTokens:t.capacity,c=!1,u=[];return Object.assign((e,d)=>{if(u.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(function(){var f=a(n.mark((function a(f,l){var h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,u.push({cost:d,resolve:f,reject:l}),c){n.next=15;break}c=!0;case 4:if(!(u.length>0)){n.next=14;break}return(t.capacity?i>0:i>=0)&&u.length>0&&(h=u[0],p=h.cost,m=h.resolve,h.reject,p=p||t.defaultCost,i>=Math.min(p,t.capacity)&&(i-=p,u.shift(),m())),v=o(),b=v-r,r=v,i=Math.min(t.capacity,i+b*(1/e)),n.next=12,s(t.delay);case 12:n.next=4;break;case 14:c=!1;case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),l(n.t0);case 20:case"end":return n.stop()}}),a,null,[[0,17]])})));return function(e,t){return f.apply(this,arguments)}}())},t,{configure:r=>e(Object.assign({},t,r))})}}},function(e,t,r){"use strict";var n=r(17),a=r(16),i=a.ROUND_UP,s=a.ROUND_DOWN,o=r(6).NotSupported,c=e=>{var t=e.slice(0,-1),r=e.slice(-1),n=void 0;if("y"===r)n=31536e3;else if("M"===r)n=2592e3;else if("w"===r)n=604800;else if("d"===r)n=86400;else if("h"===r)n=3600;else if("m"===r)n=60;else{if("s"!==r)throw new o("timeframe unit "+r+" is not supported");n=1}return t*n};e.exports={aggregate(e){for(var t={},r=0;r<e.length;r++){var a=n(e[r],2),i=a[0],s=a[1];s>0&&(t[i]=(t[i]||0)+s)}return Object.keys(t).map(e=>[parseFloat(e),parseFloat(t[e])])},parseTimeframe:c,roundTimeframe:(e,t,r=s)=>{var n=1e3*c(e);return t-t%n+(r===i?n:0)},buildOHLCVC:(e,t="1m",r=-1/0,n=1/0)=>{for(var a=1e3*c(t),i=[],s=[0,1,2,3,4,5,6],o=s[0],u=s[2],d=s[3],f=s[4],l=s[5],h=s[6],p=Math.min(e.length-1,n),m=0;m<=p;m++){var v=e[m];if(!(v.timestamp<r)){var b=Math.floor(v.timestamp/a)*a,g=i.length-1;-1===g||b>=i[g][o]+a?i.push([b,v.price,v.price,v.price,v.price,v.amount,1]):(i[g][u]=Math.max(i[g][u],v.price),i[g][d]=Math.min(i[g][d],v.price),i[g][f]=v.price,i[g][l]+=v.amount,i[g][h]++)}}return i},ROUND_UP:i,ROUND_DOWN:s,implodeParams:(e,t)=>{if(!Array.isArray(t))for(var r=Object.keys(t),n=0;n<r.length;n++){var a=r[n];Array.isArray(t[a])||(e=e.replace("{"+a+"}",t[a]))}return e},extractParams:e=>{for(var t=/{([\w-]+)}/g,r=[],n=t.exec(e);n;)r.push(n[1]),n=t.exec(e);return r},vwap:function(e,t){return void 0!==e&&void 0!==t&&e>0?t/e:void 0}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ArgumentsRequired,c=s.AuthenticationError,u=s.ExchangeError,d=s.ExchangeNotAvailable,f=s.OrderNotFound,l=s.InvalidOrder,h=s.CancelPending,p=s.RateLimitExceeded,m=s.InsufficientFunds,v=s.BadRequest,b=s.BadSymbol,g=s.PermissionDenied,y=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"aax",name:"AAX",countries:["MT"],enableRateLimit:!0,rateLimit:500,version:"v2",hostname:"aaxpro.com",certified:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","12h":"12h","1d":"1d","3d":"3d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/104140087-a27f2580-53c0-11eb-87c1-5d9e81208fe9.jpg",test:{v1:"https://api.testnet.{hostname}/marketdata/v1",public:"https://api.testnet.{hostname}",private:"https://api.testnet.{hostname}"},api:{v1:"https://api.{hostname}/marketdata/v1",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.aaxpro.com",doc:"https://www.aaxpro.com/apidoc/index.html",fees:"https://www.aaxpro.com/en-US/fees/",referral:"https://www.aaxpro.com/invite/sign-up?inviteCode=JXGm5Fy7R2MB"},api:{v1:{get:["getHistMarketData"]},public:{get:["announcement/maintenance","instruments","market/orderbook","futures/position/openInterest","market/tickers","market/candles","market/history/candles","market/trades","market/markPrice","futures/funding/predictedFunding/{symbol}","futures/funding/prevFundingRate/{symbol}","market/candles/index"]},private:{get:["user/info","account/balances","account/deposit/address","spot/trades","spot/openOrders","spot/orders","futures/position","futures/position/closed","futures/trades","futures/openOrders","futures/orders","futures/funding/predictedFundingFee/{symbol}"],post:["account/transfer","spot/orders","spot/orders/cancelAllOnTimeout","futures/orders","futures/orders/cancelAllOnTimeout","futures/position/sltp","futures/position/close","futures/position/leverage","futures/position/margin"],put:["spot/orders","futures/orders"],delete:["spot/orders/cancel/{orderID}","spot/orders/cancel/all","futures/orders/cancel/{orderID}","futures/orders/cancel/all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:6e-4,taker:.001},funding:{tierBased:!1,percentage:!0,withdraw:{}}},commonCurrencies:{XBT:"XBT"},exceptions:{exact:{2002:m,2003:f,10003:v,10006:c,10007:c,11007:c,20001:m,20009:l,3e4:f,30001:l,30004:l,30005:l,30006:l,30007:l,30008:l,30009:l,30010:l,30011:h,30012:v,30013:b,30014:f,30015:l,30016:u,30017:l,30018:l,30019:l,30020:l,30021:l,30022:l,30023:l,30024:l,30025:l,30026:l,30027:l,30028:b,30029:l,30030:l,30031:l,30032:l,30033:l,30034:p,30035:p,30036:d,30037:l,30038:u,30039:m,30040:l,30041:l,30042:l,30043:l,30044:v,30045:l,30046:l,30047:l,30048:l,30049:l,30050:l,40004:v,40009:p,40102:c,40103:c,40303:g,41001:v,41002:v,42001:d,50001:u,50002:u},broad:{}},precisionMode:y,options:{defaultType:"spot"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInstruments(e);case 2:for(a=r.sent,i=t.safeValue(a,"data"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=t.safeString(c,"base"),f=t.safeString(c,"quote"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=t.safeString(c,"status"),m="enable"===p,v=t.safeFloat(c,"takerFee"),b=t.safeFloat(c,"makerFee"),g=t.safeString(c,"type"),y=void 0,w=void 0,k=void 0,x="spot"===g,_="futures"===g,void 0!==(S=t.safeStringLower(c,"settleType"))&&(y="inverse"===S,w="vanilla"===S,k="quanto"===S),T=u,"spot"===g&&(T=l+"/"+h),O={amount:t.safeFloat(c,"lotSize"),price:t.safeFloat(c,"tickSize")},s.push({id:u,symbol:T,base:l,quote:h,baseId:d,quoteId:f,type:g,spot:x,futures:_,inverse:y,linear:w,quanto:k,precision:O,info:c,active:m,taker:v,maker:b,percentage:!1,tierBased:!0,limits:{amount:{min:t.safeString(c,"minQuantity"),max:t.safeString(c,"maxQuantity")},price:{min:t.safeString(c,"minPrice"),max:t.safeString(c,"maxPrice")},cost:{min:void 0,max:void 0}}});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeInteger(e,"t"),n=this.safeString(e,"s"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"c"),s=this.safeFloat(e,"o"),o=void 0,c=void 0,u=void 0;void 0!==i&&void 0!==s&&(o=i-s,s>0&&(c=o/s*100),u=this.sum(i,s)/2);var d=this.safeFloat(e,"v");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"h"),low:this.safeFloat(e,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:s,close:i,last:i,previousClose:void 0,change:o,percentage:c,average:u,baseVolume:void 0,quoteVolume:d,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickers(void 0,t);case 2:if(i=n.sent,!(e in i)){n.next=5;break}return n.abrupt("return",i[e]);case 5:throw new b(r.id+" fetchTicker() symbol "+e+" ticker not found");case 6:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"tickers",[]),o=[],c=r.safeInteger(i,"t"),u=0;u<s.length;u++)d=r.parseTicker(r.extend(s[u],{t:c})),o.push(d);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(s=i.market(e),void 0!==t){n.next=7;break}t=20,n.next=9;break;case 7:if(20===t||50===t){n.next=9;break}throw new v(i.id+" fetchOrderBook() limit argument must be undefined, 20 or 50");case 9:return o={symbol:s.id,level:t},n.next=12,i.publicGetMarketOrderbook(i.extend(o,r));case 12:return c=n.sent,u=i.safeInteger(c,"t"),n.abrupt("return",i.parseOrderBook(c,u));case 15:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger(e,"t");void 0===r&&(r=this.parse8601(this.safeString(e,"createTime")));var n=this.safeString2(e,"tid","tradeID"),a=void 0,i=this.safeString(e,"symbol");void 0!==(t=this.safeMarket(i,t))&&(a=t.symbol);var s=this.safeFloat2(e,"p","filledPrice"),o=this.safeFloat2(e,"q","filledQty"),c=this.safeString(e,"orderID"),u=this.safeValue(e,"taker"),d=void 0;void 0!==u&&(d=u?"taker":"maker");var f=this.safeString(e,"side");"1"===f?f="buy":"2"===f&&(f="sell"),void 0===f&&(f=s>0?"buy":"sell"),f=s>0?"buy":"sell";var l=void 0;void 0!==(s=Math.abs(s))&&void 0!==o&&(l=s*o);var h=this.parseOrderType(this.safeString(e,"orderType")),p=void 0,m=this.safeFloat(e,"commission");if(void 0!==m){var v=void 0;void 0!==t&&("buy"===f?v=t.base:"sell"===f&&(v=t.quote)),p={currency:v,cost:m}}return{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:a,type:h,side:f,order:c,takerOrMaker:d,price:s,amount:o,cost:l,fee:p}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var i,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return i=s.market(e),r=void 0===r?2e3:r,r=Math.min(r,2e3),o={symbol:i.id,limit:r},n.next=8,s.publicGetMarketTrades(o);case 8:return c=n.sent,u=s.safeValue(c,"trades",[]),n.abrupt("return",s.parseTrades(u,i,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,5),this.safeFloat(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4)]}fetchOHLCV(e,t="1h",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,timeFrame:o.timeframes[t]},i=void 0===i?500:i,d=o.parseTimeframe(t),void 0===r?(f=o.seconds(),u.start=f-d*i,u.end=f):(l=parseInt(r/1e3),u.start=l,u.end=o.sum(l,d*i)),n.next=9,o.publicGetMarketHistoryCandles(o.extend(u,s));case 9:return h=n.sent,p=o.safeValue(h,"data",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString2(t.options,"fetchBalance","defaultType","spot"),i=t.safeString(e,"type",a),s={spot:"SPTP",future:"FUTP",otc:"F2CP",saving:"VLTP"},o=t.safeString(s,i,i),c={purseType:o},e=t.omit(e,"type"),r.next=10,t.privateGetAccountBalances(t.extend(c,e));case 10:for(u=r.sent,d=t.safeValue(u,"data"),f={info:u},l=0;l<d.length;l++)h=d[l],t.safeString(h,"purseType")===o&&(p=t.safeString(h,"currency"),m=t.safeCurrencyCode(p),(v=t.account()).free=t.safeFloat(h,"available"),v.used=t.safeFloat(h,"unavailable"),f[m]=v);return r.abrupt("return",t.parseBalance(f));case 15:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b,g,y;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=t.toUpperCase(),f=r.toUpperCase(),n.next=4,u.loadMarkets();case 4:if(l=u.market(e),h={symbol:l.id,orderQty:u.amountToPrecision(e,i),side:f},void 0!==(p=u.safeString(c,"timeInForce"))&&(h.timeInForce=p,c=u.omit(c,"timeInForce")),void 0!==(m=u.safeString2(c,"clOrdID","clientOrderId"))&&(h.clOrdID=m,c=u.omit(c,["clOrdID","clientOrderId"])),void 0!==(v=u.safeFloat(c,"stopPrice"))){n.next=16;break}if("STOP-LIMIT"!==d&&"STOP"!==d){n.next=14;break}throw new o(u.id+" createOrder() requires a stopPrice parameter for "+d+" orders");case 14:n.next=19;break;case 16:"LIMIT"===d?d="STOP-LIMIT":"MARKET"===d&&(d="STOP"),h.stopPrice=u.priceToPrecision(e,v),c=u.omit(c,"stopPrice");case 19:return"LIMIT"!==d&&"STOP-LIMIT"!==d||(h.price=u.priceToPrecision(e,s)),h.orderType=d,b=void 0,l.spot?b="privatePostSpotOrders":l.futures&&(b="privatePostFuturesOrders"),n.next=25,u[b](u.extend(h,c));case 25:return g=n.sent,y=u.safeValue(g,"data",{}),n.abrupt("return",u.parseOrder(y,l));case 28:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return a=u.market(t),i={orderID:e},void 0!==(d=u.safeFloat(c,"stopPrice"))&&(i.stopPrice=u.priceToPrecision(t,d),c=u.omit(c,"stopPrice")),void 0!==o&&(i.price=u.priceToPrecision(t,o)),void 0!==s&&(i.orderQty=u.amountToPrecision(t,s)),f=void 0,a.spot?f="privatePutSpotOrders":a.futures&&(f="privatePutFuturesOrders"),r.next=12,u[f](u.extend(i,c));case 12:return l=r.sent,h=u.safeValue(l,"data",{}),r.abrupt("return",u.parseOrder(h,a));case 15:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderID:e},o=void 0,c=i.safeString2(i.options,"cancelOrder","defaultType","spot"),u=i.safeString(r,"type",c),r=i.omit(r,"type"),d=void 0,void 0!==t&&(d=i.market(t),u=d.type),"spot"===u?o="privateDeleteSpotOrdersCancelOrderID":"futures"===u&&(o="privateDeleteFuturesOrdersCancelOrderID"),n.next=12,i[o](i.extend(s,r));case 12:return f=n.sent,l=i.safeValue(f,"data",{}),n.abrupt("return",i.parseOrder(l,d));case 15:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new o(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.market(e),s={symbol:i.id},c=void 0,i.spot?c="privateDeleteSpotOrdersCancelAll":i.futures&&(c="privateDeleteFuturesOrdersCancelAll"),n.next=10,r[c](r.extend(s,t));case 10:return u=n.sent,n.abrupt("return",u);case 12:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.safeString2(i.options,"fetchOrder","defaultType","spot"),r.type=i.safeString(r,"type",s),o={},void 0===(c=i.safeString2(r,"clOrdID","clientOrderId"))?o.orderID=e:(o.clOrdID=c,r=i.omit(r,["clOrdID","clientOrderId"])),n.next=9,i.fetchOrders(t,void 0,void 0,i.extend(o,r));case 9:if(u=n.sent,void 0!==(d=i.safeValue(u,0))){n.next=17;break}if(void 0!==c){n.next=16;break}throw new f(i.id+" fetchOrder() could not find order id "+e);case 16:throw new f(i.id+" fetchOrder() could not find order clientOrderID "+c);case 17:return n.abrupt("return",d);case 18:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=s.safeString2(s.options,"fetchOpenOrders","defaultType","spot"),u=s.safeString(i,"type",c),i=s.omit(i,"type"),d=void 0,void 0!==e&&(d=s.market(e),o.symbol=d.id,u=d.type),void 0!==(f=s.safeString2(i,"clOrdID","clientOrderId"))&&(o.clOrdID=f,i=s.omit(i,["clOrdID","clientOrderId"])),l=void 0,"spot"===u?l="privateGetSpotOpenOrders":"futures"===u&&(l="privateGetFuturesOpenOrders"),void 0!==r&&(o.pageSize=r),n.next=15,s[l](s.extend(o,i));case 15:return h=n.sent,p=s.safeValue(h,"data",{}),m=s.safeValue(p,"list",[]),n.abrupt("return",s.parseOrders(m,d,t,r));case 19:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={orderStatus:"2"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchCanceledOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={orderStatus:"3"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,u=s.safeString2(s.options,"fetchOrders","defaultType","spot"),d=s.safeString(i,"type",u),i=s.omit(i,"type"),f=void 0,void 0!==e&&(f=s.market(e),o.symbol=f.id,d=f.type),"spot"===d?c="privateGetSpotOrders":"futures"===d&&(c="privateGetFuturesOrders"),void 0!==(l=s.safeString2(i,"clOrdID","clientOrderId"))&&(o.clOrdID=l,i=s.omit(i,["clOrdID","clientOrderId"])),void 0!==r&&(o.pageSize=r),void 0!==t&&(o.startDate=s.ymd(t)),n.next=16,s[c](s.extend(o,i));case 16:return h=n.sent,p=s.safeValue(h,"data",{}),m=s.safeValue(p,"list",[]),n.abrupt("return",s.parseOrders(m,f,t,r));case 20:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"rejected",10:"expired",11:"rejected"},e,e)}parseOrderType(e){return this.safeString({1:"market",2:"limit",3:"stop",4:"stop-limit",7:"stop-loss",8:"take-profit"},e,e)}parseTimeInForce(e){return this.safeString({1:"GTC",3:"IOC",4:"FOK"},e,e)}parseOrder(e,t){var r=this.safeValue(e,"createTime");"string"===typeof r&&(r=this.parse8601(r));var n=this.parseOrderStatus(this.safeString(e,"orderStatus")),a=this.parseOrderType(this.safeString(e,"orderType")),i=this.safeString(e,"side");"1"===i?i="buy":"2"===i&&(i="sell");var s=this.safeString(e,"orderID"),o=this.safeString(e,"clOrdID"),c=this.safeString(e,"symbol"),u=(t=this.safeMarket(c,t)).symbol,d=this.safeFloat(e,"price"),f=this.safeFloat(e,"stopPrice"),l=this.parseTimeInForce(this.safeString(e,"timeInForce")),h="Post-Only"===this.safeString(e,"execInst"),p=this.safeFloat(e,"avgPrice"),m=this.safeFloat(e,"orderQty"),v=this.safeFloat(e,"cumQty"),b=this.safeString(e,"leavesQty"),g=void 0,y=void 0;void 0!==v&&(void 0!==d&&(g=v*d),v>0&&"string"===typeof(y=this.safeValue(e,"transactTime"))&&(y=this.parse8601(y)));var w=void 0,k=this.safeFloat(e,"commission");if(void 0!==k){var x=void 0;void 0!==t&&("buy"===i?x=t.base:"sell"===i&&(x=t.quote)),w={currency:x,cost:k}}return{id:s,info:e,clientOrderId:o,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:y,status:n,symbol:u,type:a,timeInForce:l,postOnly:h,side:i,price:d,stopPrice:f,average:p,amount:m,filled:v,remaining:b,cost:g,trades:void 0,fee:w}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,u=s.safeString2(s.options,"fetchMyTrades","defaultType","spot"),d=s.safeString(i,"type",u),i=s.omit(i,"type"),f=void 0,void 0!==e&&(f=s.market(e),o.symbol=f.id,d=f.type),"spot"===d?c="privateGetSpotTrades":"futures"===d&&(c="privateGetFuturesTrades"),void 0!==r&&(o.pageSize=r),void 0!==t&&(o.startDate=s.ymd(t)),n.next=14,s[c](s.extend(o,i));case 14:return l=n.sent,h=s.safeValue(l,"data",{}),p=s.safeValue(h,"list",[]),n.abrupt("return",s.parseTrades(p,f,t,r));case 18:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetAccountDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseDepositAddress(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"tag"),a=this.safeString(e,"currency");return{info:e,code:this.safeCurrencyCode(a),address:r,tag:n}}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("v1"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else if(s="/"+this.version+s,"public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString();a={"X-ACCESS-KEY":this.apiKey,"X-ACCESS-NONCE":c};var u=c+":"+r;"GET"===r?(Object.keys(o).length&&(s+="?"+this.urlencode(o)),u+=s):(a["Content-Type"]="application/json",u+=s+(i=this.json(o)));var d=this.hmac(this.encode(u),this.encode(this.secret));a["X-ACCESS-SIGN"]=d}return{url:s=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var u=this.safeString(s,"code");if(void 0!==u&&"1"!==u){var d=this.id+" "+this.json(s);this.throwExactlyMatchedException(this.exceptions.exact,u,d),this.throwBroadlyMatchedException(this.exceptions.broad,i,d)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ArgumentsRequired,c=s.ExchangeError,u=s.BadSymbol,d=s.InvalidOrder,f=s.PermissionDenied,l=s.InvalidAddress,h=s.AuthenticationError,p=s.InvalidNonce,m=s.BadRequest,v=s.InsufficientFunds,b=s.OrderNotFound,g=r(16).TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"aofex",name:"AOFEX",countries:["GB"],rateLimit:1e3,has:{fetchMarkets:!0,fetchCurrencies:!1,fetchOrderBook:!0,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchClosedOrder:!0,fetchOrderTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","6h":"6hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77670271-056d1080-6f97-11ea-9ac2-4268e9ed0c1f.jpg",api:{public:"https://openapi.aofex.com/openApi",private:"https://openapi.aofex.com/openApi"},www:"https://aofex.com",doc:"https://aofex.zendesk.com/hc/en-us/sections/360005576574-API",fees:"https://aofex.zendesk.com/hc/en-us/articles/360025814934-Fees-on-AOFEX",referral:"https://aofex.com/#/register?key=9763840"},api:{public:{get:["market/symbols","market/trade","market/depth","market/kline","market/precision","market/24kline","market/gears_depth","market/detail"]},private:{get:["entrust/currentList","entrust/historyList","entrust/rate","wallet/list","entrust/detail"],post:["entrust/add","entrust/cancel"]}},fees:{trading:{maker:.0019,taker:.002}},exceptions:{exact:{20001:c,20401:f,20500:c,20501:u,20502:c,20503:c,20504:v,20505:m,20506:h,20507:c,20508:l,20509:v,20510:d,20511:d,20512:d,20513:d,20514:d,20515:d,20516:d,20517:d,50518:d,20519:p,20520:p,20521:m,20522:c,20523:h,20524:f,20525:h,20526:f,20527:f,20528:f,20529:h,20530:f},broad:{}},options:{fetchBalance:{show_all:"0"}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarketSymbols(e);case 2:return a=r.sent,r.next=5,t.publicGetMarketPrecision();case 5:for(i=r.sent,i=t.safeValue(i,"result",{}),a=t.safeValue(a,"result",[]),s=[],o=0;o<a.length;o++)c=a[o],u=t.safeString(c,"symbol"),d=t.safeString(c,"base_currency"),f=t.safeString(c,"quote_currency"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m=t.safeInteger(c,"id"),v=t.safeValue(i,u,{}),b=t.safeFloat(c,"maker_fee"),g=t.safeFloat(c,"taker_fee"),s.push({id:u,numericId:m,symbol:p,baseId:d,quoteId:f,base:l,quote:h,active:void 0,maker:b/1e3,taker:g/1e3,precision:{amount:t.safeInteger(v,"amount"),price:t.safeInteger(v,"price")},limits:{amount:{min:t.safeFloat(c,"min_size"),max:t.safeFloat(c,"max_size")},price:{min:t.safeFloat(c,"min_price"),max:t.safeFloat(c,"max_price")},cost:{min:void 0,max:void 0}},info:c});return r.abrupt("return",s);case 11:case"end":return r.stop()}}),r)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"amount")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===i&&(i=150),u={symbol:c.id,period:o.timeframes[t],size:i},n.next=7,o.publicGetMarketKline(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"result",{}),l=o.safeValue(f,"data",[]),n.abrupt("return",o.parseOHLCVs(l,c,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeValue(t.options,"fetchBalance",{}),i=t.safeValue(a,"show_all","0"),s={show_all:i},r.next=7,t.privateGetWalletList(t.extend(s,e));case 7:for(o=r.sent,c={info:o},u=t.safeValue(o,"result",[]),d=0;d<u.length;d++)f=u[d],l=t.safeString(f,"currency"),h=t.safeCurrencyCode(l),(p=t.account()).free=t.safeFloat(f,"available"),p.used=t.safeFloat(f,"frozen"),c[h]=p;return r.abrupt("return",t.parseBalance(c));case 12:case"end":return r.stop()}}),r)})))()}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.privateGetEntrustRate(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",{info:o,symbol:e,maker:r.safeFloat(c,"fromFee"),taker:r.safeFloat(c,"toFee")});case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={symbol:i.marketId(e)},t.next=5,i.publicGetMarketDepth(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"result",{}),c=i.safeInteger(o,"ts"),t.abrupt("return",i.parseOrderBook(o,c));case 9:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"id"),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"open"),i=this.safeFloat(e,"close"),s=void 0;s=void 0!==n?parseFloat(this.priceToPrecision(n,i-a)):i-a;var o=this.sum(i,a)/2,c=s/a*100,u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"vol"),f=this.vwap(u,d);return void 0!==f&&(f=parseFloat(this.priceToPrecision(n,f))),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:f,open:a,close:i,last:i,previousClose:void 0,change:s,percentage:c,average:o,baseVolume:u,quoteVolume:d,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.marketIds(e),i.symbol=s.join(",")),n.next=6,r.publicGetMarket24kline(r.extend(i,t));case 6:for(o=n.sent,c=r.safeValue(o,"result",[]),u={},d=0;d<c.length;d++)f=r.safeString(c[d],"symbol"),l=r.safeMarket(f,void 0,"-"),h=l.symbol,p=r.safeValue(c[d],"data",{}),u[h]=r.parseTicker(p,l);return n.abrupt("return",r.filterByArray(u,"symbol",e));case 11:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetMarketDetail(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"ctime")),a=this.safeTimestamp(e,"ts",n)-288e5,i=void 0;void 0===i&&void 0!==t&&(i=t.symbol);var s=this.safeString(e,"direction"),o=this.safeFloat(e,"price"),c=this.safeFloat2(e,"amount","number"),u=this.safeFloat(e,"total_price");void 0===u&&void 0!==o&&void 0!==c&&(u=o*c);var d=this.safeFloat(e,"fee"),f=void 0;if(void 0!==d){var l=void 0;void 0!==t&&("buy"===s?l=t.base:"sell"===s&&(l=t.quote)),f={cost:d,currency:l}}return{id:r,info:e,timestamp:a,datetime:this.iso8601(a),symbol:i,order:void 0,type:void 0,side:s,takerOrMaker:void 0,price:o,amount:c,cost:u,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetMarketTrade(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_sn"),n=this.safeString(e,"status"),a=this.parseOrderStatus(n),i=this.safeString(e,"symbol");t=this.safeMarket(i,t,"-");var s=this.parse8601(this.safeString(e,"ctime"));void 0!==s&&(s-=288e5);var o="2"===this.safeString(e,"type")?"limit":"market",c=this.safeString(e,"side"),u=void 0,d=void 0,f=void 0,l=void 0,h=this.safeFloat(e,"number"),p=this.safeFloat(e,"total_price");"limit"===o?(f=h,d=this.safeFloat(e,"price")):(l=this.safeFloat(e,"deal_price"),f="buy"===c?this.safeFloat(e,"deal_number"):h);var m=void 0,v=void 0,b=void 0,g=void 0,y=void 0,w=void 0;if("1"!==n&&"6"!==n){var k=this.safeValue(e,"trades");if(void 0!==k){for(var x=0;x<k.length;x++)k[x].direction=c;if((v=this.parseTrades(k,t,void 0,void 0,{symbol:t.symbol,order:r,side:c,type:o})).length>0){var _=v[0];g=_.fee.cost,w=_.timestamp,b=_.amount,u=_.cost;for(var S=1;S<v.length;S++){var T=v[S];g=this.sum(g,T.fee.cost),b=this.sum(b,T.amount),u=this.sum(u,T.cost),w=Math.max(w,T.timestamp)}void 0!==f&&(b=Math.min(f,b)),b>0&&(l=u/b)}if(void 0!==g)m={cost:g,currency:"buy"===c?t.base:t.quote}}}else b=0,u=0;return void 0===u&&("limit"===o?u=p:"buy"===c&&(u=h)),void 0===b&&"limit"===o&&"3"===n&&(b=f),void 0!==b&&void 0!==f&&(y=Math.max(f-b,0)),{info:e,id:r,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:w,status:a,symbol:t.symbol,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:d,stopPrice:void 0,cost:u,average:l,amount:f,filled:b,remaining:y,trades:v,fee:m}}fetchClosedOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_sn:e},t.next=5,i.privateGetEntrustDetail(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"result",{}),c=i.safeValue(o,"trades",[]),(u=i.safeValue(o,"entrust",{})).trades=c,t.abrupt("return",i.parseOrder(u));case 11:case"end":return t.stop()}}),t)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.fetchClosedOrder(e,t,s);case 2:return a=r.sent,r.abrupt("return",o.safeValue(a,"trades",[]));case 4:case"end":return r.stop()}}),r)})))()}fetchOrdersWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={direct:"prev"},u=void 0,void 0!==t&&(u=o.market(t),c.symbol=u.id),void 0!==i&&(c.limit=i),n.next=8,o[e](o.extend(c,s));case 8:return d=n.sent,f=o.safeValue(d,"result",[]),n.abrupt("return",o.parseOrders(f,u,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetEntrustCurrentList",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetEntrustHistoryList",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,f,l,h,p,m,v,b,y,w;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),f=r+"-"+t,l={symbol:u.id,type:f},"limit"!==t){n.next=10;break}l.amount=c.amountToPrecision(e,i),l.price=c.priceToPrecision(e,s),n.next=25;break;case 10:if("market"!==t){n.next=25;break}if("buy"!==r){n.next=24;break}if(h=c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0),p=i,!h){n.next=20;break}if(void 0===s){n.next=19;break}p=i*s,n.next=20;break;case 19:throw new d(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");case 20:m=u.precision.price,l.amount=c.decimalToPrecision(p,g,m,c.precisionMode),n.next=25;break;case 24:l.amount=c.amountToPrecision(e,i);case 25:return n.next=27,c.privatePostEntrustAdd(c.extend(l,o));case 27:return v=n.sent,b=c.safeValue(v,"result",{}),y=c.parseOrder(b,u),w=c.milliseconds(),n.abrupt("return",c.extend(y,{timestamp:w,datetime:c.iso8601(w),amount:i,price:s,type:t,side:r}));case 32:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={order_ids:e},n.next=5,i.privatePostEntrustCancel(i.extend(s,r));case 5:if(o=n.sent,c=i.safeValue(o,"result",{}),u=i.safeValue(c,"success",[]),i.inArray(e,u)){n.next=10;break}throw new b(i.id+" order id "+e+" not found in successfully canceled orders: "+i.json(o));case 10:return void 0,n.abrupt("return",{info:o,id:e,timestamp:void 0,datetime:i.iso8601(void 0),lastTradeTimestamp:void 0,status:"canceled",symbol:t,type:void 0,side:void 0,price:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,clientOrderId:void 0});case 12:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new o(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.market(e),s={symbol:i.id},n.next=8,r.privatePostEntrustCancel(r.extend(s,t));case 8:return c=n.sent,n.abrupt("return",c);case 10:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+e,o=Object.keys(n),c=o.length;if("public"===t)c>0&&(s+="?"+this.urlencode(n));else{var u=this.nonce().toString()+"_"+this.uuid().slice(0,5),d={};d[this.apiKey]=this.apiKey,d[this.secret]=this.secret,d[u]=u;for(var f=0;f<c;f++){var l=o[f];d[l]=l+"="+n[l]}var h=this.keysort(d),p="";o=Object.keys(h);for(var m=0;m<o.length;m++){p+=h[o[m]]}var v=this.hash(this.encode(p),"sha1");a={Nonce:u,Token:this.apiKey,Signature:v},"POST"===r?(a["Content-Type"]="application/x-www-form-urlencoded",c>0&&(i=this.urlencode(n))):c>0&&(s+="?"+this.urlencode(n))}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"errno");if(void 0!==d&&"0"!==d){var f=this.safeString(s,"errmsg"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new c(l)}}}}},function(e,t,r){"use strict";var n=r(113);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"bequant",name:"Bequant",countries:["MT"],pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/55248342-a75dfe00-525a-11e9-8aa2-05e9dca943c6.jpg",api:{public:"https://api.bequant.io",private:"https://api.bequant.io"},www:"https://bequant.io",doc:["https://api.bequant.io/"],fees:["https://bequant.io/fees-and-limits"],referral:"https://bequant.io"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AccountSuspended,u=s.ArgumentsRequired,d=s.AuthenticationError,f=s.DDoSProtection,l=s.ExchangeNotAvailable,h=s.InvalidOrder,p=s.OrderNotFound,m=s.PermissionDenied,v=s.InsufficientFunds,b=s.BadSymbol,g=s.RateLimitExceeded,y=s.BadRequest;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",hostname:"bibox365.com",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,publicAPI:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77257418-3262b000-6c85-11ea-8fb8-20bdf20b3592.jpg",api:"https://api.{hostname}",www:"https://www.bibox365.com",doc:["https://biboxcom.github.io/en/"],fees:"https://bibox.zendesk.com/hc/en-us/articles/360002336133",referral:"https://w2.bibox365.com/login/register?invite_code=05Kj3I"},api:{public:{post:["mdata"],get:["cquery","mdata","cdata"]},private:{post:["cquery","ctrade","user","orderpending","transfer"]},v2private:{post:["assets/transfer/spot"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:8e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2011:c,2015:d,2021:v,2027:v,2033:p,2065:h,2066:h,2067:h,2068:h,2078:h,2085:h,2091:g,2092:h,3e3:y,3002:y,3012:d,3016:b,3024:m,3025:d,4e3:l,4003:f},commonCurrencies:{BOX:"DefiBox",BPT:"BlockPool Token",KEY:"Bihu",MTC:"MTC Mesh Network",PAI:"PCHAIN",TERN:"Ternio-ERC20"},options:{fetchCurrencies:"fetch_currencies_public"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={cmd:"marketAll"},r.next=3,t.publicGetMdata(t.extend(a,e));case 3:for(i=r.sent,s=t.safeValue(i,"result"),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeInteger(u,"id"),f=t.safeString(u,"coin_symbol"),l=t.safeString(u,"currency_symbol"),h=t.safeCurrencyCode(f),p=t.safeCurrencyCode(l),m=h+"/"+p,v=f+"_"+l,b={amount:4,price:8},o.push({id:v,numericId:d,symbol:m,base:h,quote:p,baseId:f,quoteId:l,active:!0,info:u,precision:b,limits:{amount:{min:Math.pow(10,-b.amount),max:void 0},price:{min:Math.pow(10,-b.price),max:void 0}}});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeInteger(e,"timestamp"),n=void 0;if(void 0!==t)n=t.symbol;else{var a=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol");n=this.safeCurrencyCode(a)+"/"+this.safeCurrencyCode(i)}var s=this.safeFloat(e,"last"),o=this.safeFloat(e,"change"),c=this.safeFloat2(e,"vol","vol24H"),u=void 0;void 0!==s&&void 0!==o&&(u=s-o);var d=this.safeString(e,"percent");return void 0!==d&&(d=d.replace("%",""),d=parseFloat(d)),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:u,close:s,last:s,previousClose:void 0,change:o,percentage:d,average:void 0,baseVolume:c,quoteVolume:this.safeFloat(e,"amount"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={cmd:"ticker",pair:i.id},n.next=6,r.publicGetMdata(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o.result,i));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++){var a=this.parseTicker(e[n]);(void 0===t||this.inArray(a.symbol,t))&&r.push(a)}return r}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={cmd:"marketAll"},n.next=3,r.publicGetMdata(r.extend(i,t));case 3:return s=n.sent,o=r.parseTickers(s.result,e),c=r.indexBy(o,"symbol"),n.abrupt("return",r.filterByArray(c,"symbol",e));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger2(e,"time","createdAt"),n=this.safeInteger2(e,"side","order_side");n=1===n?"buy":"sell";var a=void 0;if(void 0===t){var i=this.safeString(e,"pair");if(void 0===i){var s=this.safeString(e,"coin_symbol"),o=this.safeString(e,"currency_symbol");void 0!==s&&void 0!==o&&(i=s+"_"+o)}i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(a=t.symbol);var c=void 0,u=this.safeFloat(e,"fee"),d=this.safeString(e,"fee_symbol");void 0!==d&&(d=d in this.currencies_by_id?this.currencies_by_id[d].code:this.safeCurrencyCode(d));var f=this.safeFloat(e,"price"),l=this.safeFloat(e,"amount"),h=void 0;return void 0!==f&&void 0!==l&&(h=f*l),void 0!==u&&(c={cost:-u,currency:d,rate:void 0}),{info:e,id:this.safeString(e,"id"),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:a,type:"limit",takerOrMaker:void 0,side:n,price:f,amount:l,cost:h,fee:c}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={cmd:"deals",pair:o.id},void 0!==r&&(c.size=r),n.next=7,s.publicGetMdata(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u.result,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={cmd:"depth",pair:s.id},void 0!==t&&(o.size=t),n.next=7,i.publicGetMdata(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrderBook(c.result,i.safeFloat(c.result,"update_time"),"bids","asks","price","volume"));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"vol")]}fetchOHLCV(e,t="1m",r,i=1e3,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={cmd:"kline",pair:c.id,period:o.timeframes[t],size:i},n.next=6,o.publicGetMdata(o.extend(u,s));case 6:return d=n.sent,f=o.safeValue(d,"result",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.safeString(t.options,"fetchCurrencies","fetch_currencies_public"),r.next=3,t[a](e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}fetchCurrenciesPublic(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={cmd:"currencies"},r.next=3,t.publicGetCdata(t.extend(a,e));case 3:for(i=r.sent,s=t.safeValue(i,"result"),o={},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"symbol"),f=t.safeString(u,"name"),l=t.safeCurrencyCode(d),h=t.safeInteger(u,"valid_decimals"),p=t.safeValue(u,"enable_deposit"),m=t.safeValue(u,"enable_withdraw"),v=p&&m,o[l]={id:d,code:l,info:u,name:f,active:v,fee:void 0,precision:h,limits:{amount:{min:Math.pow(10,-h),max:void 0},price:{min:Math.pow(10,-h),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(u,"withdraw_min"),max:void 0}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchCurrenciesPrivate(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.apiKey&&t.secret){r.next=2;break}throw new d(t.id+" fetchCurrencies is an authenticated endpoint, therefore it requires 'apiKey' and 'secret' credentials. If you don't need currency details, set exchange.has['fetchCurrencies'] = false before calling its methods.");case 2:return a={cmd:"transfer/coinList",body:{}},r.next=5,t.privatePostTransfer(t.extend(a,e));case 5:for(i=r.sent,s=t.safeValue(i,"result"),o={},c=0;c<s.length;c++)u=s[c],f=t.safeString(u,"symbol"),l=u.name,h=t.safeCurrencyCode(f),8,p=t.safeValue(u,"enable_deposit"),m=t.safeValue(u,"enable_withdraw"),v=p&&m,o[h]={id:f,code:h,info:u,name:l,active:v,fee:void 0,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,8)}}};return r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString(e,"type","assets"),e=t.omit(e,"type"),i={cmd:"transfer/"+a,body:t.extend({select:1},e)},r.next=7,t.privatePostTransfer(i);case 7:s=r.sent,o=t.safeValue(s,"result"),c={info:o},u=void 0,u="assets_list"in o?t.indexBy(o.assets_list,"coin_symbol"):o,d=Object.keys(u);for(f=0;f<d.length;f++)l=d[f],(h=l.toUpperCase()).indexOf("TOTAL_")>=0&&(h=h.slice(6)),h in t.currencies_by_id&&(h=t.currencies_by_id[h].code),p=t.account(),"string"===typeof(m=u[l])?(m=parseFloat(m),p.free=m,p.used=0,p.total=m):(p.free=t.safeFloat(m,"balance"),p.used=t.safeFloat(m,"freeze")),c[h]=p;return r.abrupt("return",t.parseBalance(c));case 15:case"end":return r.stop()}}),r)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={page:1},void 0!==e&&(o=s.currency(e),c.symbol=o.id),c.size=void 0!==r?r:100,n.next=8,s.privatePostTransfer({cmd:"transfer/transferInList",body:s.extend(c,i)});case 8:for(u=n.sent,d=s.safeValue(u.result,"items",[]),f=0;f<d.length;f++)d[f].type="deposit";return n.abrupt("return",s.parseTransactions(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={page:1},void 0!==e&&(o=s.currency(e),c.symbol=o.id),c.size=void 0!==r?r:100,n.next=8,s.privatePostTransfer({cmd:"transfer/transferOutList",body:s.extend(c,i)});case 8:for(u=n.sent,d=s.safeValue(u.result,"items",[]),f=0;f<d.length;f++)d[f].type="withdrawal";return n.abrupt("return",s.parseTransactions(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"to_address"),a=this.safeString(e,"coin_symbol"),i=this.safeCurrencyCode(a,t),s=this.safeString(e,"createdAt"),o=this.safeString(e,"addr_remark"),c=this.safeString(e,"type"),u=this.parseTransactionStatusByType(this.safeString(e,"status"),c),d=this.safeFloat(e,"amount"),f=this.safeFloat(e,"fee");"deposit"===c&&(f=0,o=void 0);var l={cost:f,currency:i};return{info:e,id:r,txid:void 0,timestamp:s,datetime:this.iso8601(s),address:n,tag:o,type:c,amount:d,currency:i,status:u,updated:void 0,fee:l}}parseTransactionStatusByType(e,t){return this.safeString(this.safeValue({deposit:{1:"pending",2:"ok"},withdrawal:{0:"pending",3:"ok"}},t,{}),e,e)}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d="limit"===t?2:1,f="buy"===r?1:2,l={cmd:"orderpending/trade",body:c.extend({pair:u.id,account_type:0,order_type:d,order_side:f,pay_bix:0,amount:i,price:s},o)},n.next=8,c.privatePostOrderpending(l);case 8:return h=n.sent,n.abrupt("return",{info:h,id:c.safeString(h,"result")});case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={cmd:"orderpending/cancelTrade",body:i.extend({orders_id:e},r)},t.next=3,i.privatePostOrderpending(a);case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={cmd:"orderpending/order",body:i.extend({id:e.toString(),account_type:0},r)},t.next=5,i.privatePostOrderpending(a);case 5:if(s=t.sent,o=i.safeValue(s,"result"),!i.isEmpty(o)){t.next=9;break}throw new p(i.id+" order "+e+" not found");case 9:return t.abrupt("return",i.parseOrder(o));case 10:case"end":return t.stop()}}),t)})))()}parseOrder(e,t){var r=void 0;if(void 0===t){var n=void 0,a=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol");void 0!==a&&void 0!==i&&(n=a+"_"+i),n in this.markets_by_id&&(t=this.markets_by_id[n])}void 0!==t&&(r=t.symbol);var s=1===e.order_type?"market":"limit",o=e.createdAt,c=this.safeFloat(e,"price"),u=this.safeFloat(e,"deal_price"),d=this.safeFloat(e,"deal_amount"),f=this.safeFloat(e,"amount"),l=this.safeFloat2(e,"deal_money","money"),h=void 0;void 0!==d&&(void 0!==f&&(h=f-d),void 0===l&&(l=c*d));var p=1===e.order_side?"buy":"sell",m=this.parseOrderStatus(this.safeString(e,"status")),v=this.safeString(e,"id"),b=this.safeFloat(e,"fee"),g=void 0;return void 0!==b&&(g={cost:b,currency:void 0}),l=l||parseFloat(c)*d,{info:e,id:v,clientOrderId:void 0,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:r,type:s,timeInForce:void 0,postOnly:void 0,side:p,price:c,stopPrice:void 0,amount:f,cost:l,average:u,filled:d,remaining:h,status:m,fee:g,trades:void 0}}parseOrderStatus(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e)}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c=void 0,void 0!==e&&(o=s.market(e),c=o.id),u=r||200,d={cmd:"orderpending/orderPendingList",body:s.extend({pair:c,account_type:0,page:1,size:u},i)},n.next=9,s.privatePostOrderpending(d);case 9:return f=n.sent,l=s.safeValue(f.result,"items",[]),n.abrupt("return",s.parseOrders(l,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r=200,i={}){var s=this;return a(n.mark((function a(){var o,c,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" fetchClosedOrders() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={cmd:"orderpending/pendingHistoryList",body:s.extend({pair:o.id,account_type:0,page:1,size:r},i)},n.next=8,s.privatePostOrderpending(c);case 8:return d=n.sent,f=s.safeValue(d.result,"items",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" fetchMyTrades() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=r||200,d={cmd:"orderpending/orderHistoryList",body:s.extend({pair:o.id,account_type:0,page:1,size:c,coin_symbol:o.baseId,currency_symbol:o.quoteId},i)},n.next=9,s.privatePostOrderpending(d);case 9:return f=n.sent,l=s.safeValue(f.result,"items",[]),n.abrupt("return",s.parseTrades(l,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={cmd:"transfer/transferIn",body:r.extend({coin_symbol:i.id},t)},n.next=6,r.privatePostTransfer(s);case 6:return o=n.sent,c=r.safeString(o,"result"),u=c,d=void 0,r.isJsonEncodedObject(c)&&(f=JSON.parse(c),u=r.safeString(f,"account"),d=r.safeString(f,"memo")),n.abrupt("return",{currency:e,address:u,tag:d,info:o});case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.checkAddress(r),n.next=3,c.loadMarkets();case 3:if(u=c.currency(e),void 0!==c.password){n.next=7;break}if("trade_pwd"in s){n.next=7;break}throw new o(c.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");case 7:if("totp_code"in s){n.next=9;break}throw new o(c.id+" withdraw() requires a totp_code parameter for 2FA authentication");case 9:return d={trade_pwd:c.password,coin_symbol:u.id,amount:t,addr:r},void 0!==i&&(d.address_remark=i),n.next=13,c.privatePostTransfer({cmd:"transfer/transferOut",body:c.extend(d,s)});case 13:return f=n.sent,n.abrupt("return",{info:f,id:void 0});case 15:case"end":return n.stop()}}),a)})))()}fetchFundingFees(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:i={},s={},void 0===e&&(e=Object.keys(r.currencies)),o=0;case 6:if(!(o<e.length)){n.next=18;break}return c=e[o],u=r.currency(c),d={cmd:"transfer/coinConfig",body:r.extend({coin_symbol:u.id},t)},n.next=12,r.privatePostTransfer(d);case 12:f=n.sent,s[c]=f,i[c]=r.safeFloat(f.result,"withdraw_fee");case 15:o++,n.next=6;break;case 18:return n.abrupt("return",{info:s,withdraw:i,deposit:{}});case 19:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api,{hostname:this.hostname})+"/"+this.version+"/"+e,o=this.json([n]);if("public"===t)"GET"!==r?i={cmds:o}:Object.keys(n).length&&(s+="?"+this.urlencode(n));else if("v2private"===t){this.checkRequiredCredentials(),s=this.implodeParams(this.urls.api,{hostname:this.hostname})+"/v2/"+e;var c=this.json(n);i={body:c,apikey:this.apiKey,sign:this.hmac(this.encode(c),this.encode(this.secret),"md5")}}else this.checkRequiredCredentials(),i={cmds:o,apikey:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"md5")};return void 0!==i&&(i=this.json(i,{convertArraysToObjects:!0})),{url:s,method:r,body:i,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){if("error"in s){if("code"in s.error){var d=this.safeString(s.error,"code"),f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,f),new o(f)}throw new o(this.id+" "+i)}if(!("result"in s))throw new o(this.id+" "+i)}}request(e,t="public",r="GET",i={},s,o){var c=this;return a(n.mark((function a(){var u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.fetch2(e,t,r,i,s,o);case 2:if(u=n.sent,"GET"!==r){n.next=7;break}return n.abrupt("return",u);case 7:return n.abrupt("return",u.result[0]);case 8:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.AuthenticationError,d=s.OrderNotFound,f=s.InsufficientFunds,l=s.PermissionDenied,h=s.BadRequest,p=s.RateLimitExceeded,m=s.InvalidOrder;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bigone",name:"BigONE",countries:["CN"],version:"v3",rateLimit:1200,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hour1","3h":"hour3","4h":"hour4","6h":"hour6","12h":"hour12","1d":"day1","1w":"week1","1M":"month1"},hostname:"big.one",urls:{logo:"https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg",api:{public:"https://{hostname}/api/v3",private:"https://{hostname}/api/v3/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","asset_pairs","asset_pairs/{asset_pair_name}/depth","asset_pairs/{asset_pair_name}/trades","asset_pairs/{asset_pair_name}/ticker","asset_pairs/{asset_pair_name}/candles","asset_pairs/tickers"]},private:{get:["accounts","fund/accounts","assets/{asset_symbol}/address","orders","orders/{id}","orders/multi","trades","withdrawals","deposits"],post:["orders","orders/{id}/cancel","orders/cancel","withdrawals","transfer"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,ETH:.005,EOS:.01,ZEC:.003,LTC:.01,QTUM:.01,ETC:.01,GAS:0,BTS:1,GXS:.1,BITCNY:19}}},exceptions:{exact:{10001:h,10005:o,"Amount's scale must greater than AssetPair's base scale":m,10007:h,10011:o,10013:d,10014:f,10403:l,10429:p,40004:u,40103:u,40104:u,40301:l,40302:o,40601:o,40602:o,40603:f,40120:m,40121:m},broad:{}},commonCurrencies:{MBN:"Mobilian Coin",ONE:"BigONE Token"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssetPairs(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=t.safeString(c,"id"),f=t.safeValue(c,"base_asset",{}),l=t.safeValue(c,"quote_asset",{}),h=t.safeString(f,"symbol"),p=t.safeString(l,"symbol"),m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g={amount:t.safeInteger(c,"base_scale"),price:t.safeInteger(c,"quote_scale")},y=t.safeInteger(c,"min_quote_value"),w={id:u,uuid:d,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:!0,precision:g,limits:{amount:{min:Math.pow(10,-g.amount),max:void 0},price:{min:Math.pow(10,-g.price),max:void 0},cost:{min:y,max:void 0}},info:c},s.push(w);return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}loadMarkets(e=!1,t={}){var r=()=>super.loadMarkets,i=this;return a(n.mark((function a(){var s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r().call(i,e,t);case 2:if(s=n.sent,void 0===(o=i.safeValue(i.options,"marketsByUuid"))||e){for(o={},c=0;c<i.symbols.length;c++)u=i.symbols[c],d=i.markets[u],f=i.safeString(d,"uuid"),o[f]=d;i.options.marketsByUuid=o}return n.abrupt("return",s);case 6:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeString(e,"asset_pair_name"),n=this.safeSymbol(r,t,"-"),a=this.safeFloat(e,"close"),i=this.safeValue(e,"bid",{}),s=this.safeValue(e,"ask",{});return{symbol:n,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(i,"price"),bidVolume:this.safeFloat(i,"quantity"),ask:this.safeFloat(s,"price"),askVolume:this.safeFloat(s,"quantity"),vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"daily_change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={asset_pair_name:i.id},n.next=6,r.publicGetAssetPairsAssetPairNameTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.marketIds(e),i.pair_names=s.join(",")),n.next=6,r.publicGetAssetPairsTickers(r.extend(i,t));case 6:for(o=n.sent,c=r.safeValue(o,"data",[]),u={},d=0;d<c.length;d++)f=r.parseTicker(c[d]),l=f.symbol,u[l]=f;return n.abrupt("return",r.filterByArray(u,"symbol",e));case 11:case"end":return n.stop()}}),a)})))()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPing(e);case 2:return a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeInteger(i,"timestamp"),r.abrupt("return",parseInt(s/1e6));case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={asset_pair_name:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicGetAssetPairsAssetPairNameDepth(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"data",{}),n.abrupt("return",i.parseOrderBook(u,void 0,"bids","asks","price","quantity"));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString2(e,"created_at","inserted_at")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=this.safeString(e,"asset_pair_name"),s=this.safeSymbol(i,t,"-"),o=void 0;void 0!==a&&void 0!==n&&(o=this.costToPrecision(s,n*a));var c=this.safeString(e,"side"),u=this.safeString(e,"taker_side"),d=void 0;void 0!==u&&void 0!==c&&"SELF_TRADING"!==c&&(d=u===c?"taker":"maker"),void 0===c?c="ASK"===u?"sell":"buy":"BID"===c?c="buy":"ASK"===c&&(c="sell");var f=this.safeString(e,"maker_order_id"),l=this.safeString(e,"taker_order_id"),h=void 0;void 0!==f?h=void 0!==l?[f,l]:f:void 0!==l&&(h=l);var p={id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),symbol:s,order:h,type:"limit",side:c,takerOrMaker:d,price:n,amount:a,cost:parseFloat(o),info:e},m=void 0,v=void 0;void 0!==t&&void 0!==d?"buy"===c?"maker"===d?(m=t.base,v=t.quote):(m=t.quote,v=t.base):"maker"===d?(m=t.quote,v=t.base):(m=t.base,v=t.quote):"SELF_TRADING"===c&&("BID"===u?(m=t.quote,v=t.base):"ASK"===u&&(m=t.base,v=t.quote));var b=this.safeFloat(e,"maker_fee"),g=this.safeFloat(e,"taker_fee");return void 0!==b?void 0!==g?p.fees=[{cost:b,currency:m},{cost:g,currency:v}]:p.fee={cost:b,currency:m}:p.fee=void 0!==g?{cost:g,currency:v}:void 0,p}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={asset_pair_name:o.id},n.next=6,s.publicGetAssetPairsAssetPairNameTrades(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===i&&(i=100),u={asset_pair_name:c.id,period:o.timeframes[t],limit:i},void 0!==r&&(d=o.sum(r,i*o.parseTimeframe(t)*1e3),u.time=o.iso8601(d)),n.next=8,o.publicGetAssetPairsAssetPairNameCandles(o.extend(u,s));case 8:return f=n.sent,l=o.safeValue(f,"data",[]),n.abrupt("return",o.parseOHLCVs(l,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString(e,"type",""),e=t.omit(e,"type"),i="privateGet"+t.capitalize(a)+"Accounts",r.next=7,t[i](e);case 7:for(s=r.sent,o={info:s},c=t.safeValue(s,"data",[]),u=0;u<c.length;u++)d=c[u],f=t.safeString(d,"asset_symbol"),l=t.safeCurrencyCode(f),(h=t.account()).total=t.safeFloat(d,"balance"),h.used=t.safeFloat(d,"locked_balance"),o[l]=h;return r.abrupt("return",t.parseBalance(o));case 12:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"asset_pair_name"),a=this.safeSymbol(n,t,"-"),i=this.parse8601(this.safeString(e,"created_at")),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"filled_amount"),u=void 0;void 0!==o&&void 0!==c&&(u=Math.max(0,o-c));var d=this.parseOrderStatus(this.safeString(e,"state")),f=this.safeString(e,"side");f="BID"===f?"buy":"sell";var l=void 0;void 0!==c&&void 0!==s&&(l=c*s);var h=this.parse8601(this.safeString(e,"updated_at")),p=this.safeFloat(e,"avg_deal_price");return{info:e,id:r,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:h,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:f,price:s,stopPrice:void 0,amount:o,cost:l,average:p,filled:c,remaining:u,status:d,fee:void 0,trades:void 0}}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d=u.market(e),r="buy"===r?"BID":"ASK",f=t.toUpperCase(),l={asset_pair_name:d.id,side:r,amount:u.amountToPrecision(e,i),type:f},"LIMIT"!==f){n.next=10;break}l.price=u.priceToPrecision(e,s),n.next=19;break;case 10:if(p="STOP_MARKET"===f,!(h="STOP_LIMIT"===f)&&!p){n.next=18;break}if(void 0!==(m=u.safeFloat2(o,"stop_price","stopPrice"))){n.next=16;break}throw new c(u.id+" createOrder() requires a stop_price parameter");case 16:l.stop_price=u.priceToPrecision(e,m),o=u.omit(o,["stop_price","stopPrice"]);case 18:h&&(l.price=u.priceToPrecision(e,s));case 19:return n.next=21,u.privatePostOrders(u.extend(l,o));case 21:return v=n.sent,b=u.safeValue(v,"data"),n.abrupt("return",u.parseOrder(b,d));case 24:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostOrdersIdCancel(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={asset_pair_name:i.id},n.next=6,r.privatePostOrdersCancel(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrdersId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={asset_pair_name:o.id},void 0!==r&&(u.limit=r),n.next=9,s.privateGetOrders(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==e){n.next=4;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 4:return o=s.market(e),u={asset_pair_name:o.id},void 0!==r&&(u.limit=r),n.next=9,s.privateGetTrades(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({PENDING:"open",FILLED:"closed",CANCELLED:"canceled"},e)}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={state:"PENDING"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={state:"FILLED"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}nonce(){return 1e3*this.microseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/"+this.implodeParams(e,n);if("public"===t)Object.keys(s).length&&(o+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u={type:"OpenAPIV2",sub:this.apiKey,nonce:c};a={Authorization:"Bearer "+this.jwt(u,this.encode(this.secret))},"GET"===r?Object.keys(s).length&&(o+="?"+this.urlencode(s)):"POST"===r&&(a["Content-Type"]="application/json",i=this.json(s))}return{url:o,method:r,body:i,headers:a}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={asset_symbol:i.id},n.next=6,r.privateGetAssetsAssetSymbolAddress(r.extend(s,t));case 6:if(c=n.sent,u=r.safeValue(c,"data",[]),!(u.length<1)){n.next=11;break}throw new o(r.id+"fetchDepositAddress() returned empty address response");case 11:return d=u[0],f=r.safeString(d,"value"),l=r.safeString(d,"memo"),r.checkAddress(f),n.abrupt("return",{currency:e,address:f,tag:l,info:c});case 16:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({WITHHOLD:"ok",UNCONFIRMED:"pending",CONFIRMED:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"asset_symbol"),n=this.safeCurrencyCode(r),a=this.safeInteger(e,"id"),i=this.safeFloat(e,"amount"),s=this.parseTransactionStatus(this.safeString(e,"state")),o=this.parse8601(this.safeString(e,"inserted_at")),c=this.parse8601(this.safeString2(e,"updated_at","completed_at")),u=this.safeString(e,"txid"),d=this.safeString(e,"target_address"),f=this.safeString(e,"memo"),l="customer_id"in e?"deposit":"withdrawal";return{info:e,id:a,txid:u,timestamp:o,datetime:this.iso8601(o),addressFrom:void 0,address:void 0,addressTo:d,tagFrom:void 0,tag:f,tagTo:void 0,type:l,amount:i,currency:n,status:s,updated:c,fee:void 0}}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.asset_symbol=c.id),void 0!==r&&(o.limit=r),n.next=8,s.privateGetDeposits(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,e,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.asset_symbol=c.id),void 0!==r&&(o.limit=r),n.next=8,s.privateGetWithdrawals(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,e,t,r));case 11:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.currency(e),u={symbol:c.id,target_address:r,amount:o.currencyToPrecision(e,t)},void 0!==i&&(u.memo=i),n.next=7,o.privatePostWithdrawals(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"data",{}),n.abrupt("return",o.parseTransaction(f,c));case 10:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeString(s,"code"),f=this.safeString(s,"message");if("0"!==d){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new o(l)}}}}},function(e,t,r){"use strict";var n=r(201);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"binanceus",name:"Binance US",countries:["US"],certified:!1,pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/65177307-217b7c80-da5f-11e9-876e-0b748ba0a358.jpg",api:{web:"https://www.binance.us",wapi:"https://api.binance.us/wapi/v3",public:"https://api.binance.us/api/v1",private:"https://api.binance.us/api/v3",v3:"https://api.binance.us/api/v3",v1:"https://api.binance.us/api/v1"},www:"https://www.binance.us",referral:"https://www.binance.us/?ref=35005074",doc:"https://github.com/binance-us/binance-official-api-docs",fees:"https://www.binance.us/en/fee/schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},options:{quoteOrderQty:!1}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ArgumentsRequired,c=s.ExchangeError,u=s.InvalidNonce,d=s.AuthenticationError,f=s.PermissionDenied;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",referral:"https://bit2c.co.il/Aff/63bfed10-e359-420c-ab5a-ad368dab0baf",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS",baseId:"Btc",quoteId:"Nis"},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS",baseId:"Eth",quoteId:"Nis"},"BCH/NIS":{id:"BchabcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS",baseId:"Bchabc",quoteId:"Nis"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS",baseId:"Ltc",quoteId:"Nis"},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS",baseId:"Etc",quoteId:"Nis"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS",baseId:"Btg",quoteId:"Nis"},"BSV/NIS":{id:"BchsvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS",baseId:"Bchsv",quoteId:"Nis"},"GRIN/NIS":{id:"GrinNis",symbol:"GRIN/NIS",base:"GRIN",quote:"NIS",baseId:"Grin",quoteId:"Nis"}},fees:{trading:{maker:.005,taker:.005}},options:{fetchTradesMethod:"public_get_exchanges_pair_trades"},exceptions:{exact:{"Please provide valid APIkey":d},broad:{"Please provide valid nonce":u,"please approve new terms of use on site":f}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountBalanceV2(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.account(),d=t.currencyId(c),(f=d.toUpperCase())in a&&(u.free=t.safeFloat(a,"AVAILABLE_"+f),u.total=t.safeFloat(a,f)),i[c]=u;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={pair:i.marketId(e)},t.next=5,i.publicGetExchangesPairOrderbook(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={pair:r.marketId(e)},n.next=5,r.publicGetExchangesPairTicker(r.extend(i,t));case 5:return s=n.sent,o=r.milliseconds(),c=r.safeFloat(s,"av"),u=r.safeFloat(s,"a"),d=void 0,void 0!==u&&void 0!==c&&(d=u*c),f=r.safeFloat(s,"ll"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:void 0,low:void 0,bid:r.safeFloat(s,"h"),bidVolume:void 0,ask:r.safeFloat(s,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:c,baseVolume:u,quoteVolume:d,info:s});case 13:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),u=s.options.fetchTradesMethod,d={pair:o.id},void 0!==t&&(d.date=parseInt(t)),void 0!==r&&(d.limit=r),n.next=9,s[u](s.extend(d,i));case 9:if("string"!==typeof(f=n.sent)){n.next=12;break}throw new c(f);case 12:return n.abrupt("return",s.parseTrades(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u="privatePostOrderAddOrder",d={Amount:i,Pair:c.marketId(e)},"market"===t?u+="MarketPrice"+c.capitalize(r):(d.Price=s,d.Total=i*s,d.IsBid="buy"===r),n.next=7,c[u](c.extend(d,o));case 7:return f=n.sent,n.abrupt("return",{info:f,id:f.NewOrder.id});case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e},t.next=3,i.privatePostOrderCancelOrder(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new o(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return c=s.market(e),u={pair:c.id},n.next=8,s.privateGetOrderMyOrders(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,c.id,{}),l=s.safeValue(f,"ask",[]),h=s.safeValue(f,"bid",[]),n.abrupt("return",s.parseOrders(s.arrayConcat(l,h),c,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeInteger(e,"created"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=void 0;void 0!==t&&(s=t.symbol);var o=this.safeValue(e,"type");0===o?o="buy":1===o&&(o="sell");var c=this.safeString(e,"id"),u=this.safeString(e,"status");return{id:c,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:u,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:o,price:n,stopPrice:void 0,amount:a,filled:void 0,remaining:void 0,cost:i,trades:void 0,fee:void 0,info:e,average:void 0}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==r&&(c.take=r),c.take=r,void 0!==t&&(c.toTime=s.ymd(s.milliseconds(),"."),c.fromTime=s.ymd(t,".")),void 0!==e&&(o=s.market(e),c.pair=o.id),n.next=10,s.privateGetOrderOrderHistory(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,o=void 0,c=void 0,u=this.safeString(e,"reference");if(void 0!==u){r=this.safeTimestamp(e,"ticks"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"firstAmount");var d=u.split("|");if(void 0===t){var f=this.safeString(e,"pair");f in this.markets_by_id[f]?t=this.markets_by_id[f]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}s=d[1],n=d[2],0===(c=this.safeInteger(e,"action"))?c="buy":1===c&&(c="sell"),o=this.safeFloat(e,"feeAmount")}else r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),void 0!==(c=this.safeValue(e,"isBid"))&&(c=c?"buy":"sell");var l=void 0;return void 0!==t&&(l=t.symbol),{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:l,order:s,type:void 0,side:c,takerOrMaker:void 0,price:a,amount:i,cost:a*i,fee:{cost:o,currency:"NIS",rate:void 0}}}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n);if("public"===t)s+=".json";else{this.checkRequiredCredentials();var o=this.nonce(),c=this.extend({nonce:o},n),u=this.urlencode(c);"GET"===r?Object.keys(c).length&&(s+="?"+u):i=u;var d=this.hmac(this.encode(u),this.encode(this.secret),"sha512","base64");a={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:d}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"error");if(void 0!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new c(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.InvalidNonce,d=s.InsufficientFunds,f=s.InvalidOrder,l=s.OrderNotFound,h=s.PermissionDenied;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.bitbank.cc",private:"https://api.bitbank.cc"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]}},markets:{"BCH/BTC":{id:"bcc_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bcc",quoteId:"btc"},"BCH/JPY":{id:"bcc_jpy",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bcc",quoteId:"jpy"},"MONA/BTC":{id:"mona_btc",symbol:"MONA/BTC",base:"MONA",quote:"BTC",baseId:"mona",quoteId:"btc"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"QTUM/BTC":{id:"qtum_btc",symbol:"QTUM/BTC",base:"QTUM",quote:"BTC",baseId:"qtum",quoteId:"btc"},"QTUM/JPY":{id:"qtum_jpy",symbol:"QTUM/JPY",base:"QTUM",quote:"JPY",baseId:"qtum",quoteId:"jpy"},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"XRP/JPY":{id:"xrp_jpy",symbol:"XRP/JPY",base:"XRP",quote:"JPY",baseId:"xrp",quoteId:"jpy"},"XLM/JPY":{id:"xlm_jpy",symbol:"XLM/JPY",base:"XLM",quote:"JPY",baseId:"xlm",quoteId:"jpy"},"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"},"ETH/JPY":{id:"eth_jpy",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy"},"LTC/JPY":{id:"ltc_jpy",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy"},"XRP/BTC":{id:"xrp_btc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc"},"XLM/BTC":{id:"xlm_btc",symbol:"XLM/BTC",base:"XLM",quote:"BTC",baseId:"xlm",quoteId:"btc"}},fees:{trading:{maker:-2e-4,taker:.0012},funding:{withdraw:{BTC:.001,LTC:.001,XRP:.15,ETH:5e-4,MONA:.001,BCC:.001}}},precision:{price:8,amount:8},exceptions:{20001:c,20002:c,20003:c,20005:c,20004:u,40020:f,40021:f,40025:o,40013:l,40014:l,50008:h,50009:l,50010:l,60001:d,60005:f}})}parseTicker(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"timestamp"),a=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetPairTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={pair:i.marketId(e)},t.next=5,i.publicGetPairDepth(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),c=i.safeInteger(o,"timestamp"),t.abrupt("return",i.parseOrderBook(o,c));case 9:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.safeInteger(e,"executed_at"),n=void 0,a=void 0;void 0!==t&&(n=t.symbol,a=t.quote);var i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;void 0!==i&&void 0!==s&&(o=parseFloat(this.costToPrecision(n,i*s)));var c=this.safeString2(e,"transaction_id","trade_id"),u=this.safeString(e,"maker_taker"),d=void 0,f=this.safeFloat(e,"fee_amount_quote");void 0!==f&&(d={currency:a,cost:f});var l=this.safeString(e,"order_id"),h=this.safeString(e,"type"),p=this.safeString(e,"side");return{timestamp:r,datetime:this.iso8601(r),symbol:n,id:c,order:l,type:h,side:p,takerOrMaker:u,price:i,amount:s,cost:o,fee:d,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},n.next=6,s.publicGetPairTransactions(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"data",{}),f=s.safeValue(d,"transactions",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,5),this.safeFloat(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4)]}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u=o.milliseconds(),u=(u=o.ymd(u)).split("-"),d={pair:c.id,candletype:o.timeframes[t],yyyymmdd:u.join("")},n.next=9,o.publicGetPairCandlestickCandletypeYyyymmdd(o.extend(d,s));case 9:return f=n.sent,l=o.safeValue(f,"data",{}),h=o.safeValue(l,"candlestick",[]),p=o.safeValue(h,0,{}),m=o.safeValue(p,"ohlcv",[]),n.abrupt("return",o.parseOHLCVs(m,c,t,r,i));case 15:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetUserAssets(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"data",{}),o=t.safeValue(s,"assets",[]),c=0;c<o.length;c++)u=o[c],d=t.safeString(u,"asset"),f=t.safeCurrencyCode(d),l={free:t.safeFloat(u,"free_amount"),used:t.safeFloat(u,"locked_amount"),total:t.safeFloat(u,"onhand_amount")},i[f]=l;return r.abrupt("return",t.parseBalance(i));case 10:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({UNFILLED:"open",PARTIALLY_FILLED:"open",FULLY_FILLED:"closed",CANCELED_UNFILLED:"canceled",CANCELED_PARTIALLY_FILLED:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=this.safeString(e,"pair"),a=void 0;n&&!t&&n in this.marketsById&&(t=this.marketsById[n]),void 0!==t&&(a=t.symbol);var i=this.safeInteger(e,"ordered_at"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"start_amount"),c=this.safeFloat(e,"executed_amount"),u=this.safeFloat(e,"remaining_amount"),d=this.safeFloat(e,"average_price"),f=void 0;void 0!==c&&void 0!==d&&(f=c*d);var l=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeStringLower(e,"type"),p=this.safeStringLower(e,"side");return{id:r,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:l,symbol:a,type:h,timeInForce:void 0,postOnly:void 0,side:p,price:s,stopPrice:void 0,cost:f,average:d,amount:o,filled:c,remaining:u,trades:void 0,fee:void 0,info:e}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),void 0!==s){n.next=5;break}throw new f(c.id+" createOrder() requires a price argument for both market and limit orders");case 5:return d={pair:u.id,amount:c.amountToPrecision(e,i),price:c.priceToPrecision(e,s),side:r,type:t},n.next=8,c.privatePostUserSpotOrder(c.extend(d,o));case 8:return l=n.sent,h=c.safeValue(l,"data"),n.abrupt("return",c.parseOrder(h,u));case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={order_id:e,pair:s.id},n.next=6,i.privatePostUserSpotCancelOrder(i.extend(o,r));case 6:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",u);case 9:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={order_id:e,pair:s.id},n.next=6,i.privateGetUserSpotOrder(i.extend(o,r));case 6:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",i.parseOrder(u,s));case 9:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.count=r),void 0!==t&&(c.since=parseInt(t/1e3)),n.next=8,s.privateGetUserSpotActiveOrders(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"data",{}),f=s.safeValue(d,"orders",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),c={},void 0!==o&&(c.pair=o.id),void 0!==r&&(c.count=r),void 0!==t&&(c.since=parseInt(t/1e3)),n.next=10,s.privateGetUserSpotTradeHistory(s.extend(c,i));case 10:return u=n.sent,d=s.safeValue(u,"data",{}),f=s.safeValue(d,"trades",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={asset:i.id},n.next=6,r.privateGetUserWithdrawalAccount(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),u=r.safeValue(c,"accounts",[]),d=r.safeValue(u,0,{}),f=r.safeString(d,"address"),n.abrupt("return",{currency:i,address:f,tag:void 0,info:o});case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var c=this;return a(n.mark((function r(){var a,i,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("uuid"in s){r.next=2;break}throw new o(c.id+" uuid is required for withdrawal");case 2:return r.next=4,c.loadMarkets();case 4:return a=c.currency(e),i={asset:a.id,amount:t},r.next=8,c.privatePostUserRequestWithdrawal(c.extend(i,s));case 8:return u=r.sent,d=c.safeValue(u,"data",{}),f=c.safeString(d,"txid"),r.abrupt("return",{info:u,id:f});case 12:case"end":return r.stop()}}),r)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o=this.urls.api[t]+"/";if("public"===t)o+=this.implodeParams(e,n),Object.keys(s).length&&(o+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c;o+=this.version+"/"+this.implodeParams(e,n),"POST"===r?u+=i=this.json(s):(u+="/"+this.version+"/"+e,Object.keys(s).length&&(o+="?"+(s=this.urlencode(s)),u+="?"+s)),a={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":c,"ACCESS-SIGNATURE":this.hmac(this.encode(u),this.encode(this.secret))}}return{url:o,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(d=n.sent,f=u.safeInteger(d,"success"),l=u.safeValue(d,"data"),f&&l){n.next=16;break}if(h={1e4:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},p=u.exceptions,m=u.safeString(l,"code"),v=u.safeString(h,m,"Error"),void 0===(b=u.safeValue(p,m))){n.next=15;break}throw new b(v);case 15:throw new o(u.id+" "+u.json(d));case 16:return n.abrupt("return",d);case 17:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.InvalidNonce,c=s.InsufficientFunds,u=s.AuthenticationError,d=s.InvalidOrder,f=s.ExchangeError,l=s.OrderNotFound,h=s.AccountSuspended,p=s.BadSymbol,m=s.OrderImmediatelyFillable,v=s.RateLimitExceeded,b=s.OnMaintenance,g=s.PermissionDenied;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","3d":"259200","1w":"604800"},urls:{referral:"https://auth.bitbay.net/ref/jHlbB4mIkdS1",logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://bitbay.net/API/Public",private:"https://bitbay.net/API/Trading/tradingApi.php",v1_01Public:"https://api.bitbay.net/rest",v1_01Private:"https://api.bitbay.net/rest"},doc:["https://bitbay.net/public-api","https://bitbay.net/en/private-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API","https://docs.bitbay.net/v1.0.1-en/reference"],support:"https://support.bitbay.net",fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]},v1_01Public:{get:["trading/ticker","trading/ticker/{symbol}","trading/stats","trading/orderbook/{symbol}","trading/transactions/{symbol}","trading/candle/history/{symbol}/{resolution}"]},v1_01Private:{get:["payments/withdrawal/{detailId}","payments/deposit/{detailId}","trading/offer","trading/config/{symbol}","trading/history/transactions","balances/BITBAY/history","balances/BITBAY/balance","fiat_cantor/rate/{baseId}/{quoteId}","fiat_cantor/history"],post:["trading/offer/{symbol}","trading/config/{symbol}","balances/BITBAY/balance","balances/BITBAY/balance/transfer/{source}/{destination}","fiat_cantor/exchange"],delete:["trading/offer/{symbol}/{id}/{side}/{price}"],put:["balances/BITBAY/balance/{id}"]}},fees:{trading:{maker:0,taker:.001,percentage:!0,tierBased:!1},fiat:{maker:.003,taker:.0043,percentage:!0,tierBased:!0,tiers:{taker:[[.0043,0],[.0042,1250],[.0041,3750],[.004,7500],[.0039,1e4],[.0038,15e3],[.0037,2e4],[.0036,25e3],[.0035,37500],[.0034,5e4],[.0033,75e3],[.0032,1e5],[.0031,15e4],[.003,2e5],[.0029,25e4],[.0028,375e3],[.0027,5e5],[.0026,625e3],[.0025,875e3]],maker:[[.003,0],[.0029,1250],[.0028,3750],[.0028,7500],[.0027,1e4],[.0026,15e3],[.0025,2e4],[.0025,25e3],[.0024,37500],[.0023,5e4],[.0023,75e3],[.0022,1e5],[.0021,15e4],[.0021,2e5],[.002,25e4],[.0019,375e3],[.0018,5e5],[.0018,625e3],[.0017,875e3]]}},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},options:{fiatCurrencies:["EUR","USD","GBP","PLN"]},exceptions:{400:f,401:d,402:d,403:d,404:d,405:d,406:c,408:d,501:u,502:u,503:o,504:f,505:u,506:h,509:f,510:p,FUNDS_NOT_SUFFICIENT:c,OFFER_FUNDS_NOT_EXCEEDING_MINIMUMS:d,OFFER_NOT_FOUND:l,OFFER_WOULD_HAVE_BEEN_PARTIALLY_FILLED:m,ACTION_LIMIT_EXCEEDED:v,UNDER_MAINTENANCE:b,REQUEST_TIMESTAMP_TOO_OLD:o,PERMISSIONS_NOT_SUFFICIENT:g},commonCurrencies:{GGC:"Global Game Coin"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.v1_01PublicGetTradingTicker(e);case 2:for(a=r.sent,i=t.safeValue(t.options,"fiatCurrencies",[]),s=[],o=t.safeValue(a,"items"),c=Object.keys(o),u=0;u<c.length;u++)d=c[u],f=o[d],l=t.safeValue(f,"market",{}),h=t.safeValue(l,"first",{}),p=t.safeValue(l,"second",{}),m=t.safeString(h,"currency"),v=t.safeString(p,"currency"),b=m+v,g=t.safeCurrencyCode(m),y=t.safeCurrencyCode(v),w=g+"/"+y,k={amount:t.safeInteger(h,"scale"),price:t.safeInteger(p,"scale")},x=t.safeValue(t.fees,"trading",{}),(t.inArray(g,i)||t.inArray(y,i))&&(x=t.safeValue(t.fees,"fiat",{})),_=t.safeFloat(x,"maker"),S=t.safeFloat(x,"taker"),s.push({id:b,symbol:w,base:g,quote:y,baseId:m,quoteId:v,precision:k,active:void 0,maker:_,taker:S,limits:{amount:{min:t.safeFloat(h,"minOffer"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(p,"minOffer"),max:void 0}},info:f});return r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return a={},e.next=5,s.v1_01PrivateGetTradingOffer(s.extend(a,i));case 5:return o=e.sent,c=s.safeValue(o,"items",[]),e.abrupt("return",s.parseOrders(c,void 0,t,r,{status:"open"}));case 8:case"end":return e.stop()}}),e)})))()}parseOrder(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"-"),a=this.safeInteger(e,"time"),i=this.safeFloat(e,"startAmount"),s=this.safeFloat(e,"currentAmount"),o=void 0;void 0!==i&&void 0!==s&&(o=Math.max(0,i-s));var c=this.safeValue(e,"postOnly");return{id:this.safeString(e,"id"),clientOrderId:void 0,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:void 0,symbol:n,type:this.safeString(e,"mode"),timeInForce:void 0,postOnly:c,side:this.safeStringLower(e,"offerType"),price:this.safeFloat(e,"rate"),stopPrice:void 0,amount:i,cost:void 0,filled:o,remaining:s,average:void 0,fee:void 0,trades:void 0}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},e&&(c=[s.marketId(e)],o.markets=c),u={query:s.json(s.extend(o,i))},n.next=7,s.v1_01PrivateGetTradingHistoryTransactions(u);case 7:if(d=n.sent,f=s.safeValue(d,"items"),l=s.parseTrades(f,void 0,t,r),void 0!==e){n.next=12;break}return n.abrupt("return",l);case 12:return n.abrupt("return",s.filterBySymbol(l,e));case 13:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.v1_01PrivateGetBalancesBITBAYBalance(e);case 4:if(a=r.sent,void 0!==(i=t.safeValue(a,"balances"))){r.next=8;break}throw new f(t.id+" empty balance response "+t.json(a));case 8:for(s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(l=t.account()).used=t.safeFloat(c,"lockedFunds"),l.free=t.safeFloat(c,"availableFunds"),s[d]=l;return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.publicGetIdOrderbook(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={id:r.marketId(e)},n.next=5,r.publicGetIdTicker(r.extend(i,t));case 5:return s=n.sent,o=r.milliseconds(),c=r.safeFloat(s,"volume"),u=r.safeFloat(s,"vwap"),d=void 0,void 0!==c&&void 0!==u&&(d=c*u),f=r.safeFloat(s,"last"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:r.safeFloat(s,"max"),low:r.safeFloat(s,"min"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:u,open:void 0,close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:r.safeFloat(s,"average"),baseVolume:c,quoteVolume:d,info:s});case 13:case"end":return n.stop()}}),a)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],void 0!==e&&(c=s.currency(e),o.push(c.id)),u={balanceCurrencies:o},void 0!==t&&(u.fromTime=t),void 0!==r&&(u.limit=r),u=s.extend(u,i),n.next=8,s.v1_01PrivateGetBalancesBITBAYHistory({query:s.json(u)});case 8:return d=n.sent,f=d.items,n.abrupt("return",s.parseLedger(f,void 0,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseLedgerEntry(e,t){var r=this.safeInteger(e,"time"),n=this.safeValue(e,"balance",{}),a=this.safeString(n,"currency"),i=this.safeCurrencyCode(a),s=this.safeValue(e,"change",{}),o=this.safeFloat(s,"total"),c="in";o<0&&(c="out",o=-o);var u=this.safeString(e,"historyId"),d=this.safeString(e,"detailId"),f=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeValue(e,"fundsBefore",{}),h=this.safeFloat(l,"total"),p=this.safeValue(e,"fundsAfter",{});return{info:e,id:u,direction:c,account:void 0,referenceId:d,referenceAccount:void 0,type:f,currency:i,amount:o,before:h,after:this.safeFloat(p,"total"),status:"ok",timestamp:r,datetime:this.iso8601(r),fee:void 0}}parseLedgerEntryType(e){return this.safeString({ADD_FUNDS:"transaction",BITCOIN_GOLD_FORK:"transaction",CREATE_BALANCE:"transaction",FUNDS_MIGRATION:"transaction",WITHDRAWAL_LOCK_FUNDS:"transaction",WITHDRAWAL_SUBTRACT_FUNDS:"transaction",WITHDRAWAL_UNLOCK_FUNDS:"transaction",TRANSACTION_COMMISSION_OUTCOME:"fee",TRANSACTION_COMMISSION_RETURN:"fee",TRANSACTION_OFFER_ABORTED_RETURN:"trade",TRANSACTION_OFFER_COMPLETED_RETURN:"trade",TRANSACTION_POST_INCOME:"trade",TRANSACTION_POST_OUTCOME:"trade",TRANSACTION_PRE_LOCKING:"trade"},e,e)}parseOHLCV(e,t){var r=this.safeValue(e,1,{});return[this.safeInteger(e,0),this.safeFloat(r,"o"),this.safeFloat(r,"h"),this.safeFloat(r,"l"),this.safeFloat(r,"c"),this.safeFloat(r,"v")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u=c.baseId+"-"+c.quoteId,d={symbol:u,resolution:o.timeframes[t]},void 0===i&&(i=100),f=o.parseTimeframe(t),l=i*f*1e3,void 0===r?(d.to=o.milliseconds(),d.from=d.to-l):(d.from=parseInt(r),d.to=o.sum(d.from,l)),n.next=11,o.v1_01PublicGetTradingCandleHistorySymbolResolution(o.extend(d,s));case 11:return h=n.sent,p=o.safeValue(h,"items",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 14:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger2(e,"time","t"),n="Buy"===this.safeString(e,"userAction")?"buy":"sell",a=this.safeValue(e,"wasTaker"),i=void 0;void 0!==a&&(i=a?"taker":"maker");var s=this.safeFloat2(e,"rate","r"),o=this.safeFloat2(e,"amount","a"),c=void 0;void 0!==o&&void 0!==s&&(c=s*o);var u=this.safeFloat(e,"commissionValue"),d=this.safeString(e,"market"),f=(t=this.safeMarket(d,t,"-")).symbol,l=void 0;void 0!==u&&(l={currency:"buy"===n?t.base:t.quote,cost:u});var h=this.safeString(e,"offerId"),p=void 0;return void 0!==h&&(p=h?"limit":"market"),{id:this.safeString(e,"id"),order:h,timestamp:r,datetime:this.iso8601(r),symbol:f,type:p,side:n,price:s,amount:o,cost:c,takerOrMaker:i,fee:l,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c=o.baseId+"-"+o.quoteId,u={symbol:c},void 0!==t&&(u.fromTime=t-1),void 0!==r&&(u.limit=r),n.next=9,s.v1_01PublicGetTradingTransactionsSymbol(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"items"),n.abrupt("return",s.parseTrades(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d=u.baseId+"-"+u.quoteId,f={symbol:d,offerType:r,amount:i,mode:t},"limit"===t&&(f.rate=s,s=parseFloat(s)),i=parseFloat(i),n.next=9,c.v1_01PrivatePostTradingOfferSymbol(c.extend(f,o));case 9:if(l=n.sent,h=c.milliseconds(),p=c.safeString(l,"offerId"),m=c.safeValue(l,"completed",!1),v=m?"closed":"open",b=0,g=void 0,y=c.safeValue(l,"transactions"),w=void 0,void 0!==y)for(w=c.parseTrades(y,u,void 0,void 0,{timestamp:h,datetime:c.iso8601(h),symbol:e,side:r,type:t,orderId:p}),g=0,k=0;k<w.length;k++)b=c.sum(b,w[k].amount),g=c.sum(g,w[k].cost);return x=i-b,n.abrupt("return",{id:p,info:l,timestamp:h,datetime:c.iso8601(h),lastTradeTimestamp:void 0,status:v,symbol:e,type:t,side:r,price:s,amount:i,cost:g,filled:b,remaining:x,average:void 0,fee:void 0,trades:w,clientOrderId:void 0});case 21:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(s=i.safeString(r,"side"))){n.next=3;break}throw new f(i.id+' cancelOrder() requires a `side` parameter ("buy" or "sell")');case 3:if(void 0!==(o=i.safeValue(r,"price"))){n.next=6;break}throw new f(i.id+" cancelOrder() requires a `price` parameter (float or string)");case 6:return n.next=8,i.loadMarkets();case 8:return c=i.market(t),u=c.baseId+"-"+c.quoteId,d={symbol:u,id:e,side:s,price:o},n.abrupt("return",i.v1_01PrivateDeleteTradingOfferSymbolIdSidePrice(i.extend(d,r)));case 12:case"end":return n.stop()}}),a)})))()}isFiat(e){return this.safeValue({USD:!0,EUR:!0,PLN:!0},e,!1)}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=void 0,u=o.currency(e),d={currency:u.id,quantity:t},o.isFiat(e)?c="privatePostWithdraw":(c="privatePostTransfer",void 0!==i&&(r+="?dt="+i.toString()),d.address=r),n.next=9,o[c](o.extend(d,s));case 9:return f=n.sent,n.abrupt("return",{info:f,id:void 0});case 11:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t];if("public"===t){var o=this.omit(n,this.extractParams(e));s+="/"+this.implodeParams(e,n)+".json",Object.keys(o).length&&(s+="?"+this.urlencode(o))}else if("v1_01Public"===t){var c=this.omit(n,this.extractParams(e));s+="/"+this.implodeParams(e,n),Object.keys(c).length&&(s+="?"+this.urlencode(c))}else if("v1_01Private"===t){this.checkRequiredCredentials();var u=this.omit(n,this.extractParams(e));s+="/"+this.implodeParams(e,n);var d=this.milliseconds().toString(),f=void 0;"POST"!==r?(Object.keys(u).length&&(s+="?"+this.urlencode(u)),f=this.apiKey+d):void 0===i&&(i=this.json(u),f=this.apiKey+d+i),a={"Request-Timestamp":d,"Operation-Id":this.uuid(),"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(f),this.encode(this.secret),"sha512"),"Content-Type":"application/json"}}else this.checkRequiredCredentials(),i=this.urlencode(this.extend({method:e,moment:this.nonce()},n)),a={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(i),this.encode(this.secret),"sha512")};return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){if("code"in s){var u=this.safeString(s,"code"),d=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,u,d),new f(d)}if("status"in s&&"Fail"===this.safeString(s,"status")){for(var l=this.safeValue(s,"errors"),h=this.id+" "+i,p=0;p<l.length;p++){var m=l[p];this.throwExactlyMatchedException(this.exceptions,m,h)}throw new f(h)}}}}},function(e,t,r){"use strict";var n=r(113);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"bitcoincom",name:"bitcoin.com",countries:["KN"],urls:{logo:"https://user-images.githubusercontent.com/1294454/97296144-514fa300-1861-11eb-952b-3d55d492200b.jpg",api:{public:"https://api.exchange.bitcoin.com",private:"https://api.exchange.bitcoin.com"},www:"https://exchange.bitcoin.com",doc:"https://api.exchange.bitcoin.com/api/2/explore",fees:"https://exchange.bitcoin.com/fees-and-limits",referral:"https://exchange.bitcoin.com/referral/da948b21d6c92d69"},fees:{trading:{maker:.0015,taker:.002}}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(202),s=r(6),o=s.ExchangeError,c=s.InvalidAddress,u=s.ArgumentsRequired,d=s.InsufficientFunds,f=s.AuthenticationError,l=s.OrderNotFound,h=s.InvalidOrder,p=s.BadRequest,m=s.InvalidNonce,v=s.BadSymbol,b=s.OnMaintenance;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitfinex2",name:"Bitfinex",countries:["VG"],version:"v2",certified:!1,pro:!1,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchClosedOrder:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTickers:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v1:"https://api.bitfinex.com",public:"https://api-pub.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",doc:["https://docs.bitfinex.com/v2/docs/","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["conf/{config}","conf/pub:{action}:{object}","conf/pub:{action}:{object}:{detail}","conf/pub:map:{object}","conf/pub:map:{object}:{detail}","conf/pub:map:currency:{detail}","conf/pub:map:currency:sym","conf/pub:map:currency:label","conf/pub:map:currency:unit","conf/pub:map:currency:undl","conf/pub:map:currency:pool","conf/pub:map:currency:explorer","conf/pub:map:currency:tx:fee","conf/pub:map:tx:method","conf/pub:list:{object}","conf/pub:list:{object}:{detail}","conf/pub:list:currency","conf/pub:list:pair:exchange","conf/pub:list:pair:margin","conf/pub:list:pair:futures","conf/pub:list:competitions","conf/pub:info:{object}","conf/pub:info:{object}:{detail}","conf/pub:info:pair","conf/pub:info:tx:status","conf/pub:fees","platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}:{side}/last","stats1/{key}:{size}:{symbol}:{side}/hist","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}/last","stats1/{key}:{size}:{symbol}/hist","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist","status/{type}","status/deriv","liquidations/hist","rankings/{key}:{timeframe}:{symbol}/{section}","rankings/{key}:{timeframe}:{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/wallets/hist","auth/r/orders","auth/r/orders/{symbol}","auth/w/order/submit","auth/w/order/update","auth/w/order/cancel","auth/w/order/multi","auth/w/order/cancel/multi","auth/r/orders/{symbol}/hist","auth/r/orders/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/trades/hist","auth/r/ledgers/{currency}/hist","auth/r/ledgers/hist","auth/r/info/margin/{key}","auth/r/info/margin/base","auth/r/info/margin/sym_all","auth/r/positions","auth/w/position/claim","auth/r/positions/hist","auth/r/positions/audit","auth/w/deriv/collateral/set","auth/w/deriv/collateral/limits","auth/r/funding/offers","auth/r/funding/offers/{symbol}","auth/w/funding/offer/submit","auth/w/funding/offer/cancel","auth/w/funding/offer/cancel/all","auth/w/funding/close","auth/w/funding/auto","auth/w/funding/keep","auth/r/funding/offers/{symbol}/hist","auth/r/funding/offers/hist","auth/r/funding/loans","auth/r/funding/loans/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits","auth/r/funding/credits/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/funding/trades/hist","auth/r/info/funding/{key}","auth/r/info/user","auth/r/logins/hist","auth/w/transfer","auth/w/deposit/address","auth/w/deposit/invoice","auth/w/withdraw","auth/r/movements/{currency}/hist","auth/r/movements/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/price:{symbol}:{price}/del","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/w/settings/set","auth/r/settings","auth/w/settings/del"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:4e-4,BCH:1e-4,ETH:.00135,EOS:0,LTC:.001,OMG:.15097,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:1e-4,QTM:.01,EDO:.23687,DAT:9.8858,AVT:1.1251,SAN:.35977,USDT:5,SPK:16.971,BAT:1.1209,GNT:2.8789,SNT:9.0848,QASH:1.726,YYW:7.9464}}},options:{precision:"R0",exchangeTypes:{"EXCHANGE MARKET":"market","EXCHANGE LIMIT":"limit"},orderTypes:{market:"EXCHANGE MARKET",limit:"EXCHANGE LIMIT"},fiat:{USD:"USD",EUR:"EUR",JPY:"JPY",GBP:"GBP"}},exceptions:{exact:{10020:p,10100:f,10114:m,20060:b},broad:{address:c,"available balance is only":d,"not enough exchange balance":d,"Order not found":l,"symbol: invalid":v,"Invalid order":h}}})}isFiat(e){return e in this.options.fiat}getCurrencyId(e){return"f"+e}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPlatformStatus(e);case 2:return a=r.sent,i=t.safeValue(a,0),s=1===i?"ok":"maintenance",t.status=t.extend(t.status,{status:s,updated:t.milliseconds()}),r.abrupt("return",t.status);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetConfPubListPairFutures(e);case 2:return a=r.sent,r.next=5,t.v1GetSymbolsDetails(e);case 5:for(i=r.sent,s=t.safeValue(a,0,[]),o=[],c=0;c<i.length;c++)u=i[c],d=t.safeStringUpper(u,"pair"),f=!0,t.inArray(d,s)&&(f=!1),l=!f,h=f?"spot":"futures",p=void 0,m=void 0,d.indexOf(":")>=0?(v=d.split(":"),p=v[0],m=v[1]):(p=d.slice(0,3),m=d.slice(3,6)),b=t.safeCurrencyCode(p),g=t.safeCurrencyCode(m),y=b+"/"+g,d="t"+d,p=t.getCurrencyId(p),m=t.getCurrencyId(m),w={price:t.safeInteger(u,"price_precision"),amount:8},(k={amount:{min:t.safeFloat(u,"minimum_order_size"),max:t.safeFloat(u,"maximum_order_size")},price:{min:Math.pow(10,-w.price),max:Math.pow(10,w.price)}}).cost={min:k.amount.min*k.price.min,max:void 0},o.push({id:d,symbol:y,base:b,quote:g,baseId:p,quoteId:m,active:!0,precision:w,limits:k,info:u,type:h,swap:!1,spot:f,futures:l});return r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=["pub:list:currency","pub:map:currency:sym","pub:map:currency:label","pub:map:currency:unit","pub:map:currency:undl","pub:map:currency:pool","pub:map:currency:explorer","pub:map:currency:tx:fee"].join(","),i={config:a},r.next=5,t.publicGetConfConfig(t.extend(i,e));case 5:for(s=r.sent,o={sym:t.indexBy(t.safeValue(s,1,[]),0),label:t.indexBy(t.safeValue(s,2,[]),0),unit:t.indexBy(t.safeValue(s,3,[]),0),undl:t.indexBy(t.safeValue(s,4,[]),0),pool:t.indexBy(t.safeValue(s,5,[]),0),explorer:t.indexBy(t.safeValue(s,6,[]),0),fees:t.indexBy(t.safeValue(s,7,[]),0)},c=t.safeValue(s,0,[]),u={},d=0;d<c.length;d++)f=c[d],l=t.safeCurrencyCode(f),h=t.safeValue(o.label,f,[]),p=t.safeString(h,1),m=t.safeValue(o.pool,f,[]),v=t.safeString(m,1),b=t.safeValue(o.fees,f,[]),g=t.safeValue(b,1,[]),y=t.safeFloat(g,1),8,f="f"+f,u[l]={id:f,code:l,info:[f,h,m,b],type:v,name:p,active:!0,fee:y,precision:8,limits:{amount:{min:1/Math.pow(10,8),max:void 0},price:{min:1/Math.pow(10,8),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:y,max:void 0}}};return r.abrupt("return",u);case 11:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostAuthRWallets(e);case 4:for(a=r.sent,i=t.safeString(e,"type","exchange"),s={info:a},o=0;o<a.length;o++)c=a[o],u=c[0],d=c[1],f=c[2],l=c[4],u===i&&("t"===d[0]&&(d=d.slice(1)),h=t.safeCurrencyCode(d),(p=t.account()).total=f,l?(p.free=l,p.used=p.total-p.free):0===l?(p.free=0,p.used=f):p.free=f,s[h]=p);return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.safeValue(i.options,"precision","R0"),o={symbol:i.marketId(e),precision:s},void 0!==t&&(o.len=t),c=i.extend(o,r),n.next=8,i.publicGetBookSymbolPrecision(c);case 8:for(u=n.sent,d=i.milliseconds(),f={bids:[],asks:[],timestamp:d,datetime:i.iso8601(d),nonce:void 0},l="R0"===c.precision?1:0,h=0;h<u.length;h++)p=u[h],m=p[l],v=Math.abs(p[2]),b=p[2]>0?"bids":"asks",f[b].push([m,v]);return f.bids=i.sortBy(f.bids,0,!0),f.asks=i.sortBy(f.asks,0),n.abrupt("return",f);case 16:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=e.length,i=e[a-4];return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e[a-2],low:e[a-1],bid:e[a-10],bidVolume:void 0,ask:e[a-8],askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:e[a-6],percentage:100*e[a-5],average:void 0,baseVolume:e[a-3],quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e?(s=r.marketIds(e),i.symbols=s.join(",")):i.symbols="ALL",n.next=6,r.publicGetTickers(r.extend(i,t));case 6:for(o=n.sent,c={},u=0;u<o.length;u++)d=o[u],(f=d[0])in r.markets_by_id&&(l=r.markets_by_id[f],h=l.symbol,c[h]=r.parseTicker(d,l));return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseSymbol(e){if(void 0===e)return e;var t=void 0,r=void 0;if((e=e.replace("t","")).indexOf(":")>=0){var n=e.split(":");t=n[0],r=n[1]}else t=e.slice(0,3),r=e.slice(3,6);return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(r)}parseTrade(e,t){var r=e.length>5,n=e[0].toString(),a=e[r?4:2],i=void 0,s=e[r?5:3],o=void 0,c=void 0,u=void 0,d=void 0,f=void 0,l=void 0,h=e[r?2:1];if(r){var p=e[1];l=p in this.markets_by_id?(t=this.markets_by_id[p]).symbol:this.parseSymbol(p),c=e[3].toString(),u=1===e[8]?"maker":"taker";var m=e[9],v=this.safeCurrencyCode(e[10]);if(void 0!==m){if(m=-m,l in this.markets)m=this.feeToPrecision(l,m);else{var b="f"+v;if(b in this.currencies_by_id){var g=this.currencies_by_id[b];m=this.currencyToPrecision(g.code,m)}}f={cost:parseFloat(m),currency:v}}var y=e[6];d=this.safeString(this.options.exchangeTypes,y)}return void 0===l&&void 0!==t&&(l=t.symbol),void 0!==a&&(o=a<0?"sell":"buy",a=Math.abs(a),void 0===i&&void 0!==s&&(i=a*s)),{id:n,timestamp:h,datetime:this.iso8601(h),symbol:l,order:c,side:o,type:d,takerOrMaker:u,price:s,amount:a,cost:i,fee:f,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c="-1",u={symbol:o.id},void 0!==t&&(u.start=t,c="1"),void 0!==r&&(u.limit=r),u.sort=c,n.next=10,s.publicGetTradesSymbolHist(s.extend(u,i));case 10:return d=n.sent,f=s.sortBy(d,1),n.abrupt("return",s.parseTrades(f,o,void 0,r));case 13:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i=100,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===i&&(i=100),void 0===r&&(r=o.milliseconds()-o.parseTimeframe(t)*i*1e3),u={symbol:c.id,timeframe:o.timeframes[t],sort:1,start:r,limit:i},n.next=8,o.publicGetCandlesTradeTimeframeSymbolHist(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){if(void 0===e)return e;var t=e.split(" "),r=this.safeString(t,0);return this.safeString({ACTIVE:"open",PARTIALLY:"open",EXECUTED:"closed",CANCELED:"canceled",INSUFFICIENT:"canceled",RSN_DUST:"rejected",RSN_PAUSE:"rejected"},r,e)}parseOrder(e,t){var r=this.safeString(e,0),n=void 0,a=this.safeString(e,3);a in this.markets_by_id?t=this.markets_by_id[a]:n=this.parseSymbol(a),void 0===n&&void 0!==t&&(n=t.symbol);var i=this.safeInteger(e,5),s=Math.abs(this.safeFloat(e,6)),o=Math.abs(this.safeFloat(e,7)),c=o-s,u=e[7]<0?"sell":"buy",d=this.safeString(e,8),f=this.safeString(this.safeValue(this.options,"exchangeTypes"),d),l=void 0,h=this.safeString(e,13);if(void 0!==h){var p=h.split(" @ ");l=this.parseOrderStatus(this.safeString(p,0))}var m=this.safeFloat(e,16),v=this.safeFloat(e,17),b=m*c;return{info:e,id:r,clientOrderId:this.safeString(e,2),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:n,type:f,timeInForce:void 0,postOnly:void 0,side:u,price:m,stopPrice:void 0,amount:o,cost:b,average:v,filled:c,remaining:s,status:l,fee:void 0,trades:void 0}}createOrder(e,t,r,i,s,c={}){var d=this;return a(n.mark((function a(){var f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.loadMarkets();case 2:if(f=d.market(e),l=d.safeValue(d.options,"orderTypes",{}),h=d.safeStringUpper(l,t,t),i="sell"===r?-i:i,p={symbol:f.id,type:h,amount:d.numberToString(i)},"LIMIT"!==h&&"EXCHANGE LIMIT"!==h){n.next=11;break}p.price=d.numberToString(s),n.next=33;break;case 11:if("STOP"!==h&&"EXCHANGE STOP"!==h){n.next=16;break}m=d.safeFloat(c,"stopPrice",s),p.price=d.numberToString(m),n.next=33;break;case 16:if("STOP LIMIT"!==h&&"EXCHANGE STOP LIMIT"!==h){n.next=32;break}if(v=d.safeFloat(c,"price_aux_limit"),b=d.safeFloat(c,"stopPrice"),void 0!==v){n.next=27;break}if(void 0!==b){n.next=24;break}throw new u(d.id+" createOrder() requires a stopPrice parameter or a price_aux_limit parameter for a "+h+" order");case 24:p.price_aux_limit=d.numberToString(s);case 25:n.next=29;break;case 27:p.price_aux_limit=d.numberToString(v),void 0===b&&(b=s);case 29:p.price=d.numberToString(b),n.next=33;break;case 32:"TRAILING STOP"===h||"EXCHANGE TRAILING STOP"===h?(g=d.safeFloat(c,"price_trailing"),p.price_trailing=d.numberToString(g),y=d.safeFloat(c,"stopPrice",s),p.price=d.numberToString(y)):"FOK"!==h&&"EXCHANGE FOK"!==h&&"IOC"!==h&&"EXCHANGE IOC"!==h||(p.price=d.numberToString(s));case 33:return c=d.omit(c,["stopPrice","price_aux_limit","price_trailing"]),void 0!==(w=d.safeValue2(c,"cid","clientOrderId"))&&(p.cid=w,c=d.omit(c,["cid","clientOrderId"])),n.next=38,d.privatePostAuthWOrderSubmit(d.extend(p,c));case 38:if(k=n.sent,"SUCCESS"===d.safeString(k,6)){n.next=44;break}throw x=k[5],_=k[7],new o(d.id+" "+k[6]+": "+_+" (#"+x+")");case 44:return S=d.safeValue(k,4,[]),T=d.safeValue(S,0),n.abrupt("return",d.parseOrder(T,f));case 47:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function e(){var a,i,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={all:1},e.next=3,r.privatePostAuthWOrderCancelMulti(r.extend(a,t));case 3:return i=e.sent,s=r.safeValue(i,4,[]),e.abrupt("return",r.parseOrders(s));case 6:case"end":return e.stop()}}),e)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.safeValue2(r,"cid","clientOrderId"),s=void 0,void 0===a){t.next=10;break}if(void 0!==(o=i.safeValue(r,"cidDate"))){t.next=6;break}throw new h(i.id+" canceling an order by clientOrderId ('cid') requires both 'cid' and 'cid_date' ('YYYY-MM-DD')");case 6:s={cid:a,cid_date:o},r=i.omit(r,["cid","clientOrderId"]),t.next=11;break;case 10:s={id:parseInt(e)};case 11:return t.next=13,i.privatePostAuthWOrderCancel(i.extend(s,r));case 13:return c=t.sent,u=i.safeValue(c,4),t.abrupt("return",i.parseOrder(u));case 16:case"end":return t.stop()}}),t)})))()}fetchOpenOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={id:[parseInt(e)]},n.next=3,i.fetchOpenOrders(t,void 0,void 0,i.extend(s,r));case 3:if(o=n.sent,void 0!==(c=i.safeValue(o,0))){n.next=7;break}throw new l(i.id+" order "+e+" not found");case 7:return n.abrupt("return",c);case 8:case"end":return n.stop()}}),a)})))()}fetchClosedOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={id:[parseInt(e)]},n.next=3,i.fetchClosedOrders(t,void 0,void 0,i.extend(s,r));case 3:if(o=n.sent,void 0!==(c=i.safeValue(o,0))){n.next=7;break}throw new l(i.id+" order "+e+" not found");case 7:return n.abrupt("return",c);case 8:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o={},c=void 0,u=void 0,void 0!==e){n.next=11;break}return n.next=8,s.privatePostAuthROrders(s.extend(o,i));case 8:u=n.sent,n.next=16;break;case 11:return c=s.market(e),o.symbol=c.id,n.next=15,s.privatePostAuthROrdersSymbol(s.extend(o,i));case 15:u=n.sent;case 16:return n.abrupt("return",s.parseOrders(u,c,t,r));case 17:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o={},c=void 0,u=void 0,void 0!==e){n.next=11;break}return n.next=8,s.privatePostAuthROrdersHist(s.extend(o,i));case 8:u=n.sent,n.next=16;break;case 11:return c=s.market(e),o.symbol=c.id,n.next=15,s.privatePostAuthROrdersSymbolHist(s.extend(o,i));case 15:u=n.sent;case 16:return void 0!==t&&(o.start=t),void 0!==r&&(o.limit=r),n.abrupt("return",s.parseOrders(u,c,t,r));case 19:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new u(o.id+" fetchOrderTrades() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(t),d=parseInt(e),f={id:d,symbol:c.id},n.next=9,o.privatePostAuthROrderSymbolIdTrades(o.extend(f,s));case 9:return l=n.sent,n.abrupt("return",o.parseTrades(l,c,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={end:s.milliseconds()},void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),u="privatePostAuthRTradesHist",void 0!==e&&(o=s.market(e),c.symbol=o.id,u="privatePostAuthRTradesSymbolHist"),n.next=10,s[u](s.extend(c,i));case 10:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={op_renew:1},n.next=5,r.fetchDepositAddress(e,r.extend(i,t));case 5:return s=n.sent,n.abrupt("return",s);case 7:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.getCurrencyName(e),s={method:i,wallet:"exchange",op_renew:0},n.next=6,r.privatePostAuthWDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,4,[]),u=r.safeString(c,5),d=void 0===u?r.safeString(c,4):u,f=void 0===u?void 0:r.safeString(c,4),r.checkAddress(d),n.abrupt("return",{currency:e,address:d,tag:f,info:o});case 13:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({SUCCESS:"ok",ERROR:"failed",FAILURE:"failed",CANCELED:"canceled"},e,e)}parseTransaction(e,t){var r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,o=void 0,c=void 0,u=void 0,d=void 0,f=void 0,l=void 0;if(e.length<9){var h=this.safeValue(e,4,[]);r=this.safeInteger(e,0),void 0!==t&&(a=t.code),void 0!==(d=this.safeFloat(h,8))&&(d=-d),i=this.safeFloat(h,5),o="ok",0===(s=this.safeValue(h,0))&&(s=void 0,o="failed"),c=this.safeString(h,3),u="withdrawal"}else s=this.safeString(e,0),r=this.safeInteger(e,5),n=this.safeInteger(e,6),o=this.parseTransactionStatus(this.safeString(e,9)),void 0!==(i=this.safeFloat(e,12))&&(u=i<0?"withdrawal":"deposit"),void 0!==(d=this.safeFloat(e,13))&&(d=-d),l=this.safeString(e,16),f=this.safeString(e,20);return{info:e,id:s,txid:f,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,address:l,addressTo:l,tagFrom:void 0,tag:c,tagTo:c,type:u,amount:i,currency:a,status:o,updated:n,fee:{currency:a,cost:d,rate:void 0}}}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},u="privatePostAuthRMovementsHist",void 0!==e&&(o=s.currency(e),c.currency=o.id,u="privatePostAuthRMovementsCurrencyHist"),void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),n.next=10,s[u](s.extend(c,i));case 10:return d=n.sent,n.abrupt("return",s.parseTransactions(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u=o.getCurrencyName(e),d={method:u,wallet:"exchange",amount:o.numberToString(t),address:r},void 0!==i&&(d.payment_id=i),n.next=9,o.privatePostAuthWWithdraw(o.extend(d,s));case 9:return f=n.sent,"success"!==(l=o.safeString(f,7))&&o.throwBroadlyMatchedException(o.exceptions.broad,l,l),h=o.parseTransaction(f,c),n.abrupt("return",o.extend(h,{address:r}));case 14:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privatePostPositions(i);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));s="v1"===t?t+s:this.version+s;var c=this.urls.api[t]+"/"+s;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="/api/"+s+u+(i=this.json(o)),f=this.hmac(this.encode(d),this.encode(this.secret),"sha384");a={"bfx-nonce":u,"bfx-apikey":this.apiKey,"bfx-signature":f,"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(!(f=n.sent)){n.next=11;break}if(!("message"in f)){n.next=8;break}if(!(f.message.indexOf("not enough exchange balance")>=0)){n.next=7;break}throw new d(u.id+" "+u.json(f));case 7:throw new o(u.id+" "+u.json(f));case 8:return n.abrupt("return",f);case 11:if(""!==f){n.next=13;break}throw new o(u.id+" returned empty response");case 13:return n.abrupt("return",f);case 14:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,c,u){if(500===e){var d=this.numberToString(s[1]),f=s[2],l=this.id+" "+f;throw this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new o(this.id+" "+f+" (#"+d+")")}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.OrderNotFound;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,hostname:"bitflyer.com",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:"emulated",fetchOrder:"emulated",fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.{hostname}",www:"https://bitflyer.com",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralhistory","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.002,taker:.002},"BTC/JPY":{maker:.0015,taker:.0015}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetGetmarkets(e);case 2:return a=r.sent,r.next=5,t.publicGetGetmarketsUsa(e);case 5:return i=r.sent,r.next=8,t.publicGetGetmarketsEu(e);case 8:for(s=r.sent,o=t.arrayConcat(a,i),o=t.arrayConcat(o,s),c=[],u=0;u<o.length;u++)d=o[u],f=t.safeString(d,"product_code"),l=f.split("_"),h=void 0,p=void 0,void 0,void 0,1===(b=l.length)?(h=f.slice(0,3),p=f.slice(3,6)):2===b?(h=l[0],p=l[1]):(h=l[1],p=l[2]),m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),g=2===b?m+"/"+v:f,y=t.safeValue(t.fees,g,t.fees.trading),w=t.safeValue(y,"maker",t.fees.trading.maker),k=t.safeValue(y,"taker",t.fees.trading.taker),x=!0,_=!1,S="spot",("alias"in d||"FX"===l[0])&&(S="future",_=!0,x=!1,w=0,k=0),c.push({id:f,symbol:g,base:m,quote:v,baseId:h,quoteId:p,maker:w,taker:k,type:S,spot:x,future:_,info:d});return r.abrupt("return",c);case 14:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetGetbalance(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency_code"),u=t.safeCurrencyCode(c),(d=t.account()).total=t.safeFloat(o,"amount"),d.free=t.safeFloat(o,"available"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={product_code:i.marketId(e)},t.next=5,i.publicGetGetboard(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s,void 0,"bids","asks","price","size"));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={product_code:r.marketId(e)},n.next=5,r.publicGetGetticker(r.extend(i,t));case 5:return s=n.sent,o=r.parse8601(r.safeString(s,"timestamp")),c=r.safeFloat(s,"ltp"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:void 0,low:void 0,bid:r.safeFloat(s,"best_bid"),bidVolume:void 0,ask:r.safeFloat(s,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(s,"volume_by_product"),quoteVolume:void 0,info:s});case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeStringLower(e,"side");void 0!==r&&r.length<1&&(r=void 0);var n=void 0;if(void 0!==r){var a=r+"_child_order_acceptance_id";a in e&&(n=e[a])}void 0===n&&(n=this.safeString(e,"child_order_acceptance_id"));var i=this.parse8601(this.safeString(e,"exec_date")),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"size"),c=void 0;void 0!==o&&void 0!==s&&(c=s*o);var u=this.safeString(e,"id"),d=void 0;return void 0!==t&&(d=t.symbol),{id:u,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,order:n,type:void 0,side:r,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={product_code:o.id},n.next=6,s.publicGetGetexecutions(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={product_code:c.marketId(e),child_order_type:t.toUpperCase(),side:r.toUpperCase(),price:s,size:i},n.next=5,c.privatePostSendchildorder(c.extend(u,o));case 5:return d=n.sent,f=c.safeString(d,"child_order_acceptance_id"),n.abrupt("return",{info:d,id:f});case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder() requires a `symbol` argument");case 2:return n.next=4,i.loadMarkets();case 4:return s={product_code:i.marketId(t),child_order_acceptance_id:e},n.next=7,i.privatePostCancelchildorder(i.extend(s,r));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"},e,e)}parseOrder(e,t){var r=this.parse8601(this.safeString(e,"child_order_date")),n=this.safeFloat(e,"size"),a=this.safeFloat(e,"outstanding_size"),i=this.safeFloat(e,"executed_size"),s=this.safeFloat(e,"price"),o=s*i,c=this.parseOrderStatus(this.safeString(e,"child_order_state")),u=this.safeStringLower(e,"child_order_type"),d=this.safeStringLower(e,"side"),f=this.safeString(e,"product_code"),l=this.safeSymbol(f,t),h=void 0,p=this.safeFloat(e,"total_commission");return void 0!==p&&(h={cost:p,currency:void 0,rate:void 0}),{id:this.safeString(e,"child_order_acceptance_id"),clientOrderId:void 0,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:c,symbol:l,type:u,timeInForce:void 0,postOnly:void 0,side:d,price:s,stopPrice:void 0,cost:o,amount:n,filled:i,remaining:a,fee:h,average:void 0,trades:void 0}}fetchOrders(e,t,r=100,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={product_code:o.id,count:r},n.next=8,s.privateGetGetchildorders(s.extend(u,i));case 8:return d=n.sent,f=s.parseOrders(d,o,t,r),void 0!==e&&(f=s.filterBy(f,"symbol",e)),n.abrupt("return",f);case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r=100,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={child_order_state:"ACTIVE"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r=100,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={child_order_state:"COMPLETED"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function r(){var a,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new c(i.id+" fetchOrder() requires a `symbol` argument");case 2:return r.next=4,i.fetchOrders(t);case 4:if(a=r.sent,s=i.indexBy(a,"id"),!(e in s)){r.next=8;break}return r.abrupt("return",s[e]);case 8:throw new u(i.id+" No order found with id "+e);case 9:case"end":return r.stop()}}),r)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={product_code:o.id},void 0!==r&&(u.count=r),n.next=9,s.privateGetGetexecutions(s.extend(u,i));case 9:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function t(){var r,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}throw new c(s.id+" fetchPositions() requires a `symbols` argument, exactly one symbol in an array");case 2:return t.next=4,s.loadMarkets();case 4:return r={product_code:s.marketIds(e)},t.next=7,s.privateGetpositions(s.extend(r,i));case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()}withdraw(e,t,r,i,s={}){var c=this;return a(n.mark((function a(){var i,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.checkAddress(r),n.next=3,c.loadMarkets();case 3:if("JPY"===e||"USD"===e||"EUR"===e){n.next=5;break}throw new o(c.id+" allows withdrawing JPY, USD, EUR only, "+e+" is not supported");case 5:return i=c.currency(e),u={currency_code:i.id,amount:t},n.next=9,c.privatePostWithdraw(c.extend(u,s));case 9:return d=n.sent,f=c.safeString(d,"message_id"),n.abrupt("return",{info:d,id:f});case 12:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/";"private"===t&&(s+="me/"),s+=e,"GET"===r&&Object.keys(n).length&&(s+="?"+this.urlencode(n));var o=this.implodeParams(this.urls.api,{hostname:this.hostname})+s;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=[c,r,s].join("");Object.keys(n).length&&"GET"!==r&&(u+=i=this.json(n)),a={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":c,"ACCESS-SIGN":this.hmac(this.encode(u),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:o,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.OrderNotFound,d=s.InsufficientFunds,f=s.DDoSProtection,l=s.PermissionDenied,h=s.BadSymbol;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitforex",name:"Bitforex",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295553-1160ec00-c50e-11ea-8ea0-df79276a9646.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/githubdev2020/API_Doc_en/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/en/invitationRegister?inviterId=1867438"},api:{public:{get:["api/v1/market/symbols","api/v1/market/ticker","api/v1/market/depth","api/v1/market/trades","api/v1/market/kline"]},private:{post:["api/v1/fund/mainAccount","api/v1/fund/allAccount","api/v1/trade/placeOrder","api/v1/trade/placeMultiOrder","api/v1/trade/cancelOrder","api/v1/trade/orderInfo","api/v1/trade/orderInfos"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{BTC:5e-4,ETH:.01,BCH:1e-4,LTC:.001,ETC:.005,USDT:5,CMCT:30,AION:3,LVT:0,DATA:40,RHP:50,NEO:0,AIDOC:10,BQT:2,R:2,DPY:.8,GTC:40,AGI:30,DENT:100,SAN:1,SPANK:8,AID:5,OMG:.1,BFT:5,SHOW:150,TRX:20,ABYSS:10,THM:25,ZIL:20,PPT:.2,WTC:.4,LRC:7,BNT:1,CTXC:1,MITH:20,TRUE:4,LYM:10,VEE:100,AUTO:200,REN:50,TIO:2.5,NGC:1.5,PST:10,CRE:200,IPC:5,PTT:1e3,XMCT:20,ATMI:40,TERN:40,XLM:.01,ODE:15,FTM:100,RTE:100,DCC:100,IMT:500,GOT:3,EGT:500,DACC:1e3,UBEX:500,ABL:100,OLT:100,DAV:40,THRT:10,RMESH:3,UPP:20,SDT:0,SHR:10,MTV:3,ESS:100,MET:3,TTC:20,LXT:10,XCLP:100,LUK:100,UBC:100,DTX:10,BEAT:20,DEED:2,BGX:3e3,PRL:20,ELY:50,CARD:300,SQR:15,VRA:400,BWX:3500,MAS:75,FLP:.6,UNC:300,CRNC:15,MFG:70,ZXC:70,TRT:30,ZIX:35,XRA:10,AMO:1600,IPG:3,uDoo:50,URB:30,ARCONA:3,CRAD:5,NOBS:1e3,ADF:2,ELF:5,LX:20,PATH:15,SILK:120,SKYFT:50,EDN:50,ADE:50,EDR:10,TIME:.25,SPRK:20,QTUM:.01,BF:5,ZPR:100,HYB:10,CAN:30,CEL:10,ATS:50,KCASH:1,ACT:.01,MT:300,DXT:30,WAB:4e3,HYDRO:400,LQD:5,OPTC:200,EQUAD:80,LATX:50,LEDU:100,RIT:70,ACDC:500,FSN:2}}},commonCurrencies:{CREDIT:"TerraCredit",HBC:"Hybrid Bank Cash",IQ:"IQ.Cash",UOS:"UOS Network"},exceptions:{4004:u,1013:c,1016:c,1017:l,1019:h,3002:d,10204:f}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetApiV1MarketSymbols(e);case 2:for(a=r.sent,i=a.data,s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=u.split("-"),f=d[2],l=d[1],h=t.safeCurrencyCode(f),p=t.safeCurrencyCode(l),m=h+"/"+p,!0,v={amount:t.safeInteger(c,"amountPrecision"),price:t.safeInteger(c,"pricePrecision")},b={amount:{min:t.safeFloat(c,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},s.push({id:u,symbol:m,base:h,quote:p,baseId:f,quoteId:l,active:!0,precision:v,limits:b,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTrade(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"time"),a=this.safeString(e,"tid"),i=this.safeFloat(e,"amount"),s=this.safeFloat(e,"price"),o=void 0;void 0!==s&&void 0!==i&&(o=i*s);var c=this.safeInteger(e,"direction"),u=this.parseSide(c);return{info:e,id:a,timestamp:n,datetime:this.iso8601(n),symbol:r,type:void 0,side:u,price:s,amount:i,cost:o,order:void 0,fee:void 0,takerOrMaker:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={symbol:s.marketId(e)},void 0!==r&&(o.size=r),c=s.market(e),n.next=7,s.publicGetApiV1MarketTrades(s.extend(o,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u.data,c,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostApiV1FundAllAccount(e);case 4:for(a=r.sent,i=a.data,s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).used=t.safeFloat(c,"frozen"),f.free=t.safeFloat(c,"active"),f.total=t.safeFloat(c,"fix"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.markets[e],s={symbol:i.id},n.next=6,r.publicGetApiV1MarketTicker(r.extend(s,t));case 6:return o=n.sent,c=o.data,u=r.safeInteger(c,"date"),n.abrupt("return",{symbol:e,timestamp:u,datetime:r.iso8601(u),high:r.safeFloat(c,"high"),low:r.safeFloat(c,"low"),bid:r.safeFloat(c,"buy"),bidVolume:void 0,ask:r.safeFloat(c,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r.safeFloat(c,"last"),last:r.safeFloat(c,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(c,"vol"),quoteVolume:void 0,info:o});case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"vol")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,ktype:o.timeframes[t]},void 0!==i&&(u.size=i),n.next=7,o.publicGetApiV1MarketKline(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"data",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.marketId(e),o={symbol:s},void 0!==t&&(o.size=t),n.next=7,i.publicGetApiV1MarketDepth(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"data"),d=i.safeInteger(c,"time"),n.abrupt("return",i.parseOrderBook(u,d,"bids","asks","price","amount"));case 11:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){var t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}parseSide(e){return 1===e?"buy":2===e?"sell":void 0}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeFloat(e,"createTime"),a=this.safeFloat(e,"lastTime"),i=t.symbol,s=this.safeInteger(e,"tradeType"),o=this.parseSide(s),c=this.safeFloat(e,"orderPrice"),u=this.safeFloat(e,"avgPrice"),d=this.safeFloat(e,"orderAmount"),f=this.safeFloat(e,"dealAmount"),l=d-f,h=this.parseOrderStatus(this.safeString(e,"orderState")),p=f*c,m=t["buy"===o?"base":"quote"],v={cost:this.safeFloat(e,"tradeFee"),currency:m};return{info:e,id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:a,symbol:i,type:void 0,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,cost:p,average:u,amount:d,filled:f,remaining:l,status:h,fee:v,trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={symbol:i.marketId(t),orderId:e},n.next=6,i.privatePostApiV1TradeOrderInfo(i.extend(o,r));case 6:return c=n.sent,u=i.parseOrder(c.data,s),n.abrupt("return",u);case 9:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:s.marketId(e),state:0},n.next=6,s.privatePostApiV1TradeOrderInfos(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseOrders(u.data,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:s.marketId(e),state:1},n.next=6,s.privatePostApiV1TradeOrderInfos(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseOrders(u.data,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function t(){var a,u,d,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return a=void 0,"buy"===r?a=1:"sell"===r&&(a=2),u={symbol:c.marketId(e),price:s,amount:i,tradeType:a},t.next=7,c.privatePostApiV1TradePlaceOrder(c.extend(u,o));case 7:return d=t.sent,f=d.data,t.abrupt("return",{info:d,id:c.safeString(f,"orderId")});case 10:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderId:e},void 0!==t&&(s.symbol=i.marketId(t)),n.next=6,i.privatePostApiV1TradeCancelOrder(i.extend(s,r));case 6:return o=n.sent,c=o.success,u={info:o,success:c},n.abrupt("return",u);case 10:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.urlencode({accessKey:this.apiKey});o.nonce=this.milliseconds(),Object.keys(o).length&&(c+="&"+this.urlencode(this.keysort(o)));var u="/"+e+"?"+c;i=c+"&signData="+this.hmac(this.encode(u),this.encode(this.secret)),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if("string"===typeof i&&("{"===i[0]||"["===i[0])){var d=this.id+" "+i,f=this.safeValue(s,"success");if(void 0!==f&&!f){var l=this.safeString(s,"code");throw this.throwExactlyMatchedException(this.exceptions,l,d),new o(d)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ExchangeNotAvailable,d=o.OnMaintenance,f=o.ArgumentsRequired,l=o.BadRequest,h=o.AccountSuspended,p=o.InvalidAddress,m=o.PermissionDenied,v=o.DDoSProtection,b=o.InsufficientFunds,g=o.InvalidNonce,y=o.CancelPending,w=o.InvalidOrder,k=o.OrderNotFound,x=o.AuthenticationError,_=o.RequestTimeout,S=o.NotSupported,T=o.BadSymbol,O=o.RateLimitExceeded,A=r(16).TICK_SIZE;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitget",name:"Bitget",countries:["SG"],version:"v3",rateLimit:1e3,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},hostname:"bitget.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/88317935-a8a21c80-cd22-11ea-8e2b-4b9fac5975eb.jpg",api:{data:"https://api.{hostname}",api:"https://api.{hostname}",capi:"https://capi.{hostname}",swap:"https://capi.{hostname}"},www:"https://www.bitget.com",doc:["https://bitgetlimited.github.io/apidoc/en/swap","https://bitgetlimited.github.io/apidoc/en/spot"],fees:"https://www.bitget.cc/zh-CN/rate?tab=1",test:{rest:"https://testnet.bitget.com"},referral:"https://www.bitget.com/expressly?languageType=0&channelCode=ccxt&vipCode=tg9j"},api:{data:{get:["market/history/kline","market/detail/merged","market/tickers","market/allticker","market/depth","market/trade","market/history/trade","market/detail","common/symbols","common/currencys","common/timestamp"]},api:{get:["account/accounts","accounts/{account_id}/balance","order/orders","order/orders/openOrders","order/orders/history","order/deposit_withdraw"],post:["order/orders/place","order/orders/{order_id}/submitcancel","order/orders/batchcancel","order/orders/{order_id}","order/orders/{order_id}/matchresults","order/matchresults"]},capi:{get:["market/time","market/contracts","market/depth","market/tickers","market/ticker","market/trades","market/candles","market/index","market/open_count","market/open_interest","market/price_limit","market/funding_time","market/mark_price","market/open_count","market/historyFundRate"]},swap:{get:["account/accounts","account/account","account/settings","position/allPosition","position/singlePosition","position/holds","order/detail","order/orders","order/fills","order/current","order/currentPlan","order/history","order/historyPlan","trace/closeTrack","trace/currentTrack","trace/historyTrack"],post:["account/leverage","account/adjustMargin","account/modifyAutoAppendMargin","order/placeOrder","order/batchOrders","order/cancel_order","order/cancel_batch_orders","order/plan_order","order/cancel_plan","position/changeHoldModel"]}},fees:{spot:{taker:.002,maker:.002},swap:{taker:6e-4,maker:4e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:c,"failure to get a peer from the ring-balancer":u,4010:m,4001:c,4002:c,30001:x,30002:x,30003:x,30004:x,30005:g,30006:x,30007:l,30008:_,30009:c,30010:x,30011:m,30012:x,30013:x,30014:v,30015:x,30016:c,30017:c,30018:c,30019:u,30020:l,30021:l,30022:m,30023:l,30024:T,30025:l,30026:v,30027:x,30028:m,30029:h,30030:c,30031:l,30032:T,30033:l,30034:c,30035:c,30036:c,30037:u,30038:d,32001:h,32002:m,32003:y,32004:c,32005:w,32006:w,32007:w,32008:w,32009:w,32010:c,32011:c,32012:c,32013:c,32014:c,32015:c,32016:c,32017:c,32018:c,32019:c,32020:c,32021:c,32022:c,32023:c,32024:c,32025:c,32026:c,32027:c,32028:h,32029:c,32030:w,32031:f,32038:x,32040:c,32044:c,32045:c,32046:c,32047:c,32048:w,32049:c,32050:w,32051:w,32052:c,32053:c,32057:c,32054:c,32055:w,32056:c,32058:c,32059:w,32060:w,32061:w,32062:w,32063:w,32064:c,32065:c,32066:c,32067:c,32068:c,32069:c,32070:c,32071:c,32072:c,32073:c,32074:c,32075:c,32076:c,32077:c,32078:c,32079:c,32080:c,32083:c,33001:m,33002:h,33003:b,33004:c,33005:c,33006:c,33007:c,33008:b,33009:c,33010:c,33011:c,33012:c,33013:w,33014:k,33015:w,33016:c,33017:b,33018:c,33020:c,33021:l,33022:w,33023:c,33024:w,33025:w,33026:c,33027:w,33028:w,33029:w,33034:c,33035:c,33036:c,33037:c,33038:c,33039:c,33040:c,33041:c,33042:c,33043:c,33044:c,33045:c,33046:c,33047:c,33048:c,33049:c,33050:c,33051:c,33059:l,33060:l,33061:c,33062:c,33063:c,33064:c,33065:c,21009:c,34001:m,34002:p,34003:c,34004:c,34005:c,34006:c,34007:c,34008:b,34009:c,34010:c,34011:c,34012:c,34013:c,34014:c,34015:c,34016:m,34017:h,34018:x,34019:m,34020:m,34021:p,34022:c,34023:m,34026:c,34036:c,34037:c,34038:c,34039:c,35001:c,35002:c,35003:c,35004:c,35005:x,35008:w,35010:w,35012:w,35014:w,35015:w,35017:c,35019:w,35020:w,35021:w,35022:c,35024:c,35025:b,35026:c,35029:k,35030:w,35031:w,35032:c,35037:c,35039:c,35040:w,35044:c,35046:b,35047:b,35048:c,35049:w,35050:w,35052:b,35053:c,35055:b,35057:c,35058:c,35059:l,35060:l,35061:l,35062:w,35063:w,35064:w,35066:w,35067:w,35068:w,35069:w,35070:w,35071:w,35072:w,35073:w,35074:w,35075:w,35076:w,35077:w,35078:w,35079:w,35080:w,35081:w,35082:w,35083:w,35084:w,35085:w,35086:w,35087:w,35088:w,35089:w,35090:c,35091:c,35092:c,35093:c,35094:c,35095:l,35096:c,35097:c,35098:c,35099:c,36001:l,36002:l,36005:c,36101:x,36102:m,36103:h,36104:m,36105:m,36106:h,36107:m,36108:b,36109:m,36201:m,36202:m,36203:w,36204:c,36205:l,36206:l,36207:w,36208:w,36209:w,36210:w,36211:w,36212:w,36213:w,36214:c,36216:k,36217:w,36218:w,36219:w,36220:w,36221:w,36222:w,36223:w,36224:w,36225:w,36226:w,36227:w,36228:w,36229:w,36230:w,400:l,401:x,403:m,404:l,405:l,415:l,429:v,500:u,1001:O,1002:c,1003:c,40001:x,40002:x,40003:x,40004:g,40005:g,40006:x,40007:l,40008:g,40009:x,40010:x,40011:x,40012:x,40013:c,40014:m,40015:c,40016:m,40017:c,40018:m,40102:l,40103:l,40104:c,40105:c,40106:c,40107:c,40108:w,40109:k,40200:d,40201:w,40202:c,40203:l,40204:l,40205:l,40206:l,40207:l,40208:l,40209:l,40300:c,40301:m,40302:l,40303:l,40304:l,40305:l,40306:c,40308:d,40309:T,40400:c,40401:c,40402:l,40403:l,40404:l,40405:l,40406:l,40407:c,40408:c,40409:c,40500:w,40501:c,40502:c,40503:c,40504:c,40505:c,40506:x,40507:x,40508:c,40509:c,40600:c,40601:c,40602:c,40603:c,40604:u,40605:c,40606:c,40607:c,40608:c,40609:c,40700:l,40701:c,40702:c,40703:c,40704:c,40705:l,40706:w,40707:l,40708:l,40709:c,40710:c,40711:b,40712:b,40713:c,40714:c,"invalid sign":x,"invalid currency":T,"invalid symbol":T,"invalid period":l,"invalid user":c,"invalid amount":w,"invalid type":w,"invalid orderId":w,"invalid record":c,"invalid accountId":l,"invalid address":l,"accesskey not null":x,"illegal accesskey":x,"sign not null":x,"req_time is too much difference from server time":g,"permissions not right":m,"illegal sign invalid":x,"user locked":h,"Request Frequency Is Too High":O,"more than a daily rate of cash":l,"more than the maximum daily withdrawal amount":l,"need to bind email or mobile":c,"user forbid":m,"User Prohibited Cash Withdrawal":m,"Cash Withdrawal Is Less Than The Minimum Value":l,"Cash Withdrawal Is More Than The Maximum Value":l,"the account with in 24 hours ban coin":m,"order cancel fail":l,"base symbol error":T,"base date error":c,"api signature not valid":x,"gateway internal error":c,"audit failed":c,"order queryorder invalid":l,"market no need price":w,"limit need price":w,"userid not equal to account_id":c,"your balance is low":b,"address invalid cointype":c,"system exception":c,50003:c,50004:T,50006:m,50007:m,50008:_,50009:O,50010:c,50014:w,50015:w,50016:w,50017:w,50018:w,50019:w,50020:b,50021:w,50026:w,"invalid order query time":c,"invalid start time":l,"invalid end time":l,20003:c,"01001":c},broad:{"invalid size, valid range":c}},precisionMode:A,options:{createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","swap"],parseOHLCV:{volume:{spot:"amount",swap:5}},defaultType:"spot",accountId:void 0,timeframes:{spot:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","2h":"120min","4h":"240min","6h":"360min","12h":"720min","1d":"1day","1w":"1week"},swap:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"}}}})}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.dataGetCommonTimestamp(e);case 2:return n=r.sent,r.abrupt("return",t.safeInteger(n,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(n=t.safeValue(t.options,"fetchMarkets")).length||(n=[t.options.defaultType]),i=[],s=0;case 4:if(!(s<n.length)){r.next=12;break}return r.next=7,t.fetchMarketsByType(n[s],e);case 7:o=r.sent,i=t.arrayConcat(i,o);case 9:s++,r.next=4;break;case 12:return r.abrupt("return",i);case 13:case"end":return r.stop()}}),r)})))()}parseMarkets(e){for(var t=[],r=0;r<e.length;r++)t.push(this.parseMarket(e[r]));return t}parseMarket(e){var t=this.safeString(e,"symbol"),r="spot",n=!0,a=!1,i=this.safeString2(e,"base_currency","coin"),s=this.safeString(e,"quote_currency");void 0!==this.safeFloat(e,"contract_val")&&(r="swap",n=!1,a=!0);var o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(s),u=t.toUpperCase();n&&(u=o+"/"+c);var d=this.safeString(e,"tick_size"),f=this.safeString(e,"size_increment"),l={amount:parseFloat("1e-"+f),price:parseFloat("1e-"+d)},h=this.safeFloat2(e,"min_size","base_min_size"),p=this.safeString(e,"status"),m=void 0;void 0!==p&&(m="1"===p);var v=this.safeValue2(this.fees,r,"trading",{});return this.extend(v,{id:t,symbol:u,base:o,quote:c,baseId:i,quoteId:s,info:e,type:r,spot:n,swap:a,active:m,precision:l,limits:{amount:{min:h,max:void 0},price:{min:l.price,max:void 0},cost:{min:l.price,max:void 0}}})}fetchMarketsByType(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("spot"!==e){n.next=8;break}return n.next=3,r.dataGetCommonSymbols(t);case 3:return i=n.sent,s=r.safeValue(i,"data",[]),n.abrupt("return",r.parseMarkets(s));case 8:if("swap"!==e){n.next=15;break}return n.next=11,r.capiGetMarketContracts(t);case 11:return o=n.sent,n.abrupt("return",r.parseMarkets(o));case 15:throw new S(r.id+" fetchMarketsByType does not support market type "+e);case 16:case"end":return n.stop()}}),n)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.dataGetCommonCurrencys(e);case 2:for(n=r.sent,i={},s=t.safeValue(n,"data",[]),o=0;o<s.length;o++)c=s[o],u=t.safeCurrencyCode(c),i[u]={id:c,code:u,info:c,type:void 0,name:void 0,active:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={symbol:s.id},c=void 0,s.spot?(c="dataGetMarketDepth",o.type="step0"):s.swap&&(c="capiGetMarketDepth",o.limit=void 0===t?100:t),a.next=8,n[c](n.extend(o,r));case 8:return u=a.sent,d=n.safeValue(u,"data",u),f=n.safeInteger2(d,"timestamp","ts"),l=n.safeInteger(d,"id"),(h=n.parseOrderBook(d,f)).nonce=l,a.abrupt("return",h);case 15:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeInteger2(e,"timestamp","id"),a=void 0,i=this.safeString2(e,"instrument_id","symbol");if(i in this.markets_by_id)a=(t=this.markets_by_id[i]).symbol;else if(void 0!==i){var s=i.split("_");if(2===s.length){var o=n(s,2),c=o[0],u=o[1];a=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(u)}else a=i}void 0===a&&void 0!==t&&(a=t.symbol);var d=this.safeFloat2(e,"last","close"),f=this.safeFloat(e,"open"),l=void 0,h=void 0,p=this.safeValue(e,"bid");void 0===p?p=this.safeFloat(e,"best_bid"):(l=this.safeFloat(p,1),p=this.safeFloat(p,0));var m=this.safeValue(e,"ask");void 0===m?m=this.safeFloat(e,"best_ask"):(h=this.safeFloat(m,1),m=this.safeFloat(m,0));var v=this.safeFloat2(e,"amount","volume_24h"),b=this.safeFloat(e,"vol"),g=this.vwap(v,b),y=void 0,w=void 0,k=void 0;return void 0!==d&&void 0!==f&&(w=(y=d-f)/f*100,k=this.sum(f,d)/2),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat2(e,"high","high_24h"),low:this.safeFloat2(e,"low","low_24h"),bid:p,bidVolume:l,ask:m,askVolume:h,vwap:g,open:f,close:d,last:d,previousClose:void 0,change:y,percentage:w,average:k,baseVolume:v,quoteVolume:b,info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s=void 0,i.spot?s="dataGetMarketDetailMerged":i.swap&&(s="capiGetMarketTicker"),o={symbol:i.id},n.next=8,r[s](r.extend(o,t));case 8:return c=n.sent,u=r.safeValue(c,"data",c),n.abrupt("return",r.parseTicker(u,i));case 11:case"end":return n.stop()}}),n)})))()}fetchTickersByType(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=void 0,"spot"===e?s="dataGetMarketTickers":"swap"===e&&(s="capiGetMarketTickers"),a.next=6,n[s](r);case 6:for(o=a.sent,c=n.safeValue(o,"data",o),u=void 0,Array.isArray(o)||(u=n.safeInteger(o,"ts")),d={},f=0;f<c.length;f++)l=n.parseTicker(n.extend({timestamp:u},c[f])),h=l.symbol,d[h]=l;return a.abrupt("return",n.filterByArray(d,"symbol",t));case 13:case"end":return a.stop()}}),i)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.safeString2(r.options,"fetchTickers","defaultType"),s=r.safeString(t,"type",i),n.next=4,r.fetchTickersByType(s,e,r.omit(t,"type"));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=void 0,a=this.safeString(e,"symbol"),i=void 0,s=void 0;if(a in this.markets_by_id)r=(t=this.markets_by_id[a]).symbol,i=t.base,s=t.quote;else if(void 0!==a){var o=a.split("_");if(2===o.length){var c=n(o,2),u=c[0],d=c[1];r=(i=this.safeCurrencyCode(u))+"/"+(s=this.safeCurrencyCode(d))}else r=a.toUpperCase()}void 0===r&&void 0!==t&&(r=t.symbol,i=t.base,s=t.quote);var f=this.safeInteger(e,"created_at");f=this.safeInteger2(e,"timestamp","ts",f);var l=this.safeFloat(e,"price"),h=this.safeFloat2(e,"filled_amount","order_qty");h=this.safeFloat2(e,"size","amount",h);var p=this.safeString2(e,"exec_type","liquidity");"M"===p?p="maker":"T"===p&&(p="taker");var m=void 0,v=void 0;void 0!==this.safeString(e,"type")?(m=this.safeString(e,"type"),v=this.parseOrderType(m),m=this.parseOrderSide(m)):(m=this.safeString2(e,"side","direction"),v=this.parseOrderType(m),m=this.parseOrderSide(m));var b=void 0;void 0!==h&&void 0!==l&&(b=h*l);var g=this.safeFloat(e,"fee"),y=void 0;void 0!==(g=void 0===g?this.safeFloat(e,"filled_fees"):-g)&&(y={cost:g,currency:"buy"===m?i:s});var w=this.safeString(e,"order_id"),k=this.safeString2(e,"trade_id","id");return{info:e,timestamp:f,datetime:this.iso8601(f),symbol:r,id:k,order:w,type:v,takerOrMaker:p,side:m,price:l,amount:h,cost:b,fee:y}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},u=void 0,o.spot?u="dataGetMarketHistoryTrade":o.swap&&(u="capiGetMarketTrades"),o.spot?void 0!==t&&(c.size=t):o.swap&&(void 0===t&&(t=100),c.limit=t),a.next=9,s[u](s.extend(c,n));case 9:return d=a.sent,f=void 0,Array.isArray(d)?f=d:(l=s.safeValue(d,"data",{}),f=s.safeValue2(l,"data",[])),a.abrupt("return",s.parseTrades(f,o,r,t));case 13:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t,r="1m"){var n=this.safeValue(this.options,"parseOHLCV",{}),a=this.safeValue(n,"volume",{});if(Array.isArray(e)){var i=this.safeString(a,t.type,"amount");return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,i)]}var s=this.safeValue(a,t.type,6);return[this.safeInteger(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,s)]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id},d=void 0,f=c.type,l=o.safeValue(o.options,"timeframes",{}),h=o.safeValue(l,f,{}),p=o.safeValue(h,o.timeframes[t]),c.spot?(d="dataGetMarketHistoryKline",u.period=p,void 0!==n&&(u.size=n)):c.swap&&(m=o.parseTimeframe(t),d="capiGetMarketCandles",u.granularity=p,v=o.milliseconds(),void 0===r?(void 0===n&&(n=1e3),u.start=o.iso8601(v-n*m*1e3),u.end=o.iso8601(v)):(u.start=o.iso8601(r),u.end=void 0===n?o.iso8601(v):o.iso8601(o.sum(r,n*m*1e3)))),a.next=12,o[d](o.extend(u,s));case 12:return b=a.sent,g=b,Array.isArray(b)||(g=o.safeValue(b,"data",[])),a.abrupt("return",o.parseOHLCVs(g,c,t,r,n));case 16:case"end":return a.stop()}}),i)})))()}parseSpotBalance(e){for(var t={info:e},r=this.safeValue(e,"data"),n=this.safeValue(r,"list"),a=0;a<n.length;a++){var i=n[a],s=this.safeString(i,"currency"),o=this.safeCurrencyCode(s);if(!(o in t)){var c=this.account();t[o]=c}var u=this.safeValue(i,"type");if("trade"===u)t[o].free=this.safeFloat(i,"balance");else if("frozen"===u||"lock"===u){var d=this.safeFloat(t[o],"used");t[o].used=this.sum(d,this.safeFloat(i,"balance"))}}return this.parseBalance(t)}parseSwapBalance(e){for(var t={},r=0;r<e.length;r++){var n=e[r],a=this.safeString(n,"symbol"),i=a;a in this.markets_by_id&&(i=this.markets_by_id[a].symbol);var s=this.account();s.total=this.safeFloat(n,"equity"),s.free=this.safeFloat(n,"total_avail_balance"),t[i]=s}return this.parseBalance(t)}fetchAccounts(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={method:"accounts"},r.next=3,t.apiGetAccountAccounts(t.extend(n,e));case 3:for(i=r.sent,s=t.safeValue(i,"data",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"id"),f=t.safeStringLower(u,"type"),o.push({id:d,type:f,currency:void 0,info:u});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}findAccountByType(e){var t=this;return i(a.mark((function r(){var n,i;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:if(n=t.groupBy(t.accounts,"type"),void 0!==(i=t.safeValue(n,e))){r.next=8;break}throw new c(t.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");case 8:if(!(i.length>1)){r.next=11;break}throw new c(t.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");case 11:return r.abrupt("return",i[0]);case 12:case"end":return r.stop()}}),r)})))()}getAccountId(e){var t=this;return i(a.mark((function r(){var n,i,s,o,c;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:if(n=t.safeString(t.options,"accountId"),void 0===(i=t.safeString(e,"accountId",n))){r.next=8;break}return r.abrupt("return",i);case 8:if(s=t.safeString(t.options,"defaultType","margin"),o=t.safeString(e,"type",s),e=t.omit(e,"type"),void 0!==o){r.next=13;break}throw new f(t.id+" getAccountId() requires an 'accountId' parameter");case 13:return r.next=15,t.findAccountByType(o);case 15:return c=r.sent,r.abrupt("return",c.id);case 17:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:if(n=t.safeString2(t.options,"fetchBalance","defaultType"),void 0!==(i=t.safeString(e,"type",n))){r.next=8;break}throw new f(t.id+" fetchBalance() requires a 'type' parameter, one of 'spot', 'swap'");case 8:if(s=void 0,o=t.omit(e,"type"),"spot"!==i){r.next=19;break}return r.next=13,t.getAccountId(e);case 13:c=r.sent,s="apiGetAccountsAccountIdBalance",o.account_id=c,o.method="balance",r.next=20;break;case 19:"swap"===i&&(s="swapGetAccountAccounts");case 20:return r.next=22,t[s](o);case 22:return u=r.sent,r.abrupt("return",t.parseBalanceByType(i,u));case 24:case"end":return r.stop()}}),r)})))()}parseBalanceByType(e,t){if("spot"===e)return this.parseSpotBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new S(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}parseOrderStatus(e){return this.safeString({submitted:"open","partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled","-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return this.safeString({"buy-market":"buy","sell-market":"sell","buy-limit":"buy","sell-limit":"sell",1:"long",2:"short",3:"long",4:"short"},e,e)}parseOrderType(e){return this.safeString({"buy-market":"market","sell-market":"market","buy-limit":"limit","sell-limit":"limit",1:"open",2:"open",3:"close",4:"close"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id");r=this.safeString2(e,"id","data",r);var n=this.safeInteger2(e,"created_at","createTime"),a=this.safeString(e,"type"),i=this.parseOrderSide(a);a=this.parseOrderType(a);var s=void 0,o=this.safeString(e,"symbol");void 0!==o&&(o in this.markets_by_id?t=this.markets_by_id[o]:s=o.toUpperCase()),void 0===s&&void 0!==t&&(s=t.symbol);var c=this.safeFloat2(e,"amount","size"),u=this.safeFloat2(e,"filled_amount","filled_qty"),d=void 0;void 0!==c&&void 0!==u&&(c=Math.max(c,u),d=Math.max(0,c-u)),"market"===a&&(d=0);var f=this.safeFloat(e,"filled_cash_amount"),l=this.safeFloat(e,"price"),h=this.safeFloat(e,"price_avg");void 0===h&&void 0!==u&&void 0!==f&&u>0&&(h=f/u);var p=this.parseOrderStatus(this.safeString2(e,"state","status")),m=this.safeFloat2(e,"filled_fees","fee"),v=void 0;if(void 0!==m){v={cost:m,currency:void 0}}return{info:e,id:r,clientOrderId:this.safeString(e,"client_oid"),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:a,timeInForce:void 0,postOnly:void 0,side:i,price:l,stopPrice:void 0,average:h,cost:f,amount:c,filled:u,remaining:d,status:p,fee:v,trades:void 0}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return a.next=4,c.loadAccounts();case 4:if(u=c.market(e),d={symbol:u.id},l=c.safeString2(o,"client_oid","clientOrderId",c.uuid()),o=c.omit(o,["client_oid","clientOrderId"]),h=void 0,!u.spot){a.next=42;break}return a.next=12,c.getAccountId({type:u.type});case 12:if(p=a.sent,h="apiPostOrderOrdersPlace",d.account_id=p,d.method="place",d.type=r+"-"+t,"limit"!==t){a.next=22;break}d.amount=c.amountToPrecision(e,n),d.price=c.priceToPrecision(e,s),a.next=40;break;case 22:if("market"!==t){a.next=40;break}if("buy"!==r){a.next=39;break}if(m=c.safeFloat(o,"amount"),!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){a.next=35;break}if(void 0===s){a.next=31;break}void 0===m&&(m=n*s),a.next=33;break;case 31:if(void 0!==m){a.next=33;break}throw new w(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'amount' extra parameter (the exchange-specific behaviour)");case 33:a.next=36;break;case 35:m=void 0===m?n:m;case 36:d.amount=c.costToPrecision(e,m),a.next=40;break;case 39:"sell"===r&&(d.amount=c.amountToPrecision(e,n));case 40:a.next=52;break;case 42:if(!u.swap){a.next=52;break}if(d.order_type="0",d.client_oid=l,void 0!==(v=c.safeString(o,"type"))){a.next=48;break}throw new f(c.id+" createOrder() requires a type parameter, '1' = open long, '2' = open short, '3' = close long, '4' = close short for "+u.type+" orders");case 48:d.size=c.amountToPrecision(e,n),d.type=v,"limit"===t?(d.match_price="0",d.price=c.priceToPrecision(e,s)):"market"===t&&(d.match_price="1"),h="swapPostOrderPlaceOrder";case 52:return a.next=54,c[h](c.extend(d,o));case 54:return b=a.sent,a.abrupt("return",c.parseOrder(b,u));case 56:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(s=void 0,o=void 0,void 0!==t){a.next=12;break}if(c=n.safeString2(n.options,"cancelOrder","defaultType"),"spot"!==n.safeString(r,"type",c)){a.next=10;break}if(void 0!==t){a.next=10;break}throw new f(n.id+" cancelOrder() requires a symbol argument for spot orders");case 10:a.next=14;break;case 12:s=n.market(t),o=s.type;case 14:return u=n.omit(r,"type"),d=void 0,l={},"spot"===o?(d="apiPostOrderOrdersOrderIdSubmitcancel",l.order_id=e,l.method="submitcancel"):"swap"===o&&(d="swapPostOrderCancelOrder",l.orderId=e,l.symbol=s.id),a.next=20,n[d](n.extend(l,u));case 20:return h=a.sent,a.abrupt("return",n.parseOrder(h,s));case 22:case"end":return a.stop()}}),i)})))()}cancelOrders(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(n.id+" cancelOrders() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:if(s=n.market(t),void 0!==(o=n.safeString(r,"type",s.type))){a.next=8;break}throw new f(n.id+" cancelOrders() requires a type parameter (one of 'spot', 'swap').");case 8:return r=n.omit(r,"type"),c={},u=void 0,"spot"===o?(u="apiPostOrderOrdersBatchcancel",c.method="batchcancel",d=n.json(e),l=d.split('"'),c.order_ids=l.join("")):"swap"===o&&(u="swapPostOrderCancelBatchOrders",c.symbol=s.id,c.ids=e),a.next=14,n[u](n.extend(c,r));case 14:return h=a.sent,a.abrupt("return",h);case 16:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(n.id+" fetchOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:if(s=n.market(t),void 0!==(o=n.safeString(r,"type",s.type))){a.next=8;break}throw new f(n.id+" fetchOrder() requires a type parameter (one of 'spot', 'swap').");case 8:return c=void 0,u={},"spot"===o?(void 0!==(d=n.safeString(r,"client_oid"))?(c="apiPostOrderOrdersClientOid",u.client_oid=d):(c="apiPostOrderOrdersOrderId",u.order_id=e),u.method="getOrder"):"swap"===o&&(c="swapGetOrderDetail",u.symbol=s.id,u.orderId=e),l=n.omit(r,"type"),a.next=14,n[c](n.extend(u,l));case 14:return h=a.sent,p=n.safeValue(h,"data",h),a.abrupt("return",n.parseOrder(p,s));case 17:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function t(){var i,o,c,u,d,l,h;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}throw new f(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return t.next=4,s.loadMarkets();case 4:return i=s.market(e),o=s.safeString(n,"type",i.type),c={symbol:i.id},u=void 0,"spot"===o?(u="apiGetOrderOrdersOpenOrders",c.method="openOrders",void 0===r&&(c.size=r)):"swap"===o&&(u="swapGetOrderOrders",c.status="3",c.from="1",c.to="1",void 0===r&&(c.limit=100)),d=s.omit(n,"type"),t.next=12,s[u](s.extend(c,d));case 12:return l=t.sent,h=l,Array.isArray(l)||(h=s.safeValue(l,"data",[])),t.abrupt("return",s.parseOrders(h,i,void 0,r));case 16:case"end":return t.stop()}}),t)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new f(s.id+" fetchClosedOrders() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.market(e),c=s.safeString(n,"type",o.type),u={symbol:o.id},d=void 0,"spot"===c?(d="apiGetOrderOrdersHistory",void 0!==t&&(u.start_time=t),u.method="openOrders",void 0===r&&(u.size=r)):"swap"===c&&(d="swapGetOrderOrders",u.status="2",u.from="1",u.to="1",void 0===r&&(u.limit=100)),l=s.omit(n,"type"),a.next=12,s[d](s.extend(u,l));case 12:return h=a.sent,p=h,Array.isArray(h)||(p=s.safeValue(h,"data",[])),a.abrupt("return",s.parseOrders(p,o,void 0,r));case 16:case"end":return a.stop()}}),i)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new f(s.id+" fetchDeposits() requires a currency code argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currency:o.id,method:"deposit_withdraw",type:"deposit",size:12},a.next=8,s.apiGetOrderDepositWithdraw(s.extend(c,n));case 8:return u=a.sent,d=s.safeValue(u,"data",[]),a.abrupt("return",s.parseTransactions(d,o,t,r,n));case 11:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new f(s.id+" fetchWithdrawals() requires a currency code argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currency:o.id,method:"deposit_withdraw",type:"withdraw",size:12},a.next=8,s.apiGetOrderDepositWithdraw(s.extend(c,n));case 8:return u=a.sent,d=s.safeValue(u,"data",[]),a.abrupt("return",s.parseTransactions(d,o,t,r,n));case 11:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({WaitForOperation:"pending",OperationLock:"pending",OperationSuccess:"ok",Cancel:"canceled",Sure:"ok",Fail:"failed",WaitForChainSure:"ok",WAIT_0:"pending",WAIT_1:"pending",DATA_CHANGE:"pending",SUCCESS:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString(e,"address_tag"),i=a,s=n,o=this.safeString(e,"type");"withdraw"===o?o="withdrawal":"deposit"===o&&(o="deposit");var c=this.safeString(e,"currency"),u=this.safeCurrencyCode(c),d=this.safeFloat(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"state")),l=this.safeString(e,"tx_hash"),h=this.safeInteger(e,"created_at"),p=this.safeInteger(e,"updated_at"),m=this.safeFloat(e,"fee"),v=void 0;return void 0!==m&&(v={currency:u,cost:m}),{info:e,id:r,currency:u,amount:d,addressFrom:void 0,addressTo:s,address:n,tagFrom:void 0,tagTo:i,tag:a,status:f,type:o,updated:p,txid:l,timestamp:h,datetime:this.iso8601(h),fee:v}}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new f(s.id+" fetchMyTrades() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:if(o=s.market(e),c=s.safeString(n,"type",o.type),u=s.omit(n,"type"),"swap"!==c){a.next=9;break}throw new f(s.id+" fetchMyTrades() is not supported for "+c+" type");case 9:return d={symbol:o.id,method:"matchresults"},void 0!==t&&(d.start_date=s.ymd(t),l=s.sum(t,1728e5),d.end_date=s.ymd(l)),void 0!==r&&(d.size=r),a.next=14,s.apiPostOrderMatchresults(s.extend(d,u));case 14:return h=a.sent,p=s.safeValue(h,"data",[]),a.abrupt("return",s.parseTrades(p,o,t,r));case 17:case"end":return a.stop()}}),i)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(o.id+" fetchOrderTrades() requires a symbol argument");case 2:return a.next=4,o.loadMarkets();case 4:return c=o.market(t),u=o.safeString(s,"type",c.type),s=o.omit(s,"type"),d=void 0,l={},"spot"===u?(l.order_id=e,l.method="matchresults",d="apiPostOrderOrdersOrderIdMatchresults"):"swap"===u&&(l.orderId=e,l.symbol=c.id,d="swapGetOrderFills"),a.next=12,o[d](o.extend(l,s));case 12:return h=a.sent,p=h,Array.isArray(p)||(p=o.safeValue(h,"data",[])),a.next=17,o.parseTrades(p,c,r,n);case 17:return a.abrupt("return",a.sent);case 18:case"end":return a.stop()}}),i)})))()}fetchPosition(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.swapGetPositionSinglePosition(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()}fetchPositions(e,t,r,n={}){var s=this;return i(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.swapGetPositionAllPosition(n);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n);s="capi"===t||"swap"===t?"/api/swap/"+this.version+s:"/"+t+"/v1"+s;var o=this.omit(n,this.extractParams(e)),c=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+s;if("data"===t||"capi"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else if("swap"===t){this.checkRequiredCredentials();var u=this.milliseconds().toString(),d=u+r+s;if("POST"===r)d+=i=this.json(n);else if(Object.keys(n).length){var f=this.urlencode(this.keysort(n));c+="?"+f,d+="?"+f}var l=this.hmac(this.encode(d),this.encode(this.secret),"sha256","base64");a={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":l,"ACCESS-TIMESTAMP":u,"ACCESS-PASSPHRASE":this.password},"POST"===r&&(a["Content-Type"]="application/json")}else if("api"===t){var h,p=this.milliseconds().toString();o=this.keysort(o),h=this.rawencode(o);var m=this.hash(this.encode(this.secret),"sha1"),v=h,b=this.hmac(this.encode(h),this.encode(m),"md5");h.length>0&&(v+="&"),v+="sign="+b+"&req_time="+p+"&accesskey="+this.apiKey,"GET"===r?Object.keys(o).length&&(c+="?"+v):"POST"===r&&(c+="?sign="+b+"&req_time="+p+"&accesskey="+this.apiKey,i=h,a={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(s){var d=this.safeString(s,"err_msg"),f=this.safeString2(s,"code","err_code"),l=this.id+" "+i,h=void 0!==d&&""!==d;h&&(this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwBroadlyMatchedException(this.exceptions.broad,d,l));var p=void 0!==f&&"00000"!==f;if(p&&this.throwExactlyMatchedException(this.exceptions.exact,f,l),p||h)throw new c(l)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ExchangeNotAvailable,u=s.AuthenticationError,d=s.BadRequest,f=s.PermissionDenied,l=s.InvalidAddress,h=s.ArgumentsRequired,p=s.InvalidOrder,m=r(16),v=m.DECIMAL_PLACES,b=m.SIGNIFICANT_DIGITS,g=m.TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.bithumb.com/public",private:"https://api.bithumb.com"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com",fees:"https://en.bithumb.com/customer_support/info_fee"},api:{public:{get:["ticker/{currency}","ticker/all","ticker/ALL_BTC","ticker/ALL_KRW","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all","candlestick/{currency}/{interval}"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","info/order_detail","trade/place","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0025,taker:.0025}},precisionMode:b,exceptions:{"Bad Request(SSL)":d,"Bad Request(Bad Method)":d,"Bad Request.(Auth Data)":u,"Not Member":u,"Invalid Apikey":u,"Method Not Allowed.(Access IP)":f,"Method Not Allowed.(BTC Adress)":l,"Method Not Allowed.(Access)":f,"Database Fail":c,"Invalid Parameter":d,5600:o,"Unknown Error":o,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":o},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"24h"},options:{quoteCurrencies:{BTC:{precision:{price:8}},KRW:{}}}})}amountToPrecision(e,t){return this.decimalToPrecision(t,g,this.markets[e].precision.amount,v)}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=[],i=t.safeValue(t.options,"quoteCurrencies",{}),s=Object.keys(i),o=0;case 4:if(!(o<s.length)){r.next=31;break}return c=s[o],u=t.safeValue(i,c,{}),d="publicGetTickerALL"+c,r.next=10,t[d](e);case 10:f=r.sent,l=t.safeValue(f,"data"),h=Object.keys(l),p=0;case 14:if(!(p<h.length)){r.next=28;break}if("date"!==(m=h[p])){r.next=18;break}return r.abrupt("continue",25);case 18:v=l[m],b=t.safeCurrencyCode(m),g=m+"/"+c,y=!0,Array.isArray(v)&&0===v.length&&(y=!1),w=t.deepExtend({id:m,symbol:g,base:b,quote:c,info:v,active:y,precision:{amount:4,price:4},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:500,max:5e9}},baseId:void 0,quoteId:void 0},u),a.push(w);case 25:p++,r.next=14;break;case 28:o++,r.next=4;break;case 31:return r.abrupt("return",a);case 32:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={currency:"ALL"},r.next=5,t.privatePostInfoBalance(t.extend(a,e));case 5:for(i=r.sent,s={info:i},o=t.safeValue(i,"data"),c=Object.keys(t.currencies),u=0;u<c.length;u++)d=c[u],f=t.account(),l=t.currency(d),h=t.safeStringLower(l,"id"),f.total=t.safeFloat(o,"total_"+h),f.used=t.safeFloat(o,"in_use_"+h),f.free=t.safeFloat(o,"available_"+h),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={currency:s.base},void 0!==t&&(o.count=t),n.next=7,i.publicGetOrderbookCurrency(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"data",{}),d=i.safeInteger(u,"timestamp"),n.abrupt("return",i.parseOrderBook(u,d,"bids","asks","price","quantity"));case 11:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"date"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"opening_price"),i=this.safeFloat(e,"closing_price"),s=void 0,o=void 0,c=void 0;void 0!==i&&void 0!==a&&(s=i-a,a>0&&(o=s/a*100),c=this.sum(a,i)/2);var u=this.safeFloat(e,"units_traded_24H"),d=this.safeFloat(e,"acc_trade_value_24H"),f=this.vwap(u,d);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:f,open:a,close:i,last:i,previousClose:void 0,change:s,percentage:o,average:c,baseVolume:u,quoteVolume:d,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickerAll(t);case 4:for(i=n.sent,s={},o=r.safeValue(i,"data",{}),c=r.safeInteger(o,"date"),u=r.omit(o,"date"),d=Object.keys(u),f=0;f<d.length;f++)l=d[f],h=l,p=void 0,l in r.markets_by_id&&(p=r.markets_by_id[l],h=p.symbol),m=u[l],Array.isArray(m)||(m.date=c,s[h]=r.parseTicker(m,p));return n.abrupt("return",r.filterByArray(s,"symbol",e));case 12:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currency:i.base},n.next=6,r.publicGetTickerCurrency(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={currency:c.base,interval:o.timeframes[t]},n.next=6,o.publicGetCandlestickCurrencyInterval(o.extend(u,s));case 6:return d=n.sent,f=o.safeValue(d,"data",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0,n=this.safeString(e,"transaction_date");if(void 0!==n){var a=n.split(" ");if(a.length>1){var i=a[0],s=a[1];s.length<8&&(s="0"+s),r=this.parse8601(i+" "+s)}else r=this.safeIntegerProduct(e,"transaction_date",.001)}void 0!==r&&(r-=324e5);var o=this.safeString(e,"type");o="ask"===o?"sell":"buy";var c=this.safeString(e,"cont_no"),u=void 0;void 0!==t&&(u=t.symbol);var d=this.safeFloat(e,"price"),f=this.safeFloat2(e,"units_traded","units"),l=this.safeFloat(e,"total");void 0===l&&void 0!==f&&void 0!==d&&(l=d*f);var h=void 0,p=this.safeFloat(e,"fee");if(void 0!==p){var m=this.safeString(e,"fee_currency");h={cost:p,currency:this.commonCurrencyCode(m)}}return{id:c,info:e,timestamp:r,datetime:this.iso8601(r),symbol:u,order:void 0,type:void 0,side:o,takerOrMaker:void 0,price:d,amount:f,cost:l,fee:h}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currency:o.base},void 0===r&&(c.count=r),n.next=7,s.publicGetTransactionHistoryCurrency(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={order_currency:u.id,payment_currency:u.quote,units:i},f="privatePostTradePlace","limit"===t?(d.price=s,d.type="buy"===r?"bid":"ask"):f="privatePostTradeMarket"+c.capitalize(r),n.next=8,c[f](c.extend(d,o));case 8:if(l=n.sent,void 0!==(h=c.safeString(l,"order_id"))){n.next=12;break}throw new p(c.id+" createOrder() did not return an order id");case 12:return n.abrupt("return",{info:l,symbol:e,type:t,side:r,id:h});case 13:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new h(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={order_id:e,count:1,order_currency:s.base,payment_currency:s.quote},n.next=8,i.privatePostInfoOrderDetail(i.extend(o,r));case 8:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",i.parseOrder(i.extend(u,{order_id:e}),s));case 11:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({Pending:"open",Completed:"closed",Cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeIntegerProduct(e,"order_date",.001),n="bid"===this.safeValue2(e,"type","side")?"buy":"sell",a=this.parseOrderStatus(this.safeString(e,"order_status")),i=this.safeFloat2(e,"order_price","price"),s="limit";0===i&&(i=void 0,s="market");var o=this.safeFloat2(e,"order_qty","units"),c=this.safeFloat(e,"units_remaining");void 0===c&&("closed"===a?c=0:"canceled"!==a&&(c=o));var u=void 0,d=this.safeString(e,"order_currency"),f=this.safeString(e,"payment_currency"),l=this.safeCurrencyCode(d),h=this.safeCurrencyCode(f);void 0!==l&&void 0!==h&&(u=l+"/"+h),void 0===u&&void 0!==t&&(u=t.symbol);var p=void 0,m=void 0,v=void 0,b=this.safeString(e,"order_id"),g=this.safeValue(e,"contract"),y=void 0,w=void 0,k=void 0,x=void 0;if(void 0!==g){y=this.parseTrades(g,t,void 0,void 0,{side:n,symbol:u,order:b}),p=0,x={};for(var _=0;_<y.length;_++){var S=y[_];p=this.sum(p,S.amount),m=this.sum(m,S.cost);var T=S.fee,O=T.currency;x[O]=O in x?{currency:O,cost:this.sum(x[O].cost,T.cost)}:{currency:O,cost:T.cost}}var A=Object.keys(x);if(A.length>1){k=[];for(var M=0;M<A.length;M++){var E=A[M];k.push(x[E])}}else w=this.safeValue(x,A[0]);0!==p&&(v=m/p)}void 0!==o&&(void 0===p&&void 0!==c&&(p=Math.max(0,o-c)),void 0===c&&void 0!==p&&(c=Math.max(0,o-p)));var C={info:e,id:b,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:u,type:s,timeInForce:void 0,postOnly:void 0,side:n,price:i,stopPrice:void 0,amount:o,cost:m,average:v,filled:p,remaining:c,status:a,fee:void 0,trades:y};return void 0!==w?C.fee=w:void 0!==k&&(C.fees=k),C}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),void 0===r&&(r=100),c={count:r,order_currency:o.base,payment_currency:o.quote},void 0!==t&&(c.after=t),n.next=10,s.privatePostInfoOrders(s.extend(c,i));case 10:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseOrders(d,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("side"in r){n.next=3;break}throw new h(i.id+" cancelOrder() requires a `symbol` argument and a `side` parameter (sell or buy)");case 3:if(void 0!==t){n.next=5;break}throw new h(i.id+" cancelOrder() requires a `symbol` argument and a `side` parameter (sell or buy)");case 5:return s=i.market(t),o="buy"===r.side?"bid":"ask",r=i.omit(r,["side","currency"]),c={order_id:e,type:o,order_currency:s.base,payment_currency:s.quote},n.next=11,i.privatePostTradeCancel(i.extend(c,r));case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),a)})))()}cancelUnifiedOrder(e,t={}){var r={side:e.side};return this.cancelOrder(e.id,e.symbol,this.extend(r,t))}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(c=o.currency(e),u={units:t,address:r,currency:c.id},"XRP"!==c&&"XMR"!==c){n.next=12;break}if(d=o.safeString(s,"destination"),void 0!==i||void 0!==d){n.next=11;break}throw new h(o.id+" "+e+" withdraw() requires a tag argument or an extra destination param");case 11:void 0!==i&&(u.destination=i);case 12:return n.next=14,o.privatePostTradeBtcWithdrawal(o.extend(u,s));case 14:return f=n.sent,n.abrupt("return",{info:f,id:void 0});case 16:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.urls.api[t]+s,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),i=this.urlencode(this.extend({endpoint:s},c));var u=this.nonce().toString(),d=s+"\0"+i+"\0"+u,f=this.hmac(this.encode(d),this.encode(this.secret),"sha512"),l=this.decode(this.stringToBase64(f));a={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":l,"Api-Nonce":u}}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&"status"in s){var d=this.safeString(s,"status"),f=this.safeString(s,"message");if(void 0!==d){if("0000"===d)return;var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,l),this.throwExactlyMatchedException(this.exceptions,f,l),new o(l)}}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(!("status"in(d=n.sent))){n.next=7;break}if("0000"!==d.status){n.next=6;break}return n.abrupt("return",d);case 6:throw new o(u.id+" "+u.json(d));case 7:return n.abrupt("return",d);case 8:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(203);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"bitkk",name:"bitkk",comment:"a Chinese ZB clone",urls:{api:{public:"http://api.bitkk.com/data",private:"https://trade.bitkk.com/api"},www:"https://www.bitkk.com",doc:"https://www.bitkk.com/i/developer",fees:"https://www.bitkk.com/i/rate"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeNotAvailable,u=s.AccountSuspended,d=s.PermissionDenied,f=s.RateLimitExceeded,l=s.InvalidNonce,h=s.InvalidAddress,p=s.ArgumentsRequired,m=s.ExchangeError,v=s.InvalidOrder,b=s.InsufficientFunds,g=s.BadRequest,y=s.OrderNotFound,w=s.BadSymbol,k=s.NotSupported,x=r(16),_=x.ROUND,S=x.TICK_SIZE,T=x.TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitmart",name:"BitMart",countries:["US","CN","HK","KR"],rateLimit:1e3,version:"v1",has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchStatus:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},hostname:"bitmart.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/61835713-a2662f80-ae85-11e9-9d00-6442919701fd.jpg",api:"https://api-cloud.{hostname}",www:"https://www.bitmart.com/",doc:"https://developer-pro.bitmart.com/",referral:"http://www.bitmart.com/?r=rQCFLh",fees:"https://www.bitmart.com/fee/en"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{system:{get:["time","service"]},account:{get:["currencies"]},spot:{get:["currencies","symbols","symbols/details","ticker","steps","symbols/kline","symbols/book","symbols/trades"]},contract:{get:["contracts","pnls","indexes","tickers","quote","indexquote","trades","depth","fundingrate"]}},private:{account:{get:["wallet","deposit/address","withdraw/charge","deposit-withdraw/history","deposit-withdraw/detail"],post:["withdraw/apply"]},spot:{get:["wallet","order_detail","orders","trades"],post:["submit_order","cancel_order","cancel_orders"]},contract:{get:["userOrders","userOrderInfo","userTrades","orderTrades","accounts","userPositions","userLiqRecords","positionFee"],post:["batchOrders","submitOrder","cancelOrders","marginOper"]}}},timeframes:{"1m":1,"3m":3,"5m":5,"15m":15,"30m":30,"45m":45,"1h":60,"2h":120,"3h":180,"4h":240,"1d":1440,"1w":10080,"1M":43200},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.002],[10,.0018],[50,.0016],[250,.14/100],[1e3,.0012],[5e3,.001],[25e3,8e-4],[5e4,6e-4]],maker:[[0,.001],[10,9e-4],[50,8e-4],[250,.07/100],[1e3,6e-4],[5e3,5e-4],[25e3,4e-4],[5e4,3e-4]]}}},precisionMode:S,exceptions:{exact:{3e4:m,30001:o,30002:o,30003:u,30004:o,30005:o,30006:o,30007:o,30008:o,30010:d,30011:o,30012:o,30013:f,30014:c,6e4:g,60001:g,60002:g,60003:m,60004:m,60005:m,60006:m,60007:h,60008:b,60009:m,60010:m,60011:h,60012:m,60020:d,60021:d,60022:d,60030:g,60031:g,60050:m,60051:m,5e4:g,50001:w,50002:g,50003:g,50004:g,50005:y,50006:v,50007:v,50008:v,50009:v,50010:v,50011:v,50012:v,50013:v,50014:g,50015:g,50016:g,50017:g,50018:g,50019:g,50020:b,50021:g,50022:c,50023:w,53e3:u,57001:g,58001:g,59001:m,59002:m,40001:m,40002:m,40003:m,40004:m,40005:m,40006:d,40007:g,40008:l,40009:g,40010:g,40011:g,40012:m,40013:m,40014:w,40015:w,40016:v,40017:v,40018:v,40019:m,40020:v,40021:m,40022:m,40023:m,40024:m,40025:m,40026:m,40027:b,40028:d,40029:v,40030:v,40031:v,40032:v,40033:v,40034:w},broad:{}},commonCurrencies:{COT:"Community Coin",ONE:"Menlo One",PLA:"Plair"},options:{defaultType:"spot",fetchBalance:{type:"spot"},createMarketBuyOrderRequiresPrice:!0}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicSystemGetTime(e);case 2:return a=r.sent,i=t.safeValue(a,"data",{}),r.abrupt("return",t.safeInteger(i,"server_time"));case 5:case"end":return r.stop()}}),r)})))()}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.safeValue(t.options,"fetchBalance",{}),i=t.safeString(t.options,"defaultType"),s=t.safeString(a,"type",i),s=t.safeString(e,"type",s),e=t.omit(e,"type"),r.next=7,t.publicSystemGetService(e);case 7:return o=r.sent,c=t.safeValue(o,"data",{}),u=t.safeValue(c,"service",[]),d=t.indexBy(u,"service_type"),"swap"!==s&&"future"!==s||(s="contract"),f=t.safeValue(d,s),l=void 0,h=void 0,void 0!==f&&(2===t.safeInteger(f,"status")?l="ok":(l="maintenance",h=t.safeInteger(f,"end_time"))),t.status=t.extend(t.status,{status:l,updated:t.milliseconds(),eta:h}),r.abrupt("return",t.status);case 18:case"end":return r.stop()}}),r)})))()}fetchSpotMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicSpotGetSymbolsDetails(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"symbols",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"symbol"),f=t.safeInteger(u,"symbol_id"),l=t.safeString(u,"base_currency"),h=t.safeString(u,"quote_currency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=p+"/"+m,b=t.safeInteger(u,"price_max_precision"),g={amount:t.safeFloat(u,"base_min_size"),price:parseFloat(t.decimalToPrecision(Math.pow(10,-b),_,10))},y=t.safeFloat(u,"min_buy_amount"),w=t.safeFloat(u,"min_sell_amount"),k=Math.max(y,w),x={amount:{min:t.safeFloat(u,"base_min_size"),max:t.safeFloat(u,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:k,max:void 0}},o.push({id:d,numericId:f,symbol:v,base:p,quote:m,baseId:l,quoteId:h,type:"spot",spot:!0,future:!1,swap:!1,precision:g,limits:x,info:u,active:void 0});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchContractMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicContractGetContracts(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"contracts",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeValue(u,"contract",{}),f=t.safeString(d,"contract_id"),l=t.safeInteger(d,"contract_id"),h=t.safeString(d,"base_coin"),p=t.safeString(d,"quote_coin"),m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=t.safeString(d,"name"),g=t.safeFloat(d,"vol_unit"),y=t.safeFloat(d,"price_unit"),w={amount:g,price:y},k={amount:{min:t.safeFloat(d,"min_vol"),max:t.safeFloat(d,"max_vol")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},x=t.safeValue(d,"contract_type"),_=!1,S=!1,T="contract",1===x?(T="swap",S=!0):2===x&&(T="future",_=!0),O=t.safeValue(u,"fee_config",{}),A=t.safeFloat(O,"maker_fee"),M=t.safeFloat(O,"taker_fee"),o.push({id:f,numericId:l,symbol:b,base:m,quote:v,baseId:h,quoteId:p,maker:A,taker:M,type:T,spot:!1,future:_,swap:S,precision:w,limits:k,info:u,active:void 0});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function e(){var r,a,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchSpotMarkets();case 2:return r=e.sent,e.next=5,t.fetchContractMarkets();case 5:return a=e.sent,i=t.arrayConcat(r,a),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"timestamp",this.milliseconds()),n=this.safeString2(e,"symbol","contract_id"),a=this.safeSymbol(n,t,"_"),i=this.safeFloat2(e,"close_24h","last_price"),s=this.safeFloat(e,"fluctuation","rise_fall_rate");void 0!==s&&(s*=100);var o=this.safeFloat2(e,"base_volume_24h","base_coin_volume"),c=this.safeFloat2(e,"quote_volume_24h","quote_coin_volume"),u=this.vwap(o,c),d=this.safeFloat2(e,"open_24h","open"),f=void 0;void 0!==i&&void 0!==d&&(f=this.sum(i,d)/2),f=this.safeFloat(e,"avg_price",f);var l=this.safeValue(e,"depth_price",e);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat2(e,"high","high_24h"),low:this.safeFloat2(e,"low","low_24h"),bid:this.safeFloat(l,"best_bid","bid_price"),bidVolume:this.safeFloat(e,"best_bid_size"),ask:this.safeFloat(l,"best_ask","ask_price"),askVolume:this.safeFloat(e,"best_ask_size"),vwap:u,open:this.safeFloat(e,"open_24h"),close:i,last:i,previousClose:void 0,change:void 0,percentage:s,average:f,baseVolume:o,quoteVolume:c,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={},o=void 0,i.swap||i.future?(o="publicContractGetTickers",s.contractID=i.id):i.spot&&(o="publicSpotGetTicker",s.symbol=i.id),n.next=8,r[o](r.extend(s,t));case 8:return c=n.sent,u=r.safeValue(c,"data",{}),d=r.safeValue(u,"tickers",[]),f=r.indexBy(d,"symbol"),l=r.safeValue(f,i.id),n.abrupt("return",r.parseTicker(l,i));case 14:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeString(r.options,"defaultType","spot"),s=r.safeString(t,"type",i),t=r.omit(t,"type"),o=void 0,"swap"===s||"future"===s?o="publicContractGetTickers":"spot"===s&&(o="publicSpotGetTicker"),n.next=9,r[o](t);case 9:for(c=n.sent,u=r.safeValue(c,"data",{}),d=r.safeValue(u,"tickers",[]),f={},l=0;l<d.length;l++)h=r.parseTicker(d[l]),p=h.symbol,f[p]=h;return n.abrupt("return",r.filterByArray(f,"symbol",e));case 15:case"end":return n.stop()}}),a)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicAccountGetCurrencies(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"currencies",[]),o={},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"currency"),f=t.safeCurrencyCode(d),l=t.safeString(u,"name"),h=t.safeValue(u,"withdraw_enabled"),p=t.safeValue(u,"deposit_enabled"),m=h&&p,o[f]={id:d,code:f,name:l,info:u,active:m,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={},c=void 0,s.spot?(c="publicSpotGetSymbolsBook",o.symbol=s.id):(s.swap||s.future)&&(c="publicContractGetDepth",o.contractID=s.id,void 0!==t&&(o.count=t)),n.next=8,i[c](i.extend(o,r));case 8:if(u=n.sent,d=i.safeValue(u,"data",{}),!s.spot){n.next=14;break}return n.abrupt("return",i.parseOrderBook(d,void 0,"buys","sells","price","amount"));case 14:if(!s.swap&&!s.future){n.next=16;break}return n.abrupt("return",i.parseOrderBook(d,void 0,"buys","sells","price","vol"));case 16:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString2(e,"trade_id","detail_id"),n=this.safeInteger2(e,"order_time","create_time");void 0===n&&(n=this.parse8601(this.safeString(e,"created_at")));var a=this.safeInteger(e,"way"),i=this.safeStringLower2(e,"type","side");void 0===i&&void 0!==a&&(i=a<5?"buy":"sell");var s=void 0,o=this.safeString(e,"exec_type");void 0!==o&&(s="M"===o?"maker":"taker");var c=this.safeFloat2(e,"price","deal_price");c=this.safeFloat(e,"price_avg",c);var u=this.safeFloat2(e,"amount","deal_vol");u=this.safeFloat(e,"size",u);var d=this.safeFloat2(e,"count","notional");void 0===d&&void 0!==c&&void 0!==u&&(d=u*c);var f=this.safeInteger(e,"order_id"),l=this.safeString2(e,"contract_id","symbol"),h=this.safeSymbol(l,t,"_"),p=this.safeFloat(e,"fees"),m=void 0;if(void 0!==p){var v=this.safeString(e,"fee_coin_name"),b=this.safeCurrencyCode(v);void 0===b&&void 0!==t&&(b="buy"===i?t.base:t.quote),m={cost:p,currency:b}}return{info:e,id:r,order:f,timestamp:n,datetime:this.iso8601(n),symbol:h,type:void 0,side:i,price:c,amount:u,cost:d,takerOrMaker:s,fee:m}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},u=void 0,o.spot?(c.symbol=o.id,u="publicSpotGetSymbolsTrades"):(o.swap||o.future)&&(u="publicContractGetTrades",c.contractID=o.id),n.next=8,s[u](s.extend(c,i));case 8:return d=n.sent,f=s.safeValue(d,"data",{}),l=s.safeValue(f,"trades",[]),n.abrupt("return",s.parseTrades(l,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u=c.type,d=void 0,f={},l=o.parseTimeframe(t),"spot"===u?(d="publicSpotGetSymbolsKline",f.symbol=c.id,f.step=o.timeframes[t],500,void 0===i&&(i=500),i=Math.min(500,i),void 0===r?(h=parseInt(o.milliseconds()/1e3),p=h-i*l,f.from=p,f.to=h):(m=parseInt(r/1e3),v=o.sum(m,i*l),f.from=m,f.to=v)):"swap"!==u&&"future"!==u||(d="publicContractGetQuote",f.contractID=c.id,500,void 0===i&&(i=500),void 0===r?(b=parseInt(o.milliseconds()/1e3),g=b-i*l,f.startTime=g,f.endTime=b):(y=parseInt(r/1e3),w=o.sum(y,i*l),f.startTime=y,f.endTime=w),f.unit=o.timeframes[t],f.resolution="M"),n.next=10,o[d](o.extend(f,s));case 10:if(k=n.sent,x=o.safeValue(k,"data",{}),!Array.isArray(x)){n.next=16;break}return n.abrupt("return",o.parseOHLCVs(x,c,t,r,i));case 16:return _=o.safeValue(x,"klines",[]),n.abrupt("return",o.parseOHLCVs(_,c,t,r,i));case 18:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new p(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=void 0,u={},o.spot?(u.symbol=o.id,u.offset=1,void 0===r&&(r=100),u.limit=r,c="privateSpotGetTrades"):(o.swap||o.future)&&(u.contractID=o.id,void 0!==r&&(u.size=r),c="privateContractGetUserTrades"),n.next=10,s[c](s.extend(u,i));case 10:return d=n.sent,f=s.safeValue(d,"data",{}),l=s.safeValue(f,"trades",[]),n.abrupt("return",s.parseTrades(l,o,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(o.id+" fetchOrderTrades() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(t),u=void 0,d={},c.spot?(d.symbol=c.id,d.order_id=e,u="privateSpotGetTrades"):(c.swap||c.future)&&(d.contractID=c.id,d.orderID=e,u="privateContractGetOrderTrades"),n.next=10,o[u](o.extend(d,s));case 10:return f=n.sent,l=o.safeValue(f,"data",{}),h=o.safeValue(l,"trades",[]),n.abrupt("return",o.parseTrades(h,c,r,i));case 14:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=void 0,i=t.safeValue(t.options,"fetchBalance",{}),s=t.safeString(t.options,"defaultType","spot"),o=t.safeString(i,"type",s),o=t.safeString(e,"type",o),e=t.omit(e,"type"),"spot"===o?a="privateSpotGetWallet":"account"===o?a="privateAccountGetWallet":"swap"!==o&&"future"!==o&&"contract"!==o||(a="privateContractGetAccounts"),r.next=11,t[a](e);case 11:for(c=r.sent,u=t.safeValue(c,"data",{}),d=t.safeValue2(u,"wallet","accounts",[]),f={info:c},l=0;l<d.length;l++)h=d[l],p=t.safeString2(h,"id","currency"),p=t.safeString(h,"coind_code",p),m=t.safeCurrencyCode(p),(v=t.account()).free=t.safeFloat2(h,"available","available_vol"),v.used=t.safeFloat2(h,"frozen","freeze_vol"),f[m]=v;return r.abrupt("return",t.parseBalance(f));case 17:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=void 0;"string"===typeof e&&(r=e,e={}),r=this.safeString(e,"order_id",r);var n=this.parse8601(this.safeString(e,"created_at"));n=this.safeInteger(e,"create_time",n);var a=this.safeString2(e,"symbol","contract_id"),i=this.safeSymbol(a,t,"_"),s=void 0;void 0!==t&&(s=this.parseOrderStatusByType(t.type,this.safeString(e,"status")));var o=this.safeFloat(e,"price"),c=this.safeFloat2(e,"price_avg","done_avg_price"),u=this.safeFloat2(e,"size","vol"),d=void 0,f=this.safeFloat2(e,"filled_size","done_vol"),l=void 0;void 0!==u&&(void 0!==l&&void 0===f&&(f=Math.max(0,u-l)),void 0!==f&&(void 0===l&&(l=Math.max(0,u-f)),void 0===d&&void 0!==c&&(d=c*f)));var h=this.safeString(e,"side");h=this.safeString(e,"way",h);var p=this.safeInteger(e,"category"),m=this.safeString(e,"type");return 1===p?m="limit":2===p&&(m="market"),"market"===m&&(0===o&&(o=void 0),0===c&&(c=void 0)),{id:r,clientOrderId:void 0,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:m,timeInForce:void 0,postOnly:void 0,side:h,price:o,stopPrice:void 0,amount:u,cost:d,average:c,filled:f,remaining:l,status:s,fee:void 0,trades:void 0}}parseOrderStatusByType(e,t){var r=this.safeValue({spot:{1:"failed",2:"open",3:"failed",4:"open",5:"open",6:"closed",7:"canceling",8:"canceled"},swap:{1:"open",2:"open",4:"closed"}},e,{});return this.safeString(r,t,t)}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d={},f=void 0,!u.spot){n.next=36;break}if(d.symbol=u.id,d.side=r,d.type=t,f="privateSpotPostSubmitOrder","limit"!==t){n.next=15;break}d.size=c.amountToPrecision(e,i),d.price=c.priceToPrecision(e,s),n.next=34;break;case 15:if("market"!==t){n.next=34;break}if("buy"!==r){n.next=33;break}if(l=c.safeFloat(o,"notional"),!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){n.next=28;break}if(void 0===s){n.next=24;break}void 0===l&&(l=i*s),n.next=26;break;case 24:if(void 0!==l){n.next=26;break}throw new v(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)");case 26:n.next=29;break;case 28:l=void 0===l?i:l;case 29:h=u.precision.price,d.notional=c.decimalToPrecision(l,T,h,c.precisionMode),n.next=34;break;case 33:"sell"===r&&(d.size=c.amountToPrecision(e,i));case 34:n.next=37;break;case 36:(u.swap||u.future)&&(f="privateContractPostSubmitOrder",d.contractID=u.id,"limit"===t?d.category=1:"market"===t&&(d.category=2),d.way=r,d.custom_id=c.nonce(),d.open_type=1,d.leverage=1,d.price=c.priceToPrecision(e,s),d.vol=c.amountToPrecision(e,i));case 37:return n.next=39,c[f](c.extend(d,o));case 39:return p=n.sent,m=c.safeValue(p,"data",{}),n.abrupt("return",c.parseOrder(m,u));case 42:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={},c=void 0,s.spot?(c="privateSpotPostCancelOrder",o.order_id=parseInt(e),o.symbol=s.id):(s.swap||s.future)&&(c="privateContractPostCancelOrders",o.contractID=s.id,o.orders=[parseInt(e)]),n.next=10,i[c](i.extend(o,r));case 10:if(u=n.sent,!0!==(d=i.safeValue(u,"data"))){n.next=14;break}return n.abrupt("return",i.parseOrder(e,s));case 14:if(void 0===(f=i.safeValue(d,"succeed"))){n.next=21;break}if(void 0!==(e=i.safeString(f,0))){n.next=19;break}throw new v(i.id+" cancelOrder() failed to cancel "+t+" order id "+e);case 19:n.next=24;break;case 21:if(i.safeValue(d,"result")){n.next=24;break}throw new v(i.id+" cancelOrder() "+t+" order id "+e+" is filled or canceled");case 24:return l=i.parseOrder(e,s),n.abrupt("return",i.extend(l,{id:e}));case 26:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new p(r.id+" cancelAllOrders() requires a symbol argument");case 2:if(void 0!==(i=r.safeString(t,"side"))){n.next=5;break}throw new p(r.id+" cancelAllOrders() requires a `side` parameter ('buy' or 'sell')");case 5:return n.next=7,r.loadMarkets();case 7:if((s=r.market(e)).spot){n.next=10;break}throw new k(r.id+" cancelAllOrders() does not support "+s.type+" orders, only spot orders are accepted");case 10:return o={symbol:s.id,side:i},n.next=13,r.privateSpotPostCancelOrders(r.extend(o,t));case 13:return c=n.sent,n.abrupt("return",c);case 15:case"end":return n.stop()}}),a)})))()}cancelOrders(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(i.id+" canelOrders() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:if((s=i.market(t)).spot){n.next=7;break}throw new k(i.id+" cancelOrders() does not support "+s.type+" orders, only contract orders are accepted");case 7:for(o=[],c=0;c<e.length;c++)o.push(parseInt(e[c]));return u={orders:o},n.next=12,i.privateContractPostCancelOrders(i.extend(u,r));case 12:return d=n.sent,n.abrupt("return",d);case 14:case"end":return n.stop()}}),a)})))()}fetchOrdersByStatus(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(o.id+" fetchOrdersByStatus() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(t),u={},d=void 0,c.spot?(d="privateSpotGetOrders",u.symbol=c.id,u.offset=1,u.limit=100,u.status="open"===e?9:"closed"===e?6:e):(c.swap||c.future)&&(d="privateContractGetUserOrders",u.contractID=c.id,void 0!==i&&(u.size=i),u.status="open"===e?3:"closed"===e?4:e),n.next=10,o[d](o.extend(u,s));case 10:return f=n.sent,l=o.safeValue(f,"data",{}),h=o.safeValue(l,"orders",[]),n.abrupt("return",o.parseOrders(h,c,r,i));case 14:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStatus("open",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStatus("closed",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new p(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:if((o=s.market(e)).swap||o.future){n.next=7;break}throw new k(s.id+" fetchOrders does not support "+o.type+" markets, only contracts are supported");case 7:return n.next=9,s.fetchOrdersByStatus(0,e,t,r,i);case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s={},o=i.market(t),c=void 0,"string"!==typeof e&&(e=e.toString()),o.spot?(s.symbol=o.id,s.order_id=e,c="privateSpotGetOrderDetail"):(o.swap||o.future)&&(s.contractID=o.id,s.orderID=e,c="privateContractGetUserOrderInfo"),n.next=11,i[c](i.extend(s,r));case 11:if(u=n.sent,!("orders"in(d=i.safeValue(u,"data")))){n.next=21;break}if(f=i.safeValue(d,"orders",[]),void 0!==(l=i.safeValue(f,0))){n.next=18;break}throw new y(i.id+" fetchOrder() could not find "+t+" order id "+e);case 18:return n.abrupt("return",i.parseOrder(l,o));case 21:return n.abrupt("return",i.parseOrder(d,o));case 22:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateAccountGetDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),u=r.safeString(c,"address"),d=r.safeString(c,"address_memo"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:d,info:o});case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency:c.id,amount:t,destination:"To Digital Address",address:r},void 0!==i&&(u.address_memo=i),n.next=8,o.privateAccountPostWithdrawApply(o.extend(u,s));case 8:return d=n.sent,f=o.safeValue(d,"data"),l=o.parseTransaction(f,c),n.abrupt("return",o.extend(l,{code:e,address:r,tag:i}));case 12:case"end":return n.stop()}}),a)})))()}fetchTransactionsByType(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return void 0===i&&(i=50),c={operation_type:e,offset:1,limit:i},u=void 0,void 0!==t&&(u=o.currenc(t),c.currency=u.id),n.next=8,o.privateAccountGetDepositWithdrawHistory(o.extend(c,s));case 8:return d=n.sent,f=o.safeValue(d,"data",{}),l=o.safeValue(f,"records",[]),n.abrupt("return",o.parseTransactions(l,u,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("deposit",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("withdraw",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({0:"pending",1:"pending",2:"pending",3:"ok",4:"canceled",5:"failed"},e,e)}parseTransaction(e,t){var r=void 0,n=this.safeString(e,"withdraw_id"),a=this.safeString(e,"deposit_id"),i=void 0;void 0!==n&&""!==n?(i="withdraw",r=n):void 0!==a&&""!==a&&(i="deposit",r=a);var s=this.safeFloat(e,"arrival_amount"),o=this.safeInteger(e,"tapply_timeime"),c=this.safeString(e,"currency"),u=this.safeCurrencyCode(c,t),d=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeFloat(e,"fee"),l=void 0;void 0!==f&&(l={cost:f,currency:u});var h=this.safeString(e,"tx_id");return""===h&&(h=void 0),{info:e,id:r,currency:u,amount:s,address:this.safeString(e,"address"),addressFrom:void 0,addressTo:void 0,tag:this.safeString(e,"address_memo"),tagFrom:void 0,tagTo:void 0,status:d,type:i,updated:void 0,txid:h,timestamp:o,datetime:this.iso8601(o),fee:l}}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api,{hostname:this.hostname}),o=this.safeString(t,0),c=this.safeString(t,1),u=s+"/"+c;"system"!==c&&(u+="/"+this.version),"contract"===c&&(u+="/ifcontract"),u+="/"+this.implodeParams(e,n);var d=this.omit(n,this.extractParams(e));if("system"===c)Object.keys(d).length&&(u+="?"+this.urlencode(d));else if("public"===o)Object.keys(d).length&&(u+="?"+this.urlencode(d));else if("private"===o){this.checkRequiredCredentials();var f=this.milliseconds().toString(),l="";a={"X-BM-KEY":this.apiKey,"X-BM-TIMESTAMP":f},"POST"===r||"PUT"===r?(a["Content-Type"]="application/json",l=i=this.json(d)):Object.keys(d).length&&(u+="?"+(l=this.urlencode(d)));var h=f+"#"+this.uid+"#"+l,p=this.hmac(this.encode(h),this.encode(this.secret));a["X-BM-SIGN"]=p}return{url:u,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var u=this.safeString(s,"message"),d=this.safeString(s,"code");if(void 0!==d&&"1000"!==d||void 0!==u&&"OK"!==u){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),this.throwExactlyMatchedException(this.exceptions.exact,u,f),this.throwBroadlyMatchedException(this.exceptions.broad,u,f),new m(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ArgumentsRequired,u=o.AuthenticationError,d=o.ExchangeError,f=o.InsufficientFunds,l=o.InvalidOrder,h=o.BadSymbol,p=o.PermissionDenied,m=o.BadRequest,v=r(16),b=v.ROUND,g=v.TICK_SIZE;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitmax",name:"BitMax",countries:["CN"],rateLimit:500,has:{CORS:!1,fetchMarkets:!0,fetchCurrencies:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchTrades:!0,fetchAccounts:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchDepositAddress:!0,fetchTransactions:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1d","1w":"1w","1M":"1m"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/66820319-19710880-ef49-11e9-8fbe-16be62a11992.jpg",api:"https://bitmax.io",test:"https://bitmax-test.io",www:"https://bitmax.io",doc:["https://bitmax-exchange.github.io/bitmax-pro-api/#bitmax-pro-api-documentation"],fees:"https://bitmax.io/#/feeRate/tradeRate",referral:"https://bitmax.io/#/register?inviteCode=EL6BXBQM"},api:{public:{get:["assets","products","ticker","barhist/info","barhist","depth","trades","cash/assets","cash/products","margin/assets","margin/products","futures/collateral","futures/contracts","futures/ref-px","futures/market-data","futures/funding-rates"]},accountCategory:{get:["balance","order/open","order/status","order/hist/current","risk"],post:["order","order/batch"],delete:["order","order/all","order/batch"]},accountGroup:{get:["cash/balance","margin/balance","margin/risk","transfer","futures/collateral-balance","futures/position","futures/risk","futures/funding-payments","order/hist"],post:["futures/transfer/deposit","futures/transfer/withdraw"]},private:{get:["info","wallet/transactions","wallet/deposit/address"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.002,maker:.002}},precisionMode:g,options:{"account-category":"cash","account-group":void 0,fetchClosedOrders:{method:"accountGroupGetOrderHist"}},exceptions:{exact:{1900:m,2100:u,5002:h,6001:h,6010:f,60060:l,600503:l,100001:m,100002:m,100003:m,100004:m,100005:m,100006:m,100007:m,100008:h,100009:u,100010:m,100011:m,100012:m,100013:m,100101:d,150001:m,200001:u,200002:d,200003:d,200004:d,200005:d,200006:d,200007:d,200008:d,200009:d,200010:u,200011:d,200012:d,200013:d,200014:p,200015:p,300001:l,300002:l,300003:l,300004:l,300005:l,300006:l,300007:l,300008:l,300009:l,300011:f,300012:h,300013:l,300020:l,300021:l,300031:l,310001:f,310002:l,310003:l,310004:h,310005:l,510001:d,900001:d},broad:{}},commonCurrencies:{BTCBEAR:"BEAR",BTCBULL:"BULL"}})}getAccount(e={}){return this.safeValue(e,"account",this.options.account).toLowerCase().capitalize()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:return n=r.sent,r.next=5,t.publicGetMarginAssets(e);case 5:return i=r.sent,r.next=8,t.publicGetCashAssets(e);case 8:for(s=r.sent,o=t.safeValue(n,"data",[]),c=t.safeValue(i,"data",[]),u=t.safeValue(s,"data",[]),d=t.indexBy(o,"assetCode"),f=t.indexBy(c,"assetCode"),l=t.indexBy(u,"assetCode"),h=t.deepExtend(d,f,l),p=Object.keys(h),m={},v=0;v<p.length;v++)b=p[v],g=h[b],y=t.safeCurrencyCode(b),w=t.safeInteger2(g,"precisionScale","nativeScale"),k=t.safeFloat2(g,"withdrawFee","withdrawalFee"),x=t.safeString2(g,"status","statusCode"),_="Normal"===x,S="borrowAssetCode"in g,m[y]={id:b,code:y,info:g,type:void 0,margin:S,name:t.safeString(g,"assetName"),active:_,fee:k,precision:w,limits:{amount:{min:Math.pow(10,-w),max:void 0},price:{min:Math.pow(10,-w),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(g,"minWithdrawalAmt"),max:void 0}}};return r.abrupt("return",m);case 20:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetProducts(e);case 2:return n=r.sent,r.next=5,t.publicGetCashProducts(e);case 5:return i=r.sent,r.next=8,t.publicGetFuturesContracts(e);case 8:for(s=r.sent,o=t.safeValue(n,"data",[]),c=t.indexBy(o,"symbol"),u=t.safeValue(i,"data",[]),d=t.safeValue(s,"data",[]),f=t.arrayConcat(u,d),l=t.indexBy(f,"symbol"),h=t.deepExtend(c,l),p=Object.keys(h),m=[],v=0;v<p.length;v++)b=p[v],g=h[b],y=t.safeString(g,"baseAsset"),w=t.safeString(g,"quoteAsset"),k=t.safeCurrencyCode(y),x=t.safeCurrencyCode(w),_={amount:t.safeFloat(g,"lotSize"),price:t.safeFloat(g,"tickSize")},S=t.safeString(g,"status"),T="Normal"===S,A="spot"===(O="useLot"in g?"spot":"future"),E=b,(M="future"===O)||(E=k+"/"+x),m.push({id:b,symbol:E,base:k,quote:x,baseId:y,quoteId:w,info:g,type:O,spot:A,future:M,active:T,precision:_,limits:{amount:{min:t.safeFloat(g,"minQty"),max:t.safeFloat(g,"maxQty")},price:{min:t.safeFloat(g,"tickSize"),max:void 0},cost:{min:t.safeFloat(g,"minNotional"),max:t.safeFloat(g,"maxNotional")}}});return r.abrupt("return",m);case 20:case"end":return r.stop()}}),r)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=n*u,f=o.precision.price;return"sell"===r?d*=a:(c="base",f=o.precision.amount),d=this.decimalToPrecision(d,b,f,this.precisionMode),{type:i,currency:o[c],rate:u,cost:parseFloat(d)}}fetchAccounts(e={}){var t=this;return i(a.mark((function r(){var n,i,s;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.safeString(t.options,"account-group"),i=void 0,void 0!==n){r.next=9;break}return r.next=5,t.privateGetInfo(e);case 5:i=r.sent,s=t.safeValue(i,"data",{}),n=t.safeString(s,"accountGroup"),t.options["account-group"]=n;case 9:return r.abrupt("return",[{id:n,type:void 0,currency:void 0,info:i}]);case 10:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:return n=t.safeString(t.options,"account-category","cash"),i=t.safeValue(t.options,"fetchBalance",{}),s=t.safeString(i,"account-category",n),s=t.safeString(e,"account-category",s),e=t.omit(e,"account-category"),o=t.safeValue(t.accounts,0,{}),c=t.safeString(o,"id"),u={"account-group":c},d="accountCategoryGetBalance","futures"===s?d="accountGroupGetFuturesCollateralBalance":u["account-category"]=s,r.next=16,t[d](t.extend(u,e));case 16:for(f=r.sent,l={info:f},h=t.safeValue(f,"data",[]),p=0;p<h.length;p++)m=h[p],v=t.safeCurrencyCode(t.safeString(m,"asset")),(b=t.account()).free=t.safeFloat(m,"availableBalance"),b.total=t.safeFloat(m,"totalBalance"),l[v]=b;return r.abrupt("return",t.parseBalance(l));case 21:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u,d,f;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.market(e),s={symbol:i.id},t.next=6,n.publicGetDepth(n.extend(s,r));case 6:return o=t.sent,c=n.safeValue(o,"data",{}),u=n.safeValue(c,"data",{}),d=n.safeInteger(u,"ts"),(f=n.parseOrderBook(u,d)).nonce=n.safeInteger(u,"seqnum"),t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.safeString(e,"symbol"),a=void 0;if(r in this.markets_by_id)t=this.markets_by_id[r];else if(void 0!==r){if("spot"===this.safeString(e,"type")){var i=r.split("/"),s=n(i,2),o=s[0],c=s[1];a=this.safeCurrencyCode(o)+"/"+this.safeCurrencyCode(c)}}void 0===a&&void 0!==t&&(a=t.symbol);var u=this.safeFloat(e,"close"),d=this.safeValue(e,"bid",[]),f=this.safeValue(e,"ask",[]),l=this.safeFloat(e,"open"),h=void 0,p=void 0,m=void 0;return void 0!==l&&void 0!==u&&(h=u-l,l>0&&(p=h/l*100),m=this.sum(l,u)/2),{symbol:a,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(d,0),bidVolume:this.safeFloat(d,1),ask:this.safeFloat(f,0),askVolume:this.safeFloat(f,1),vwap:void 0,open:l,close:u,last:u,previousClose:void 0,change:h,percentage:p,average:m,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),n)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.marketIds(e),i.symbol=s.join(",")),n.next=6,r.publicGetTicker(r.extend(i,t));case 6:return o=n.sent,c=r.safeValue(o,"data",[]),n.abrupt("return",r.parseTickers(c,e));case 9:case"end":return n.stop()}}),n)})))()}parseOHLCV(e,t){var r=this.safeValue(e,"data",{});return[this.safeInteger(r,"ts"),this.safeFloat(r,"o"),this.safeFloat(r,"h"),this.safeFloat(r,"l"),this.safeFloat(r,"c"),this.safeFloat(r,"v")]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,interval:o.timeframes[t]},d=o.parseTimeframe(t),f=o.safeValue(o.options,"fetchOHLCV",{}),l=o.safeInteger(f,"limit",500),void 0!==r?(u.from=r,n=void 0===n?l:Math.min(n,l),u.to=o.sum(r,n*d*1e3,1)):void 0!==n&&(u.n=n),a.next=10,o.publicGetBarhist(o.extend(u,s));case 10:return h=a.sent,p=o.safeValue(h,"data",[]),a.abrupt("return",o.parseOHLCVs(p,c,t,r,n));case 13:case"end":return a.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeInteger(e,"ts"),n=this.safeFloat2(e,"price","p"),a=this.safeFloat(e,"q"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=this.safeValue(e,"bm",!1),o=s?"maker":"taker",c=s?"buy":"sell",u=void 0;return void 0===u&&void 0!==t&&(u=t.symbol),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:u,id:void 0,order:void 0,type:void 0,takerOrMaker:o,side:c,price:n,amount:a,cost:i,fee:void 0}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.n=r),a.next=7,s.publicGetTrades(s.extend(c,n));case 7:return u=a.sent,d=s.safeValue(u,"data",[]),f=s.safeValue(d,"data",[]),a.abrupt("return",s.parseTrades(f,o,t,r));case 11:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({PendingNew:"open",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled",Rejected:"rejected"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t,"/"),i=this.safeInteger2(e,"timestamp","sendingTime"),s=this.safeInteger(e,"lastExecTime"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"orderQty"),u=this.safeFloat(e,"avgPx"),d=this.safeFloat2(e,"cumFilledQty","cumQty"),f=void 0;void 0!==d&&(0===d&&(i=s,s=void 0),void 0!==c&&(f=Math.max(0,c-d)));var l=void 0;void 0!==u&&void 0!==d&&(l=u*d);var h=this.safeString(e,"orderId"),p=this.safeString(e,"id");void 0!==p&&p.length<1&&(p=void 0);var m=this.safeStringLower(e,"orderType"),v=this.safeStringLower(e,"side"),b=this.safeFloat(e,"cumFee"),g=void 0;if(void 0!==b){var y=this.safeString(e,"feeAsset");g={cost:b,currency:this.safeCurrencyCode(y)}}var w=this.safeFloat(e,"stopPrice");return{info:e,id:h,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:s,symbol:a,type:m,timeInForce:void 0,postOnly:void 0,side:v,price:o,stopPrice:w,amount:c,cost:l,average:u,filled:d,remaining:f,status:r,fee:g,trades:void 0}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,h,p,m,v,b,g,y,w,k;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return a.next=4,c.loadAccounts();case 4:if(u=c.market(e),d=c.safeString(c.options,"account-category","cash"),f=c.safeValue(c.options,"createOrder",{}),h=c.safeString(f,"account-category",d),h=c.safeString(o,"account-category",h),o=c.omit(o,"account-category"),p=c.safeValue(c.accounts,0,{}),m=c.safeValue(p,"id"),v=c.safeString2(o,"clientOrderId","id"),b={"account-group":m,"account-category":h,symbol:u.id,time:c.milliseconds(),orderQty:c.amountToPrecision(e,n),orderType:t,side:r},void 0!==v&&(b.id=v,o=c.omit(o,["clientOrderId","id"])),"limit"!==t&&"stop_limit"!==t||(b.orderPrice=c.priceToPrecision(e,s)),"stop_limit"!==t&&"stop_market"!==t){a.next=24;break}if(void 0!==(g=c.safeFloat(o,"stopPrice"))){a.next=22;break}throw new l(c.id+" createOrder() requires a stopPrice parameter for "+t+" orders");case 22:b.stopPrice=c.priceToPrecision(e,g),o=c.omit(o,"stopPrice");case 24:return a.next=26,c.accountCategoryPostOrder(c.extend(b,o));case 26:return y=a.sent,w=c.safeValue(y,"data",{}),k=c.safeValue(w,"info",{}),a.abrupt("return",c.parseOrder(k,u));case 30:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u,d,f,l;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return t.next=4,n.loadAccounts();case 4:return i=n.safeString(n.options,"account-category","cash"),s=n.safeValue(n.options,"fetchOrder",{}),o=n.safeString(s,"account-category",i),o=n.safeString(r,"account-category",o),r=n.omit(r,"account-category"),c=n.safeValue(n.accounts,0,{}),u=n.safeValue(c,"id"),d={"account-group":u,"account-category":o,orderId:e},t.next=14,n.accountCategoryGetOrderStatus(n.extend(d,r));case 14:return f=t.sent,l=n.safeValue(f,"data",{}),t.abrupt("return",n.parseOrder(l));case 17:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h,p,m,v,b,g;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.loadAccounts();case 4:return o=void 0,void 0!==e&&(o=s.market(e)),c=s.safeString(s.options,"account-category","cash"),u=s.safeValue(s.options,"fetchOpenOrders",{}),d=s.safeString(u,"account-category",c),d=s.safeString(n,"account-category",d),n=s.omit(n,"account-category"),f=s.safeValue(s.accounts,0,{}),l=s.safeValue(f,"id"),h={"account-group":l,"account-category":d},a.next=16,s.accountCategoryGetOrderOpen(s.extend(h,n));case 16:if(p=a.sent,m=s.safeValue(p,"data",[]),"futures"!==d){a.next=20;break}return a.abrupt("return",s.parseOrders(m,o,t,r));case 20:for(v=[],b=0;b<m.length;b++)g=s.parseOrder(m[b],o),v.push(g);return a.abrupt("return",s.filterBySymbolSinceLimit(v,e,t,r));case 23:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.loadAccounts();case 4:return o=void 0,void 0!==e&&(o=s.market(e)),c=s.safeString(s.options,"account-category"),u=s.safeValue(s.options,"fetchClosedOrders",{}),d=s.safeString(u,"account-category",c),d=s.safeString(n,"account-category",d),n=s.omit(n,"account-category"),f=s.safeValue(s.accounts,0,{}),l=s.safeValue(f,"id"),h={"account-group":l},void 0!==e&&(o=s.market(e),h.symbol=o.id),"accountGroupGetOrderHist"===(p=s.safeValue(u,"method","accountGroupGetOrderHist"))?void 0!==d&&(h.category=d):h["account-category"]=d,void 0!==t&&(h.startTime=t),void 0!==r&&(h.pageSize=r),a.next=21,s[p](s.extend(h,n));case 21:return m=a.sent,v=s.safeValue(m,"data"),Array.isArray(v)||(v=s.safeValue(v,"data",[])),a.abrupt("return",s.parseOrders(v,o,t,r));case 26:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new c(n.id+" cancelOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:return a.next=6,n.loadAccounts();case 6:return s=n.market(t),o=n.safeString(n.options,"account-category","cash"),u=n.safeValue(n.options,"cancelOrder",{}),d=n.safeString(u,"account-category",o),d=n.safeString(r,"account-category",d),r=n.omit(r,"account-category"),f=n.safeValue(n.accounts,0,{}),l=n.safeValue(f,"id"),h=n.safeString2(r,"clientOrderId","id"),p={"account-group":l,"account-category":d,symbol:s.id,time:n.milliseconds(),id:"foobar"},void 0===h?p.orderId=e:(p.id=h,r=n.omit(r,["clientOrderId","id"])),a.next=19,n.accountCategoryDeleteOrder(n.extend(p,r));case 19:return m=a.sent,v=n.safeValue(m,"data",{}),b=n.safeValue(v,"info",{}),a.abrupt("return",n.parseOrder(b,s));case 23:case"end":return a.stop()}}),i)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.loadAccounts();case 4:return i=r.safeString(r.options,"account-category","cash"),s=r.safeValue(r.options,"cancelAllOrders",{}),o=r.safeString(s,"account-category",i),o=r.safeString(t,"account-category",o),t=r.omit(t,"account-category"),c=r.safeValue(r.accounts,0,{}),u=r.safeValue(c,"id"),d={"account-group":u,"account-category":o,time:r.milliseconds()},f=void 0,void 0!==e&&(f=r.market(e),d.symbol=f.id),n.next=16,r.accountCategoryDeleteOrderAll(r.extend(d,t));case 16:return l=n.sent,n.abrupt("return",l);case 18:case"end":return n.stop()}}),n)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"tagId"),a=this.safeString(e,n);return this.checkAddress(r),{currency:void 0===t?void 0:t.code,address:r,tag:a,info:e}}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,u,d,f,l,h,p,m,v,b;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s=r.safeString(t,"chainName"),t=r.omit(t,"chainName"),o={asset:i.id},n.next=8,r.privateGetWalletDepositAddress(r.extend(o,t));case 8:if(u=n.sent,d=r.safeValue(u,"data",{}),f=r.safeValue(d,"address",[]),l=f.length,h=void 0,!(l>1)){n.next=22;break}if(p=r.indexBy(f,"chainName"),void 0!==s){n.next=19;break}throw m=Object.keys(p),v=m.join(", "),new c(r.id+" fetchDepositAddress returned more than one address, a chainName parameter is required, one of "+v);case 19:h=r.safeValue(p,s,{}),n.next=23;break;case 22:h=r.safeValue(f,0,{});case 23:return b=r.parseDepositAddress(h,i),n.abrupt("return",r.extend(b,{info:u}));case 25:case"end":return n.stop()}}),n)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={txType:"deposit"},a.next=3,s.fetchTransactions(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={txType:"withdrawal"},a.next=3,s.fetchTransactions(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchTransactions(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.asset=c.id),void 0!==t&&(o.startTs=t),void 0!==r&&(o.pageSize=r),a.next=9,s.privateGetWalletTransactions(s.extend(o,n));case 9:return u=a.sent,d=s.safeValue(u,"data",{}),f=s.safeValue(d,"data",[]),a.abrupt("return",s.parseTransactions(f,c,t,r));case 13:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({reviewing:"pending",pending:"pending",confirmed:"ok",rejected:"rejected"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"requestId"),n=this.safeFloat(e,"amount"),a=this.safeValue(e,"destAddress",{}),i=this.safeString(a,"address"),s=this.safeString(a,"destTag"),o=this.safeString(e,"networkTransactionId"),c=this.safeString(e,"transactionType"),u=this.safeInteger(e,"time"),d=this.safeString(e,"asset"),f=this.safeCurrencyCode(d,t),l=this.parseTransactionStatus(this.safeString(e,"status")),h=this.safeFloat(e,"commission");return{info:e,id:r,currency:f,amount:n,address:i,addressTo:i,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,status:l,type:c,updated:void 0,txid:o,timestamp:u,datetime:this.iso8601(u),fee:{currency:f,cost:h}}}sign(e,t="public",r="GET",n={},a,i){var s="",o=n,c="accountCategory"===t;(c||"accountGroup"===t)&&(s+=this.implodeParams("/{account-group}",n),o=this.omit(n,"account-group"));var u=this.implodeParams(e,o);if(s+="/api/pro/"+this.version,c&&(s+=this.implodeParams("/{account-category}",o),o=this.omit(o,"account-category")),s+="/"+u,o=this.omit(o,this.extractParams(e)),"public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var d=this.milliseconds().toString(),f=d+"+"+u,l=this.hmac(this.encode(f),this.encode(this.secret),"sha256","base64");a={"x-auth-key":this.apiKey,"x-auth-timestamp":d,"x-auth-signature":l},"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):(a["Content-Type"]="application/json",i=this.json(o))}return{url:s=this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var u=this.safeString(s,"code"),f=this.safeString(s,"message");if(void 0!==u&&"0"!==u||void 0!==f){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,u,l),this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new d(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(16).TICK_SIZE,o=r(6),c=o.AuthenticationError,u=o.BadRequest,d=o.DDoSProtection,f=o.ExchangeError,l=o.ExchangeNotAvailable,h=o.InsufficientFunds,p=o.InvalidOrder,m=o.OrderNotFound,v=o.PermissionDenied,b=o.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",withdraw:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:{public:"https://testnet.bitmex.com",private:"https://testnet.bitmex.com"},logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:{public:"https://www.bitmex.com",private:"https://www.bitmex.com"},www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/upZpOX"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/executionHistory","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":c,"This key is disabled.":v,"Access Denied":v,"Duplicate clOrdID":p,"orderQty is invalid":p,"Invalid price":p,"Invalid stopPx for ordType":p},broad:{"Signature not valid":c,overloaded:l,"Account has insufficient Available Balance":h,"Service unavailable":l,"Server Error":f}},precisionMode:s,options:{"api-expires":5,fetchOHLCVOpenTimestamp:!0}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInstrumentActiveAndIndices(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c="Unlisted"!==o.state,u=o.symbol,d=o.underlying,f=o.quoteCurrency,l=d+f,h=t.safeCurrencyCode(d),p=t.safeCurrencyCode(f),m=u===l,v=t.safeString2(o,"positionCurrency","quoteCurrency"),b=void 0,g=!1,y=!1,w=t.safeCurrencyCode(v),k=u,m?(b="swap",k=h+"/"+p):u.indexOf("B_")>=0?(y=!0,b="prediction"):(g=!0,b="future"),x={amount:void 0,price:void 0},_=t.safeFloat(o,"lotSize"),S=t.safeFloat(o,"tickSize"),void 0!==_&&(x.amount=_),void 0!==S&&(x.price=S),(T={amount:{min:void 0,max:void 0},price:{min:S,max:t.safeFloat(o,"maxPrice")},cost:{min:void 0,max:void 0}})[w===p?"cost":"amount"]={min:_,max:t.safeFloat(o,"maxOrderQty")},i.push({id:u,symbol:k,base:h,quote:p,baseId:d,quoteId:f,active:c,precision:x,limits:T,taker:t.safeFloat(o,"takerFee"),maker:t.safeFloat(o,"makerFee"),type:b,spot:!1,swap:m,future:g,prediction:y,info:o});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}parseBalanceResponse(e){for(var t={info:e},r=0;r<e.length;r++){var n=e[r],a=this.safeString(n,"currency"),i=this.safeCurrencyCode(a),s=this.account(),o=this.safeFloat(n,"availableMargin"),c=this.safeFloat(n,"marginBalance");"BTC"===i&&(void 0!==o&&(o/=1e8),void 0!==c&&(c/=1e8)),s.free=o,s.total=c,t[i]=s}return this.parseBalance(t)}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={currency:"all"},r.next=5,t.privateGetUserMargin(t.extend(a,e));case 5:return i=r.sent,r.abrupt("return",t.parseBalanceResponse(i));case 7:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id},void 0!==t&&(o.depth=t),n.next=7,i.publicGetOrderBookL2(i.extend(o,r));case 7:for(c=n.sent,u={bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0},d=0;d<c.length;d++)f=c[d],l="Sell"===f.side?"asks":"bids",h=i.safeFloat(f,"size"),void 0!==(p=i.safeFloat(f,"price"))&&u[l].push([p,h]);return u.bids=i.sortBy(u.bids,0,!0),u.asks=i.sortBy(u.asks,0),n.abrupt("return",u);case 13:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={filter:{orderID:e}},n.next=3,i.fetchOrders(t,void 0,void 0,i.deepExtend(s,r));case 3:if(o=n.sent,1!==o.length){n.next=7;break}return n.abrupt("return",o[0]);case 7:throw new m(i.id+": The order "+e+" not found.");case 8:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.symbol=o.id),void 0!==t&&(c.startTime=s.iso8601(t)),void 0!==r&&(c.count=r),"filter"in(c=s.deepExtend(c,i))&&(c.filter=s.json(c.filter)),n.next=11,s.privateGetOrder(c);case 11:return u=n.sent,n.abrupt("return",s.parseOrders(u,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={filter:{open:!0}},n.next=3,s.fetchOrders(e,t,r,s.deepExtend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrders(e,t,r,i);case 2:return o=n.sent,n.abrupt("return",s.filterBy(o,"status","closed"));case 4:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.symbol=o.id),void 0!==t&&(c.startTime=s.iso8601(t)),void 0!==r&&(c.count=r),"filter"in(c=s.deepExtend(c,i))&&(c.filter=s.json(c.filter)),n.next=11,s.privateGetExecutionTradeHistory(c);case 11:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({Withdrawal:"transaction",RealisedPNL:"margin",UnrealisedPNL:"margin",Deposit:"transaction",Transfer:"transfer",AffiliatePayout:"referral"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"transactID"),n=this.safeString(e,"account"),a=this.safeString(e,"tx"),i=this.parseLedgerEntryType(this.safeString(e,"transactType")),s=this.safeString(e,"currency"),o=this.safeCurrencyCode(s,t),c=this.safeFloat(e,"amount");void 0!==c&&(c/=1e8);var u=this.parse8601(this.safeString(e,"transactTime"));void 0===u&&(u=0);var d=this.safeFloat(e,"fee",0);void 0!==d&&(d/=1e8);var f={cost:d,currency:o},l=this.safeFloat(e,"walletBalance");void 0!==l&&(l/=1e8);var h=this.sum(l,-c),p=void 0;c<0?(p="out",c=Math.abs(c)):p="in";var m=this.parseTransactionStatus(this.safeString(e,"transactStatus"));return{id:r,info:e,timestamp:u,datetime:this.iso8601(u),direction:p,account:n,referenceId:a,referenceAccount:void 0,type:i,currency:o,amount:c,before:h,after:l,status:m,fee:f}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),c={},void 0!==r&&(c.count=r),n.next=8,s.privateGetUserWalletHistory(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseLedger(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.count=r),n.next=6,s.privateGetUserWalletHistory(s.extend(o,i));case 6:return c=n.sent,u=s.filterByArray(c,"transactType",["Withdrawal","Deposit"],!1),d=void 0,void 0!==e&&(d=s.currency(e)),n.abrupt("return",s.parseTransactions(u,d,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({Canceled:"canceled",Completed:"ok",Pending:"pending"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"transactID"),n=this.parse8601(this.safeString(e,"transactTime")),a=this.parse8601(this.safeString(e,"timestamp")),i=this.safeStringLower(e,"transactType"),s=void 0,o=void 0,c=void 0;"withdrawal"===i&&(s=this.safeString(e,"address"),o=this.safeString(e,"tx"),c=s);var u=this.safeInteger(e,"amount");void 0!==u&&(u=Math.abs(u)/1e7);var d=this.safeInteger(e,"fee");void 0!==d&&(d/=1e7);var f={cost:d,currency:"BTC"},l=this.safeString(e,"transactStatus");return void 0!==l&&(l=this.parseTransactionStatus(l)),{info:e,id:r,txid:void 0,timestamp:n,datetime:this.iso8601(n),addressFrom:o,address:s,addressTo:c,tagFrom:void 0,tag:void 0,tagTo:void 0,type:i,amount:u,currency:"BTC",status:l,updated:a,comment:void 0,fee:f}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(r.market(e).active){n.next=5;break}throw new f(r.id+": symbol "+e+" is delisted");case 5:return n.next=7,r.fetchTickers([e],t);case 7:if(i=n.sent,void 0!==(s=r.safeValue(i,e))){n.next=11;break}throw new f(r.id+" ticker symbol "+e+" not found");case 11:return n.abrupt("return",s);case 12:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetInstrumentActiveAndIndices(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),void 0!==(u=r.safeString(c,"symbol"))&&(s[u]=c);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=void 0,n=this.safeString(e,"symbol");void 0!==(t=this.safeValue(this.markets_by_id,n,t))&&(r=t.symbol);var a=this.parse8601(this.safeString(e,"timestamp")),i=this.safeFloat(e,"prevPrice24h"),s=this.safeFloat(e,"lastPrice"),o=void 0,c=void 0;return void 0!==s&&void 0!==i&&(o=s-i,i>0&&(c=o/i*100)),{symbol:r,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"askPrice"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:i,close:s,last:s,previousClose:void 0,change:o,percentage:c,average:this.sum(i,s)/2,baseVolume:this.safeFloat(e,"homeNotional24h"),quoteVolume:this.safeFloat(e,"foreignNotional24h"),info:e}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,binSize:o.timeframes[t],partial:!0},void 0!==i&&(u.count=i),d=1e3*o.parseTimeframe(t),f=o.safeValue(o.options,"fetchOHLCVOpenTimestamp",!0),void 0!==r?(l=r,f&&(l=o.sum(l,d)),h=o.ymdhms(l),u.startTime=h):u.reverse=!0,n.next=10,o.publicGetTradeBucketed(o.extend(u,s));case 10:if(p=n.sent,m=o.parseOHLCVs(p,c,t,r,i),f)for(v=0;v<m.length;v++)m[v][0]=m[v][0]-d;return n.abrupt("return",m);case 14:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),n=this.safeFloat2(e,"avgPx","price"),a=this.safeFloat2(e,"size","lastQty"),i=this.safeString(e,"trdMatchID"),s=this.safeString(e,"orderID"),o=this.safeStringLower(e,"side"),c=this.safeFloat(e,"execCost");void 0!==c&&(c=Math.abs(c)/1e8);var u=void 0;if("execComm"in e){var d=this.safeFloat(e,"execComm");d/=1e8;var f=this.safeString(e,"settlCurrency");u={cost:d,currency:this.safeCurrencyCode(f),rate:this.safeFloat(e,"commission")}}var l=void 0;void 0!==u&&(l=u.cost<0?"maker":"taker");var h=this.safeString(e,"symbol"),p=this.safeSymbol(h,t),m=this.safeStringLower(e,"ordType");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:p,id:i,order:s,type:m,takerOrMaker:l,side:o,price:n,cost:c,amount:a,fee:u}}parseOrderStatus(e){return this.safeString({New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"},e,e)}parseTimeInForce(e){return this.safeString({Day:"Day",GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"ordStatus")),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=this.parse8601(this.safeString(e,"timestamp")),s=this.parse8601(this.safeString(e,"transactTime")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"orderQty"),u=this.safeFloat(e,"cumQty",0),d=void 0;void 0!==c&&void 0!==u&&(d=Math.max(c-u,0));var f=this.safeFloat(e,"avgPx"),l=void 0;void 0!==u&&(void 0!==f?l=f*u:void 0!==o&&(l=o*u));var h=this.safeString(e,"orderID"),p=this.safeStringLower(e,"ordType"),m=this.safeStringLower(e,"side"),v=this.safeString(e,"clOrdID"),b=this.parseTimeInForce(this.safeString(e,"timeInForce")),g=this.safeFloat(e,"stopPx"),y="ParticipateDoNotInitiate"===this.safeString(e,"execInst");return{info:e,id:h,clientOrderId:v,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:s,symbol:a,type:p,timeInForce:b,postOnly:y,side:m,price:o,stopPrice:g,amount:c,cost:l,average:f,filled:u,remaining:d,status:r,fee:void 0,trades:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==t?c.startTime=s.iso8601(t):c.reverse=!0,void 0!==r&&(c.count=r),n.next=8,s.publicGetTrade(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d=c.capitalize(t),f={symbol:u.id,side:c.capitalize(r),orderQty:parseFloat(c.amountToPrecision(e,i)),ordType:d},"Stop"!==d&&"StopLimit"!==d&&"MarketIfTouched"!==d&&"LimitIfTouched"!==d){n.next=13;break}if(void 0!==(l=c.safeFloat2(o,"stopPx","stopPrice"))){n.next=11;break}throw new b(c.id+" createOrder() requires a stopPx or stopPrice parameter for the "+d+" order type");case 11:f.stopPx=parseFloat(c.priceToPrecision(e,l)),o=c.omit(o,["stopPx","stopPrice"]);case 13:return"Limit"!==d&&"StopLimit"!==d&&"LimitIfTouched"!==d||(f.price=parseFloat(c.priceToPrecision(e,s))),void 0!==(h=c.safeString2(o,"clOrdID","clientOrderId"))&&(f.clOrdID=h,o=c.omit(o,["clOrdID","clientOrderId"])),n.next=18,c.privatePostOrder(c.extend(f,o));case 18:return p=n.sent,n.abrupt("return",c.parseOrder(p,u));case 20:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function t(){var r,a,i,d;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.loadMarkets();case 2:return r={},void 0!==(a=u.safeString2(c,"origClOrdID","clientOrderId"))?(r.origClOrdID=a,void 0!==(i=u.safeString(c,"clOrdID","clientOrderId"))&&(r.clOrdID=i),c=u.omit(c,["origClOrdID","clOrdID","clientOrderId"])):r.orderID=e,void 0!==s&&(r.orderQty=s),void 0!==o&&(r.price=o),t.next=9,u.privatePutOrder(u.extend(r,c));case 9:return d=t.sent,t.abrupt("return",u.parseOrder(d));case 11:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.safeString2(r,"clOrdID","clientOrderId"),s={},void 0===a?s.orderID=e:(s.clOrdID=a,r=i.omit(r,["clOrdID","clientOrderId"])),t.next=7,i.privateDeleteOrder(i.extend(s,r));case 7:if(o=t.sent,c=i.safeValue(o,0,{}),void 0===(u=i.safeString(c,"error"))){t.next=13;break}if(!(u.indexOf("Unable to cancel order due to existing state")>=0)){t.next=13;break}throw new m(i.id+" cancelOrder() failed: "+u);case 13:return t.abrupt("return",i.parseOrder(c));case 14:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.symbol=s.id),n.next=7,r.privateDeleteOrderAll(r.extend(i,t));case 7:return o=n.sent,n.abrupt("return",r.parseOrders(o,s));case 9:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privateGetPosition(i);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}isFiat(e){return"EUR"===e||"PLN"===e}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if("BTC"===e){n.next=5;break}throw new f(o.id+" supoprts BTC withdrawals only, other currencies coming soon...");case 5:return i={currency:"XBt",amount:t,address:r},n.next=8,o.privatePostUserRequestWithdrawal(o.extend(i,s));case 8:return c=n.sent,n.abrupt("return",{info:c,id:o.safeString(c,"transactID")});case 10:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){if(429===e)throw new d(this.id+" "+i);if(e>=400){var l=this.safeValue(s,"error",{}),h=this.safeString(l,"message"),p=this.id+" "+i;if(this.throwExactlyMatchedException(this.exceptions.exact,h,p),this.throwBroadlyMatchedException(this.exceptions.broad,h,p),400===e)throw new u(p);throw new f(p)}}}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/"+e;if("GET"===r)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{var o=this.safeString(n,"_format");void 0!==o&&(s+="?"+this.urlencode({_format:o}),n=this.omit(n,"_format"))}var c=this.urls.api[t]+s;if(this.apiKey&&this.secret){var u=r+s,d=this.safeInteger(this.options,"api-expires");a={"Content-Type":"application/json","api-key":this.apiKey},u+=d=(d=this.sum(this.seconds(),d)).toString(),a["api-expires"]=d,"POST"!==r&&"PUT"!==r&&"DELETE"!==r||Object.keys(n).length&&(u+=i=this.json(n)),a["api-signature"]=this.hmac(this.encode(u),this.encode(this.secret))}return{url:c,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.AuthenticationError,u=o.ExchangeError,d=o.PermissionDenied,f=o.BadRequest,l=o.ArgumentsRequired,h=o.OrderNotFound,p=o.InsufficientFunds,m=o.ExchangeNotAvailable,v=o.DDoSProtection,b=o.InvalidAddress,g=o.InvalidOrder;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitpanda",name:"Bitpanda Pro",countries:["AT"],rateLimit:300,version:"v1",has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0,fetchTicker:!0,fetchTickers:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1/MINUTES","5m":"5/MINUTES","15m":"15/MINUTES","30m":"30/MINUTES","1h":"1/HOURS","4h":"4/HOURS","1d":"1/DAYS","1w":"1/WEEKS","1M":"1/MONTHS"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87591171-9a377d80-c6f0-11ea-94ac-97a126eac3bc.jpg",api:{public:"https://api.exchange.bitpanda.com/public",private:"https://api.exchange.bitpanda.com/public"},www:"https://www.bitpanda.com/en/pro",doc:["https://developers.bitpanda.com/exchange/"],fees:"https://www.bitpanda.com/en/pro/fees"},api:{public:{get:["currencies","candlesticks/{instrument_code}","fees","instruments","order-book/{instrument_code}","market-ticker","market-ticker/{instrument_code}","price-ticks/{instrument_code}","time"]},private:{get:["account/balances","account/deposit/crypto/{currency_code}","account/deposit/fiat/EUR","account/deposits","account/deposits/bitpanda","account/withdrawals","account/withdrawals/bitpanda","account/fees","account/orders","account/orders/{order_id}","account/orders/{order_id}/trades","account/trades","account/trades/{trade_id}","account/trading-volume"],post:["account/deposit/crypto","account/withdraw/crypto","account/withdraw/fiat","account/fees","account/orders"],delete:["account/orders","account/orders/{order_id}","account/orders/client/{client_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:[{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}]}},requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{INVALID_CLIENT_UUID:g,ORDER_NOT_FOUND:h,ONLY_ONE_ERC20_ADDRESS_ALLOWED:b,DEPOSIT_ADDRESS_NOT_USED:b,INVALID_CREDENTIALS:c,MISSING_CREDENTIALS:c,INVALID_APIKEY:c,INVALID_SCOPES:c,INVALID_SUBJECT:c,INVALID_ISSUER:c,INVALID_AUDIENCE:c,INVALID_DEVICE_ID:c,INVALID_IP_RESTRICTION:c,APIKEY_REVOKED:c,APIKEY_EXPIRED:c,SYNCHRONIZER_TOKEN_MISMATCH:c,SESSION_EXPIRED:c,INTERNAL_ERROR:c,CLIENT_IP_BLOCKED:d,MISSING_PERMISSION:d,ILLEGAL_CHARS:f,UNSUPPORTED_MEDIA_TYPE:f,ACCOUNT_HISTORY_TIME_RANGE_TOO_BIG:f,CANDLESTICKS_TIME_RANGE_TOO_BIG:f,INVALID_INSTRUMENT_CODE:f,INVALID_ORDER_TYPE:f,INVALID_UNIT:f,INVALID_PERIOD:f,INVALID_TIME:f,INVALID_DATE:f,INVALID_CURRENCY:f,INVALID_AMOUNT:f,INVALID_PRICE:f,INVALID_LIMIT:f,INVALID_QUERY:f,INVALID_CURSOR:f,INVALID_ACCOUNT_ID:f,INVALID_SIDE:g,INVALID_ACCOUNT_HISTORY_FROM_TIME:f,INVALID_ACCOUNT_HISTORY_MAX_PAGE_SIZE:f,INVALID_ACCOUNT_HISTORY_TIME_PERIOD:f,INVALID_ACCOUNT_HISTORY_TO_TIME:f,INVALID_CANDLESTICKS_GRANULARITY:f,INVALID_CANDLESTICKS_UNIT:f,INVALID_ORDER_BOOK_DEPTH:f,INVALID_ORDER_BOOK_LEVEL:f,INVALID_PAGE_CURSOR:f,INVALID_TIME_RANGE:f,INVALID_TRADE_ID:f,INVALID_UI_ACCOUNT_SETTINGS:f,NEGATIVE_AMOUNT:g,NEGATIVE_PRICE:g,MIN_SIZE_NOT_SATISFIED:g,BAD_AMOUNT_PRECISION:g,BAD_PRICE_PRECISION:g,BAD_TRIGGER_PRICE_PRECISION:g,MAX_OPEN_ORDERS_EXCEEDED:f,MISSING_PRICE:g,MISSING_ORDER_TYPE:g,MISSING_SIDE:g,MISSING_CANDLESTICKS_PERIOD_PARAM:l,MISSING_CANDLESTICKS_UNIT_PARAM:l,MISSING_FROM_PARAM:l,MISSING_INSTRUMENT_CODE:l,MISSING_ORDER_ID:g,MISSING_TO_PARAM:l,MISSING_TRADE_ID:l,INVALID_ORDER_ID:h,NOT_FOUND:h,INSUFFICIENT_LIQUIDITY:p,INSUFFICIENT_FUNDS:p,NO_TRADING:m,SERVICE_UNAVAILABLE:m,GATEWAY_TIMEOUT:m,RATELIMIT:v,CF_RATELIMIT:v,INTERNAL_SERVER_ERROR:u},broad:{}},commonCurrencies:{MIOTA:"IOTA"},options:{fetchTradingFees:{method:"fetchPrivateTradingFees"},fiat:["EUR","CHF"]}})}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return n=r.sent,r.abrupt("return",t.safeInteger(n,"epoch_millis"));case 4:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(n=r.sent,i={},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"code"),u=t.safeCurrencyCode(c),i[u]={id:c,code:u,name:void 0,info:o,active:void 0,fee:void 0,precision:t.safeInteger(o,"precision"),limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInstruments(e);case 2:for(n=r.sent,i=[],s=0;s<n.length;s++)o=n[s],c=t.safeValue(o,"base",{}),u=t.safeValue(o,"quote",{}),d=t.safeString(c,"code"),f=t.safeString(u,"code"),l=d+"_"+f,h=t.safeCurrencyCode(d),p=t.safeCurrencyCode(f),m=h+"/"+p,v={amount:t.safeInteger(o,"amount_precision"),price:t.safeInteger(o,"market_precision")},b={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(o,"min_size"),max:void 0}},g=t.safeString(o,"state"),y="ACTIVE"===g,i.push({id:l,symbol:m,base:h,quote:p,baseId:d,quoteId:f,precision:v,limits:b,info:o,active:y});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return i(a.mark((function r(){var n,i;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.safeString(e,"method"),e=t.omit(e,"method"),void 0===n&&(i=t.safeValue(t.options,"fetchTradingFees",{}),n=t.safeString(i,"method","fetchPrivateTradingFees")),r.next=5,t[n](e);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()}fetchPublicTradingFees(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.publicGetFees(e);case 4:for(n=r.sent,i=t.indexBy(n,"fee_group_id"),s=t.safeValue(t.options,"fee_group_id","default"),o=t.safeValue(i,s,{}),c=t.safeValue(o,"fee_tiers"),u={},d=0;d<t.symbols.length;d++){for(f=t.symbols[d],l={info:o,symbol:f,maker:void 0,taker:void 0,percentage:!0,tierBased:!0},h=[],p=[],m=0;m<c.length;m++)v=c[m],b=t.safeFloat(v,"volume"),g=t.safeFloat(v,"taker_fee"),y=t.safeFloat(v,"maker_fee"),g/=100,y/=100,h.push([b,g]),p.push([b,y]),0===m&&(l.taker=g,l.maker=y);w={taker:h,maker:p},l.tiers=w,u[f]=l}return r.abrupt("return",u);case 12:case"end":return r.stop()}}),r)})))()}fetchPrivateTradingFees(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountFees(e);case 4:for(n=r.sent,i=t.safeValue(n,"active_fee_tier",{}),s={info:n,maker:t.safeFloat(i,"maker_fee"),taker:t.safeFloat(i,"taker_fee"),percentage:!0,tierBased:!0},o=t.safeValue(n,"fee_tiers"),c=[],u=[],d=0;d<o.length;d++)f=o[d],l=t.safeFloat(f,"volume"),h=t.safeFloat(f,"taker_fee"),p=t.safeFloat(f,"maker_fee"),h/=100,p/=100,c.push([l,h]),u.push([l,p]);return m={taker:c,maker:u},s.tiers=m,r.abrupt("return",s);case 14:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"instrument_code"),a=this.safeSymbol(n,t,"_"),i=this.safeFloat(e,"last_price"),s=this.safeFloat(e,"price_change_percentage"),o=this.safeFloat(e,"price_change"),c=void 0,u=void 0;void 0!==i&&void 0!==o&&(c=i-o,u=this.sum(i,c)/2);var d=this.safeFloat(e,"base_volume"),f=this.safeFloat(e,"quote_volume"),l=this.vwap(d,f);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:l,open:c,close:i,last:i,previousClose:void 0,change:o,percentage:s,average:u,baseVolume:d,quoteVolume:f,info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={instrument_code:i.id},n.next=6,r.publicGetMarketTickerInstrumentCode(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketTicker(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),n)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s={instrument_code:n.marketId(e)},void 0!==t&&(s.depth=t),a.next=6,n.publicGetOrderBookInstrumentCode(n.extend(s,r));case 6:return o=a.sent,c=n.parse8601(n.safeString(o,"time")),a.abrupt("return",n.parseOrderBook(o,c,"bids","asks","price","amount"));case 9:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){var r=this.safeValue(e,"granularity"),n=this.safeString(r,"unit"),a=this.safeString(r,"period")+this.safeString({MINUTES:"m",HOURS:"h",DAYS:"d",WEEKS:"w",MONTHS:"M"},n),i=1e3*this.parseTimeframe(a),s=this.parse8601(this.safeString(e,"time")),o=i*parseInt(s/i),c=this.safeValue(this.options,"fetchOHLCV",{}),u=this.safeString(c,"volume","total_amount");return[o,this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,u)]}fetchOHLCV(e,t="1m",r,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.market(e),d=c.safeString(c.timeframes,t),f=d.split("/"),l=n(f,2),h=l[0],p=l[1],m=c.parseTimeframe(t),v=1e3*m,void 0===s&&(s=1500),b={instrument_code:u.id,period:h,unit:p},void 0===r?(g=c.milliseconds(),b.to=c.iso8601(g),b.from=c.iso8601(g-s*v)):(b.from=c.iso8601(r),b.to=c.iso8601(c.sum(r,s*v))),a.next=12,c.publicGetCandlesticksInstrumentCode(c.extend(b,o));case 12:return y=a.sent,a.abrupt("return",c.parseOHLCVs(y,u,t,r,s));case 14:case"end":return a.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeValue(e,"fee",{});e=this.safeValue(e,"trade",e);var n=this.safeInteger(e,"trade_timestamp");void 0===n&&(n=this.parse8601(this.safeString(e,"time")));var a=this.safeStringLower2(e,"side","taker_side"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=this.safeFloat(e,"volume");void 0===o&&void 0!==s&&void 0!==i&&(o=s*i);var c=this.safeString(e,"instrument_code"),u=this.safeSymbol(c,t,"_"),d=this.safeFloat(r,"fee_amount"),f=void 0,l=void 0;if(void 0!==d){var h=this.safeString(r,"fee_currency");l={cost:d,currency:this.safeCurrencyCode(h),rate:this.safeFloat(r,"fee_percentage")},f=this.safeStringLower(r,"fee_type")}return{id:this.safeString2(e,"trade_id","sequence"),order:this.safeString(e,"order_id"),timestamp:n,datetime:this.iso8601(n),symbol:u,type:void 0,side:a,price:i,amount:s,cost:o,takerOrMaker:f,fee:l,info:e}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={instrument_code:o.id},void 0!==t&&(c.from=s.iso8601(t),c.to=s.iso8601(s.sum(t,144e5))),a.next=7,s.publicGetPriceTicksInstrumentCode(s.extend(c,n));case 7:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountBalances(e);case 4:for(n=r.sent,i=t.safeValue(n,"balances",[]),s={info:n},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency_code"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"available"),f.used=t.safeFloat(c,"locked"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}parseDepositAddress(e,t){var r=void 0;void 0!==t&&(r=t.code);var n=this.safeString(e,"address"),a=this.safeString(e,"destination_tag");return this.checkAddress(n),{currency:r,address:n,tag:a,info:e}}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostAccountDepositCrypto(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseDepositAddress(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency_code:i.id},n.next=6,r.privateGetAccountDepositCryptoCurrencyCode(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseDepositAddress(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency_code=c.id),void 0!==r&&(o.max_page_size=r),void 0===t){a.next=11;break}if(void 0!==s.safeString(n,"to")){a.next=10;break}throw new l(s.id+' fetchDeposits() requires a "to" iso8601 string param with the since argument is specified');case 10:o.from=s.iso8601(t);case 11:return a.next=13,s.privateGetAccountDeposits(s.extend(o,n));case 13:return u=a.sent,d=s.safeValue(u,"deposit_history",[]),a.abrupt("return",s.parseTransactions(d,c,t,r,{type:"deposit"}));case 16:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency_code=c.id),void 0!==r&&(o.max_page_size=r),void 0===t){a.next=11;break}if(void 0!==s.safeString(n,"to")){a.next=10;break}throw new l(s.id+' fetchWithdrawals() requires a "to" iso8601 string param with the since argument is specified');case 10:o.from=s.iso8601(t);case 11:return a.next=13,s.privateGetAccountWithdrawals(s.extend(o,n));case 13:return u=a.sent,d=s.safeValue(u,"withdrawal_history",[]),a.abrupt("return",s.parseTransactions(d,c,t,r,{type:"withdrawal"}));case 16:case"end":return a.stop()}}),i)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:if(c=o.currency(e),u={currency:e,amount:o.currencyToPrecision(e,t)},d=o.safeValue(o.options,"fiat",[]),f=o.inArray(e,d),h=f?"privatePostAccountWithdrawFiat":"privatePostAccountWithdrawCrypto",!f){a.next=14;break}if(void 0!==o.safeString(s,"payout_account_id")){a.next=12;break}throw l(o.id+" withdraw() requires a payout_account_id param for fiat "+e+" withdrawals");case 12:a.next=17;break;case 14:p={address:r},void 0!==n&&(p.destination_tag=n),u.recipient=p;case 17:return a.next=19,o[h](o.extend(u,s));case 19:return m=a.sent,a.abrupt("return",o.parseTransaction(m,c));case 21:case"end":return a.stop()}}),i)})))()}parseTransaction(e,t){var r=this.safeString(e,"transaction_id"),n=this.safeFloat(e,"amount"),a=this.parse8601(this.safeString(e,"time")),i=this.safeString(e,"currency");t=this.safeCurrency(i,t);var s=this.safeFloat2(e,"fee_amount","fee"),o=void 0,c=this.safeString(e,"recipient"),u=this.safeString(e,"destination_tag");if(void 0!==s){var d=this.safeString(e,"fee_currency",i);o={cost:s,currency:this.safeCurrencyCode(d)}}return{info:e,id:r,currency:t.code,amount:n,address:c,addressFrom:void 0,addressTo:c,tag:u,tagFrom:void 0,tagTo:u,status:"ok",type:void 0,updated:void 0,txid:this.safeString(e,"blockchain_transaction_id"),timestamp:a,datetime:this.iso8601(a),fee:o}}parseOrderStatus(e){return this.safeString({FILLED:"open",FILLED_FULLY:"closed",FILLED_CLOSED:"canceled",FILLED_REJECTED:"rejected",OPEN:"open",REJECTED:"rejected",CLOSED:"canceled",FAILED:"failed",STOP_TRIGGERED:"triggered"},e,e)}parseOrder(e,t){var r=this.safeValue(e,"trades",[]);e=this.safeValue(e,"order",e);var n=this.safeString(e,"order_id"),a=this.safeString(e,"client_id"),i=this.parse8601(this.safeString(e,"time")),s=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"instrument_code"),c=this.safeSymbol(o,t,"_"),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),f=void 0,l=this.safeFloat(e,"filled_amount"),h=void 0;void 0!==l&&void 0!==d&&(h=Math.max(0,d-l),void 0===s&&(s=h>0?"open":"closed"));var p=this.safeStringLower(e,"side"),m=this.safeStringLower(e,"type"),v=this.parseTrades(r,t,void 0,void 0),b=[],g=void 0,y=void 0,w=void 0;if(v.length>0){g=v[0].timestamp,y=0,w=0;for(var k=0;k<v.length;k++){var x=v[k];b.push(x.fee),g=Math.max(g,x.timestamp),y=this.sum(y,x.cost),w=this.sum(w,x.amount)}}var _=this.safeFloat(e,"average_price");void 0===_&&void 0!==y&&void 0!==w&&0!==w&&(_=y/w),void 0===f&&void 0!==_&&void 0!==l&&(f=_*l);var S=this.parseTimeInForce(this.safeString(e,"time_in_force")),T=this.safeFloat(e,"trigger_price"),O=this.safeValue(e,"is_post_only"),A={id:n,clientOrderId:a,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:g,symbol:c,type:m,timeInForce:S,postOnly:O,side:p,price:u,stopPrice:T,amount:d,cost:f,average:_,filled:l,remaining:h,status:s,trades:v},M=b.length;if(M>0)if(1===M)A.fee=b[0];else{var E=this.groupBy(b,"currency"),C=Object.keys(E);if(1===C.length){for(var I=C[0],F=this.safeValue(E,I),P=0,B=0;B<F.length;B++)P=this.sum(P,F[B].cost);A.fee={cost:P,currency:I}}else A.fees=b}else A.fee=void 0;return A}parseTimeInForce(e){return this.safeString({GOOD_TILL_CANCELLED:"GTC",GOOD_TILL_TIME:"GTT",IMMEDIATE_OR_CANCELLED:"IOC",FILL_OR_KILL:"FOK"},e,e)}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:if(u=c.market(e),d=t.toUpperCase(),f={instrument_code:u.id,type:d,side:r.toUpperCase(),amount:c.amountToPrecision(e,n)},h=!1,"LIMIT"!==d&&"STOP"!==d||(h=!0),"STOP"!==d){a.next=13;break}if(void 0!==(p=c.safeFloat(o,"trigger_price"))){a.next=11;break}throw new l(c.id+" createOrder() requires a trigger_price param for "+t+" orders");case 11:f.trigger_price=c.priceToPrecision(e,p),o=c.omit(o,"trigger_price");case 13:return h&&(f.price=c.priceToPrecision(e,s)),void 0!==(m=c.safeString2(o,"clientOrderId","client_id"))&&(f.client_id=m,o=c.omit(o,["clientOrderId","client_id"])),a.next=18,c.privatePostAccountOrders(c.extend(f,o));case 18:return v=a.sent,a.abrupt("return",c.parseOrder(v,u));case 20:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.safeString2(r,"clientOrderId","client_id"),r=n.omit(r,["clientOrderId","client_id"]),s="privateDeleteAccountOrdersOrderId",o={},void 0!==i?(s="privateDeleteAccountOrdersClientClientId",o.client_id=i):o.order_id=e,t.next=9,n[s](n.extend(o,r));case 9:return c=t.sent,t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.market(e),i.instrument_code=s.id),n.next=6,r.privateDeleteAccountOrders(r.extend(i,t));case 6:return o=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()}cancelOrders(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={ids:e.join(",")},t.next=5,n.privateDeleteAccountOrders(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:e},t.next=5,n.privateGetAccountOrdersOrderId(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o={},c=void 0,void 0!==e&&(c=s.market(e),o.instrument_code=c.id),void 0===t){a.next=10;break}if(void 0!==s.safeString(n,"to")){a.next=9;break}throw new l(s.id+' fetchOrders() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');case 9:o.from=s.iso8601(t);case 10:return void 0!==r&&(o.max_page_size=r),a.next=13,s.privateGetAccountOrders(s.extend(o,n));case 13:return u=a.sent,d=s.safeValue(u,"order_history",[]),a.abrupt("return",s.parseOrders(d,c,t,r));case 16:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={with_cancelled_and_rejected:!0},a.next=3,s.fetchOpenOrders(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={order_id:e},void 0!==n&&(c.max_page_size=n),a.next=6,o.privateGetAccountOrdersOrderIdTrades(o.extend(c,s));case 6:return u=a.sent,d=o.safeValue(u,"trade_history",[]),f=void 0,void 0!==t&&(f=o.market(t)),a.abrupt("return",o.parseTrades(d,f,r,n));case 11:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o={},c=void 0,void 0!==e&&(c=s.market(e),o.instrument_code=c.id),void 0===t){a.next=10;break}if(void 0!==s.safeString(n,"to")){a.next=9;break}throw new l(s.id+' fetchMyTrades() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');case 9:o.from=s.iso8601(t);case 10:return void 0!==r&&(o.max_page_size=r),a.next=13,s.privateGetAccountTrades(s.extend(o,n));case 13:return u=a.sent,d=s.safeValue(u,"trade_history",[]),a.abrupt("return",s.parseTrades(d,c,t,r));case 16:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return"public"===t?Object.keys(o).length&&(s+="?"+this.urlencode(o)):"private"===t&&(this.checkRequiredCredentials(),a={Accept:"application/json",Authorization:"Bearer "+this.apiKey},"POST"===r?(i=this.json(o),a["Content-Type"]="application/json"):Object.keys(o).length&&(s+="?"+this.urlencode(o))),{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var d=this.safeString(s,"error");if(void 0!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new u(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.InvalidNonce,d=o.AuthenticationError,f=o.OrderNotFound,l=r(16),h=l.TICK_SIZE,p=l.ROUND;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295554-11f98280-c50e-11ea-80d6-15b3bafa8cbf.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees",referral:"https://bitso.com/?ref=itej"},precisionMode:h,options:{precision:{XRP:1e-6,MXN:.01,TUSD:.01},defaultPrecision:1e-8},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":d,104:u}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAvailableBooks(e);case 2:for(i=r.sent,s=t.safeValue(i,"payload"),o=[],c=0;c<s.length;c++){for(u=s[c],d=t.safeString(u,"book"),f=d.split("_"),l=a(f,2),m=l[0],v=l[1],b=m.toUpperCase(),g=v.toUpperCase(),b=t.safeCurrencyCode(b),g=t.safeCurrencyCode(g),y=b+"/"+g,w={amount:{min:t.safeFloat(u,"minimum_amount"),max:t.safeFloat(u,"maximum_amount")},price:{min:t.safeFloat(u,"minimum_price"),max:t.safeFloat(u,"maximum_price")},cost:{min:t.safeFloat(u,"minimum_value"),max:t.safeFloat(u,"maximum_value")}},k=t.safeFloat(t.options.precision,g,t.options.defaultPrecision),x=t.safeFloat(u,"tick_size",k),_={amount:t.safeFloat(t.options.precision,b,t.options.defaultPrecision),price:x},S=t.safeValue(u,"fees",{}),T=t.safeValue(S,"flat_rate",{}),O=t.safeFloat(T,"maker"),A=t.safeFloat(T,"taker"),M=t.safeValue(S,"structure",[]),E={taker:parseFloat(t.decimalToPrecision(A/100,p,1e-8,h)),maker:parseFloat(t.decimalToPrecision(O/100,p,1e-8,h)),percentage:!0,tierBased:!0},C=[],I=[],F=0;F<M.length;F++)P=M[F],B=t.safeFloat(P,"volume"),R=t.safeFloat(P,"taker"),L=t.safeFloat(P,"maker"),N=parseFloat(t.decimalToPrecision(R/100,p,1e-8,h)),D=parseFloat(t.decimalToPrecision(L/100,p,1e-8,h)),C.push([B,N]),I.push([B,D]),0===F&&(E.taker=parseFloat(t.decimalToPrecision(A/100,p,1e-8,h)),E.maker=parseFloat(t.decimalToPrecision(O/100,p,1e-8,h)));V={taker:C,maker:I},E.tiers=V,o.push(t.extend({id:d,symbol:y,base:b,quote:g,baseId:m,quoteId:v,info:u,limits:w,precision:_,active:void 0},E))}return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a.payload,"balances"),s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),f={free:t.safeFloat(c,"available"),used:t.safeFloat(c,"locked"),total:t.safeFloat(c,"total")},s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={book:a.marketId(e)},t.next=5,a.publicGetOrderBook(a.extend(i,r));case 5:return s=t.sent,o=a.safeValue(s,"payload"),c=a.parse8601(a.safeString(o,"updated_at")),t.abrupt("return",a.parseOrderBook(o,c,"bids","asks","price","amount"));case 9:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={book:r.marketId(e)},n.next=5,r.publicGetTicker(r.extend(i,t));case 5:return s=n.sent,o=r.safeValue(s,"payload"),c=r.parse8601(r.safeString(o,"created_at")),u=r.safeFloat(o,"vwap"),d=r.safeFloat(o,"volume"),f=void 0,void 0!==d&&void 0!==u&&(f=d*u),l=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:r.safeFloat(o,"high"),low:r.safeFloat(o,"low"),bid:r.safeFloat(o,"bid"),bidVolume:void 0,ask:r.safeFloat(o,"ask"),askVolume:void 0,vwap:u,open:void 0,close:l,last:l,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:d,quoteVolume:f,info:o});case 14:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"book"),a=this.safeSymbol(n,t,"_"),i=this.safeString2(e,"side","maker_side"),s=this.safeFloat2(e,"amount","major");void 0!==s&&(s=Math.abs(s));var o=void 0,c=this.safeFloat(e,"fees_amount");if(void 0!==c){var u=this.safeString(e,"fees_currency");o={cost:c,currency:this.safeCurrencyCode(u)}}var d=this.safeFloat(e,"minor");void 0!==d&&(d=Math.abs(d));var f=this.safeFloat(e,"price"),l=this.safeString(e,"oid");return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:l,type:void 0,side:i,takerOrMaker:void 0,price:f,amount:s,cost:d,fee:o}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={book:o.id},n.next=6,s.publicGetTrades(s.extend(c,a));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u.payload,o,t,r));case 8:case"end":return n.stop()}}),i)})))()}fetchMyTrades(e,t,r=25,a={}){var s=this;return i(n.mark((function i(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=s.market(e),u="marker"in a,void 0===t||u){n.next=6;break}throw new c(s.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 6:return u&&(a=s.extend(a,{marker:parseInt(a.marker)})),d={book:o.id,limit:r},n.next=10,s.privateGetUserTrades(s.extend(d,a));case 10:return f=n.sent,n.abrupt("return",s.parseTrades(f.payload,o,t,r));case 12:case"end":return n.stop()}}),i)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={book:c.marketId(e),side:r,type:t,major:c.amountToPrecision(e,a)},"limit"===t&&(u.price=c.priceToPrecision(e,s)),n.next=6,c.privatePostOrders(c.extend(u,o));case 6:return d=n.sent,f=c.safeString(d.payload,"oid"),n.abrupt("return",{info:d,id:f});case 9:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={oid:e},t.next=5,a.privateDeleteOrdersOid(a.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({"partial-fill":"open",completed:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"oid"),n=this.safeString(e,"side"),a=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"book"),s=this.safeSymbol(i,t,"_"),o=this.safeString(e,"type"),c=this.parse8601(this.safeString(e,"created_at")),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"original_amount"),f=this.safeFloat(e,"unfilled_amount"),l=void 0;return void 0!==d&&void 0!==f&&(l=d-f),{info:e,id:r,clientOrderId:this.safeString(e,"client_id"),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:s,type:o,timeInForce:void 0,postOnly:void 0,side:n,price:u,stopPrice:void 0,amount:d,cost:void 0,remaining:f,filled:l,status:a,fee:void 0,average:void 0,trades:void 0}}fetchOpenOrders(e,t,r=25,a={}){var s=this;return i(n.mark((function i(){var o,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=s.market(e),u="marker"in a,void 0===t||u){n.next=6;break}throw new c(s.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 6:return u&&(a=s.extend(a,{marker:parseInt(a.marker)})),d={book:o.id,limit:r},n.next=10,s.privateGetOpenOrders(s.extend(d,a));case 10:return f=n.sent,l=s.parseOrders(f.payload,o,t,r),n.abrupt("return",l);case 13:case"end":return n.stop()}}),i)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return t.next=4,a.privateGetOrdersOid({oid:e});case 4:if(r=t.sent,i=a.safeValue(r,"payload"),!Array.isArray(i)){t.next=10;break}if(1!==r.payload.length){t.next=10;break}return t.abrupt("return",a.parseOrder(i[0]));case 10:throw new f(a.id+": The order "+e+" not found.");case 11:case"end":return t.stop()}}),t)})))()}fetchOrderTrades(e,t,r,a,s={}){var o=this;return i(n.mark((function r(){var a,i,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.loadMarkets();case 2:return a=o.market(t),i={oid:e},r.next=6,o.privateGetOrderTradesOid(o.extend(i,s));case 6:return c=r.sent,r.abrupt("return",o.parseTrades(c.payload,a));case 8:case"end":return r.stop()}}),r)})))()}fetchDepositAddress(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={fund_currency:i.id},n.next=6,r.privateGetFundingDestination(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o.payload,"account_identifier"),u=void 0,c.indexOf("?dt=")>=0&&(d=c.split("?dt="),c=r.safeString(d,0),u=r.safeString(d,1)),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:u,info:o});case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,a,s={}){var o=this;return i(n.mark((function i(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(void 0!==(d=e in(u={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"})?u[e]:void 0)){n.next=7;break}throw new c(o.id+" not valid withdraw coin: "+e);case 7:return f={amount:t,address:r,destination_tag:a},l="privatePost"+d+"Withdrawal",n.next=11,o[l](o.extend(f,s));case 11:return h=n.sent,n.abrupt("return",{info:h,id:o.safeString(h.payload,"wid")});case 13:case"end":return n.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(s+="?"+this.urlencode(o));var c=this.urls.api+s;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=[u,r,s].join("");"GET"!==r&&Object.keys(o).length&&(d+=i=this.json(o));var f=this.hmac(this.encode(d),this.encode(this.secret));a={Authorization:"Bitso "+(this.apiKey+":"+u+":"+f),"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&"success"in s){var d=this.safeValue(s,"success",!1);if("string"===typeof d&&(d="true"===d||"1"===d),!d){var f=this.id+" "+this.json(s),l=this.safeValue(s,"error");if(void 0===l)throw new c(f);var h=this.safeString(l,"code");throw this.throwExactlyMatchedException(this.exceptions,h,f),new c(f)}}}request(e,t="public",r="GET",a={},s,o){var u=this;return i(n.mark((function i(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,a,s,o);case 2:if(!("success"in(d=n.sent))){n.next=6;break}if(!d.success){n.next=6;break}return n.abrupt("return",d);case 6:throw new c(u.id+" "+u.json(d));case 7:case"end":return n.stop()}}),i)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.AuthenticationError,u=o.ExchangeError,d=o.NotSupported,f=o.PermissionDenied,l=o.InvalidNonce,h=o.OrderNotFound,p=o.InsufficientFunds,m=o.InvalidAddress,v=o.InvalidOrder,b=o.ArgumentsRequired,g=o.OnMaintenance,y=o.ExchangeNotAvailable;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",userAgent:this.userAgents.chrome,pro:!0,has:{CORS:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchFees:!0,fetchLedger:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:{public:"https://www.bitstamp.net/api",private:"https://www.bitstamp.net/api",v1:"https://www.bitstamp.net/api"},www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"259200"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ohlc/{pair}/","order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","xlm_withdrawal/","xlm_address/","pax_withdrawal/","pax_address/","link_withdrawal/","link_address/","usdc_withdrawal/","usdc_address/","omg_withdrawal/","omg_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["bitcoin_deposit_address/","unconfirmed_btc/","bitcoin_withdrawal/","ripple_withdrawal/","ripple_address/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.005,maker:.005,tiers:{taker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]],maker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:1e-4,LTC:.001,ETH:.001,XRP:.02,XLM:.005,PAX:.5,USD:25,EUR:3},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,XLM:0,PAX:0,USD:7.5,EUR:0}}},exceptions:{exact:{"No permission found":f,"API key not found":c,"IP address not allowed":f,"Invalid nonce":l,"Invalid signature":c,"Authentication failed":c,"Missing key, signature and nonce parameters":c,"Your account is frozen":f,"Please update your profile with your FATCA information, before using API.":f,"Order not found":h,"Price is more than 20% below market price.":v,"Bitstamp.net is under scheduled maintenance.":g,"Order could not be placed.":y},broad:{"Minimum order size is":v,"Check your account balance for details.":p,"Ensure this value has at least":m}}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchMarketsFromCache(e);case 2:for(i=r.sent,s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=u.split("/"),f=a(d,2),l=f[0],h=f[1],p=l.toLowerCase(),m=h.toLowerCase(),l=t.safeCurrencyCode(l),h=t.safeCurrencyCode(h),v=l+"/"+h,b=p+"_"+m,g=t.safeString(c,"url_symbol"),y={amount:c.base_decimals,price:c.counter_decimals},w=c.minimum_order.split(" "),k=w[0],x="Enabled"===c.trading,s.push({id:g,symbol:v,base:l,quote:h,baseId:p,quoteId:m,symbolId:b,info:c,active:x,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:void 0},price:{min:Math.pow(10,-y.price),max:void 0},cost:{min:parseFloat(k),max:void 0}}});return r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}constructCurrencyObject(e,t,r,n,a,i){var s="crypto",o=this.describe();return this.isFiat(t)&&(s="fiat"),{id:e,code:t,info:i,type:s,name:r,active:!0,fee:this.safeFloat(o.fees.funding.withdraw,t),precision:n,limits:{amount:{min:Math.pow(10,-n),max:void 0},price:{min:Math.pow(10,-n),max:void 0},cost:{min:a,max:void 0},withdraw:{min:void 0,max:void 0}}}}fetchMarketsFromCache(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.safeValue(t.options,"fetchMarkets",{}),i=t.safeInteger(a,"timestamp"),s=t.safeInteger(a,"expires",1e3),o=t.milliseconds(),!(void 0===i||o-i>s)){r.next=9;break}return r.next=7,t.publicGetTradingPairsInfo(e);case 7:c=r.sent,t.options.fetchMarkets=t.extend(a,{response:c,timestamp:o});case 9:return r.abrupt("return",t.safeValue(t.options.fetchMarkets,"response"));case 10:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchMarketsFromCache(e);case 2:for(i=r.sent,s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=u.split("/"),f=a(d,2),l=f[0],h=f[1],p=l.toLowerCase(),m=h.toLowerCase(),l=t.safeCurrencyCode(l),h=t.safeCurrencyCode(h),v=t.safeString(c,"description"),b=v.split(" / "),g=a(b,2),y=g[0],w=g[1],k=c.minimum_order.split(" "),x=k[0],l in s||(s[l]=t.constructCurrencyObject(p,l,y,c.base_decimals,void 0,c)),h in s||(s[h]=t.constructCurrencyObject(m,h,w,c.counter_decimals,parseFloat(x),c));return r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={pair:a.marketId(e)},t.next=5,a.publicGetOrderBookPair(a.extend(i,r));case 5:return s=t.sent,o=a.safeInteger(s,"microtimestamp"),c=parseInt(o/1e3),(u=a.parseOrderBook(s,c)).nonce=o,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={pair:r.marketId(e)},n.next=5,r.publicGetTickerPair(r.extend(i,t));case 5:return s=n.sent,o=r.safeTimestamp(s,"timestamp"),c=r.safeFloat(s,"vwap"),u=r.safeFloat(s,"volume"),d=void 0,void 0!==u&&void 0!==c&&(d=u*c),f=r.safeFloat(s,"last"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:r.safeFloat(s,"high"),low:r.safeFloat(s,"low"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:c,open:r.safeFloat(s,"open"),close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:d,info:s});case 13:case"end":return n.stop()}}),a)})))()}getCurrencyIdFromTransaction(e){var t=this.safeStringLower(e,"currency");if(void 0!==t)return t;e=this.omit(e,["fee","price","datetime","type","status","id"]);for(var r=Object.keys(e),n=0;n<r.length;n++){var a=r[n];if(a.indexOf("_")<0){var i=this.safeFloat(e,a);if(void 0!==i&&0!==i)return a}}}getMarketFromTrade(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);var t=Object.keys(e),r=t.length;if(r>2)throw new u(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===r){var n=t[0]+t[1];if(n in this.markets_by_id)return this.markets_by_id[n];if((n=t[1]+t[0])in this.markets_by_id)return this.markets_by_id[n]}}getMarketFromTrades(e){var t=this.indexBy(e,"symbol"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}parseTrade(e,t){var r=this.safeString2(e,"id","tid"),n=void 0,a=void 0,i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=this.safeString(e,"order_id"),c=this.safeFloat(e,"cost");if(void 0===t){for(var u=Object.keys(e),d=0;d<u.length;d++)if(u[d].indexOf("_")>=0){var f=u[d].replace("_","");f in this.markets_by_id&&(t=this.markets_by_id[f])}void 0===t&&(t=this.getMarketFromTrade(e))}var l=this.safeFloat(e,"fee"),h=void 0;void 0!==t&&(i=this.safeFloat(e,t.symbolId,i),s=this.safeFloat(e,t.baseId,s),c=this.safeFloat(e,t.quoteId,c),h=t.quote,n=t.symbol);var p=this.safeString2(e,"date","datetime");void 0!==p&&(p.indexOf(" ")>=0?p=this.parse8601(p):(p=parseInt(p),p*=1e3)),"id"in e?void 0!==s&&(s<0?(a="sell",s=-s):a="buy"):"1"===(a=this.safeString(e,"type"))?a="sell":"0"===a&&(a="buy"),void 0===c&&void 0!==i&&void 0!==s&&(c=i*s),void 0!==c&&(c=Math.abs(c));var m=void 0;return void 0!==l&&(m={cost:l,currency:h}),{id:r,info:e,timestamp:p,datetime:this.iso8601(p),symbol:n,order:o,type:void 0,side:a,takerOrMaker:void 0,price:i,amount:s,cost:c,fee:m}}parseTradingFee(e,t){var r=this.market(t),n=this.safeFloat(e,r.id+"_fee");return{symbol:t,maker:n,taker:n}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id,time:"hour"},n.next=6,s.publicGetTransactionsPair(s.extend(c,a));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,a,s={}){var o=this;return i(n.mark((function i(){var c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),u={pair:c.id,step:o.timeframes[t]},d=o.parseTimeframe(t),void 0!==a){n.next=17;break}if(void 0!==r){n.next=10;break}throw new b(o.id+" fetchOHLCV() requires a since argument or a limit argument");case 10:a=1e3,f=parseInt(r/1e3),u.start=f,u.end=o.sum(f,a*d),u.limit=a;case 15:n.next=19;break;case 17:void 0!==r&&(l=parseInt(r/1e3),u.start=l,u.end=o.sum(l,a*d)),u.limit=Math.min(a,1e3);case 19:return n.next=21,o.publicGetOhlcPair(o.extend(u,s));case 21:return h=n.sent,p=o.safeValue(h,"data",{}),m=o.safeValue(p,"ohlc",[]),n.abrupt("return",o.parseOHLCVs(m,c,t,r,a));case 25:case"end":return n.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.currency(c),d=u.id,(f=t.account()).free=t.safeFloat(a,d+"_available"),f.used=t.safeFloat(a,d+"_reserved"),f.total=t.safeFloat(a,d+"_balance"),i[c]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchTradingFee(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s="privatePostBalance",o=void 0,void 0!==e&&(o=r.market(e),i.pair=o.id,s+="Pair"),n.next=8,r[s](r.extend(i,t));case 8:return c=n.sent,n.abrupt("return",{info:c,symbol:e,maker:c.fee,taker:c.fee});case 10:case"end":return n.stop()}}),a)})))()}praseTradingFees(e){for(var t={info:e},r=Object.keys(this.markets),n=0;n<r.length;n++){var a=r[n],i=this.parseTradingFee(e,a);t[a]=i}return t}fetchTradingFees(e={}){var t=this;return i(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:return a=r.sent,r.abrupt("return",t.praseTradingFees(a));case 6:case"end":return r.stop()}}),r)})))()}parseFundingFees(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++){var a=r[n];if(a.indexOf("_withdrawal_fee")>=0){var i=a.split("_")[0];t[this.safeCurrencyCode(i)]=this.safeFloat(e,a)}}return{info:e,withdraw:t,deposit:{}}}fetchFundingFees(e={}){var t=this;return i(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:return a=r.sent,r.abrupt("return",t.parseFundingFees(a));case 6:case"end":return r.stop()}}),r)})))()}fetchFees(e={}){var t=this;return i(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:return a=r.sent,delete(i=t.praseTradingFees(a)).info,delete(s=t.parseFundingFees(a)).info,r.abrupt("return",{info:a,trading:i,funding:s});case 10:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d="privatePost"+c.capitalize(r),f={pair:u.id,amount:c.amountToPrecision(e,a)},"market"===t?d+="Market":"instant"===t?d+="Instant":f.price=c.priceToPrecision(e,s),d+="Pair",n.next=9,c[d](c.extend(f,o));case 9:return l=n.sent,h=c.parseOrder(l,u),n.abrupt("return",c.extend(h,{type:t}));case 12:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={id:e},t.next=5,a.privatePostCancelOrder(a.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}fetchOrderStatus(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={id:e},t.next=5,a.privatePostOrderStatus(a.extend(i,r));case 5:return s=t.sent,t.abrupt("return",a.parseOrderStatus(a.safeString(s,"status")));case 7:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=void 0,void 0!==t&&(s=a.market(t)),o={id:e},n.next=7,a.privatePostOrderStatus(a.extend(o,r));case 7:return c=n.sent,n.abrupt("return",a.parseOrder(c,s));case 9:case"end":return n.stop()}}),i)})))()}fetchMyTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c="privatePostUserTransactions",u=void 0,void 0!==e&&(u=s.market(e),o.pair=u.id,c+="Pair"),void 0!==r&&(o.limit=r),n.next=9,s[c](s.extend(o,a));case 9:return d=n.sent,f=s.filterBy(d,"type","2"),n.abrupt("return",s.parseTrades(f,u,t,r));case 12:case"end":return n.stop()}}),i)})))()}fetchTransactions(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.limit=r),n.next=6,s.privatePostUserTransactions(s.extend(o,a));case 6:return c=n.sent,u=void 0,void 0!==e&&(u=s.currency(e)),d=s.filterByArray(c,"type",["0","1"],!1),n.abrupt("return",s.parseTransactions(d,u,t,r));case 11:case"end":return n.stop()}}),i)})))()}fetchWithdrawals(e,t,r,a={}){var s=this;return i(n.mark((function e(){var i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return(i={}).timedelta=void 0!==t?s.milliseconds()-t:5e7,e.next=6,s.privatePostWithdrawalRequests(s.extend(i,a));case 6:return o=e.sent,e.abrupt("return",s.parseTransactions(o,void 0,t,r));case 8:case"end":return e.stop()}}),e)})))()}parseTransaction(e,t){var r=this.parse8601(this.safeString(e,"datetime")),n=this.safeString(e,"id"),a=this.getCurrencyIdFromTransaction(e),i=this.safeCurrencyCode(a,t),s=this.safeFloat(e,"fee"),o=void 0,c=void 0;"amount"in e?c=this.safeFloat(e,"amount"):void 0!==t?(c=this.safeFloat(e,t.id,c),o=t.code):void 0!==i&&void 0!==a&&(c=this.safeFloat(e,a,c),o=i),void 0!==c&&(c=Math.abs(c));var u="ok";"status"in e&&(u=this.parseTransactionStatus(this.safeString(e,"status")));var d=void 0;if("type"in e){var f=this.safeString(e,"type");"0"===f?d="deposit":"1"===f&&(d="withdrawal")}else d="withdrawal";var l=this.safeString(e,"transaction_id"),h=void 0,p=this.safeString(e,"address");if(void 0!==p){var m=p.split("?dt=");m.length>1&&(p=m[0],h=m[1])}var v=p,b=h,g=void 0;return void 0!==s&&(g={currency:o,cost:s,rate:void 0}),{info:e,id:n,txid:l,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,addressTo:v,address:p,tagFrom:void 0,tagTo:b,tag:h,type:d,amount:c,currency:i,status:u,updated:void 0,fee:g}}parseTransactionStatus(e){return this.safeString({0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"type");void 0!==n&&(n="1"===n?"sell":"buy");var a=this.parse8601(this.safeString(e,"datetime")),i=void 0,s=void 0,o=this.safeStringLower(e,"currency_pair");void 0!==o&&(o=o.replace("/",""))in this.markets_by_id&&(s=(t=this.markets_by_id[o]).symbol);var c=this.safeFloat(e,"amount"),u=0,d=[],f=this.safeValue(e,"transactions",[]),l=void 0,h=void 0,p=f.length;if(p>0){l=0;for(var m=0;m<p;m++){var v=this.parseTrade(this.extend({order_id:r,side:n},f[m]),t);u=this.sum(u,v.amount),l=this.sum(l,v.fee.cost),void 0===h&&(h=0),h=this.sum(h,v.cost),d.push(v)}i=d[p-1].timestamp}var b=this.parseOrderStatus(this.safeString(e,"status"));"closed"===b&&void 0===c&&(c=u);var g=void 0;void 0!==c&&(g=c-u);var y=this.safeFloat(e,"price");void 0===t&&(t=this.getMarketFromTrades(d));var w=void 0;void 0!==t&&(void 0===s&&(s=t.symbol),w=t.quote),void 0===h?void 0!==y&&(h=y*u):void 0===y&&u>0&&(y=h/u);var k=void 0;return void 0!==l&&void 0!==w&&(k={cost:l,currency:w}),{id:r,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:i,status:b,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:n,price:y,stopPrice:void 0,cost:h,amount:c,filled:u,remaining:g,trades:d,fee:k,info:e,average:void 0}}parseLedgerEntryType(e){return this.safeString({0:"transaction",1:"transaction",2:"trade",14:"transfer"},e,e)}parseLedgerEntry(e,t){var r=this.parseLedgerEntryType(this.safeString(e,"type"));if("trade"===r){for(var n=this.parseTrade(e),a=void 0,i=Object.keys(e),s=0;s<i.length;s++)if(i[s].indexOf("_")>=0){var o=i[s].replace("_","");o in this.markets_by_id&&(a=this.markets_by_id[o])}void 0===a&&(a=this.getMarketFromTrade(e));var c="buy"===n.side?"in":"out";return{id:n.id,info:e,timestamp:n.timestamp,datetime:n.datetime,direction:c,account:void 0,referenceId:n.order,referenceAccount:void 0,type:r,currency:a.base,amount:n.amount,before:void 0,after:void 0,status:"ok",fee:n.fee}}var u=this.parseTransaction(e),d=void 0;if("amount"in e)d=this.safeFloat(e,"amount")>0?"in":"out";else if("currency"in u&&void 0!==u.currency){var f=this.currencyId(u.currency);d=this.safeFloat(e,f)>0?"in":"out"}return{id:u.id,info:e,timestamp:u.timestamp,datetime:u.datetime,direction:d,account:void 0,referenceId:u.txid,referenceAccount:void 0,type:r,currency:u.currency,amount:u.amount,before:void 0,after:void 0,status:u.status,fee:u.fee}}fetchLedger(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.limit=r),n.next=6,s.privatePostUserTransactions(s.extend(o,a));case 6:return c=n.sent,u=void 0,void 0!==e&&(u=s.currency(e)),n.abrupt("return",s.parseLedger(c,u,t,r));case 10:case"end":return n.stop()}}),i)})))()}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=void 0,n.next=3,s.loadMarkets();case 3:return void 0!==e&&(o=s.market(e)),n.next=6,s.privatePostOpenOrdersAll(a);case 6:return c=n.sent,n.abrupt("return",s.parseOrders(c,o,t,r,{status:"open",type:"limit"}));case 8:case"end":return n.stop()}}),i)})))()}getCurrencyName(e){return"BTC"===e?"bitcoin":e.toLowerCase()}isFiat(e){return"USD"===e||"EUR"===e||"GBP"===e}fetchDepositAddress(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isFiat(e)){n.next=2;break}throw new d(r.id+" fiat fetchDepositAddress() for "+e+" is not supported!");case 2:return i=r.getCurrencyName(e),o=(s="BTC"===e)?"v1":"private",o+="Post"+r.capitalize(i),o+=s?"Deposit":"",o+="Address",n.next=10,r[o](t);case 10:return c=n.sent,s&&(c=JSON.parse(c)),u=s?c:r.safeString(c,"address"),f=s?void 0:r.safeString2(c,"memo_id","destination_tag"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:f,info:c});case 16:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,a,s={}){var o=this;return i(n.mark((function i(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return o.checkAddress(r),c={amount:t},u=void 0,o.isFiat(e)?(u="privatePostWithdrawalOpen",f=o.currency(e),c.iban=r,c.account_currency=f.id):(d=o.getCurrencyName(e),u="BTC"===e?"v1":"private",u+="Post"+o.capitalize(d)+"Withdrawal","XRP"===e&&void 0!==a&&(c.destination_tag=a),c.address=r),n.next=8,o[u](o.extend(c,s));case 8:return l=n.sent,n.abrupt("return",{info:l,id:l.id});case 10:case"end":return n.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/";"v1"!==t&&(s+=this.version+"/"),s+=this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else if(this.checkRequiredCredentials(),"v1"===this.safeValue(this.options,"auth","v2")||"v1"===t){var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(u),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o),i=this.urlencode(o),a={"Content-Type":"application/x-www-form-urlencoded"}}else{var f="BITSTAMP "+this.apiKey,l=this.uuid(),h=this.milliseconds().toString(),p="";a={"X-Auth":f,"X-Auth-Nonce":l,"X-Auth-Timestamp":h,"X-Auth-Version":"v2"},"POST"===r&&(Object.keys(o).length?(i=this.urlencode(o),p="application/x-www-form-urlencoded",a["Content-Type"]=p):(i=this.urlencode({foo:"bar"}),p="application/x-www-form-urlencoded",a["Content-Type"]=p));var m=i||"",v=f+r+s.replace("https://","")+p+l+h+"v2"+m,b=this.hmac(this.encode(v),this.encode(this.secret));a["X-Auth-Signature"]=b}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,d){if(void 0!==s){var f=this.safeString(s,"status"),l=this.safeValue(s,"error");if("error"===f||void 0!==l){var h=[];if("string"===typeof l)h.push(l);else if(void 0!==l)for(var p=Object.keys(l),m=0;m<p.length;m++){var v=p[m],b=this.safeValue(l,v);Array.isArray(b)?h=this.arrayConcat(h,b):h.push(b)}var g=this.safeValue(s,"reason",{});if("string"===typeof g)h.push(g);else for(var y=this.safeValue(g,"__all__",[]),w=0;w<y.length;w++)h.push(y[w]);if("API0005"===this.safeString(s,"code"))throw new c(this.id+" invalid signature, use the uid for the main account if you have subaccounts");for(var k=this.id+" "+i,x=0;x<h.length;x++){var _=h[x];this.throwExactlyMatchedException(this.exceptions.exact,_,k),this.throwBroadlyMatchedException(this.exceptions.broad,_,k)}throw new u(k)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.ExchangeError,u=s.NotSupported;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitstamp1",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrder:!1,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.005,taker:.005},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",maker:.005,taker:.005},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",baseId:"eur",quoteId:"usd",maker:.005,taker:.005},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"xrp",quoteId:"usd",maker:.005,taker:.005},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"xrp",quoteId:"eur",maker:.005,taker:.005},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",maker:.005,taker:.005},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"ltc",quoteId:"usd",maker:.005,taker:.005},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"ltc",quoteId:"eur",maker:.005,taker:.005},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.005,taker:.005},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"eth",quoteId:"usd",maker:.005,taker:.005},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"eth",quoteId:"eur",maker:.005,taker:.005},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.005,taker:.005}}})}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BTC/USD"===e){t.next=2;break}throw new c(i.id+" "+i.version+" fetchOrderBook doesn't support "+e+", use it for BTC/USD only");case 2:return t.next=4,i.loadMarkets();case 4:return t.next=6,i.publicGetOrderBook(r);case 6:return a=t.sent,s=i.safeTimestamp(a,"timestamp"),t.abrupt("return",i.parseOrderBook(a,s));case 9:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("BTC/USD"===e){n.next=2;break}throw new c(r.id+" "+r.version+" fetchTicker doesn't support "+e+", use it for BTC/USD only");case 2:return n.next=4,r.loadMarkets();case 4:return n.next=6,r.publicGetTicker(t);case 6:return i=n.sent,s=r.safeTimestamp(i,"timestamp"),o=r.safeFloat(i,"vwap"),u=r.safeFloat(i,"volume"),d=void 0,void 0!==u&&void 0!==o&&(d=u*o),f=r.safeFloat(i,"last"),n.abrupt("return",{symbol:e,timestamp:s,datetime:r.iso8601(s),high:r.safeFloat(i,"high"),low:r.safeFloat(i,"low"),bid:r.safeFloat(i,"bid"),bidVolume:void 0,ask:r.safeFloat(i,"ask"),askVolume:void 0,vwap:o,open:r.safeFloat(i,"open"),close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:d,info:i});case 14:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp2(e,"date","datetime"),n=0===e.type?"buy":"sell",a=this.safeString(e,"order_id");"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]);var i=this.safeString(e,"tid"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;void 0!==s&&void 0!==o&&(c=s*o);var u=void 0;return void 0!==t&&(u=t.symbol),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:u,order:a,type:void 0,side:n,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("BTC/USD"===e){n.next=2;break}throw new o(s.id+" "+s.version+" fetchTrades doesn't support "+e+", use it for BTC/USD only");case 2:return n.next=4,s.loadMarkets();case 4:return c=s.market(e),u={time:"minute"},n.next=8,s.publicGetTransactions(s.extend(u,i));case 8:return d=n.sent,n.abrupt("return",s.parseTrades(d,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privatePostBalance(e);case 2:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.currency(c),d=u.id,(f=t.account()).free=t.safeFloat(a,d+"_available"),f.used=t.safeFloat(a,d+"_reserved"),f.total=t.safeFloat(a,d+"_balance"),i[c]=f;return r.abrupt("return",t.parseBalance(i));case 7:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new c(u.id+" "+u.version+" accepts limit orders only");case 2:if("BTC/USD"===e){n.next=4;break}throw new c(u.id+" v1 supports BTC/USD orders only");case 4:return n.next=6,u.loadMarkets();case 6:return d="privatePost"+u.capitalize(r),f={amount:i,price:s},n.next=10,u[d](u.extend(f,o));case 10:return l=n.sent,h=u.safeString(l,"id"),n.abrupt("return",{info:l,id:h});case 13:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.privatePostCancelOrder({id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}fetchOrderStatus(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostOrderStatus(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderStatus(s));case 7:case"end":return t.stop()}}),t)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),c=o?o.id:"all",u={id:c},n.next=8,s.privatePostOpenOrdersId(s.extend(u,i));case 8:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new u(i.id+" fetchOrder is not implemented yet");case 1:case"end":return e.stop()}}),e)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(u),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o),i=this.urlencode(o),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,o){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,o);case 2:if(!("status"in(d=n.sent))){n.next=6;break}if("error"!==d.status){n.next=6;break}throw new c(u.id+" "+u.json(d));case 6:return n.abrupt("return",d);case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.BadSymbol,u=o.ExchangeError,d=o.ExchangeNotAvailable,f=o.AuthenticationError,l=o.InvalidOrder,h=o.InsufficientFunds,p=o.OrderNotFound,m=o.DDoSProtection,v=o.PermissionDenied,b=o.AddressPending,g=o.OnMaintenance,y=o.BadRequest,w=o.InvalidAddress,k=r(16),x=k.TRUNCATE,_=k.DECIMAL_PLACES;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v3",rateLimit:1500,certified:!0,pro:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOrder:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"MINUTE_1","5m":"MINUTE_5","1h":"HOUR_1","1d":"DAY_1"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87153921-edf53180-c2c0-11ea-96b9-f2a9a95a455b.jpg",api:{public:"https://api.bittrex.com",private:"https://api.bittrex.com"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/v3"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"],referral:"https://bittrex.com/Account/Register?referralCode=1ZE-G0G-M3B"},api:{public:{get:["ping","currencies","currencies/{symbol}","markets","markets/tickers","markets/summaries","markets/{marketSymbol}","markets/{marketSymbol}/summary","markets/{marketSymbol}/orderbook","markets/{marketSymbol}/trades","markets/{marketSymbol}/ticker","markets/{marketSymbol}/candles/{candleInterval}/recent","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}/{day}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}"]},private:{get:["account","account/volume","addresses","addresses/{currencySymbol}","balances","balances/{currencySymbol}","deposits/open","deposits/closed","deposits/ByTxId/{txId}","deposits/{depositId}","orders/closed","orders/open","orders/{orderId}","orders/{orderId}/executions","ping","subaccounts/{subaccountId}","subaccounts","withdrawals/open","withdrawals/closed","withdrawals/ByTxId/{txId}","withdrawals/{withdrawalId}","withdrawals/whitelistAddresses","conditional-orders/{conditionalOrderId}","conditional-orders/closed","conditional-orders/open","transfers/sent","transfers/received","transfers/{transferId}"],post:["addresses","orders","subaccounts","withdrawals","conditional-orders","transfers"],delete:["orders/open","orders/{orderId}","withdrawals/{withdrawalId}","conditional-orders/{conditionalOrderId}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0035,taker:.0035},funding:{tierBased:!1,percentage:!1}},exceptions:{exact:{BAD_REQUEST:y,STARTDATE_OUT_OF_RANGE:y,APISIGN_NOT_PROVIDED:f,INVALID_SIGNATURE:f,INVALID_CURRENCY:u,INVALID_PERMISSION:f,INSUFFICIENT_FUNDS:h,INVALID_CEILING_MARKET_BUY:l,INVALID_FIAT_ACCOUNT:l,INVALID_ORDER_TYPE:l,QUANTITY_NOT_PROVIDED:l,MIN_TRADE_REQUIREMENT_NOT_MET:l,ORDER_NOT_OPEN:p,INVALID_ORDER:l,UUID_INVALID:p,RATE_NOT_PROVIDED:l,INVALID_MARKET:c,WHITELIST_VIOLATION_IP:v,DUST_TRADE_DISALLOWED_MIN_VALUE:l,RESTRICTED_MARKET:c,"We are down for scheduled maintenance, but we\u2019ll be back up shortly.":g},broad:{throttled:m,problem:d}},options:{fetchTicker:{method:"publicGetMarketsMarketSymbolTicker"},fetchTickers:{method:"publicGetMarketsTickers"},parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0},subaccountId:void 0,fetchClosedOrdersFilterBySince:!0},commonCurrencies:{REPV2:"REP"}})}costToPrecision(e,t){return this.decimalToPrecision(t,x,this.markets[e].precision.price,_)}feeToPrecision(e,t){return this.decimalToPrecision(t,x,this.markets[e].precision.price,_)}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(n=r.sent,i=[],s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"baseCurrencySymbol"),u=t.safeString(o,"quoteCurrencySymbol"),d=t.safeString(o,"symbol"),f=t.safeCurrencyCode(c),l=t.safeCurrencyCode(u),h=f+"/"+l,p=t.safeInteger(o,"precision",8),m={amount:8,price:p},v=t.safeString(o,"status"),b="ONLINE"===v,i.push({id:d,symbol:h,base:f,quote:l,baseId:c,quoteId:u,active:b,info:o,precision:m,limits:{amount:{min:t.safeFloat(o,"minTradeSize"),max:void 0},price:{min:1/Math.pow(10,m.price),max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalances(e);case 4:for(n=r.sent,i={info:n},s=t.indexBy(n,"currencySymbol"),o=Object.keys(s),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.account(),l=s[u],f.free=t.safeFloat(l,"available"),f.total=t.safeFloat(l,"total"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(s={marketSymbol:n.marketId(e)},void 0===t){a.next=7;break}if(1===t||25===t||500===t){a.next=6;break}throw new y(n.id+" fetchOrderBook() limit argument must be undefined, 1, 25 or 500, default is 25");case 6:s.depth=t;case 7:return a.next=9,n.publicGetMarketsMarketSymbolOrderbook(n.extend(s,r));case 9:return o=a.sent,c=n.safeInteger(n.last_response_headers,"Sequence"),(u=n.parseOrderBook(o,void 0,"bid","ask","rate","quantity")).nonce=c,a.abrupt("return",u);case 14:case"end":return a.stop()}}),i)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(n=r.sent,i={},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),8,d=t.safeFloat(o,"txFee"),f=t.safeString(o,"status"),i[u]={id:c,code:u,address:t.safeString(o,"baseAddress"),info:o,type:t.safeString(o,"coinType"),name:t.safeString(o,"name"),active:"ONLINE"===f,fee:d,precision:8,limits:{amount:{min:1/Math.pow(10,8),max:void 0},price:{min:1/Math.pow(10,8),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:d,max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"updatedAt")),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t,"-"),i=this.safeFloat(e,"percentChange"),s=this.safeFloat(e,"lastTradeRate");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidRate"),bidVolume:void 0,ask:this.safeFloat(e,"askRate"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:i,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeValue(r.options,"fetchTickers",{}),s=r.safeString(i,"method","publicGetMarketsTickers"),o=r.safeString(t,"method",s),t=r.omit(t,"method"),n.next=8,r[o](t);case 8:for(c=n.sent,u=[],d=0;d<c.length;d++)f=r.parseTicker(c[d]),u.push(f);return n.abrupt("return",r.filterByArray(u,"symbol",e));case 12:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={marketSymbol:i.id},o=r.safeValue(r.options,"fetchTicker",{}),c=r.safeString(o,"method","publicGetMarketsMarketSymbolTicker"),u=r.safeString(t,"method",c),t=r.omit(t,"method"),n.next=10,r[u](r.extend(s,t));case 10:return d=n.sent,n.abrupt("return",r.parseTicker(d,i));case 12:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"executedAt")),n=this.safeString(e,"id"),a=this.safeString(e,"orderId"),i=this.safeString(e,"marketSymbol");t=this.safeMarket(i,t,"-");var s=void 0,o=this.safeFloat(e,"rate"),c=this.safeFloat(e,"quantity");void 0!==c&&void 0!==o&&(s=o*c);var u=void 0,d=this.safeValue(e,"isTaker");void 0!==d&&(u=d?"taker":"maker");var f=void 0,l=this.safeFloat(e,"commission");void 0!==l&&(f={cost:l,currency:t.quote});var h=this.safeStringLower(e,"takerSide");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:n,order:a,takerOrMaker:u,type:void 0,side:h,price:o,amount:c,cost:s,fee:f}}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPing(e);case 2:return n=r.sent,r.abrupt("return",t.safeInteger(n,"serverTime"));case 4:case"end":return r.stop()}}),r)})))()}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={marketSymbol:s.marketId(e)},a.next=6,s.publicGetMarketsMarketSymbolTrades(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"startsAt")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u=c.baseId+"-"+c.quoteId,d={candleInterval:o.timeframes[t],marketSymbol:u},f="publicGetMarketsMarketSymbolCandlesCandleIntervalRecent",void 0!==r&&(l=o.milliseconds(),h=Math.abs(l-r),p=o.ymd(r),m=p.split("-"),v=o.safeInteger(m,0),b=o.safeInteger(m,1),g=o.safeInteger(m,2),"1d"===t?h>316224e5&&(f="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYear",d.year=v):"1h"===t?h>26784e5&&(f="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonth",d.year=v,d.month=b):h>864e5&&(f="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonthDay",d.year=v,d.month=b,d.day=g)),a.next=9,o[f](o.extend(d,s));case 9:return y=a.sent,a.abrupt("return",o.parseOHLCVs(y,c,t,r,n));case 11:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.marketSymbol=c.id),a.next=7,s.privateGetOrdersOpen(s.extend(o,n));case 7:return u=a.sent,a.abrupt("return",s.parseOrders(u,c,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={orderId:e},a.next=5,o.privateGetOrdersOrderIdExecutions(o.extend(c,s));case 5:return u=a.sent,d=void 0,void 0!==t&&(d=o.market(t)),a.abrupt("return",o.parseTrades(u,d,r,n));case 9:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.market(e),d=t.toUpperCase(),f=u.baseId+"-"+u.quoteId,l={marketSymbol:f,direction:r.toUpperCase(),type:d},p="CEILING_MARKET"===d,(h="CEILING_LIMIT"===d)||p?(m=void 0,h?(l.limit=c.priceToPrecision(e,s),m=c.safeFloat2(o,"ceiling","cost",n)):p&&void 0===(m=c.safeFloat2(o,"ceiling","cost"))&&(m=void 0===s?n:n*s),o=c.omit(o,["ceiling","cost"]),l.ceiling=c.costToPrecision(e,m),l.timeInForce="IMMEDIATE_OR_CANCEL"):(l.quantity=c.amountToPrecision(e,n),"LIMIT"===d?(l.limit=c.priceToPrecision(e,s),l.timeInForce="GOOD_TIL_CANCELLED"):l.timeInForce="IMMEDIATE_OR_CANCEL"),a.next=12,c.privatePostOrders(c.extend(l,o));case 12:return v=a.sent,a.abrupt("return",c.parseOrder(v,u));case 14:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={orderId:e},t.next=5,n.privateDeleteOrdersOrderId(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.extend(n.parseOrder(s),{id:e,info:s,status:"canceled"}));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.marketSymbol=s.id),n.next=7,r.privateDeleteOrdersOpen(r.extend(i,t));case 7:for(o=n.sent,c=[],u=0;u<o.length;u++)d=r.safeValue(o[u],"result",{}),c.push(d);return n.abrupt("return",r.parseOrders(c,s));case 11:case"end":return n.stop()}}),n)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function t(){var i,o,c;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.loadMarkets();case 2:return i={},o=void 0,void 0!==e&&(o=s.currency(e),i.currencySymbol=o.id),t.next=7,s.privateGetDepositsClosed(s.extend(i,n));case 7:return c=t.sent,t.abrupt("return",s.parseTransactions(c,o,void 0,r));case 9:case"end":return t.stop()}}),t)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currencySymbol=c.id),a.next=7,s.privateGetWithdrawalsClosed(s.extend(o,n));case 7:return u=a.sent,a.abrupt("return",s.parseTransactions(u,c,t,r));case 9:case"end":return a.stop()}}),i)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeFloat(e,"quantity"),a=this.safeString(e,"cryptoAddress"),i=this.safeString(e,"txId"),s=this.parse8601(this.safeString(e,"updatedAt")),o=this.parse8601(this.safeString(e,"createdAt")),c=o||s,u=void 0===o?"deposit":"withdrawal",d=this.safeString(e,"currencySymbol"),f=this.safeCurrencyCode(d,t),l="pending";if("deposit"===u)l="ok";else{var h=this.safeString(e,"status");"ERROR_INVALID_ADDRESS"===h?l="failed":"CANCELLED"===h?l="canceled":"PENDING"===h?l="pending":("COMPLETED"===h||"AUTHORIZED"===h&&void 0!==i)&&(l="ok")}var p=this.safeFloat(e,"txCost");return void 0===p&&"deposit"===u&&(p=0),{info:e,id:r,currency:f,amount:n,address:a,tag:void 0,status:l,type:u,updated:s,txid:i,timestamp:c,datetime:this.iso8601(c),fee:{currency:f,cost:p}}}parseTimeInForce(e){return this.safeString({GOOD_TIL_CANCELLED:"GTC",IMMEDIATE_OR_CANCEL:"IOC",FILL_OR_KILL:"FOK",POST_ONLY_GOOD_TIL_CANCELLED:"PO"},e,e)}parseOrder(e,t){var r=this.safeString(e,"marketSymbol"),a=void 0,i=void 0;if(void 0!==r){var s=r.split("-"),o=n(s,2),c=o[0],u=o[1],d=this.safeCurrencyCode(c),f=this.safeCurrencyCode(u);a=d+"/"+f,i=f}var l=this.safeStringLower(e,"direction"),h=this.safeString(e,"createdAt"),p=this.safeString(e,"updatedAt"),m=this.safeString(e,"closedAt"),v=void 0;void 0!==m?v=this.parse8601(m):p&&(v=this.parse8601(p));var b=this.parse8601(h),g=this.safeStringLower(e,"type"),y=this.safeFloat(e,"quantity"),w=this.safeFloat(e,"limit"),k=this.safeFloat(e,"fillQuantity"),x=this.safeFloat(e,"commission"),_=this.safeFloat(e,"proceeds"),S=void 0,T=void 0;void 0!==k&&(void 0!==_&&(k>0?S=_/k:0===_&&(S=0)),void 0!==y&&(T=y-k));var O=this.safeStringLower(e,"status");"closed"===O&&void 0!==T&&T>0&&(O="canceled");var A=this.parseTimeInForce(this.safeString(e,"timeInForce")),M="PO"===A;return{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:b,datetime:this.iso8601(b),lastTradeTimestamp:v,symbol:a,type:g,timeInForce:A,postOnly:M,side:l,price:w,stopPrice:void 0,cost:_,average:S,amount:y,filled:k,remaining:T,status:O,fee:{cost:x,currency:i},info:e,trades:void 0}}parseOrders(e,t,r,n,a={}){return this.options.fetchClosedOrdersFilterBySince?super.parseOrders(e,t,r,n,a):super.parseOrders(e,t,void 0,n,a)}parseOrderStatus(e){return this.safeString({CLOSED:"closed",OPEN:"open",CANCELLED:"canceled",CANCELED:"canceled"},e,e)}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=void 0,t.prev=3,s={orderId:e},t.next=7,n.privateGetOrdersOrderId(n.extend(s,r));case 7:i=t.sent,t.next=17;break;case 10:if(t.prev=10,t.t0=t.catch(3),!n.last_json_response){t.next=16;break}if("UUID_INVALID"!==n.safeString(n.last_json_response,"message")){t.next=16;break}throw new p(n.id+" fetchOrder() error: "+n.last_http_response);case 16:throw t.t0;case 17:return t.abrupt("return",n.parseOrder(i));case 18:case"end":return t.stop()}}),t,null,[[3,10]])})))()}orderToTrade(e){var t=this.safeInteger2(e,"lastTradeTimestamp","timestamp");return{id:this.safeString(e,"id"),side:this.safeString(e,"side"),order:this.safeString(e,"id"),type:this.safeString(e,"type"),price:this.safeFloat(e,"average"),amount:this.safeFloat(e,"filled"),cost:this.safeFloat(e,"cost"),symbol:this.safeString(e,"symbol"),timestamp:t,datetime:this.iso8601(t),fee:this.safeValue(e,"fee"),info:e,takerOrMaker:void 0}}ordersToTrades(e){for(var t=[],r=0;r<e.length;r++)t.push(this.orderToTrade(e[r]));return t}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.pageSize=r),void 0!==t&&(o.startDate=s.ymdhms(t,"T")+"Z"),c=void 0,void 0!==e&&(c=s.market(e),o.marketSymbol=c.base+"-"+c.quote),a.next=9,s.privateGetOrdersClosed(s.extend(o,n));case 9:return u=a.sent,d=s.parseOrders(u,c),f=s.ordersToTrades(d),a.abrupt("return",s.filterBySymbolSinceLimit(f,e,t,r));case 13:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.pageSize=r),void 0!==t&&(o.startDate=s.ymdhms(t,"T")+"Z"),c=void 0,void 0!==e&&(c=s.market(e),o.marketSymbol=c.base+"-"+c.quote),a.next=9,s.privateGetOrdersClosed(s.extend(o,n));case 9:return u=a.sent,a.abrupt("return",s.parseOrders(u,c,t,r));case 11:case"end":return a.stop()}}),i)})))()}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currencySymbol:i.id},n.next=6,r.privatePostAddresses(r.extend(s,t));case 6:if(o=n.sent,c=r.safeString(o,"cryptoAddress"),u=r.safeString(o,"status"),c&&"REQUESTED"!==u){n.next=11;break}throw new b(r.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");case 11:return void 0===(d=r.safeString(o,"cryptoAddressTag"))&&i.type in r.options.tag&&(d=c,c=i.address),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:d,info:o});case 15:case"end":return n.stop()}}),n)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currencySymbol:i.id},n.next=6,r.privateGetAddressesCurrencySymbol(r.extend(s,t));case 6:if(o=n.sent,c=r.safeString(o,"cryptoAddress"),u=r.safeString(o,"status"),c&&"REQUESTED"!==u){n.next=11;break}throw new b(r.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");case 11:return void 0===(d=r.safeString(o,"cryptoAddressTag"))&&i.type in r.options.tag&&(d=c,c=i.address),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:d,info:o});case 15:case"end":return n.stop()}}),n)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currencySymbol:c.id,quantity:t,cryptoAddress:r},void 0!==n&&(u.cryptoAddressTag=n),a.next=8,o.privatePostWithdrawals(o.extend(u,s));case 8:return d=a.sent,f=o.safeString(d,"id"),a.abrupt("return",{info:d,id:f});case 11:case"end":return a.stop()}}),i)})))()}sign(e,t="v3",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("private"===t){s+=this.version+"/",this.checkRequiredCredentials(),s+=this.implodeParams(e,n),n=this.omit(n,this.extractParams(e));var o="";"POST"===r?o=i=this.json(n):Object.keys(n).length&&(s+="?"+this.rawencode(n));var c=this.hash(this.encode(o),"sha512","hex"),u=this.milliseconds().toString(),d=u+s+r+c,f=this.safeValue(this.options,"subaccountId");void 0!==f&&(d+=f);var l=this.hmac(this.encode(d),this.encode(this.secret),"sha512");a={"Api-Key":this.apiKey,"Api-Timestamp":u,"Api-Content-Hash":c,"Api-Signature":l},void 0!==f&&(a["Api-Subaccount-Id"]=f),"POST"===r&&(a["Content-Type"]="application/json")}else"public"===t&&(s+=this.version+"/"),s+=this.implodeParams(e,n),n=this.omit(n,this.extractParams(e)),Object.keys(n).length&&(s+="?"+this.urlencode(n));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&"{"===i[0]){var d=this.id+" "+i,l=this.safeValue(s,"success");if(void 0===l){var h=this.safeString(s,"code");if(void 0!==h&&(this.throwExactlyMatchedException(this.exceptions.exact,h,d),this.throwBroadlyMatchedException(this.exceptions.broad,h,d)),"NOT_FOUND"===h&&r.indexOf("addresses")>=0)throw new w(d);return}if("string"===typeof l&&(l="true"===l),!l){var v=this.safeString(s,"message");if("APIKEY_INVALID"===v)throw this.options.hasAlreadyAuthenticatedSuccessfully?new m(d):new f(d);if("INVALID_ORDER"===v){if(r.indexOf("cancel")>=0){var b=r.split("?");if(b.length>1){for(var g=b[1].split("&"),y=g.length,k=void 0,x=0;x<y;x++){var _=g[x].split("=");if("uuid"===_[0]){k=_[1];break}}throw new p(void 0!==k?this.id+" cancelOrder "+k+" "+this.json(s):this.id+" cancelOrder "+this.json(s))}}}throw this.throwExactlyMatchedException(this.exceptions.exact,v,d),void 0!==v&&this.throwBroadlyMatchedException(this.exceptions.broad,v,d),new u(d)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.BadSymbol,u=s.AuthenticationError,d=s.InsufficientFunds,f=s.InvalidOrder,l=s.ArgumentsRequired,h=s.OrderNotFound,p=s.InvalidAddress,m=s.BadRequest,v=s.RateLimitExceeded,b=s.PermissionDenied,g=s.ExchangeNotAvailable,y=s.AccountSuspended,w=s.OnMaintenance,k=r(16),x=k.SIGNIFICANT_DIGITS,_=k.DECIMAL_PLACES,S=k.TRUNCATE,T=k.ROUND;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bitvavo",name:"Bitvavo",countries:["NL"],rateLimit:500,version:"v2",certified:!0,pro:!0,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchMarkets:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83165440-2f1cf200-a116-11ea-9046-a255d09fb2ed.jpg",api:{public:"https://api.bitvavo.com",private:"https://api.bitvavo.com"},www:"https://bitvavo.com/",doc:"https://docs.bitvavo.com/",fees:"https://bitvavo.com/en/fees",referral:"https://bitvavo.com/?a=24F34952F7"},api:{public:{get:["time","markets","assets","{market}/book","{market}/trades","{market}/candles","ticker/price","ticker/book","ticker/24h"]},private:{get:["order","orders","ordersOpen","trades","balance","deposit","depositHistory","withdrawalHistory"],post:["order","withdrawal"],put:["order"],delete:["order","orders"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.002,tiers:{taker:[[0,.0025],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,.001]],maker:[[0,.002],[5e4,.0015],[1e5,.001],[25e4,6e-4],[5e5,3e-4],[1e6,1e-4],[25e5,-1e-4],[5e6,-3e-4],[1e7,-5e-4]]}}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{101:o,102:m,103:v,104:v,105:b,107:g,108:g,109:g,110:m,200:m,201:m,202:m,203:c,204:m,205:m,206:m,210:f,211:f,212:f,213:f,214:f,215:f,216:d,217:f,230:o,231:o,232:m,233:f,234:f,235:o,236:m,240:h,300:u,301:u,302:u,303:u,304:u,305:u,306:u,307:b,308:u,309:u,310:b,311:b,312:b,315:m,317:y,400:o,401:o,402:b,403:b,404:w,405:o,406:m,407:o,408:d,409:p,410:o,411:m,412:p,413:p,414:o},broad:{"start parameter is invalid":m,"symbol parameter is invalid":c,"amount parameter is invalid":f,"orderId parameter is invalid":f}},options:{"BITVAVO-ACCESS-WINDOW":1e4,fetchCurrencies:{expires:1e3}},precisionMode:x,commonCurrencies:{MIOTA:"IOTA"}})}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}amountToPrecision(e,t){return this.decimalToPrecision(t,S,this.markets[e].precision.amount,_)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,T,this.markets[e].precision.price,this.precisionMode),this.decimalToPrecision(t,S,8,_)}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"time"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:return a=r.sent,r.next=5,t.fetchCurrenciesFromCache(e);case 5:for(i=r.sent,s=t.indexBy(i,"symbol"),o=[],c=0;c<a.length;c++)u=a[c],d=t.safeString(u,"market"),f=t.safeString(u,"base"),l=t.safeString(u,"quote"),h=t.safeCurrencyCode(f),p=t.safeCurrencyCode(l),m=h+"/"+p,v=t.safeString(u,"status"),b="trading"===v,g=t.safeValue(s,f),y=void 0,void 0!==g&&(y=t.safeInteger(g,"decimals",8)),w={price:t.safeInteger(u,"pricePrecision"),amount:y},o.push({id:d,symbol:m,base:h,quote:p,baseId:f,quoteId:l,info:u,active:b,precision:w,limits:{amount:{min:t.safeFloat(u,"minOrderInBaseAsset"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(u,"minOrderInQuoteAsset"),max:void 0}}});return r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)})))()}fetchCurrenciesFromCache(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.safeValue(t.options,"fetchCurrencies",{}),i=t.safeInteger(a,"timestamp"),s=t.safeInteger(a,"expires",1e3),o=t.milliseconds(),!(void 0===i||o-i>s)){r.next=9;break}return r.next=7,t.publicGetAssets(e);case 7:c=r.sent,t.options.fetchCurrencies=t.extend(a,{response:c,timestamp:o});case 9:return r.abrupt("return",t.safeValue(t.options.fetchCurrencies,"response"));case 10:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),d=t.safeValue(o,"depositStatus"),f="OK"===d,l=t.safeValue(o,"withdrawalStatus"),h="OK"===l,p=f&&h,m=t.safeString(o,"name"),v=t.safeInteger(o,"decimals",8),i[u]={id:c,info:o,code:u,name:m,active:p,fee:t.safeFloat(o,"withdrawalFee"),precision:v,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"withdrawalMinAmount"),max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTicker24h(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"-"),a=this.safeInteger(e,"timestamp"),i=this.safeFloat(e,"last"),s=this.safeFloat(e,"volume"),o=this.safeFloat(e,"volumeQuote"),c=this.vwap(s,o),u=void 0,d=void 0,f=void 0,l=this.safeFloat(e,"open");return void 0!==l&&void 0!==i&&(u=i-l,l>0&&(d=u/l*100),f=this.sum(l,i)/2),{symbol:n,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:this.safeFloat(e,"bidSize"),ask:this.safeFloat(e,"ask"),askVolume:this.safeFloat(e,"askSize"),vwap:c,open:l,close:i,last:i,previousClose:void 0,change:u,percentage:d,average:f,baseVolume:s,quoteVolume:o,info:e}}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker24h(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==r&&(c.limit=r),void 0!==t&&(c.start=t),n.next=8,s.publicGetMarketTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=void 0;void 0!==r&&void 0!==n&&(a=r*n);var i=this.safeInteger(e,"timestamp"),s=this.safeString(e,"side"),o=this.safeString2(e,"id","fillId"),c=this.safeInteger(e,"market"),u=this.safeSymbol(c,t,"-"),d=this.safeValue(e,"taker"),f=void 0;void 0!==d&&(f=d?"taker":"maker");var l=this.safeFloat(e,"fee"),h=void 0;if(void 0!==l){var p=this.safeString(e,"feeCurrency");h={cost:l,currency:this.safeCurrencyCode(p)}}var m=this.safeString(e,"orderId");return{info:e,id:o,symbol:u,timestamp:i,datetime:this.iso8601(i),order:m,type:void 0,side:s,takerOrMaker:f,price:r,amount:n,cost:a,fee:h}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={market:i.marketId(e)},void 0!==t&&(s.depth=t),n.next=6,i.publicGetMarketBook(i.extend(s,r));case 6:return o=n.sent,(c=i.parseOrderBook(o)).nonce=i.safeInteger(o,"nonce"),n.abrupt("return",c);case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market:c.id,interval:o.timeframes[t]},void 0!==r&&(u.start=r),void 0!==i&&(u.limit=i),n.next=8,o.publicGetMarketCandles(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),d={free:t.safeFloat(o,"available"),used:t.safeFloat(o,"inOrder")},i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={symbol:i.id},n.next=6,r.privateGetDeposit(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),u=r.safeString(o,"paymentId"),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:u,info:o});case 11:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={market:u.id,side:r,orderType:t},"market"===t?(f=void 0,void 0!==(f=void 0!==s?i*s:c.safeFloat2(o,"cost","amountQuote"))?(l=u.precision.price,d.amountQuote=c.decimalToPrecision(f,S,l,c.precisionMode)):d.amount=c.amountToPrecision(e,i),o=c.omit(o,["cost","amountQuote"])):"limit"===t&&(d.price=c.priceToPrecision(e,s),d.amount=c.amountToPrecision(e,i)),n.next=7,c.privatePostOrder(c.extend(d,o));case 7:return h=n.sent,n.abrupt("return",c.parseOrder(h,u));case 9:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:if(a=u.market(t),i={},d=u.safeFloat(c,"amountRemaining"),c=u.omit(c,"amountRemaining"),void 0!==o&&(i.price=u.priceToPrecision(t,o)),void 0!==s&&(i.amount=u.amountToPrecision(t,s)),void 0!==d&&(i.amountRemaining=u.amountToPrecision(t,d)),i=u.extend(i,c),!Object.keys(i).length){r.next=19;break}return i.orderId=e,i.market=a.id,r.next=15,u.privatePutOrder(u.extend(i,c));case 15:return f=r.sent,r.abrupt("return",u.parseOrder(f,a));case 19:throw new l(u.id+" editOrder() requires an amount argument, or a price argument, or non-empty params");case 20:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={orderId:e,market:s.id},n.next=8,i.privateDeleteOrder(i.extend(o,r));case 8:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 10:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.market=s.id),n.next=7,r.privateDeleteOrders(r.extend(i,t));case 7:return o=n.sent,n.abrupt("return",r.parseOrders(o,s));case 9:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return n.next=6,i.loadMarkets();case 6:return s=i.market(t),o={orderId:e,market:s.id},n.next=10,i.privateGetOrder(i.extend(o,r));case 10:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 12:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={market:o.id},void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),n.next=10,s.privateGetOrders(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseOrders(u,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.market=c.id),n.next=7,s.privateGetOrdersOpen(s.extend(o,i));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u,c,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({new:"open",canceled:"canceled",canceledAuction:"canceled",canceledSelfTradePrevention:"canceled",canceledIOC:"canceled",canceledFOK:"canceled",canceledMarketProtection:"canceled",canceledPostOnly:"canceled",filled:"closed",partiallyFilled:"open",expired:"canceled",rejected:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeInteger(e,"created"),a=this.safeString(e,"market"),i=this.safeSymbol(a,t,"-"),s=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"side"),c=this.safeString(e,"orderType"),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),f=this.safeFloat(e,"amountRemaining"),l=this.safeFloat(e,"filledAmount"),h=this.safeFloat(e,"remainingCost");void 0!==h&&0===h&&(f=0),void 0!==d&&void 0!==f&&(l=Math.max(0,d-f));var p=this.safeFloat(e,"filledAmountQuote"),m=void 0;void 0!==p&&l&&(m=p/l);var v=void 0,b=this.safeFloat(e,"feePaid");if(void 0!==b){var g=this.safeString(e,"feeCurrency");v={cost:b,currency:this.safeCurrencyCode(g)}}var y=void 0,w=this.safeValue(e,"fills"),k=void 0;if(void 0!==w){var x=(k=this.parseTrades(w,t,void 0,void 0,{symbol:i,order:r,side:o})).length;if(x>0)y=this.safeValue(k,x-1).timestamp}var _=this.safeString(e,"timeInForce"),S=this.safeValue(e,"postOnly");return{info:e,id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:y,symbol:i,type:c,timeInForce:_,postOnly:S,side:o,price:u,stopPrice:void 0,amount:d,cost:p,average:m,filled:l,remaining:f,status:s,fee:v,trades:k}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={market:o.id},void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),n.next=10,s.privateGetTrades(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={symbol:c.id,amount:o.currencyToPrecision(e,t),address:r},void 0!==i&&(u.paymentId=i),n.next=8,o.privatePostWithdrawal(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseTransaction(d,c));case 10:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.symbol=c.id),void 0!==t&&(o.start=t),void 0!==r&&(o.limit=r),n.next=9,s.privateGetWithdrawalHistory(s.extend(o,i));case 9:return u=n.sent,n.abrupt("return",s.parseTransactions(u,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.symbol=c.id),void 0!==t&&(o.start=t),void 0!==r&&(o.limit=r),n.next=9,s.privateGetDepositHistory(s.extend(o,i));case 9:return u=n.sent,n.abrupt("return",s.parseTransactions(u,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({awaiting_processing:"pending",awaiting_email_confirmation:"pending",awaiting_bitvavo_inspection:"pending",approved:"pending",sending:"pending",in_mempool:"pending",processed:"pending",completed:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeString(e,"symbol"),a=this.safeCurrencyCode(n,t),i=this.parseTransactionStatus(this.safeString(e,"status")),s=this.safeFloat(e,"amount"),o=this.safeString(e,"address"),c=this.safeString(e,"txId"),u=void 0,d=this.safeFloat(e,"fee");void 0!==d&&(u={cost:d,currency:a});var f=void 0;f="success"in e?"withdrawal":void 0===i?"deposit":"withdrawal";var l=this.safeString(e,"paymentId");return{info:e,id:void 0,txid:c,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,address:o,addressTo:o,tagFrom:void 0,tag:l,tagTo:l,type:f,amount:s,currency:a,status:i,updated:void 0,fee:u}}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o="/"+this.version+"/"+this.implodeParams(e,n),c="GET"===r||"DELETE"===r;if(c&&Object.keys(s).length&&(o+="?"+this.urlencode(s)),"private"===t){this.checkRequiredCredentials();var u="";c||Object.keys(s).length&&(u=i=this.json(s));var d=this.milliseconds().toString(),f=d+r+o+u,l=this.hmac(this.encode(f),this.encode(this.secret)),h=this.safeString(this.options,"BITVAVO-ACCESS-WINDOW","10000");a={"BITVAVO-ACCESS-KEY":this.apiKey,"BITVAVO-ACCESS-SIGNATURE":l,"BITVAVO-ACCESS-TIMESTAMP":d,"BITVAVO-ACCESS-WINDOW":h},c||(a["Content-Type"]="application/json")}return{url:o=this.urls.api[t]+o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeString(s,"errorCode"),f=this.safeString(s,"error");if(void 0!==d){var l=this.id+" "+i;throw this.throwBroadlyMatchedException(this.exceptions.broad,f,l),this.throwExactlyMatchedException(this.exceptions.exact,d,l),new o(l)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ArgumentsRequired,d=o.ExchangeNotAvailable,f=o.PermissionDenied,l=o.InvalidOrder,h=o.AuthenticationError,p=o.InsufficientFunds,m=o.OrderNotFound,v=o.DDoSProtection,b=o.OnMaintenance,g=o.RateLimitExceeded;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitz",name:"Bit-Z",countries:["HK"],rateLimit:2e3,version:"v2",userAgent:this.userAgents.chrome,has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,createMarketOrder:!1,fetchBalance:!0,fetchDeposits:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","5d":"5day","1w":"1week","1M":"1mon"},hostname:"apiv2.bitz.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87443304-fec5e000-c5fd-11ea-98f8-ba8e67f7eaff.jpg",api:{market:"https://{hostname}",trade:"https://{hostname}",assets:"https://{hostname}"},www:"https://www.bitz.com",doc:"https://apidoc.bitz.com/en/",fees:"https://www.bitz.com/fee?type=1",referral:"https://u.bitz.com/register?invite_code=1429193"},api:{market:{get:["ticker","depth","order","tickerall","kline","symbolList","getServerTime","currencyRate","currencyCoinRate","coinRate"]},trade:{post:["addEntrustSheet","cancelEntrustSheet","cancelAllEntrustSheet","coinOut","getUserHistoryEntrustSheet","getUserNowEntrustSheet","getEntrustSheetInfo","depositOrWithdraw"]},assets:{post:["getUserAssets"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{fetchOHLCVVolume:!0,fetchOHLCVWarning:!0,lastNonceTimestamp:0},commonCurrencies:{BOX:"BOX Token",LEO:"LeoCoin",XRB:"NANO",PXC:"Pixiecoin",VTC:"VoteCoin",TTC:"TimesChain"},exceptions:{"-102":c,"-103":h,"-104":d,"-105":h,"-106":d,"-109":h,"-110":v,"-111":f,"-112":b,"-114":g,"-117":h,"-100015":h,"-100044":c,"-100101":c,"-100201":c,"-100301":c,"-100401":c,"-100302":c,"-100303":c,"-200003":h,"-200005":f,"-200025":d,"-200027":l,"-200028":l,"-200029":l,"-200030":l,"-200031":p,"-200032":c,"-200033":c,"-200034":m,"-200035":m,"-200037":l,"-200038":c,"-200055":m,"-300069":h,"-300101":c,"-300102":l,"-300103":h,"-301001":d}})}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.marketGetSymbolList(e);case 2:for(n=r.sent,i=t.safeValue(n,"data"),s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeString(d,"id"),l=t.safeString(d,"coinFrom"),h=t.safeString(d,"coinTo"),p=l.toUpperCase(),m=h.toUpperCase(),p=t.safeCurrencyCode(p),m=t.safeCurrencyCode(m),v=p+"/"+m,b={amount:t.safeInteger(d,"numberFloat"),price:t.safeInteger(d,"priceFloat")},o.push({info:d,id:u,numericId:f,symbol:v,base:p,quote:m,baseId:l,quoteId:h,active:!0,precision:b,limits:{amount:{min:t.safeFloat(d,"minTrade"),max:t.safeFloat(d,"maxTrade")},price:{min:Math.pow(10,-b.price),max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.assetsPostGetUserAssets(e);case 4:for(n=r.sent,i=t.safeValue(n.data,"info"),s={info:n},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=t.safeCurrencyCode(u),(f=t.account()).used=t.safeFloat(c,"lock"),f.total=t.safeFloat(c,"num"),f.free=t.safeFloat(c,"over"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t,"_"),a=this.safeFloat(e,"now"),i=this.safeFloat(e,"open"),s=void 0,o=void 0;return void 0!==a&&void 0!==i&&(s=a-i,o=this.sum(a,i)/2),{symbol:n,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:void 0,open:i,close:a,last:a,previousClose:void 0,change:s,percentage:this.safeFloat(e,"priceChange24h"),average:o,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}parseMicrotime(e){if(void 0===e)return e;var t=e.split(" "),r=parseFloat(t[0]),n=parseInt(t[1]),a=this.sum(n,r);return parseInt(1e3*a)}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.marketGetTicker(r.extend(s,t));case 6:return o=n.sent,c=r.parseTicker(o.data,i),u=r.parseMicrotime(r.safeString(o,"microtime")),n.abrupt("return",r.extend(c,{timestamp:u,datetime:r.iso8601(u)}));case 10:case"end":return n.stop()}}),n)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function i(){var s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.loadMarkets();case 2:return s={},void 0!==e&&(o=r.marketIds(e),s.symbols=o.join(",")),a.next=6,r.marketGetTickerall(r.extend(s,t));case 6:for(c=a.sent,u=r.safeValue(c,"data"),d=r.parseMicrotime(r.safeString(c,"microtime")),f={},l=Object.keys(u),h=0;h<l.length;h++)p=l[h],u[p],v=void 0,p in r.markets_by_id&&(v=r.markets_by_id[p]),m=r.parseTicker(u[p],v),void 0===(b=m.symbol)&&(void 0!==v?b=v.symbol:(g=p.split("_"),y=n(g,2),w=y[0],k=y[1],x=r.safeCurrencyCode(w),_=r.safeCurrencyCode(k),b=x+"/"+_)),void 0!==b&&(f[b]=r.extend(m,{timestamp:d,datetime:r.iso8601(d)}));return a.abrupt("return",r.filterByArray(f,"symbol",e));case 13:case"end":return a.stop()}}),i)})))()}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.marketGetGetServerTime(e);case 2:return n=r.sent,r.abrupt("return",t.safeTimestamp(n,"time"));case 4:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={symbol:n.marketId(e)},t.next=5,n.marketGetDepth(n.extend(i,r));case 5:return s=t.sent,o=n.safeValue(s,"data"),c=n.parseMicrotime(n.safeString(s,"microtime")),t.abrupt("return",n.parseOrderBook(o,c));case 9:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeTimestamp(e,"T"),a=void 0;void 0!==t&&(a=t.symbol);var i=this.safeFloat(e,"p"),s=this.safeFloat(e,"n"),o=void 0;void 0!==i&&void 0!==s&&(o=this.priceToPrecision(a,s*i));var c=this.safeString(e,"s");return{timestamp:n,datetime:this.iso8601(n),symbol:a,id:r,order:void 0,type:"limit",side:c,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0,info:e}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},a.next=6,s.marketGetOrder(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u.data,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:if(c=1e3*o.parseTimeframe(t),d=o.market(e),f={symbol:d.id,resolution:o.timeframes[t]},void 0===n){a.next=10;break}f.size=Math.min(n,300),void 0!==r&&(f.to=o.sum(r,n*c*1e3)),a.next=12;break;case 10:if(void 0===r){a.next=12;break}throw new u(o.id+" fetchOHLCV() requires a limit argument if the since argument is specified");case 12:return a.next=14,o.marketGetKline(o.extend(f,s));case 14:return l=a.sent,h=o.safeValue(l,"data",{}),p=o.safeValue(h,"bars",[]),a.abrupt("return",o.parseOHLCVs(p,d,t,r,n));case 18:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=void 0;if(void 0===t){var a=this.safeString(e,"coinFrom"),i=this.safeString(e,"coinTo");if(void 0!==a&&void 0!==i){var s=a+"_"+i;if(s in this.markets_by_id)t=this.safeValue(this.markets_by_id,s);else n=this.safeCurrencyCode(a)+"/"+this.safeCurrencyCode(i)}}void 0!==t&&(n=t.symbol);var o=this.safeString(e,"flag");void 0!==o&&(o="sale"===o?"sell":"buy");var c=this.safeFloat(e,"price"),u=this.safeFloat(e,"number"),d=this.safeFloat(e,"numberOver"),f=this.safeFloat(e,"numberDeal"),l=this.safeInteger(e,"timestamp");void 0===l&&(l=this.safeTimestamp(e,"created"));var h=this.safeFloat(e,"orderTotalPrice");void 0!==c&&void 0!==f&&(h=f*c);var p=this.parseOrderStatus(this.safeString(e,"status"));return{id:r,clientOrderId:void 0,datetime:this.iso8601(l),timestamp:l,lastTradeTimestamp:void 0,status:p,symbol:n,type:"limit",timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,cost:h,amount:u,filled:f,remaining:d,trades:void 0,fee:void 0,info:e,average:void 0}}createOrder(e,t,r,n,s,o={}){var u=this;return i(a.mark((function i(){var d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.loadMarkets();case 2:if("limit"===t){a.next=4;break}throw new c(u.id+" createOrder allows limit orders only");case 4:if(d=u.market(e),f="buy"===r?"1":"2",u.password){a.next=8;break}throw new c(u.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');case 8:return l={symbol:d.id,type:f,price:u.priceToPrecision(e,s),number:u.amountToPrecision(e,n),tradePwd:u.password},a.next=11,u.tradePostAddEntrustSheet(u.extend(l,o));case 11:return h=a.sent,p=u.parseMicrotime(u.safeString(h,"microtime")),m=u.extend({timestamp:p},h.data),a.abrupt("return",u.parseOrder(m,d));case 15:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={entrustSheetId:e},t.next=5,n.tradePostCancelEntrustSheet(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}cancelOrders(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={ids:e.join(",")},t.next=5,n.tradePostCancelEntrustSheet(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={entrustSheetId:e},t.next=5,n.tradePostGetEntrustSheetInfo(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s.data));case 7:case"end":return t.stop()}}),t)})))()}fetchOrdersWithMethod(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new u(o.id+" fetchOpenOrders() requires a symbol argument");case 2:return a.next=4,o.loadMarkets();case 4:return c=o.market(t),d={coinFrom:c.baseId,coinTo:c.quoteId},void 0!==n&&(d.page=1,d.pageSize=n),void 0!==r&&(d.startTime=parseInt(r/1e3)),a.next=10,o[e](o.extend(d,s));case 10:return f=a.sent,l=o.safeValue(f.data,"data",[]),a.abrupt("return",o.parseOrders(l,void 0,r,n));case 13:case"end":return a.stop()}}),i)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersWithMethod("tradePostGetUserNowEntrustSheet",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({1:"pending",2:"pending",3:"pending",4:"ok",5:"canceled"},e,e)}parseTransaction(e,t){var r=this.safeInteger(e,"updated");0===r&&(r=void 0);var n=this.safeString(e,"coin"),a=this.safeCurrencyCode(n,t),i=this.safeStringLower(e,"type"),s=this.parseTransactionStatus(this.safeString(e,"status")),o=void 0,c=this.safeFloat(e,"network_fee");return void 0!==c&&(o={cost:c,code:a}),{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:r,datetime:this.iso8601(r),address:this.safeString(e,"wallet"),tag:this.safeString(e,"memo"),type:i,amount:this.safeFloat(e,"number"),currency:a,status:s,updated:r,fee:o,info:e}}parseTransactionsByType(e,t,r,n,a){for(var i=[],s=0;s<t.length;s++){var o=this.parseTransaction(this.extend({type:e},t[s]));i.push(o)}return this.filterByCurrencySinceLimit(i,r,n,a)}parseTransactionType(e){return this.safeInteger({deposit:1,withdrawal:2},e,e)}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsForType("deposit",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsForType("withdrawal",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchTransactionsForType(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new u(o.id+" fetchTransactions() requires a currency `code` argument");case 2:return a.next=4,o.loadMarkets();case 4:return c=o.currency(t),d={coin:c.id,type:o.parseTransactionType(e)},void 0!==r&&(d.startTime=parseInt(r/1e3).toString()),void 0!==n&&(d.page=1,d.pageSize=n),a.next=10,o.tradePostDepositOrWithdraw(o.extend(d,s));case 10:return f=a.sent,l=o.safeValue(f.data,"data",[]),a.abrupt("return",o.parseTransactionsByType(e,l,t,r,n));case 13:case"end":return a.stop()}}),i)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={coin:c.id,number:o.currencyToPrecision(e,t),address:r},void 0!==n&&(u.memo=n),a.next=8,o.tradePostCoinOut(o.extend(u,s));case 8:return d=a.sent,f=o.safeValue(d,"data",{}),a.abrupt("return",o.parseTransaction(f,c));case 11:case"end":return a.stop()}}),i)})))()}nonce(){var e=this.seconds();return e>this.options.lastNonceTimestamp&&(this.options.lastNonceTimestamp=e,this.options.lastNonce=1e5),this.options.lastNonce=this.sum(this.options.lastNonce,1),this.options.lastNonce}sign(e,t="market",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/"+this.capitalize(t)+"/"+e,o=void 0;return"market"===t?(o=this.urlencode(n)).length&&(s+="?"+o):(this.checkRequiredCredentials(),i=this.rawencode(this.keysort(this.extend({apiKey:this.apiKey,timeStamp:this.seconds(),nonce:this.nonce()},n))),i+="&sign="+this.hash(this.encode(i+this.secret)),a={"Content-type":"application/x-www-form-urlencoded"}),{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"status");if(void 0!==d){var f=this.id+" "+i;if("200"===d){var l=this.safeInteger(s,"data");if(void 0!==l)throw this.throwExactlyMatchedException(this.exceptions,l,f),new c(f);return}throw this.throwExactlyMatchedException(this.exceptions,d,f),new c(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7);e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:"https://bl3p.eu",doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR",maker:.0025,taker:.0025}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGENMKTMoneyInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"wallets"),o={info:i},c=Object.keys(t.currencies),u=0;u<c.length;u++)d=c[u],f=t.currency(d),l=f.id,h=t.safeValue(s,l,{}),p=t.safeValue(h,"available",{}),m=t.safeValue(h,"balance",{}),(v=t.account()).free=t.safeFloat(p,"value"),v.total=t.safeFloat(m,"value"),o[d]=v;return r.abrupt("return",t.parseBalance(o));case 11:case"end":return r.stop()}}),r)})))()}parseBidAsk(e,t=0,r=1){return[e[t]/1e5,e[r]/1e8]}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.market(e),s={market:a.id},t.next=4,i.publicGetMarketOrderbook(i.extend(s,r));case 4:return o=t.sent,c=i.safeValue(o,"data"),t.abrupt("return",i.parseOrderBook(c,void 0,"bids","asks","price_int","amount_int"));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={market:r.marketId(e)},n.next=3,r.publicGetMarketTicker(r.extend(i,t));case 3:return s=n.sent,o=r.safeTimestamp(s,"timestamp"),c=r.safeFloat(s,"last"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:r.safeFloat(s,"high"),low:r.safeFloat(s,"low"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(s.volume,"24h"),quoteVolume:void 0,info:s});case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"trade_id"),n=this.safeInteger(e,"date"),a=this.safeFloat(e,"price_int");void 0!==a&&(a/=1e5);var i=this.safeFloat(e,"amount_int");void 0!==i&&(i/=1e8);var s=void 0;void 0!==a&&void 0!==i&&(s=i*a);var o=void 0;return void 0!==t&&(o=t.symbol),{id:r,info:e,timestamp:n,datetime:this.iso8601(n),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.market(e),n.next=3,s.publicGetMarketTrades(s.extend({market:o.id},i));case 3:return c=n.sent,u=s.parseTrades(c.data.trades,o,t,r),n.abrupt("return",u);case 6:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=c.market(e),d={market:u.id,amount_int:parseInt(1e8*i),fee_currency:u.quote,type:"buy"===r?"bid":"ask"},"limit"===t&&(d.price_int=parseInt(1e5*s)),n.next=5,c.privatePostMarketMoneyOrderAdd(c.extend(d,o));case 5:return f=n.sent,l=c.safeString(f.data,"order_id"),n.abrupt("return",{info:f,id:l});case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={order_id:e},t.next=3,i.privatePostMarketMoneyOrderCancel(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(e,n),o=this.urls.api+"/"+this.version+"/"+s,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();var u=this.nonce();i=this.urlencode(this.extend({nonce:u},c));var d=this.base64ToBinary(this.secret),f=s+"\0"+i,l=this.hmac(this.encode(f),d,"sha512","base64");a={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":l}}return{url:o,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.InvalidOrder,u=s.AuthenticationError,d=s.InsufficientFunds,f=s.BadRequest;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bleutrade",name:"Bleutrade",countries:["BR"],rateLimit:1e3,certified:!1,has:{cancelOrder:!0,CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!0,editOrder:!1,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!1,fetchWithdrawals:!0,withdraw:!1},timeframes:{"1h":"1h","4h":"4h","8h":"8h","1d":"1d","1w":"1w"},hostname:"bleutrade.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30303000-b602dbe6-976d-11e7-956d-36c5049c01e7.jpg",api:{v3Private:"https://{hostname}/api/v3/private",v3Public:"https://{hostname}/api/v3/public"},www:"https://bleutrade.com",doc:["https://app.swaggerhub.com/apis-docs/bleu/white-label/3.0.0"],fees:"https://bleutrade.com/fees/"},api:{v3Public:{get:["getassets","getmarkets","getticker","getmarketsummary","getmarketsummaries","getorderbook","getmarkethistory","getcandles"]},v3Private:{get:["statement"],post:["getbalance","getbalances","buylimit","selllimit","buylimitami","selllimitami","buystoplimit","sellstoplimit","ordercancel","getopenorders","getcloseorders","getdeposithistory","getdepositaddress","getmytransactions","withdraw","directtransfer","getwithdrawhistory","getlimits"]}},commonCurrencies:{EPC:"Epacoin"},exceptions:{exact:{ERR_INSUFICIENT_BALANCE:d,ERR_LOW_VOLUME:f,"Invalid form":f},broad:{"Order is not open":c,"Invalid Account / Api KEY / Api Secret":u}},fees:{trading:{tierBased:!1,percentage:!0,taker:.0025,maker:.0025}},options:{parseOrderStatus:!0}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.v3PublicGetGetassets(e);case 2:for(a=r.sent,i=a.result,s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"Asset"),d=t.safeCurrencyCode(u),s[d]={id:u,code:d,name:t.safeString(c,"AssetLong"),active:t.safeValue(c,"IsActive")&&!t.safeValue(c,"MaintenanceMode"),fee:t.safeFloat(c,"WithdrawTxFee"),precision:t.safeFloat(c,"DecimalPlaces"),info:c,limits:t.limits};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.v3PublicGetGetmarkets(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"result"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"MarketName"),d=t.safeString(c,"MarketAsset"),f=t.safeString(c,"BaseAsset"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={amount:8,price:8},v=t.safeValue(c,"IsActive",!1),i.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:v,info:c,precision:m,maker:t.fees.trading.maker,taker:t.fees.trading.taker,limits:{amount:{min:t.safeFloat(c,"MinTradeSize"),max:void 0},price:{min:Math.pow(10,-m.price),max:void 0}}});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={market:i.marketId(e),type:"ALL"},void 0!==t&&(s.depth=t),n.next=6,i.v3PublicGetGetorderbook(i.extend(s,r));case 6:if(c=n.sent,u=i.safeValue(c,"result")){n.next=10;break}throw new o(i.id+" no orderbook data in "+i.json(c));case 10:return n.abrupt("return",i.parseOrderBook(u,void 0,"buy","sell","Rate","Quantity"));case 11:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.v3PublicGetGetmarketsummary(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.v3PublicGetGetmarketsummaries(t);case 4:for(i=n.sent,s=r.safeValue(i,"result"),o=[],c=0;c<s.length;c++)u=r.parseTicker(s[c]),o.push(u);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"TimeStamp")),n=this.safeString(e,"MarketName"),a=this.safeSymbol(n,t,"_"),i=this.safeFloat(e,"PrevDay"),s=this.safeFloat(e,"Last"),o=void 0,c=void 0;return void 0!==s&&void 0!==i&&(o=s-i,i>0&&(c=o/i*100)),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:i,close:s,last:s,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}parseOHLCV(e,t){return[this.parse8601(e.TimeStamp+"+00:00"),this.safeFloat(e,"Open"),this.safeFloat(e,"High"),this.safeFloat(e,"Low"),this.safeFloat(e,"Close"),this.safeFloat(e,"Volume")]}fetchOHLCV(e,t="15m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={period:o.timeframes[t],market:c.id,count:i},n.next=6,o.v3PublicGetGetcandles(o.extend(u,s));case 6:return d=n.sent,f=o.safeValue(d,"result",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new c(u.id+" allows limit orders only");case 2:return n.next=4,u.loadMarkets();case 4:if(d={rate:u.priceToPrecision(e,s),quantity:u.amountToPrecision(e,i),tradeType:"buy"===r?"1":"0",market:u.marketId(e)},f=void 0,"buy"!==r){n.next=12;break}return n.next=9,u.v3PrivatePostBuylimit(u.extend(d,o));case 9:f=n.sent,n.next=15;break;case 12:return n.next=14,u.v3PrivatePostSelllimit(u.extend(d,o));case 14:f=n.sent;case 15:return n.abrupt("return",{info:f,id:u.safeString(f,"result")});case 16:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={orderid:e},t.next=3,i.v3PrivatePostOrdercancel(i.extend(a,r));case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.market=o.id),n.next=7,s.v3PrivatePostGetopenorders(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseOrders(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.v3PrivatePostGetbalances(e);case 4:for(a=r.sent,i={info:a},s=a.result,o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"Asset"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"Available"),f.total=t.safeFloat(c,"Balance"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.market=c.id),n.next=7,s.v3PrivatePostGetcloseorders(s.extend(o,i));case 7:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseOrders(d,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTransactionsWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return n.next=4,o[e](s);case 4:return c=n.sent,u=o.safeValue(c,"result",[]),n.abrupt("return",o.parseTransactions(u,t,r,i));case 7:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsWithMethod("v3PrivatePostGetdeposithistory",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsWithMethod("v3PrivatePostGetwithdrawhistory",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={asset:i.id},n.next=6,r.v3PrivatePostGetdepositaddress(r.extend(s,t));case 6:return o=n.sent,c=o.result,u=r.safeString(c,"DepositAddress"),n.abrupt("return",{currency:e,address:r.checkAddress(u),info:c});case 10:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({TRADE:"trade",WITHDRAW:"transaction"},e,e)}parseLedgerEntry(e,t){for(var r=this.safeCurrencyCode(this.safeString(e,"CoinSymbol"),t),n=this.safeString(e,"Description"),a=this.parseLedgerEntryType(this.safeString(e,"Type")),i=void 0,s=void 0,o="trade"===a?", ":"; ",c=n.split(o),u=0;u<c.length;u++){var d=c[u];if(0===d.indexOf("fee")){d=d.replace("fee ","");var f=parseFloat(d);f<0&&(f=-f),s={cost:f,currency:r}}else 0===d.indexOf("order id")&&(i=d.replace("order id ",""))}var l=this.parse8601(this.safeString(e,"TimeStamp")),h=this.safeFloat(e,"Amount"),p=void 0;return void 0!==h&&(p="in",h<0&&(p="out",h=-h)),{id:this.safeString(e,"ID"),info:e,timestamp:l,datetime:this.iso8601(l),direction:p,account:void 0,referenceId:i,referenceAccount:void 0,type:a,currency:r,amount:h,before:void 0,after:void 0,status:"ok",fee:s}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},n.next=5,s.v3PrivatePostGetmytransactions(s.extend(o,i));case 5:return c=n.sent,u=c.result,n.abrupt("return",s.parseLedger(u,e,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeString(e,"Type").toLowerCase(),n=this.parseOrderStatus(this.safeString(e,"Status")),a=this.safeString(e,"Exchange"),i=this.safeSymbol(a,t,"_"),s=void 0;"Created"in e&&(s=this.parse8601(e.Created+"+00:00"));var o=this.safeFloat(e,"Price"),c=void 0,u=this.safeFloat(e,"Quantity"),d=this.safeFloat(e,"QuantityRemaining"),f=void 0;void 0!==u&&void 0!==d&&(f=u-d),c||o&&f&&(c=o*f),o||c&&f&&(o=c/f);var l=this.safeFloat(e,"PricePerUnit");return{info:e,id:this.safeString(e,"OrderID"),clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:o,stopPrice:void 0,cost:c,average:l,amount:u,filled:f,remaining:d,status:n,fee:void 0,trades:void 0}}parseOrderStatus(e){return this.safeString({OK:"closed",OPEN:"open",CANCELED:"canceled"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"ID"),n=this.safeFloat(e,"Amount"),a="deposit";n<0&&(n=Math.abs(n),a="withdrawal");var i=this.safeString(e,"Asset"),s=this.safeCurrencyCode(i,t),o=this.safeString(e,"Label"),c=this.parse8601(this.safeString(e,"Timestamp")),u=this.safeString(e,"TransactionID"),d=void 0,f=void 0,l=o.split(";");3===l.length?(n=parseFloat(l[0]),d=l[1],f=parseFloat(l[2])):d=o;var h=void 0;void 0!==f&&(h={currency:s,cost:f});var p="ok";return"CANCELED"===u&&(u=void 0,p="canceled"),{info:e,timestamp:c,datetime:this.iso8601(c),id:r,currency:s,amount:n,address:d,tag:void 0,status:p,type:a,updated:void 0,txid:u,fee:h}}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("v3Private"===t){this.checkRequiredCredentials();var o={apikey:this.apiKey,nonce:this.nonce()};s+=e+"?"+this.urlencode(this.extend(o,n)),a={apisign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}else s+=e+"?"+this.urlencode(n);return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeValue(s,"success");if(void 0===d)throw new o(this.id+": malformed response: "+this.json(s));if(!d){var f=this.id+" "+i,l=this.safeString(s,"result");void 0!==l&&(this.throwBroadlyMatchedException(this.exceptions.broad,l,f),this.throwExactlyMatchedException(this.exceptions.exact,l,f));var h=this.safeString(s,"message");throw this.throwBroadlyMatchedException(this.exceptions.broad,h,f),this.throwExactlyMatchedException(this.exceptions.exact,h,f),new o(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.InvalidOrder,d=o.AuthenticationError,f=o.ArgumentsRequired;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"braziliex",name:"Braziliex",countries:["BR"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php",referral:"https://braziliex.com/?ref=5FE61AB6F6D67DA885BC98BA27223465"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order","order_status"]}},commonCurrencies:{EPC:"Epacoin",ABC:"Anti Bureaucracy Coin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8},options:{fetchCurrencies:{expires:1e3}}})}fetchCurrenciesFromCache(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.safeValue(t.options,"fetchCurrencies",{}),i=t.safeInteger(n,"timestamp"),s=t.safeInteger(n,"expires",1e3),o=t.milliseconds(),!(void 0===i||o-i>s)){r.next=9;break}return r.next=7,t.publicGetCurrencies(e);case 7:c=r.sent,t.options.fetchCurrencies=t.extend(n,{response:c,timestamp:o});case 9:return r.abrupt("return",t.safeValue(t.options.fetchCurrencies,"response"));case 10:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:for(n=r.sent,t.options.currencies={timestamp:t.milliseconds(),response:n},i=Object.keys(n),s={},o=0;o<i.length;o++)c=i[o],u=n[c],d=t.safeInteger(u,"decimal"),f=t.safeCurrencyCode(c),l=1===t.safeInteger(u,"active"),0!==t.safeInteger(u,"under_maintenance")&&(l=!1),h=1===t.safeInteger(u,"is_withdrawal_active"),p=1===t.safeInteger(u,"is_deposit_active"),h&&p||(l=!1),s[f]={id:c,code:f,name:u.name,active:l,precision:d,funding:{withdraw:{active:h,fee:t.safeFloat(u,"txWithdrawalFee")},deposit:{active:p,fee:t.safeFloat(u,"txDepositFee")}},limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(u,"MinWithdrawal"),max:Math.pow(10,d)},deposit:{min:t.safeFloat(u,"minDeposit"),max:void 0}},info:u};return r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:return i=r.sent,r.next=5,t.publicGetTicker();case 5:for(s=r.sent,o=Object.keys(s),c=[],u=0;u<o.length;u++)d=o[u],f=s[d],l=d.split("_"),h=n(l,2),p=h[0],m=h[1],v=p.toUpperCase(),b=m.toUpperCase(),g=t.safeCurrencyCode(v),y=t.safeCurrencyCode(b),w=g+"/"+y,k=t.safeValue(i,p,{}),x=t.safeValue(i,m,{}),_=t.safeInteger(x,"is_fiat",0),S=void 0,S=_?t.safeFloat(k,"minAmountTradeFIAT"):t.safeFloat(k,"minAmountTrade"+b),T=t.safeInteger(f,"active"),O=1===T,A={amount:8,price:8},c.push({id:d,symbol:w,base:g,quote:y,baseId:p,quoteId:m,active:O,precision:A,limits:{amount:{min:Math.pow(10,-A.amount),max:Math.pow(10,A.amount)},price:{min:Math.pow(10,-A.price),max:Math.pow(10,A.price)},cost:{min:S,max:void 0}},info:f});return r.abrupt("return",c);case 10:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.milliseconds(),a=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"highestBid24"),low:this.safeFloat(e,"lowestAsk24"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume24"),quoteVolume:this.safeFloat(e,"quoteVolume24"),info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTickerMarket(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s={},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=r.safeMarket(u),f=d.symbol,s[f]=r.parseTicker(i[u],d);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 9:case"end":return n.stop()}}),n)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={market:n.marketId(e)},t.next=5,n.publicGetOrderbookMarket(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrderBook(s,void 0,"bids","asks","price","amount"));case 7:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString2(e,"date_exec","date")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;void 0!==t&&(i=t.symbol);var s=this.safeFloat(e,"total"),o=this.safeString(e,"order_number"),c=this.safeString(e,"type");return{id:this.safeString(e,"_id"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:o,type:"limit",side:c,takerOrMaker:void 0,price:n,amount:a,cost:s,fee:void 0}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},a.next=6,s.publicGetTradehistoryMarket(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostCompleteBalance(e);case 4:for(n=r.sent,i={info:n},s=Object.keys(n),o=0;o<s.length;o++)c=s[o],u=n[c],d=t.safeCurrencyCode(c),(f=t.account()).free=t.safeFloat(u,"available"),f.total=t.safeFloat(u,"total"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"_"),a=this.safeInteger(e,"timestamp");void 0===a&&(a=this.parse8601(this.safeString(e,"date")));var i=this.safeFloat(e,"price"),s=this.safeFloat(e,"total",0),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"progress"),u=o*c,d=parseFloat(this.amountToPrecision(n,o-u)),f=e;"info"in f&&(f=e.info);var l=this.safeString(e,"order_number"),h=this.safeValue(e,"fee"),p=1===c?"closed":"open",m=this.safeString(e,"type");return{id:l,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:p,symbol:n,type:"limit",timeInForce:void 0,postOnly:void 0,side:m,price:i,stopPrice:void 0,cost:s,amount:o,filled:u,remaining:d,trades:void 0,fee:h,info:f,average:void 0}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function t(){var i,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return i=c.market(e),d="privatePost"+c.capitalize(r),f={market:i.id,price:s,amount:n},t.next=7,c[d](c.extend(f,o));case 7:if(l=t.sent,1===c.safeInteger(l,"success")){t.next=11;break}throw new u(c.id+" "+c.json(l));case 11:return h=c.safeString(l,"message"),p=(p=h.split(" / ")).slice(1),m=p[5].split(" "),v=p[2].split(" "),b=p[3].split(" "),g=p[4].split(" "),y=c.parseOrder({timestamp:c.milliseconds(),order_number:l.order_number,type:c.safeStringLower(p,0),market:p[0].toLowerCase(),amount:c.safeString(v,1),price:c.safeString(b,1),total:c.safeString(g,1),fee:{cost:c.safeFloat(m,1),currency:c.safeString(m,2)},progress:"0.0",info:l},i),t.abrupt("return",y);case 20:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(t),o={order_number:e,market:s.id},a.next=6,n.privatePostCancelOrder(n.extend(o,r));case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new f(n.id+" fetchOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:return s=n.market(t),o={order_number:e,market:s.id},a.next=8,n.privatePostOrderStatus(n.extend(o,r));case 8:return c=a.sent,a.abrupt("return",n.parseOrder(c,s));case 10:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},a.next=6,s.privatePostOpenOrders(s.extend(c,n));case 6:return u=a.sent,d=s.safeValue(u,"order_open",[]),a.abrupt("return",s.parseOrders(d,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},a.next=6,s.privatePostTradeHistory(s.extend(c,n));case 6:return u=a.sent,d=s.safeValue(u,"trade_history",[]),a.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"deposit_address"),r.checkAddress(c),u=r.safeString(o,"payment_id"),n.abrupt("return",{currency:e,address:c,tag:u,info:o});case 11:case"end":return n.stop()}}),n)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+t,o=this.omit(n,this.extractParams(e));if("public"===t)s+="/"+this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),i=this.urlencode(o);var c=this.hmac(this.encode(i),this.encode(this.secret),"sha512");a={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:c}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",n={},s,o){var u=this;return i(a.mark((function i(){var f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.fetch2(e,t,r,n,s,o);case 2:if(!("string"===typeof(f=a.sent)&&f.length<1)){a.next=5;break}throw new c(u.id+" returned empty response");case 5:if(!("success"in f)){a.next=12;break}if(0!==u.safeInteger(f,"success")){a.next=12;break}if("Invalid APIKey"!==(l=u.safeString(f,"message"))){a.next=11;break}throw new d(l);case 11:throw new c(l);case 12:return a.abrupt("return",f);case 13:case"end":return a.stop()}}),i)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.DDoSProtection,d=s.InvalidOrder,f=s.InsufficientFunds;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!1,fetchTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.00135,LTC:.0035,XMR:.018,ZEC:.002,ETH:.01,ETC:.01,SIB:1.5,CCRB:4,PZM:.05,ITI:.05,DCY:5,R:5,ATB:.05,BRIA:.05,KZC:.05,HWC:1,SPA:1,SMS:.001,REC:.01,SUP:1,BQ:100,GDS:.1,EVN:300,TRKC:.01,UNI:1,STN:1,BCH:void 0,QBIC:.5}}},commonCurrencies:{CBC:"Cashbery"},exceptions:{exact:{},broad:{"Out of balance":f}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPairs(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"name"),u=t.safeString(o,"currency1"),d=t.safeString(o,"currency2"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,p={amount:8,price:t.safeInteger(o,"price_precision")},i.push({id:c,symbol:h,base:f,quote:l,active:!0,precision:p,limits:{amount:{min:t.safeFloat(o,"minimum_order_size"),max:t.safeFloat(o,"maximum_order_size")},price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)},cost:{min:void 0,max:void 0}},info:o,baseId:void 0,quoteId:void 0});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={pair_name:i.marketId(e)},t&&(s.limit_sell=t,s.limit_buy=t),n.next=6,i.publicGetOrderbookPairName(i.extend(s,r));case 6:return o=n.sent,n.abrupt("return",i.parseOrderBook(o,void 0,"buy","sell","price","amount"));case 8:case"end":return n.stop()}}),a)})))()}parseBidsAsks(e,t=0,r=1){for(var n=[],a=0;a<e.length;a++){var i=e[a];i&&n.push(this.parseBidAsk(i,t,r))}return n}parseTrade(e,t){var r=void 0;void 0===t&&(t=this.safeValue(this.marketsById,e.pair)),void 0!==t&&(r=t.symbol);var n=this.safeTimestamp(e,"timestamp"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==a&&void 0!==i&&(s=parseFloat(this.costToPrecision(r,a*i)));var o=this.safeString2(e,"id","tid"),c=this.safeString2(e,"my_side","side"),u=this.safeString(e,"o_id");return{id:o,info:e,timestamp:n,datetime:this.iso8601(n),symbol:r,order:u,type:"limit",side:c,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.pair=o.id),void 0!==r&&(c.limit=r),n.next=8,s.publicGetExchanges(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={pair:c.id,type:o.timeframes[t]},void 0!==i&&(u.limit=i),void 0!==r&&(u.since=parseInt(r/1e3)),n.next=8,o.publicGetChartsPairTypeChart(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetWallets(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),(d=t.account()).used=t.safeFloat(o,"reserve"),d.total=t.safeFloat(o,"balance"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({1:"open",2:"canceled",3:"closed"},e,e)}parseOrder(e,t){var r=void 0;void 0===t&&(t=this.safeValue(this.marketsById,e.pair)),void 0!==t&&(r=t.symbol);var n=this.safeTimestamp(e,"date"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString2(e,"oid","id"),c=this.safeValue(e,"trades",[]);c=this.parseTrades(c,t);var u=this.safeString2(e,"my_side","type"),d=void 0,f=c.length;if(f>0){d=0;for(var l=0;l<f;l++)d=this.sum(d,c[l].amount)}var h=void 0;return void 0!==i&&i>0&&void 0!==d&&(h=Math.max(0,i-d)),{id:o,clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,status:s,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:u,price:a,stopPrice:void 0,cost:void 0,amount:i,filled:d,remaining:h,trades:c,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function t(){var a,u,f,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return a=c.market(e),u={pair:a.id,type:r,amount:i,price:c.priceToPrecision(e,s)},t.next=6,c.privatePostOrder(c.extend(u,o));case 6:if((f=t.sent).success){t.next=9;break}throw new d(c.id+" "+c.json(f));case 9:return l=c.parseOrder(f,a),i=l.amount>0?l.amount:i,t.abrupt("return",c.extend(l,{amount:i}));case 12:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={order:e},t.next=3,i.privatePostOrderCancel(i.extend(a,r));case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.pair=c.id),void 0!==r&&(o.limit=r),n.next=8,s.privateGetOrdersOwn(s.extend(o,i));case 8:return u=n.sent,n.abrupt("return",s.parseOrders(u,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"1"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"3"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==e&&(c=s.market(e),o.pair=c.id),void 0!==r&&(o.limit=r),n.next=7,s.privateGetExchangesOwn(s.extend(o,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,void 0,t,r));case 9:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urlencode(this.keysort(this.omit(n,this.extractParams(e)))),o=this.urls.api+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,n),a={Accept:"application/json"},"public"===t)s.length&&(o+="?"+s);else{this.checkRequiredCredentials();var c=this.apiKey;"POST"===r?(a["Content-Type"]="application/x-www-form-urlencoded",c+=i=s):s.length&&(o+="?"+s),a["X-KEY"]=this.apiKey,a["X-SIGN"]=this.hmac(this.encode(c),this.encode(this.secret)),a["X-NONCE"]=this.nonce().toString()}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,d,f){if(void 0!==s){var l=this.safeString(s,"error"),h=this.id+" "+i;if(void 0!==l&&(this.throwExactlyMatchedException(this.exceptions.exact,l,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h)),401===e||403===e)throw new c(h);if(429===e)throw new u(h);if(!(e<400))throw new o(h)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.InsufficientFunds,u=s.InvalidOrder,d=s.AuthenticationError,f=s.PermissionDenied,l=s.InvalidNonce,h=s.OrderNotFound,p=s.DDoSProtection;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87327317-98c55400-c53c-11ea-9a11-81f7d951cc74.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://blog.btcbox.jp/en/archives/8762",fees:"https://support.btcbox.co.jp/hc/en-us/articles/360001235694-Fees-introduction"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",taker:5e-4,maker:5e-4},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy",taker:.001,maker:.001},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy",taker:.001,maker:.001},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy",taker:.001,maker:.001}},exceptions:{104:d,105:f,106:l,107:u,200:c,201:u,202:u,203:h,401:h,402:p}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.currency(c),d=u.id,(f=d+"_balance")in a&&(l=t.account(),h=d+"_lock",l.free=t.safeFloat(a,f),l.used=t.safeFloat(a,h),i[c]=l);return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={},i.symbols.length>1&&(s.coin=a.baseId),t.next=8,i.publicGetDepth(i.extend(s,r));case 8:return o=t.sent,t.abrupt("return",i.parseOrderBook(o));case 10:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={},r.symbols.length>1&&(s.coin=i.baseId),n.next=8,r.publicGetTicker(r.extend(s,t));case 8:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeString(e,"tid"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;void 0!==s&&void 0!==i&&(o=i*s);var c=this.safeString(e,"type");return{info:e,id:a,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:c,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={},s.symbols.length>1&&(c.coin=o.baseId),n.next=8,s.publicGetOrders(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function t(){var a,u,d;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return a=c.market(e),u={amount:i,price:s,type:r,coin:a.baseId},t.next=6,c.privatePostTradeAdd(c.extend(u,o));case 6:return d=t.sent,t.abrupt("return",c.parseOrder(d,a));case 8:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return void 0===t&&(t="BTC/JPY"),s=i.market(t),o={id:e,coin:s.baseId},n.next=7,i.privatePostTradeCancel(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 9:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=void 0;void 0!==this.safeString(e,"datetime")&&(n=this.parse8601(e.datetime+"+09:00"));var a=this.safeFloat(e,"amount_original"),i=this.safeFloat(e,"amount_outstanding"),s=void 0;void 0!==a&&void 0!==i&&(s=a-i);var o=this.safeFloat(e,"price"),c=void 0;void 0!==o&&void 0!==s&&(c=s*o);var u=this.parseOrderStatus(this.safeString(e,"status"));void 0===u&&void 0!==i&&0===i&&(u="closed");var d=void 0;void 0!==t&&(d=t.symbol);var f=this.safeString(e,"type");return{id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,amount:a,remaining:i,filled:s,side:f,type:void 0,timeInForce:void 0,postOnly:void 0,status:u,symbol:d,price:o,stopPrice:void 0,cost:c,trades:void 0,fee:void 0,info:e,average:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return void 0===t&&(t="BTC/JPY"),s=i.market(t),o=i.extend({id:e,coin:s.baseId},r),n.next=7,i.privatePostTradeView(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 9:case"end":return n.stop()}}),a)})))()}fetchOrdersByType(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return void 0===t&&(t="BTC/JPY"),c=o.market(t),u={type:e,coin:c.baseId},n.next=7,o.privatePostTradeList(o.extend(u,s));case 7:if(d=n.sent,f=o.parseOrders(d,c,r,i),"open"===e)for(l=0;l<f.length;l++)f[l].status="open";return n.abrupt("return",f);case 11:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByType("all",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByType("open",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString(),c=this.extend({key:this.apiKey,nonce:o},n),u=this.urlencode(c),d=this.hash(this.encode(this.secret));c.signature=this.hmac(this.encode(u),this.encode(d)),i=this.urlencode(c),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&!(e>=400)){var d=this.safeValue(s,"result");if(void 0!==d&&!0!==d){var f=this.safeValue(s,"code"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,f,l),new o(l)}}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if("string"!==typeof(d=n.sent)){n.next=8;break}if(d=u.strip(d),u.isJsonEncodedObject(d)){n.next=7;break}throw new o(u.id+" "+d);case 7:d=JSON.parse(d);case 8:return n.abrupt("return",d);case 9:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ArgumentsRequired,u=o.ExchangeError,d=o.OrderNotFound,f=o.InvalidOrder,l=o.InsufficientFunds,h=o.DDoSProtection,p=o.BadRequest;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/89731817-b3fb8480-da52-11ea-817f-783b08aaf32b.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net"},www:"https://btcmarkets.net",doc:["https://api.btcmarkets.net/doc/v3","https://github.com/BTCMarkets/API"]},api:{public:{get:["markets","markets/{marketId}/ticker","markets/{marketId}/trades","markets/{marketId}/orderbook","markets/{marketId}/candles","markets/tickers","markets/orderbooks","time"]},private:{get:["orders","orders/{id}","batchorders/{ids}","trades","trades/{id}","withdrawals","withdrawals/{id}","deposits","deposits/{id}","transfers","transfers/{id}","addresses","withdrawal-fees","assets","accounts/me/trading-fees","accounts/me/withdrawal-limits","accounts/me/balances","accounts/me/transactions","reports/{id}"],post:["orders","batchorders","withdrawals","reports"],delete:["orders","orders/{id}","batchorders/{ids}"],put:["orders/{id}"]}},timeframes:{"1m":"1m","1h":"1h","1d":"1d"},exceptions:{3:f,6:h,InsufficientFund:l,InvalidPrice:f,InvalidAmount:f,MissingArgument:f,OrderAlreadyCancelled:f,OrderNotFound:d,OrderStatusIsFinal:f,InvalidPaginationParameter:p},fees:{percentage:!0,tierBased:!0,maker:-5e-4,taker:.002},options:{fees:{AUD:{maker:.0085,taker:.0085}}}})}fetchTransactionsWithMethod(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={},void 0!==n&&(c.limit=n),void 0!==r&&(c.after=r),u=void 0,void 0!==t&&(u=o.currency(t)),a.next=9,o[e](o.extend(c,s));case 9:return d=a.sent,a.abrupt("return",o.parseTransactions(d,u,r,n));case 11:case"end":return a.stop()}}),i)})))()}fetchTransactions(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsWithMethod("privateGetTransfers",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsWithMethod("privateGetDeposits",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsWithMethod("privateGetWithdrawals",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({Complete:"ok"},e,e)}parseTransactionType(e){return this.safeString({Withdraw:"withdrawal",Deposit:"deposit"},e,e)}parseTransaction(e,t){var r=this.parse8601(this.safeString(e,"creationTime")),n=this.parse8601(this.safeString(e,"lastUpdate")),a=this.parseTransactionType(this.safeStringLower(e,"type"));"withdraw"===a&&(a="withdrawal");var i=this.safeValue(e,"paymentDetail",{}),s=this.safeString(i,"txId"),o=this.safeString(i,"address"),c=void 0;if(void 0!==o){var u=o.split("?dt=");u.length>1&&(o=u[0],c=u[1])}var d=o,f=c,l=this.safeFloat(e,"fee"),h=this.parseTransactionStatus(this.safeString(e,"status")),p=this.safeString(e,"assetName"),m=this.safeCurrencyCode(p),v=this.safeFloat(e,"amount");return l&&(v-=l),{id:this.safeString(e,"id"),txid:s,timestamp:r,datetime:this.iso8601(r),address:o,addressTo:d,addressFrom:void 0,tag:c,tagTo:f,tagFrom:void 0,type:a,amount:v,currency:m,status:h,updated:n,fee:{currency:m,cost:l},info:e}}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(n=r.sent,i=[],s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"baseAssetName"),u=t.safeString(o,"quoteAssetName"),d=t.safeString(o,"marketId"),f=t.safeCurrencyCode(c),l=t.safeCurrencyCode(u),h=f+"/"+l,p=t.safeValue(t.safeValue(t.options,"fees",{}),l,t.fees),m=t.safeFloat(o,"priceDecimals"),v=t.safeFloat(o,"amountDecimals"),b=t.safeFloat(o,"minOrderAmount"),g=t.safeFloat(o,"maxOrderAmount"),y=void 0,"AUD"===l&&(y=Math.pow(10,-m)),w={amount:v,price:m},k={amount:{min:b,max:g},price:{min:y,max:void 0},cost:{min:void 0,max:void 0}},i.push({info:o,id:d,symbol:h,base:f,quote:l,baseId:c,quoteId:u,active:void 0,maker:p.maker,taker:p.taker,limits:k,precision:w});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return n=r.sent,r.abrupt("return",t.parse8601(t.safeString(n,"timestamp")));case 4:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountsMeBalances(e);case 4:for(n=r.sent,i={info:n},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"assetName"),u=t.safeCurrencyCode(c),d=t.safeFloat(o,"balance"),f=t.safeFloat(o,"locked"),(l=t.account()).used=f,l.total=d,i[u]=l;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,0)),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={marketId:c.id,timeWindow:o.timeframes[t]},void 0!==r&&(u.from=o.iso8601(r)),void 0!==n&&(u.limit=n),a.next=8,o.publicGetMarketsMarketIdCandles(o.extend(u,s));case 8:return d=a.sent,a.abrupt("return",o.parseOHLCVs(d,c,t,r,n));case 10:case"end":return a.stop()}}),i)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.market(e),s={marketId:i.id},t.next=6,n.publicGetMarketsMarketIdOrderbook(n.extend(s,r));case 6:return o=t.sent,c=n.safeIntegerProduct(o,"snapshotId",.001),(u=n.parseOrderBook(o,c)).nonce=n.safeInteger(o,"snapshotId"),t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=void 0,a=this.safeString(e,"marketId");if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{var i=a.split("-"),s=n(i,2),o=s[0],c=s[1];r=this.safeCurrencyCode(o)+"/"+this.safeCurrencyCode(c)}void 0===r&&void 0!==t&&(r=t.symbol);var u=this.parse8601(this.safeString(e,"timestamp")),d=this.safeFloat(e,"lastPrice"),f=this.safeFloat(e,"volume24h"),l=this.safeFloat(e,"volumeQte24h"),h=this.vwap(f,l),p=this.safeFloat(e,"price24h"),m=this.safeFloat(e,"pricePct24h");return{symbol:r,timestamp:u,datetime:this.iso8601(u),high:this.safeFloat(e,"high24h"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bestBid"),bidVolume:void 0,ask:this.safeFloat(e,"bestAsk"),askVolume:void 0,vwap:h,open:void 0,close:d,last:d,previousClose:void 0,change:p,percentage:m,average:void 0,baseVolume:f,quoteVolume:l,info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={marketId:i.id},n.next=6,r.publicGetMarketsMarketIdTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchTicker2(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={id:i.id},n.next=6,r.publicGetMarketIdTick(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeString(e,"marketId"),i=void 0,s=void 0,o=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{var c=a.split("-"),u=n(c,2),d=u[0],f=u[1];i=(s=this.safeCurrencyCode(d))+"/"+(o=this.safeCurrencyCode(f))}void 0===i&&void 0!==t&&(i=t.symbol,s=t.base,o=t.quote);var l=void 0;l="AUD"===o?o:s;var h=this.safeString(e,"side");"Bid"===h?h="buy":"Ask"===h&&(h="sell");var p=this.safeString(e,"id"),m=this.safeFloat(e,"price"),v=this.safeFloat(e,"amount"),b=void 0;void 0!==v&&void 0!==m&&(b=v*m);var g=this.safeString(e,"orderId"),y=void 0,w=this.safeFloat(e,"fee");void 0!==w&&(y={cost:w,currency:l});var k=this.safeStringLower(e,"liquidityType");return{info:e,id:p,timestamp:r,datetime:this.iso8601(r),order:g,symbol:i,type:void 0,side:h,price:m,amount:v,cost:b,takerOrMaker:k,fee:y}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={marketId:o.id},a.next=6,s.publicGetMarketsMarketIdTrades(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var u=this;return i(a.mark((function i(){var d,f,l,h,p,m,v,b,g;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.loadMarkets();case 2:if(d=u.market(e),f={marketId:d.id,amount:u.amountToPrecision(e,n),side:"buy"===r?"Bid":"Ask"},l=t.toLowerCase(),h=u.safeValue(u.options,"orderTypes",{limit:"Limit",market:"Market",stop:"Stop","stop limit":"Stop Limit","take profit":"Take Profit"}),f.type=u.safeString(h,l,t),p=!1,m=!1,"limit"===l?p=!0:"stop limit"===l?(m=!0,p=!0):("take profit"===l||"stop"===l)&&(m=!0),!p){a.next=16;break}if(void 0!==s){a.next=15;break}throw new c(u.id+" createOrder() requires a price argument for a "+t+"order");case 15:f.price=u.priceToPrecision(e,s);case 16:if(!m){a.next=24;break}if(v=u.safeFloat(o,"triggerPrice"),o=u.omit(o,"triggerPrice"),void 0!==v){a.next=23;break}throw new c(u.id+" createOrder() requires a triggerPrice parameter for a "+t+"order");case 23:f.triggerPrice=u.priceToPrecision(e,v);case 24:return void 0!==(b=u.safeString(o,"clientOrderId"))&&(f.clientOrderId=b),o=u.omit(o,"clientOrderId"),a.next=29,u.privatePostOrders(u.extend(f,o));case 29:return g=a.sent,a.abrupt("return",u.parseOrder(g,d));case 31:case"end":return a.stop()}}),i)})))()}cancelOrders(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:for(i=0;i<e.length;i++)e[i]=parseInt(e[i]);return s={ids:e},t.next=6,n.privateDeleteBatchordersIds(n.extend(s,r));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={id:e},t.next=5,n.privateDeleteOrdersId(n.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=void 0,d=void 0;return"AUD"===o.quote?(u=o.quote,d=parseFloat(this.costToPrecision(e,n*a))):(u=o.base,d=parseFloat(this.amountToPrecision(e,n))),{type:i,currency:u,rate:c,cost:parseFloat(this.feeToPrecision(e,c*d))}}parseOrderStatus(e){return this.safeString({Accepted:"open",Placed:"open","Partially Matched":"open","Fully Matched":"closed",Cancelled:"canceled","Partially Cancelled":"canceled",Failed:"rejected"},e,e)}parseOrder(e,t){var r=this.parse8601(this.safeString(e,"creationTime")),a=this.safeString(e,"marketId"),i=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{var s=a.split("-"),o=n(s,2),c=o[0],u=o[1];i=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(u)}void 0===i&&void 0!==t&&(i=t.symbol);var d=this.safeString(e,"side");"Bid"===d?d="buy":"Ask"===d&&(d="sell");var f=this.safeStringLower(e,"type"),l=this.safeFloat(e,"price"),h=this.safeFloat(e,"amount"),p=this.safeFloat(e,"openAmount"),m=void 0;void 0!==h&&void 0!==p&&(m=Math.max(0,h-p));var v=this.parseOrderStatus(this.safeString(e,"status")),b=void 0;void 0!==l&&void 0!==m&&(b=l*m);var g=this.safeString(e,"orderId"),y=this.safeString(e,"clientOrderId"),w=this.safeString(e,"timeInForce"),k=this.safeFloat(e,"triggerPrice"),x=this.safeValue(e,"postOnly");return{info:e,id:g,clientOrderId:y,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:i,type:f,timeInForce:w,postOnly:x,side:d,price:l,stopPrice:k,cost:b,amount:h,filled:m,remaining:p,average:void 0,status:v,trades:void 0,fee:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={id:e},t.next=5,n.privateGetOrdersId(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={status:"all"},c=void 0,void 0!==e&&(c=s.market(e),o.marketId=c.id),void 0!==t&&(o.after=t),void 0!==r&&(o.limit=r),a.next=9,s.privateGetOrders(s.extend(o,n));case 9:return u=a.sent,a.abrupt("return",s.parseOrders(u,c,t,r));case 11:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={status:"open"},a.next=3,s.fetchOrders(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrders(e,t,r,n);case 2:return o=a.sent,a.abrupt("return",s.filterBy(o,"status","closed"));case 4:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.marketId=c.id),void 0!==t&&(o.after=t),void 0!==r&&(o.limit=r),a.next=9,s.privateGetTrades(s.extend(o,n));case 9:return u=a.sent,a.abrupt("return",s.parseTrades(u,c,t,r));case 11:case"end":return a.stop()}}),i)})))()}lookupSymbolFromMarketId(e){var t=void 0,r=void 0;if(void 0!==e)if(e in this.markets_by_id)t=this.markets_by_id[e];else{var a=e.split("-"),i=n(a,2),s=i[0],o=i[1];r=this.safeCurrencyCode(s)+"/"+this.safeCurrencyCode(o)}return void 0===r&&void 0!==t&&(r=t.symbol),r}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.keysort(this.omit(n,this.extractParams(e)));if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=this.base64ToBinary(this.encode(this.secret)),d=r+s+c;"GET"===r||"DELETE"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):d+=i=this.json(o);var f=this.hmac(this.encode(d),u,"sha512","base64");a={Accept:"application/json","Accept-Charset":"UTF-8","Content-Type":"application/json","BM-AUTH-APIKEY":this.apiKey,"BM-AUTH-TIMESTAMP":c,"BM-AUTH-SIGNATURE":f}}else"public"===t&&Object.keys(o).length&&(s+="?"+this.urlencode(o));return{url:this.urls.api[t]+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){if("success"in s&&!s.success){var d=this.safeString(s,"errorCode"),f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,f),new u(f)}if(e>=400){var l=this.safeString(s,"code"),h=this.safeString(s,"message"),p=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,l,p),this.throwExactlyMatchedException(this.exceptions,h,p),new u(p)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,signIn:!0},urls:{referral:"https://btc-trade.com.ua/registration/22689",logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"dash",quoteId:"btc"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH",baseId:"dash",quoteId:"uah"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH",baseId:"doge",quoteId:"uah"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH",baseId:"iti",quoteId:"uah"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH",baseId:"krb",quoteId:"uah"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH",baseId:"ltc",quoteId:"uah"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC",baseId:"nvc",quoteId:"btc"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH",baseId:"nvc",quoteId:"uah"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC",baseId:"ppc",quoteId:"btc"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH",baseId:"sib",quoteId:"uah"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH",baseId:"xmr",quoteId:"uah"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH",baseId:"zec",quoteId:"uah"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}signIn(e={}){var t=this;return a(n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privatePostAuth(e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"accounts"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(c,"balance"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={symbol:a.id},t.next=6,i.publicGetTradesBuySymbol(i.extend(s,r));case 6:return o=t.sent,t.next=9,i.publicGetTradesSellSymbol(i.extend(s,r));case 9:return c=t.sent,u={bids:[],asks:[]},o&&"list"in o&&(u.bids=o.list),c&&"list"in c&&(u.asks=c.list),t.abrupt("return",i.parseOrderBook(u,void 0,"bids","asks","price","currency_trade"));case 14:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={symbol:r.marketId(e)},n.next=5,r.publicGetJapanStatHighSymbol(r.extend(i,t));case 5:if(s=n.sent,o=r.safeValue(s,"trades"),c=r.milliseconds(),u={symbol:e,timestamp:c,datetime:r.iso8601(c),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:o},(d=o.length)>0){for(f=Math.max(d-48,0),l=f;l<o.length;l++)h=o[l],void 0===u.open&&(u.open=h[1]),(void 0===u.high||u.high<h[2])&&(u.high=h[2]),(void 0===u.low||u.low>h[3])&&(u.low=h[3]),void 0===u.baseVolume?u.baseVolume=-h[5]:u.baseVolume-=h[5];p=d-1,u.last=o[p][4],u.close=u.last,u.baseVolume=-1*u.baseVolume}return n.abrupt("return",u);case 12:case"end":return n.stop()}}),a)})))()}convertCyrillicMonthNameToString(e){return this.safeString({"\u044f\u043d\u0432\u0430\u0440\u044f":"01","\u0444\u0435\u0432\u0440\u0430\u043b\u044f":"02","\u043c\u0430\u0440\u0442\u0430":"03","\u0430\u043f\u0440\u0435\u043b\u044f":"04","\u043c\u0430\u044f":"05","\u0438\u044e\u043d\u044f":"06","\u0438\u044e\u043b\u044f":"07","\u0430\u0432\u0433\u0443\u0441\u0442\u0430":"08","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":"09","\u043e\u043a\u0442\u044f\u0431\u0440\u044f":"10","\u043d\u043e\u044f\u0431\u0440\u044f":"11","\u0434\u0435\u043a\u0430\u0431\u0440\u044f":"12"},e)}parseCyrillicDatetime(e){var t=e.split(" "),r=t[0],n=this.convertCyrillicMonthNameToString(t[1]);if(!n)throw new o(this.id+" parseTrade() undefined month name: "+e);var a=t[2],i=t[4];7===i.length&&(i="0"+i),1===r.length&&(r="0"+r);var s=[a,n,r].join("-")+"T"+i,c=this.parse8601(s),u=[n,r].join("");return(u=parseInt(u))<325||u>1028?c-72e5:c-108e5}parseTrade(e,t){var r=this.parseCyrillicDatetime(this.safeString(e,"pub_date")),n=this.safeString(e,"id"),a=this.safeString(e,"type"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amnt_trade"),o=void 0;void 0!==s&&void 0!==i&&(o=i*s);var c=void 0;return void 0!==t&&(c=t.symbol),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,type:"limit",side:a,order:void 0,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetDealsSymbol(s.extend(c,i));case 6:for(u=n.sent,d=[],f=0;f<u.length;f++)u[f].id%2&&d.push(u[f]);return n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("market"!==t){n.next=2;break}throw new o(u.id+" allows limit orders only");case 2:return n.next=4,u.loadMarkets();case 4:return d=u.market(e),f="privatePost"+u.capitalize(r)+"Id",l={count:i,currency1:d.quoteId,currency:d.baseId,price:s},n.abrupt("return",u[f](u.extend(l,c)));case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e},t.next=3,i.privatePostRemoveOrderId(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}parseOrder(e,t){var r=this.milliseconds(),n=void 0;return void 0!==t&&(n=t.symbol),{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:n,type:void 0,timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:this.safeFloat(e,"price"),stopPrice:void 0,amount:this.safeFloat(e,"amnt_trade"),filled:0,remaining:this.safeFloat(e,"amnt_trade"),trades:void 0,info:e,cost:void 0,average:void 0,fee:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={symbol:o.id},n.next=8,s.privatePostMyOrdersSymbol(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,"your_open_orders"),n.abrupt("return",s.parseOrders(f,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+=this.implodeParams(e,o));else{this.checkRequiredCredentials();var c=this.nonce(),u=(i=this.urlencode(this.extend({out_order_id:c,nonce:c},o)))+this.secret;a={"public-key":this.apiKey,"api-sign":this.hash(this.encode(u),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153926-efbef500-c2c0-11ea-9842-05b63612c4b9.jpg",api:"https://www.btcturk.com/api",www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["ohlcdata","orderbook","ticker","trades"]},private:{get:["balance","openOrders","userTransactions"],post:["exchange","cancelOrder"]}},fees:{trading:{maker:.00236,taker:.003*1.18}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTicker(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"pair"),u=c.slice(0,3),d=c.slice(3,6),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),u=u.toLowerCase(),d=d.toLowerCase(),h=f+"/"+l,p={amount:8,price:8},!0,i.push({id:c,symbol:h,base:f,quote:l,baseId:u,quoteId:d,active:!0,info:o,precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:Math.pow(10,-p.price),max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.currencies[c],d=u.id+"_available",f=u.id+"_balance",l=u.id+"_reserved",d in a&&((h=t.account()).free=t.safeFloat(a,d),h.total=t.safeFloat(a,f),h.used=t.safeFloat(a,l),i[c]=h);return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={pairSymbol:a.id},t.next=6,i.publicGetOrderbook(i.extend(s,r));case 6:return o=t.sent,c=i.safeTimestamp(o,"timestamp"),t.abrupt("return",i.parseOrderBook(o,c));case 9:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=void 0;t&&(r=t.symbol);var n=this.safeTimestamp(e,"timestamp"),a=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"average"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=i[o],u=r.safeString(c,"pair"),d=u,f=void 0,u in r.markets_by_id&&(f=r.markets_by_id[d],d=f.symbol),s[d]=r.parseTicker(c,f);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.fetchTickers(t);case 5:return s=n.sent,n.abrupt("return",r.safeValue2(s,i.id,e));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==i&&void 0!==a&&(s=i*a);var o=void 0;return void 0!==t&&(o=t.symbol),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pairSymbol:o.id},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"Time")),this.safeFloat(e,"Open"),this.safeFloat(e,"High"),this.safeFloat(e,"Low"),this.safeFloat(e,"Close"),this.safeFloat(e,"Volume")]}fetchOHLCV(e,t="1d",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={},void 0!==i&&(u.last=i),n.next=7,o.publicGetOhlcdata(o.extend(u,s));case 7:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,o,c={}){var u=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d={PairSymbol:u.marketId(e),OrderType:"buy"===r?0:1,OrderMethod:"market"===t?1:0},"market"!==t){n.next=8;break}if("Total"in c){n.next=6;break}throw new s(u.id+' createOrder() requires the "Total" extra parameter for market orders (amount and price are both ignored)');case 6:n.next=10;break;case 8:d.Price=o,d.Amount=i;case 10:return n.next=12,u.privatePostExchange(u.extend(d,c));case 12:return f=n.sent,l=u.safeString(f,"id"),n.abrupt("return",{info:f,id:l});case 15:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e},t.next=3,i.privatePostCancelOrder(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){if("btctrader"===this.id)throw new s(this.id+" is an abstract base API for BTCExchange, BTCTurk");var o=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var c=this.nonce().toString();i=this.urlencode(n);var u=this.base64ToBinary(this.secret),d=this.apiKey+c;a={"X-PCK":this.apiKey,"X-Stamp":c,"X-Signature":this.hmac(this.encode(d),u,"sha256","base64"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AddressPending,c=s.AuthenticationError,u=s.ExchangeError,d=s.NotSupported,f=s.PermissionDenied,l=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTrades:!0,fetchTicker:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:c,forbidden:f,invalid_record:u,not_found:u,parameter_missing:u,bad_parameter:u}})}fetchCurrencyInfo(e,t){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=5;break}return n.next=3,r.publicGetCurrencies();case 3:i=n.sent,t=r.safeValue(i,"currencies");case 5:s=0;case 6:if(!(s<t.length)){n.next=13;break}if((o=t[s]).id!==e){n.next=10;break}return n.abrupt("return",o);case 10:s++,n.next=6;break;case 13:return n.abrupt("return",void 0);case 14:case"end":return n.stop()}}),a)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:return a=r.sent,i=t.safeValue(a,"markets"),r.next=6,t.publicGetCurrencies();case 6:s=r.sent,o=t.safeValue(s,"currencies"),c=[],u=0;case 10:if(!(u<i.length)){r.next=31;break}return d=i[u],f=t.safeString(d,"id"),l=t.safeString(d,"base_currency"),h=t.safeString(d,"quote_currency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),r.next=19,t.fetchCurrencyInfo(l,o);case 19:return v=r.sent,r.next=22,t.fetchCurrencyInfo(h,o);case 22:b=r.sent,g=p+"/"+m,y={amount:v.input_decimals,price:b.input_decimals},(w={amount:{min:parseFloat(d.minimum_order_amount[0]),max:void 0},price:{min:Math.pow(10,-y.price),max:void 0}}).cost={min:w.amount.min*w.price.min,max:void 0},c.push({id:f,symbol:g,base:p,quote:m,baseId:l,quoteId:h,active:!0,precision:y,limits:w,info:d});case 28:u++,r.next=10;break;case 31:return r.abrupt("return",c);case 32:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function e(){var r,a,i,s,o,c,u,d,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.publicGetCurrencies();case 2:r=e.sent,a=r.currencies,i={},s=0;case 6:if(!(s<a.length)){e.next=18;break}if((o=a[s]).managed){e.next=10;break}return e.abrupt("continue",15);case 10:c=t.safeString(o,"id"),u=t.safeCurrencyCode(c),d=t.safeFloat(o,"input_decimals"),f=Math.pow(10,-d),i[u]={id:c,code:u,info:o,name:void 0,active:!0,fee:void 0,precision:d,limits:{amount:{min:f,max:void 0},price:{min:f,max:void 0},cost:{min:void 0,max:void 0},deposit:{min:parseFloat(o.deposit_minimum[0]),max:void 0},withdraw:{min:parseFloat(o.withdrawal_minimum[0])}}};case 15:s++,e.next=6;break;case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})))()}fetchFundingFees(e,t={}){var r=this;return a(n.mark((function t(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.loadMarkets();case 2:a={},i={},s={},void 0===e&&(e=Object.keys(r.currencies)),o=0;case 7:if(!(o<e.length)){t.next=23;break}return c=e[o],u=r.currency(c),d={currency:u.id},t.next=13,r.publicGetCurrenciesCurrencyFeesWithdrawal(d);case 13:return f=t.sent,t.next=16,r.publicGetCurrenciesCurrencyFeesDeposit(d);case 16:l=t.sent,a[c]=r.parseFundingFee(f.fee),i[c]=r.parseFundingFee(l.fee),s[c]={withdraw:f,deposit:l};case 20:o++,t.next=7;break;case 23:return t.abrupt("return",{withdraw:a,deposit:i,info:s});case 24:case"end":return t.stop()}}),t)})))()}parseFundingFee(e,t){return void 0===t&&(t=e.name),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e.base[1],rate:e.percent,cost:parseFloat(e.base[0])}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetMarketsMarketTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"ticker"),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=parseFloat(e.last_price[0]),i=parseFloat(e.price_variation_24h),s=parseFloat(this.priceToPrecision(n,a/(i+1))),o=a-s,c=this.sum(a,s)/2;return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.max_bid[0]),bidVolume:void 0,ask:parseFloat(e.min_ask[0]),askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:s,change:o,percentage:100*i,average:c,baseVolume:parseFloat(e.volume[0]),quoteVolume:void 0,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetMarketsMarketTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u.trades.entries,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,o=void 0,c=void 0;return t&&(o=t.symbol),Array.isArray(e)&&(r=parseInt(e[0]),c=(a=parseFloat(e[1]))*(i=parseFloat(e[2])),n=e[3],s=e[4].toString()),{id:s,order:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:n,takerOrMaker:void 0,price:a,amount:i,cost:c,fee:void 0}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={market:a.id},t.next=6,i.publicGetMarketsMarketOrderBook(i.extend(s,r));case 6:return o=t.sent,c=i.safeValue(o,"order_book"),t.abrupt("return",i.parseOrderBook(c));case 9:case"end":return t.stop()}}),t)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===r&&(r=o.milliseconds()-864e5),u={symbol:c.id,resolution:o.timeframes[t],from:r/1e3,to:o.seconds()},n.next=7,o.publicGetTvHistory(o.extend(u,s));case 7:return d=n.sent,n.abrupt("return",o.parseTradingViewOHLCV(d,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalances(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"balances"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"id"),d=t.safeCurrencyCode(u),(f=t.account()).free=parseFloat(c.available_amount[0]),f.total=parseFloat(c.amount[0]),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:parseInt(e)},t.next=5,i.privateGetOrdersId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"order"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),c={market:o.id,per:r},n.next=7,s.privateGetMarketsMarketOrders(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"orders"),n.abrupt("return",s.parseOrders(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={state:"pending"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={state:"traded"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return r="buy"===r?"Bid":"Ask",u={market:c.marketId(e),price_type:t,type:r,amount:c.amountToPrecision(e,i)},"limit"===t&&(u.limit=c.priceToPrecision(e,s)),n.next=7,c.privatePostMarketsMarketOrders(c.extend(u,o));case 7:return d=n.sent,f=c.safeValue(d,"order"),n.abrupt("return",c.parseOrder(f));case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:parseInt(e),state:"canceling"},t.next=5,i.privatePutOrdersId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"order"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({traded:"closed",received:"open",canceling:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"market_id"),i=this.safeSymbol(a,t,"-"),s=this.safeString(e,"price_type"),o=this.safeStringLower(e,"type"),c=this.parseOrderStatus(this.safeString(e,"state")),u=this.safeValue(e,"original_amount",[]),d=this.safeFloat(u,0),f=this.safeValue(e,"amount",[]),l=this.safeFloat(f,0),h=this.safeValue(e,"traded_amount",[]),p=this.safeFloat(h,0),m=this.safeValue(e,"totalExchanged",[]),v=this.safeFloat(m,0),b=this.safeValue(e,"limit",[]),g=this.safeFloat(b,0);void 0===g&&void 0!==b&&(g=b);var y=void 0;void 0!==v&&void 0!==p&&p>0&&(y=this.priceToPrecision(i,v/p));var w=this.safeValue(e,"paid_fee",[]),k=this.safeFloat(w,0),x=void 0;if(void 0!==k){var _=this.safeString(w,1);x={cost:k,code:this.safeCurrencyCode(_)}}return{info:e,id:r,clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:i,type:s,timeInForce:void 0,postOnly:void 0,side:o,price:g,stopPrice:void 0,average:y,cost:v,amount:d,filled:p,remaining:l,trades:void 0,fee:x}}isFiat(e){return this.safeValue({ARS:!0,CLP:!0,COP:!0,PEN:!0},e,!1)}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.currency(e),!r.isFiat(e)){n.next=5;break}throw new d(r.id+" fetchDepositAddress() for fiat "+e+" is not supported");case 5:return s={currency:i.id},n.next=8,r.privateGetCurrenciesCurrencyReceiveAddresses(r.extend(s,t));case 8:for(c=n.sent,u=r.safeValue(c,"receive_addresses"),f=[],l=1;l<u.length;l++)(h=u[l]).ready&&(p=h.address,r.checkAddress(p),f.push(p));if(!(f.length<1)){n.next=15;break}throw new o(r.id+": there are no addresses ready for receiving "+e+", retry again later)");case 15:return m=f[0],n.abrupt("return",{currency:e,address:m,tag:void 0,info:u});case 17:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.currency(e),!r.isFiat(e)){n.next=5;break}throw new d(r.id+": fiat fetchDepositAddress() for "+e+" is not supported");case 5:return s={currency:i.id},n.next=8,r.privatePostCurrenciesCurrencyReceiveAddresses(r.extend(s,t));case 8:return o=n.sent,c=r.safeString(o.receive_address,"address"),n.abrupt("return",{currency:e,address:c,tag:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a,t),s=parseFloat(e.amount[0]),o=parseFloat(e.fee[0]),c=e.fee[1],u=this.parseTransactionStatus(this.safeString(e,"state")),d="deposit_data"in e?"deposit":"withdrawal",f=this.safeValue(e,d+"_data",{}),l=this.safeValue(f,"target_address"),h=this.safeString(f,"tx_hash"),p=this.parse8601(this.safeString(f,"updated_at"));return{info:e,id:r,txid:h,timestamp:n,datetime:this.iso8601(n),address:l,type:d,amount:s,currency:i,status:u,updated:p,fee:{cost:o,rate:c}}}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==e){n.next=4;break}throw new l(s.id+": fetchDeposits() requires a currency code argument");case 4:return o=s.currency(e),c={currency:o.id,per:r},n.next=8,s.privateGetCurrenciesCurrencyDeposits(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"deposits"),n.abrupt("return",s.parseTransactions(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==e){n.next=4;break}throw new l(s.id+": fetchDeposits() requires a currency code argument");case 4:return o=s.currency(e),c={currency:o.id,per:r},n.next=8,s.privateGetCurrenciesCurrencyWithdrawals(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"withdrawals"),n.abrupt("return",s.parseTransactions(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return i=o.currency(e),c={currency:i.id,amount:t,withdrawal_data:{target_address:r}},n.next=7,o.privatePostCurrenciesCurrencyWithdrawals(o.extend(c,s));case 7:return u=n.sent,d=o.safeValue(u,"withdrawal"),n.abrupt("return",o.parseTransaction(d));case 10:case"end":return n.stop()}}),a)})))()}nonce(){return this.microseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));Object.keys(o).length&&("GET"===r?s+="?"+this.urlencode(o):i=this.json(o));var c=this.urls.api+"/"+this.version+"/"+s;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=[r,"/api/"+this.version+"/"+s];if(i){var f=this.stringToBase64(i);d.push(this.decode(f))}d.push(u);var l=d.join(" "),h=this.hmac(this.encode(l),this.encode(this.secret),"sha384");a={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":h,"X-SBTC-NONCE":u,"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&e>=400){var d=this.safeString(s,"code"),f=this.safeString(s,"message",i),l=this.id+" "+f;if(void 0!==d)throw this.throwExactlyMatchedException(this.exceptions,d,l),new u(l)}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.RateLimitExceeded,u=o.BadSymbol,d=o.OrderNotFound,f=o.ExchangeError,l=o.AuthenticationError,h=o.ArgumentsRequired,p=o.ExchangeNotAvailable;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bw",name:"BW",countries:["CN"],rateLimit:1500,version:"v1",has:{cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!1,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchL2OrderBook:!1,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!0,privateAPI:!1,publicAPI:!1,withdraw:!1},timeframes:{"1m":"1M","5m":"5M","15m":"15M","30m":"30M","1h":"1H","1w":"1W"},hostname:"bw.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/69436317-31128c80-0d52-11ea-91d1-eb7bb5818812.jpg",api:"https://www.{hostname}",www:"https://www.bw.com",doc:"https://github.com/bw-exchange/api_docs_en/wiki",fees:"https://www.bw.com/feesRate",referral:"https://www.bw.com/regGetCommission/N3JuT1R3bWxKTE0"},requiredCredentials:{apiKey:!0,secret:!0},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{}},exceptions:{exact:{999:l,1e3:p,2012:d,5017:u,10001:c}},api:{public:{get:["api/data/v1/klines","api/data/v1/ticker","api/data/v1/tickers","api/data/v1/trades","api/data/v1/entrusts","exchange/config/controller/website/marketcontroller/getByWebId","exchange/config/controller/website/currencycontroller/getCurrencyList"]},private:{get:["exchange/entrust/controller/website/EntrustController/getEntrustById","exchange/entrust/controller/website/EntrustController/getUserEntrustRecordFromCacheWithPage","exchange/entrust/controller/website/EntrustController/getUserEntrustList","exchange/fund/controller/website/fundwebsitecontroller/getwithdrawaddress","exchange/fund/controller/website/fundwebsitecontroller/getpayoutcoinrecord","exchange/entrust/controller/website/EntrustController/getUserEntrustList"],post:["exchange/fund/controller/website/fundcontroller/getPayinAddress","exchange/fund/controller/website/fundcontroller/getPayinCoinRecord","exchange/fund/controller/website/fundcontroller/findbypage","exchange/entrust/controller/website/EntrustController/addEntrust","exchange/entrust/controller/website/EntrustController/cancelEntrust"]}}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeConfigControllerWebsiteMarketcontrollerGetByWebId(e);case 2:for(i=r.sent,s=t.safeValue(i,"datas",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"marketId"),f=parseInt(d),l=t.safeStringUpper(u,"name"),h=l.split("_"),p=a(h,2),m=p[0],v=p[1],m=t.safeCurrencyCode(m),v=t.safeCurrencyCode(v),b=t.safeString(u,"sellerCurrencyId"),g=t.safeString(u,"buyerCurrencyId"),y=parseInt(b),w=parseInt(g),k=m+"/"+v,x=t.safeInteger(u,"state"),_=1===x,S=t.safeFloat(u,"defaultFee"),o.push({id:d,active:_,numericId:f,symbol:k,base:m,quote:v,baseId:b,quoteId:g,baseNumericId:y,quoteNumericId:w,maker:S,taker:S,info:u,precision:{amount:t.safeInteger(u,"amountDecimal"),price:t.safeInteger(u,"priceDecimal")},limits:{amount:{min:t.safeFloat(u,"minAmount"),max:void 0},price:{min:0,max:void 0},cost:{min:0,max:void 0}}});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeConfigControllerWebsiteCurrencycontrollerGetCurrencyList(e);case 2:for(a=r.sent,i=t.safeValue(a,"datas",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currencyId"),d=t.safeCurrencyCode(t.safeStringUpper(c,"name")),f=t.safeInteger(c,"state"),l=1===f,s[d]={id:u,code:d,info:c,name:d,active:l,fee:t.safeFloat(c,"drawFee"),precision:void 0,limits:{amount:{min:t.safeFloat(c,"limitAmount",0),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:t.safeFloat(c,"onceDrawLimit")}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeString(e,0),n=this.safeSymbol(r,t),a=this.milliseconds(),i=parseFloat(this.safeValue(e,1)),s=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:n,timestamp:a,datetime:this.iso8601(a),high:parseFloat(this.safeValue(e,2)),low:parseFloat(this.safeValue(e,3)),bid:parseFloat(this.safeValue(e,7)),bidVolume:this.safeFloat(s,"quantity"),ask:parseFloat(this.safeValue(e,8)),askVolume:this.safeFloat(o,"quantity"),vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:parseFloat(this.safeValue(e,5)),percentage:void 0,average:void 0,baseVolume:parseFloat(this.safeValue(e,4)),quoteVolume:parseFloat(this.safeValue(e,9)),info:e}}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={marketId:i.id},n.next=6,r.publicGetApiDataV1Ticker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"datas",[]),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetApiDataV1Tickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"datas",[]),o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,(void 0===e||r.inArray(d,e))&&(o[d]=u);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(e),o={marketId:s.id},void 0!==t&&(o.dataSize=t),n.next=7,a.publicGetApiDataV1Entrusts(a.extend(o,r));case 7:return c=n.sent,u=a.safeValue(c,"datas",[]),d=a.safeTimestamp(u,"timestamp"),n.abrupt("return",a.parseOrderBook(u,d));case 11:case"end":return n.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,2),n=this.safeFloat(e,5),i=this.safeFloat(e,6),s=this.safeString(e,1),o=void 0;if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{var c=this.safeString(e,3).split("_"),u=a(c,2),d=u[0],f=u[1];o=this.safeCurrencyCode(d)+"/"+this.safeCurrencyCode(f)}void 0===o&&void 0!==t&&(o=t.symbol);var l=void 0;void 0!==i&&void 0!==n&&(l=this.costToPrecision(o,n*i));var h="ask"===this.safeString(e,4)?"sell":"buy";return{id:void 0,timestamp:r,datetime:this.iso8601(r),symbol:o,order:void 0,type:"limit",side:h,takerOrMaker:void 0,price:n,amount:i,cost:parseFloat(l),fee:void 0,info:e}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={marketId:o.id},void 0!==r&&(c.dataSize=r),n.next=7,s.publicGetApiDataV1Trades(s.extend(c,a));case 7:return u=n.sent,d=s.safeValue(u,"datas",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,3),this.safeFloat(e,4),this.safeFloat(e,5),this.safeFloat(e,6),this.safeFloat(e,7),this.safeFloat(e,8)]}fetchOHLCV(e,t="1m",r,a,s={}){var o=this;return i(n.mark((function i(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={marketId:c.id,type:o.timeframes[t],dataSize:500},void 0!==a&&(u.dataSize=a),n.next=7,o.publicGetApiDataV1Klines(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"datas",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,a));case 10:case"end":return n.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostExchangeFundControllerWebsiteFundcontrollerFindbypage(e);case 4:for(a=r.sent,i=t.safeValue(a,"datas",{}),s=t.safeValue(i,"list",[]),o={info:a},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"currencyTypeId"),f=t.safeCurrencyCode(d),(l=t.account()).free=t.safeFloat(u,"amount"),l.used=t.safeFloat(u,"freeze"),o[f]=l;return r.abrupt("return",t.parseBalance(o));case 10:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==s){n.next=2;break}throw new f(c.id+" allows limit orders only");case 2:return n.next=4,c.loadMarkets();case 4:return u=c.market(e),d={amount:c.amountToPrecision(e,a),price:c.priceToPrecision(e,s),type:"buy"===r?1:0,rangeType:0,marketId:u.id},n.next=8,c.privatePostExchangeEntrustControllerWebsiteEntrustControllerAddEntrust(c.extend(d,o));case 8:return l=n.sent,h=c.safeValue(l,"datas"),p=c.safeString(h,"entrustId"),n.abrupt("return",{id:p,info:l,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:r,price:s,amount:a,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:"open",fee:void 0,trades:void 0,clientOrderId:void 0});case 12:case"end":return n.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({"-3":"canceled","-2":"canceled","-1":"canceled",0:"open",1:"canceled",2:"closed",3:"open",4:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"marketId"),n=this.safeSymbol(r,t),a=this.safeInteger(e,"createTime"),i=this.safeString(e,"type");"0"===i?i="sell":"1"===i&&(i="buy");var s=this.safeFloat(e,"amount"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"completeAmount"),u=this.safeFloat2(e,"availabelAmount","availableAmount"),d=this.safeFloat(e,"totalMoney");void 0!==c&&(void 0!==s&&void 0===u&&(u=s-c),void 0===d&&void 0!==o&&(d*=c));var f=this.parseOrderStatus(this.safeString(e,"status"));return{info:e,id:this.safeString(e,"entrustId"),clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:n,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:o,stopPrice:void 0,amount:s,cost:d,average:void 0,filled:c,remaining:u,status:f,fee:void 0,trades:void 0}}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new h(a.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,a.loadMarkets();case 4:return s=a.market(t),o={marketId:s.id,entrustId:e},n.next=8,a.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetEntrustById(a.extend(o,r));case 8:return c=n.sent,u=a.safeValue(c,"datas",{}),n.abrupt("return",a.parseOrder(u,s));case 11:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new h(a.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,a.loadMarkets();case 4:return s=a.market(t),o={marketId:s.id,entrustId:e},n.next=8,a.privatePostExchangeEntrustControllerWebsiteEntrustControllerCancelEntrust(a.extend(o,r));case 8:return c=n.sent,n.abrupt("return",{info:c,id:e});case 10:case"end":return n.stop()}}),i)})))()}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={marketId:o.id},void 0!==r&&(c.pageSize=r),n.next=9,s.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustRecordFromCacheWithPage(s.extend(c,a));case 9:return u=n.sent,d=s.safeValue(u,"datas",{}),f=s.safeValue(d,"entrustList",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 13:case"end":return n.stop()}}),i)})))()}fetchClosedOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchClosedOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={marketId:o.id},void 0!==r&&(c.pageSize=r),void 0!==t&&(c.startDateTime=t),n.next=10,s.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(s.extend(c,a));case 10:return u=n.sent,d=s.safeValue(u,"datas",{}),f=s.safeValue(d,"entrustList",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 14:case"end":return n.stop()}}),i)})))()}fetchOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={marketId:o.id},void 0!==t&&(c.startDateTime=t),void 0!==r&&(c.pageSize=r),n.next=10,s.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(s.extend(c,a));case 10:return u=n.sent,d=s.safeValue(u,"datas",{}),f=s.safeValue(d,"entrustList",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 14:case"end":return n.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api,{hostname:this.hostname})+"/"+e;if("GET"===r?Object.keys(n).length&&(s+="?"+this.urlencode(n)):i=this.json(n),"private"===t){var o=this.milliseconds().toString(),c="";if("GET"===r)for(var u=this.keysort(n),d=Object.keys(u),f=0;f<d.length;f++){var l=d[f];c+=l+u[l].toString()}else c=i;var h=this.apiKey+o+c+this.secret,p=this.hash(this.encode(h),"md5");a||(a={}),a.Apiid=this.apiKey,a.Timestamp=o,a.Sign=p}return{url:s,method:r,body:i,headers:a}}fetchDepositAddress(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currencyTypeName:i.name},n.next=6,r.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"datas",{}),u=r.safeString(c,"address"),d=r.safeString(c,"memo"),r.checkAddress(u),n.abrupt("return",{currency:e,address:r.checkAddress(u),tag:d,info:o});case 12:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({"-1":"canceled",0:"pending",1:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"depositId","withdrawalId"),n=this.safeString2(e,"depositAddress","withdrawalAddress"),a=this.safeString2(e,"currencyId","currencyTypeId"),i=void 0;a in this.currencies_by_id&&(t=this.currencies_by_id[a]),void 0===i&&void 0!==t&&(i=t.code);var s="depositId"in e?"deposit":"withdrawal",o=this.safeFloat2(e,"actuallyAmount","amount"),c=this.parseTransactionStatus(this.safeString2(e,"verifyStatus","state")),u=this.safeInteger(e,"createTime"),d=this.safeString(e,"txId"),f=void 0,l=this.safeFloat(e,"fees");return void 0!==l&&(f={cost:l,currency:i}),{info:e,id:r,txid:d,timestamp:u,datetime:this.iso8601(u),addressFrom:void 0,address:n,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:s,amount:o,currency:i,status:c,updated:void 0,fee:f}}fetchDeposits(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchDeposits() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currencyTypeName:o.name},void 0!==r&&(c.pageSize=r),n.next=9,s.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(s.extend(c,a));case 9:return u=n.sent,d=s.safeValue(u,"datas",{}),f=s.safeValue(d,"list",[]),n.abrupt("return",s.parseTransactions(f,e,t,r));case 13:case"end":return n.stop()}}),i)})))()}fetchWithdrawals(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(s.id+" fetchWithdrawals() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currencyId:o.id},void 0!==r&&(c.pageSize=r),n.next=9,s.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(s.extend(c,a));case 9:return u=n.sent,d=s.safeValue(u,"datas",{}),f=s.safeValue(d,"list",[]),n.abrupt("return",s.parseTransactions(f,e,t,r));case 13:case"end":return n.stop()}}),i)})))()}handleErrors(e,t,r,n,a,i,s,o,c){if(s){var u=this.safeValue(s,"resMsg"),d=this.safeString(u,"code");if("1"!==d){var l=this.id+" "+this.json(s);throw this.throwExactlyMatchedException(this.exceptions.exact,d,l),new f(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(16).TICK_SIZE,o=r(6),c=o.AuthenticationError,u=o.ExchangeError,d=o.ArgumentsRequired,f=o.PermissionDenied,l=o.InvalidOrder,h=o.OrderNotFound,p=o.InsufficientFunds,m=o.BadRequest,v=o.RateLimitExceeded,b=o.InvalidNonce;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bybit",name:"Bybit",countries:["VG"],version:"v2",userAgent:void 0,rateLimit:100,hostname:"bybit.com",has:{cancelOrder:!0,CORS:!0,cancelAllOrders:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0},timeframes:{"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"D","1w":"W","1M":"M","1y":"Y"},urls:{test:"https://api-testnet.{hostname}",logo:"https://user-images.githubusercontent.com/51840849/76547799-daff5b80-649e-11ea-87fb-3be9bac08954.jpg",api:"https://api.{hostname}",www:"https://www.bybit.com",doc:["https://bybit-exchange.github.io/docs/inverse/","https://bybit-exchange.github.io/docs/linear/","https://github.com/bybit-exchange"],fees:"https://help.bybit.com/hc/en-us/articles/360039261154",referral:"https://www.bybit.com/app/register?ref=X7Prm"},api:{v2:{public:{get:["orderBook/L2","kline/list","tickers","trading-records","symbols","liq-records","mark-price-kline","index-price-kline","premium-index-kline","open-interest","big-deal","account-ratio","time","announcement"]},private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list","funding/prev-funding-rate","funding/prev-funding","funding/predicted-funding","account/api-key","account/lcp","wallet/balance","wallet/fund/records","wallet/withdraw/list","exchange-order/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save"]}},public:{linear:{get:["kline","recent-trading-records","funding/prev-funding-rate","mark-price-kline","index-price-kline","premium-index-kline","risk-limit"]}},private:{linear:{get:["order/list","order/search","stop-order/list","stop-order/search","position/list","trade/execution/list","trade/closed-pnl/list","funding/predicted-funding","funding/prev-funding"],post:["order/create","order/cancel","order/cancel-all","order/replace","stop-order/create","stop-order/cancel","stop-order/cancel-all","stop-order/replace","position/set-auto-add-margin","position/switch-isolated","tpsl/switch-mode","position/add-margin","position/set-leverage","position/trading-stop"]}},openapi:{wallet:{get:["risk-limit/list"],post:["risk-limit"]}}},httpExceptions:{403:v},exceptions:{exact:{10001:m,10002:b,10003:c,10004:c,10005:f,10006:v,10007:c,10010:f,10017:m,20001:h,20003:l,20004:l,20005:l,20006:l,20007:l,20008:l,20009:l,20010:l,20011:l,20012:l,20013:l,20014:l,20015:l,20016:l,20017:l,20018:l,20019:l,20020:l,20021:l,20022:m,20023:m,20031:m,20070:m,20071:m,20084:m,30001:m,30003:l,30004:l,30005:l,30007:l,30008:l,30009:u,30010:p,30011:f,30012:f,30013:f,30014:l,30015:l,30016:u,30017:l,30018:l,30019:l,30020:l,30021:l,30022:l,30023:l,30024:l,30025:l,30026:l,30027:l,30028:l,30029:l,30030:l,30031:p,30032:l,30033:v,30034:h,30035:v,30036:u,30037:l,30041:u,30042:p,30043:f,30044:f,30045:f,30049:p,30050:u,30051:u,30052:u,30054:u,30057:u,30063:u,30067:p,30068:u,34026:u},broad:{"unknown orderInfo":h,"invalid api_key":c}},precisionMode:s,options:{marketTypes:{"BTC/USDT":"linear","BCH/USDT":"linear","ETH/USDT":"linear","LTC/USDT":"linear","XTZ/USDT":"linear","LINK/USDT":"linear"},code:"BTC",cancelAllOrders:{},recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:75e-5,maker:-25e-5},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}}})}nonce(){return this.milliseconds()-this.options.timeDifference}loadTimeDifference(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchTime(e);case 2:return a=r.sent,i=t.milliseconds(),t.options.timeDifference=i-a,r.abrupt("return",t.options.timeDifference);case 6:case"end":return r.stop()}}),r)})))()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.v2PublicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeTimestamp(a,"time_now"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.options.adjustForTimeDifference){r.next=3;break}return r.next=3,t.loadTimeDifference();case 3:return r.next=5,t.v2PublicGetSymbols(e);case 5:for(a=r.sent,i=t.safeValue(a,"result",[]),s=t.safeValue(t.options,"fetchMarkets",{}),o=t.safeValue(s,"linear",{USDT:!0}),c=[],u=0;u<i.length;u++)d=i[u],f=t.safeString2(d,"name","symbol"),l=t.safeString(d,"base_currency"),h=t.safeString(d,"quote_currency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),b=!(v=m in o),g=p+"/"+m,p+m!==f&&(g=f),y=t.safeValue(d,"lot_size_filter",{}),w=t.safeValue(d,"price_filter",{}),k={amount:t.safeFloat(y,"qty_step"),price:t.safeFloat(w,"tick_size")},x=t.safeString(d,"status"),_=void 0,void 0!==x&&(_="Trading"===x),c.push({id:f,symbol:g,base:p,quote:m,active:_,precision:k,taker:t.safeFloat(d,"taker_fee"),maker:t.safeFloat(d,"maker_fee"),type:"future",spot:!1,future:!0,option:!1,linear:v,inverse:b,limits:{amount:{min:t.safeFloat(y,"min_trading_qty"),max:t.safeFloat(y,"max_trading_qty")},price:{min:t.safeFloat(w,"min_price"),max:t.safeFloat(w,"max_price")},cost:{min:void 0,max:void 0}},info:d});return r.abrupt("return",c);case 12:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.safeFloat(e,"last_price"),i=this.safeFloat(e,"prev_price_24h"),s=this.safeFloat(e,"price_24h_pcnt");void 0!==s&&(s*=100);var o=void 0,c=void 0;void 0!==a&&void 0!==i&&(o=a-i,c=this.sum(i,a)/2);var u=this.safeFloat(e,"turnover_24h"),d=this.safeFloat(e,"volume_24h"),f=this.vwap(u,d);return{symbol:n,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high_price_24h"),low:this.safeFloat(e,"low_price_24h"),bid:this.safeFloat(e,"bid_price"),bidVolume:void 0,ask:this.safeFloat(e,"ask_price"),askVolume:void 0,vwap:f,open:i,close:a,last:a,previousClose:void 0,change:o,percentage:s,average:c,baseVolume:u,quoteVolume:d,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.v2PublicGetTickers(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",[]),u=r.safeValue(c,0),d=r.safeTimestamp(o,"time_now"),(f=r.parseTicker(u,i)).timestamp=d,f.datetime=r.iso8601(d),n.abrupt("return",f);case 14:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.v2PublicGetTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"result",[]),o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,o[d]=u;return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp2(e,"open_time","start_at"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat2(e,"turnover","volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),u={symbol:c.id,interval:o.timeframes[t]},f=o.parseTimeframe(t),l=o.seconds(),void 0!==r){n.next=14;break}if(void 0!==i){n.next=11;break}throw new d(o.id+" fetchOHLCV() requires a since argument or a limit argument");case 11:u.from=l-i*f;case 12:n.next=15;break;case 14:u.from=parseInt(r/1e3);case 15:return void 0!==i&&(u.limit=i),h=o.safeValue(o.options,"marketTypes",{}),p=o.safeString(h,e),m="linear"===p?"publicLinearGetKline":"v2PublicGetKlineList",n.next=21,o[m](o.extend(u,s));case 21:return v=n.sent,b=o.safeValue(v,"result",{}),n.abrupt("return",o.parseOHLCVs(b,c,t,r,i));case 24:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString2(e,"id","exec_id"),n=this.safeString(e,"symbol"),a=(t=this.safeMarket(n,t)).symbol,i=this.safeFloat2(e,"qty","exec_qty"),s=this.safeFloat(e,"exec_value"),o=this.safeFloat2(e,"exec_price","price");void 0===s&&void 0!==i&&void 0!==o&&(s=i*o);var c=this.parse8601(this.safeString(e,"time"));void 0===c&&(c=this.safeInteger(e,"trade_time_ms"));var u=this.safeStringLower(e,"side"),d="AddedLiquidity"===this.safeString(e,"last_liquidity_ind")?"maker":"taker",f=this.safeFloat(e,"exec_fee"),l=void 0;void 0!==f&&(l={cost:f,currency:t.inverse?t.base:t.quote,rate:this.safeFloat(e,"fee_rate")});return{id:r,info:e,timestamp:c,datetime:this.iso8601(c),symbol:a,order:this.safeString(e,"order_id"),type:this.safeStringLower(e,"order_type"),side:u,takerOrMaker:d,price:o,amount:i,cost:s,fee:l}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.count=r),u=s.safeValue(s.options,"marketTypes",{}),d=s.safeString(u,e),f="linear"===d?"publicLinearGetRecentTradingRecords":"v2PublicGetTradingRecords",n.next=10,s[f](s.extend(c,i));case 10:return l=n.sent,h=s.safeValue(l,"result",{}),n.abrupt("return",s.parseTrades(h,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseOrderBook(e,t,r="Buy",n="Sell",a="price",i="size"){for(var s=[],o=[],c=0;c<e.length;c++){var d=e[c],f=this.safeString(d,"side");if("Buy"===f)s.push(this.parseBidAsk(d,a,i));else{if("Sell"!==f)throw new u(this.id+" parseOrderBook encountered an unrecognized bidask format: "+this.json(d));o.push(this.parseBidAsk(d,a,i))}}return{bids:this.sortBy(s,0,!0),asks:this.sortBy(o,0),timestamp:t,datetime:this.iso8601(t),nonce:void 0}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={symbol:a.id},t.next=6,i.v2PublicGetOrderBookL2(i.extend(s,r));case 6:return o=t.sent,c=i.safeValue(o,"result",[]),u=i.safeTimestamp(o,"time_now"),t.abrupt("return",i.parseOrderBook(c,u,"Buy","Sell","price","size"));case 10:case"end":return t.stop()}}),t)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={},i=t.safeString(e,"coin"),s=t.safeString(e,"code"),void 0!==i?a.coin=i:void 0!==s&&(o=t.currency(s),a.coin=o.id),r.next=8,t.v2PrivateGetWalletBalance(t.extend(a,e));case 8:for(c=r.sent,u={info:c},d=t.safeValue(c,"result",{}),f=Object.keys(d),l=0;l<f.length;l++)h=f[l],p=d[h],m=t.safeCurrencyCode(h),(v=t.account()).free=t.safeFloat(p,"available_balance"),v.used=t.safeFloat(p,"used_margin"),v.total=t.safeFloat(p,"equity"),u[m]=v;return r.abrupt("return",t.parseBalance(u));case 14:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({Created:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Cancelled:"canceled",PendingCancel:"canceling",Active:"open",Untriggered:"open",Triggered:"closed",Deactivated:"canceled"},e,e)}parseTimeInForce(e){return this.safeString({GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK",PostOnly:"PO"},e,e)}parseOrder(e,t){var r=this.safeString(e,"symbol");t=this.safeMarket(r,t);var n=void 0,a=void 0,i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString2(e,"order_id","stop_order_id"),o=this.safeStringLower(e,"order_type"),c=this.safeFloat(e,"price");0===c&&(c=void 0);var u=this.safeFloat(e,"average_price"),d=this.safeFloat(e,"qty"),f=this.safeFloat(e,"cum_exec_value"),l=this.safeFloat(e,"cum_exec_qty"),h=this.safeFloat(e,"leaves_qty");void 0!==t&&(n=t.symbol,a=t.base);var p=this.safeTimestamp(e,"last_exec_time");0===p&&(p=void 0),void 0===l&&void 0!==d&&void 0!==h&&(l=d-h),void 0!==l&&(void 0===h&&void 0!==d&&(h=d-l),void 0===f&&void 0!==c&&(f=c*l),"market"===o&&void 0!==f&&f>0&&(c=void 0,void 0===u&&(u=l/f)));var m=this.parseOrderStatus(this.safeString2(e,"order_status","stop_order_status")),v=this.safeStringLower(e,"side"),b=this.safeFloat(e,"cum_exec_fee"),g=void 0;void 0!==b&&(g={cost:b=Math.abs(b),currency:a});var y=this.safeString(e,"order_link_id");void 0!==y&&y.length<1&&(y=void 0);var w=this.parseTimeInForce(this.safeString(e,"time_in_force")),k=this.safeFloat(e,"stop_px"),x="PO"===w;return{info:e,id:s,clientOrderId:y,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:p,symbol:n,type:o,timeInForce:w,postOnly:x,side:v,price:c,stopPrice:k,amount:d,cost:f,average:u,filled:l,remaining:h,status:m,fee:g,trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new d(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={symbol:s.id},c=i.safeValue(i.options,"marketTypes",{}),u=i.safeString(c,t),f="linear"===u?"privateLinearGetOrderSearch":"v2PrivateGetOrder",void 0===i.safeString(r,"stop_order_id")?void 0===i.safeString(r,"order_link_id")&&(o.order_id=e):f="linear"===u?"privateLinearGetStopOrderSearch":"v2PrivateGetStopOrder",n.next=13,i[f](i.extend(o,r));case 13:return l=n.sent,h=i.safeValue(l,"result"),n.abrupt("return",i.parseOrder(h,s));case 16:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,f,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),f=c.amountToPrecision(e,i),f=u.inverse?parseInt(f):parseFloat(f),l={side:c.capitalize(r),symbol:u.id,order_type:c.capitalize(t),qty:f,time_in_force:"GoodTillCancel"},h=!1,"limit"===t&&(h=!0),!h){n.next=14;break}if(void 0===s){n.next=13;break}l.price=parseFloat(c.priceToPrecision(e,s)),n.next=14;break;case 13:throw new d(c.id+" createOrder() requires a price argument for a "+t+" order");case 14:if(void 0!==(p=c.safeString2(o,"order_link_id","clientOrderId"))&&(l.order_link_id=p,o=c.omit(o,["order_link_id","clientOrderId"])),m=c.safeValue2(o,"stop_px","stopPrice"),v=c.safeValue(o,"base_price"),b=c.safeValue(c.options,"marketTypes",{}),g=c.safeString(b,e),y="linear"===g?"privateLinearPostOrderCreate":"v2PrivatePostOrderCreate","linear"===g&&(y="privateLinearPostOrderCreate",l.reduce_only=!1,l.close_on_trigger=!1),void 0===m){n.next=33;break}if(void 0!==v){n.next=27;break}throw new d(c.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");case 27:y="linear"===g?"privateLinearPostStopOrderCreate":"v2PrivatePostStopOrderCreate",l.stop_px=parseFloat(c.priceToPrecision(e,m)),l.base_price=parseFloat(c.priceToPrecision(e,v)),o=c.omit(o,["stop_px","stopPrice","base_price"]);case 31:n.next=35;break;case 33:if(void 0===v){n.next=35;break}throw new d(c.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");case 35:return n.next=37,c[y](c.extend(l,o));case 37:return w=n.sent,k=c.safeValue(w,"result"),n.abrupt("return",c.parseOrder(k,u));case 40:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new d(u.id+" editOrder() requires an symbol argument");case 2:return a=u.safeValue(u.options,"marketTypes",{}),i=u.safeString(a,t),r.next=6,u.loadMarkets();case 6:return f=u.market(t),l={symbol:f.id},h="linear"===i?"privateLinearPostOrderReplace":"v2PrivatePostOrderReplace",void 0!==(p=u.safeString(c,"stop_order_id"))?(h="linear"===i?"privateLinearPostStopOrderReplace":"v2PrivatePostStopOrderReplace",l.stop_order_id=p,c=u.omit(c,["stop_order_id"])):l.order_id=e,void 0!==s&&(m=u.amountToPrecision(t,s),m=f.inverse?parseInt(m):parseFloat(m),l.p_r_qty=m),void 0!==o&&(l.p_r_price=parseFloat(u.priceToPrecision(t,o))),r.next=15,u[h](u.extend(l,c));case 15:return v=r.sent,b=u.safeValue(v,"result",{}),r.abrupt("return",{info:v,id:u.safeString2(b,"order_id","stop_order_id"),order_id:u.safeString(b,"order_id"),stop_order_id:u.safeString(b,"stop_order_id")});case 18:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new d(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={symbol:s.id},c=i.safeValue(i.options,"marketTypes",{}),u=i.safeValue(c,t),f="linear"===u?"privateLinearPostOrderCancel":"v2PrivatePostOrderCancel",void 0===i.safeString(r,"stop_order_id")?void 0===i.safeString(r,"order_link_id")&&(o.order_id=e):f="linear"===u?"privateLinearPostStopOrderCancel":"v2PrivatePostStopOrderCancel",n.next=13,i[f](i.extend(o,r));case 13:return l=n.sent,h=i.safeValue(l,"result",{}),n.abrupt("return",i.parseOrder(h,s));case 16:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.market(e),s={symbol:i.id},o=r.safeValue(r.options,"cancelAllOrders",{}),c=r.safeValue(r.options,"marketTypes",{}),u=r.safeString(c,e),f="linear"===u?"privateLinearPostOrderCancelAll":"v2PrivatePostOrderCancelAll",l=r.safeString(o,"method",f),n.next=13,r[l](r.extend(s,t));case 13:return h=n.sent,p=r.safeValue(h,"result",[]),n.abrupt("return",r.parseOrders(p,i));case 16:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.symbol=c.id),void 0!==r&&(o.limit=r),u=s.safeValue(s.options,"fetchOrders",{}),d=s.safeValue(s.options,"marketTypes",{}),f=s.safeString(d,e),l="linear"===f?"privateLinearGetOrderList":"v2PrivateGetOrderList",h=i,("stop_order_id"in i||"stop_order_status"in i)&&(void 0!==(p=s.safeValue(i,"stopOrderStatus"))&&(Array.isArray(p)&&(p=p.join(",")),o.stop_order_status=p,h=s.omit(i,"stop_order_status")),l="linear"===f?"privateLinearGetStopOrderList":"v2PrivateGetStopOrderList"),m=s.safeString(u,"method",l),n.next=15,s[m](s.extend(o,h));case 15:return v=n.sent,b=s.safeValue(v,"result",{}),g=s.safeValue(b,"data",[]),n.abrupt("return",s.parseOrders(g,c,t,r));case 19:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=["Rejected","Filled","Cancelled"],c=s.safeValue(s.options,"fetchClosedOrders",{}),u=s.safeValue(c,"order_status",o),Array.isArray(u)&&(u=u.join(",")),d={},void 0===(f=s.safeValue(i,"stop_order_status"))?d.order_status=u:d.stop_order_status=f,n.next=9,s.fetchOrders(e,t,r,s.extend(d,i));case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=["Created","New","PartiallyFilled","PendingCancel"],c=s.safeValue(s.options,"fetchOpenOrders",{}),u=s.safeValue(c,"order_status",o),Array.isArray(u)&&(u=u.join(",")),d={},void 0===(f=s.safeValue(i,"stop_order_status"))?d.order_status=u:d.stop_order_status=f,n.next=9,s.fetchOrders(e,t,r,s.extend(d,i));case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={order_id:e},n.next=3,o.fetchMyTrades(t,r,i,o.extend(c,s));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o={},c=void 0,void 0!==e){n.next=14;break}if(void 0!==(u=s.safeString(i,"order_id"))){n.next=10;break}throw new d(s.id+" fetchMyTrades() requires a symbol argument or an order_id param");case 10:o.order_id=u,i=s.omit(i,"order_id");case 12:n.next=16;break;case 14:c=s.market(e),o.symbol=c.id;case 16:return void 0!==t&&(o.start_time=t),void 0!==r&&(o.limit=r),f=s.safeValue(s.options,"marketTypes",{}),l=s.safeString(f,e),h="linear"===l?"privateLinearGetTradeExecutionList":"v2PrivateGetExecutionList",n.next=23,s[h](s.extend(o,i));case 23:return p=n.sent,m=s.safeValue(p,"result",{}),v=s.safeValue2(m,"trade_list","data",[]),n.abrupt("return",s.parseTrades(v,c,t,r));case 27:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={wallet_fund_type:"Deposit"},c=void 0,void 0!==e&&(c=s.currency(e),o.coin=c.id),void 0!==t&&(o.start_date=s.ymd(t)),void 0!==r&&(o.limit=r),n.next=9,s.v2PrivateGetWalletFundRecords(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTransactions(f,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.coin=c.id),void 0!==t&&(o.start_date=s.ymd(t)),void 0!==r&&(o.limit=r),n.next=9,s.v2PrivateGetWalletWithdrawList(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTransactions(f,c,t,r,i));case 13:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({ToBeConfirmed:"pending",UnderReview:"pending",Pending:"pending",Success:"ok",CancelByUser:"canceled",Reject:"rejected",Expire:"expired"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"coin"),n=this.safeCurrencyCode(r,t),a=this.parse8601(this.safeString2(e,"submited_at","exec_time")),i=this.parse8601(this.safeString(e,"updated_at")),s=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeString(e,"address"),c=this.safeFloat(e,"fee"),u=void 0;return void 0!==c&&(u={cost:c,currency:n}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx_id"),timestamp:a,datetime:this.iso8601(a),address:o,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:"withdrawal",amount:this.safeFloat(e,"amount"),currency:n,status:s,updated:i,fee:u}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.coin=c.id),void 0!==t&&(o.start_date=s.ymd(t)),void 0!==r&&(o.limit=r),n.next=9,s.v2PrivateGetWalletFundRecords(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseLedger(f,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseLedgerEntry(e,t){var r=this.safeString(e,"coin"),n=this.safeCurrencyCode(r,t),a=this.safeFloat(e,"amount"),i=this.safeFloat(e,"wallet_balance"),s=a<0?"out":"in",o=void 0;if(void 0!==i&&void 0!==a){var c="out"===s?a:-a;o=this.sum(i,c)}var u=this.parse8601(this.safeString(e,"exec_time")),d=this.parseLedgerEntryType(this.safeString(e,"type")),f=this.safeString(e,"id"),l=this.safeString(e,"tx_id");return{id:f,currency:n,account:this.safeString(e,"wallet_id"),referenceAccount:void 0,referenceId:l,status:void 0,amount:a,before:o,after:i,fee:void 0,direction:s,timestamp:u,datetime:this.iso8601(u),type:d,info:e}}parseLedgerEntryType(e){return this.safeString({Deposit:"transaction",Withdraw:"transaction",RealisedPNL:"trade",Commission:"fee",Refund:"cashback",Prize:"prize",ExchangeOrderWithdraw:"transaction",ExchangeOrderDeposit:"transaction"},e,e)}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api,{hostname:this.hostname}),o=this.safeString(t,0),c=this.safeString(t,1),u="/"+o+"/"+c+"/"+e;if("public"===c)Object.keys(n).length&&(u+="?"+this.rawencode(n));else if("public"===o)Object.keys(n).length&&(u+="?"+this.rawencode(n));else{this.checkRequiredCredentials();var d=this.nonce(),f=this.extend(n,{api_key:this.apiKey,recv_window:this.options.recvWindow,timestamp:d}),l=this.rawencode(this.keysort(f)),h=this.hmac(this.encode(l),this.encode(this.secret));"POST"===r?(i=this.json(this.extend(f,{sign:h})),a={"Content-Type":"application/json"}):u+="?"+l+"&sign="+h}return{url:s+=u,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(s){var d=this.safeValue(s,"ret_code");if(0!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,i,f),new u(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.BadRequest,d=s.AuthenticationError,f=s.DDoSProtection,l=s.BadResponse,h=r(16),p=h.TRUNCATE,m=h.NO_PADDING,v=h.DECIMAL_PLACES;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"bytetrade",name:"ByteTrade",countries:["HK"],rateLimit:500,requiresWeb3:!0,certified:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","5d":"5d","1w":"1w","1M":"1M"},urls:{test:{market:"https://api-v2-test.byte-trade.com",public:"https://api-v2-test.byte-trade.com"},logo:"https://user-images.githubusercontent.com/1294454/67288762-2f04a600-f4e6-11e9-9fd6-c60641919491.jpg",api:{market:"https://api-v2.byte-trade.com",public:"https://api-v2.byte-trade.com"},www:"https://www.byte-trade.com",doc:"https://docs.byte-trade.com/#description"},api:{market:{get:["klines","depth","trades","tickers"]},public:{get:["symbols","currencies","balance","orders/open","orders/closed","orders/all","orders","orders/trades","depositaddress","withdrawals","deposits","transfers"],post:["transaction/createorder","transaction/cancelorder","transaction/withdraw","transaction/transfer"]}},fees:{trading:{taker:8e-4,maker:8e-4}},commonCurrencies:{1:"ByteTrade",44:"ByteHub",48:"Blocktonic",133:"TerraCredit"},exceptions:{"vertify error":d,"verify error":d,"transaction already in network":u,"invalid argument":u}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"code"),u=void 0,u=c in t.commonCurrencies?t.commonCurrencies[c]:t.safeString(o,"name"),d=t.safeString(o,"fullname"),f=t.safeValue(o,"active"),l=t.safeValue(o,"limits"),h=t.safeValue(l,"deposit"),p=t.safeInteger(o,"basePrecision"),-1===(m=t.safeFloat(h,"max"))&&(m=void 0),v=t.safeValue(l,"withdraw"),-1===(b=t.safeFloat(v,"max"))&&(b=void 0),i[u]={id:c,code:u,name:d,active:f,precision:p,fee:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},deposit:{min:t.safeFloat(h,"min"),max:m},withdraw:{min:t.safeFloat(v,"min"),max:b}},info:o};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSymbols(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeString(o,"baseName"),d=t.safeString(o,"quoteName"),f=t.safeString(o,"base"),l=t.safeString(o,"quote"),h=u.split("@"+f)[0],p=d.split("@"+l)[0],"126"===l&&(p="ZAR"),m=h+"/"+p,f in t.commonCurrencies&&(u=t.commonCurrencies[f]),l in t.commonCurrencies&&(d=t.commonCurrencies[l]),v=u+"/"+d,b=t.safeValue(o,"limits",{}),g=t.safeValue(b,"amount",{}),y=t.safeValue(b,"price",{}),w=t.safeValue(o,"precision",{}),k=t.safeString(o,"active"),x={id:c,symbol:v,base:u,quote:d,baseId:f,quoteId:l,info:o,active:k,precision:{amount:t.safeInteger(w,"amount"),price:t.safeInteger(w,"price")},normalSymbol:m,limits:{amount:{min:t.safeFloat(g,"min"),max:t.safeFloat(g,"max")},price:{min:t.safeFloat(y,"min"),max:t.safeFloat(y,"max")},cost:{min:void 0,max:void 0}}},i.push(x);return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("userid"in e||void 0!==t.apiKey){r.next=2;break}throw new c(t.id+" fetchDeposits() requires this.apiKey or userid argument");case 2:return r.next=4,t.loadMarkets();case 4:return a={userid:t.apiKey},r.next=7,t.publicGetBalance(t.extend(a,e));case 7:for(i=r.sent,s={info:i},o=0;o<i.length;o++)u=i[o],d=t.safeString(u,"code"),f=t.safeCurrencyCode(d,void 0),(l=t.account()).free=t.safeFloat(u,"free"),l.used=t.safeFloat(u,"used"),s[f]=l;return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id},void 0!==t&&(o.limit=t),n.next=7,i.marketGetDepth(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"timestamp"),d=i.parseOrderBook(c,u),n.abrupt("return",d);case 11:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"timestamp"),n=void 0,a=this.safeString(e,"symbol");if(a in this.markets_by_id)t=this.markets_by_id[a];else{var i=this.safeString(e,"base"),s=this.safeString(e,"quote");if(void 0!==i&&void 0!==s)n=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}return void 0===n&&void 0!==t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"open"),close:this.safeFloat(e,"close"),last:this.safeFloat(e,"last"),previousClose:void 0,change:this.safeFloat(e,"change"),percentage:this.safeFloat(e,"percentage"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.marketGetTickers(r.extend(s,t));case 6:if(o=n.sent,!Array.isArray(o)){n.next=12;break}if(void 0!==(c=r.safeValue(o,0))){n.next=11;break}throw new l(r.id+" fetchTicker() returned an empty response");case 11:return n.abrupt("return",r.parseTicker(c,i));case 12:return n.abrupt("return",r.parseTicker(o,i));case 13:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchBidsAsks(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.marketGetDepth(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.marketGetTickers(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,timeframe:o.timeframes[t]},void 0!==r&&(u.since=r),void 0!==i&&(u.limit=i),n.next=8,o.marketGetKlines(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=this.safeFloat(e,"cost"),s=this.safeString(e,"id"),o=this.safeString(e,"type"),c=this.safeString(e,"takerOrMaker"),u=this.safeString(e,"side"),d=this.iso8601(r),f=this.safeString(e,"order"),l=this.safeValue(e,"fee"),h=void 0;if(void 0===t){var p=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,p)}return void 0!==t&&(h=t.symbol),{info:e,timestamp:r,datetime:d,symbol:h,id:s,order:f,type:o,takerOrMaker:c,side:u,price:n,amount:a,cost:i,fee:l}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==t&&(c.since=t),void 0!==r&&(c.limit=r),n.next=8,s.marketGetTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeString(e,"status"),n=void 0,a=this.safeString(e,"symbol");if(a in this.markets_by_id)t=this.markets_by_id[a];else{var i=this.safeString(e,"base"),s=this.safeString(e,"quote");if(void 0!==i&&void 0!==s)n=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}void 0===n&&void 0!==t&&(n=t.symbol);var o=this.safeInteger(e,"timestamp"),c=this.safeString(e,"datetime"),u=this.safeInteger(e,"lastTradeTimestamp"),d=this.safeFloat(e,"price"),f=this.safeFloat(e,"amount"),l=this.safeFloat(e,"filled"),h=this.safeFloat(e,"remaining"),p=this.safeFloat(e,"cost"),m=this.safeFloat(e,"average");return{info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:o,datetime:c,lastTradeTimestamp:u,symbol:n,type:this.safeString(e,"type"),timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"side"),price:d,stopPrice:void 0,amount:f,cost:p,average:m,filled:l,remaining:h,status:r,fee:this.safeValue(e,"fee"),trades:void 0}}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X,W,Z,Y,Q;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u.checkRequiredDependencies(),void 0!==u.apiKey){n.next=3;break}throw new c("createOrder() requires this.apiKey or userid in params");case 3:return n.next=5,u.loadMarkets();case 5:return d=u.market(e),f=void 0,l=void 0,f="sell"===r?1:2,"limit"===t?l=1:(l=2,s=0),h=d.normalSymbol,p=d.baseId,m=u.currency(d.base),v=u.amountToPrecision(e,i),b=u.toWei(v,m.precision),g=d.quoteId,y=u.currency(d.quote),w=u.priceToPrecision(e,s),k=u.toWei(w,y.precision),x=u.milliseconds(),_=u.milliseconds(),S=(S=u.iso8601(x)).split(".")[0],T=(T=u.iso8601(_)).split(".")[0],"Sagittarius",O=u.safeString(o,"dappId","Sagittarius"),A=u.safeString(u.options,"fee","300000000000000"),M=u.safeString(o,"totalFeeRate",8),E=u.safeString(o,"chainFeeRate",1),C=u.safeString(o,"fee",A),I=u.integerPow("2","64"),F=[u.numberToBE(1,32),u.numberToLE(Math.floor(x/1e3),4),u.numberToLE(1,1),u.numberToLE(Math.floor(_/1e3),4),u.numberToLE(1,1),u.numberToLE(32,1),u.numberToLE(0,8),u.numberToLE(C,8),u.numberToLE(u.apiKey.length,1),u.stringToBinary(u.encode(u.apiKey)),u.numberToLE(f,1),u.numberToLE(l,1),u.numberToLE(h.length,1),u.stringToBinary(u.encode(h)),u.numberToLE(u.integerDivide(b,I),8),u.numberToLE(u.integerModulo(b,I),8),u.numberToLE(u.integerDivide(k,I),8),u.numberToLE(u.integerModulo(k,I),8),u.numberToLE(0,2),u.numberToLE(Math.floor(x/1e3),4),u.numberToLE(Math.floor(_/1e3),4),u.numberToLE(1,1),u.numberToLE(parseInt(E),2),u.numberToLE(1,1),u.numberToLE(parseInt(M),2),u.numberToLE(parseInt(g),4),u.numberToLE(parseInt(p),4),u.numberToLE(0,1),u.numberToLE(1,1),u.numberToLE(O.length,1),u.stringToBinary(u.encode(O)),u.numberToLE(0,1)],P=[u.numberToLE(Math.floor(x/1e3),4),u.numberToLE(1,1),u.numberToLE(Math.floor(_/1e3),4),u.numberToLE(1,1),u.numberToLE(32,1),u.numberToLE(0,8),u.numberToLE(C,8),u.numberToLE(u.apiKey.length,1),u.stringToBinary(u.encode(u.apiKey)),u.numberToLE(f,1),u.numberToLE(l,1),u.numberToLE(h.length,1),u.stringToBinary(u.encode(h)),u.numberToLE(u.integerDivide(b,I),8),u.numberToLE(u.integerModulo(b,I),8),u.numberToLE(u.integerDivide(k,I),8),u.numberToLE(u.integerModulo(k,I),8),u.numberToLE(0,2),u.numberToLE(Math.floor(x/1e3),4),u.numberToLE(Math.floor(_/1e3),4),u.numberToLE(1,1),u.numberToLE(parseInt(E),2),u.numberToLE(1,1),u.numberToLE(parseInt(M),2),u.numberToLE(parseInt(g),4),u.numberToLE(parseInt(p),4),u.numberToLE(0,1),u.numberToLE(1,1),u.numberToLE(O.length,1),u.stringToBinary(u.encode(O)),u.numberToLE(0,1)],B=u.binaryConcatArray(P),R=u.hash(B,"sha256","hex"),L=R.slice(0,40),N=[u.numberToLE(L.length,1),u.stringToBinary(u.encode(L)),u.numberToBE(0,4)],D=u.binaryConcatArray(N),V=u.hash(D,"sha256","hex"),j=V.slice(0,40),U=u.binaryConcatArray(F),q=u.hash(U,"sha256","hex"),G=u.ecdsa(q,u.secret,"secp256k1",void 0,!0),H=u.binaryToBase16(u.numberToLE(u.sum(G.v,31),1)),z=H+G.r+G.s,K={now:S,expiration:T,fee:C,creator:u.apiKey,side:f,order_type:l,market_name:h,amount:b,price:k,use_btt_as_fee:!1,money_id:parseInt(g),stock_id:parseInt(p),custom_no_btt_fee_rate:parseInt(M),custom_btt_fee_rate:parseInt(E)},J={timestamp:S,expiration:T,operations:[[32,K]],validate_type:0,dapp:O,signatures:[z]},X={trObj:u.json(J)},n.next=51,u.publicPostTransactionCreateorder(X);case 51:return W=n.sent,Z=u.milliseconds(),Y=u.safe_string(W,"code"),Q="0"===Y?"open":"failed",n.abrupt("return",{info:W,id:j,timestamp:Z,datetime:u.iso8601(Z),lastTradeTimestamp:void 0,status:Q,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0});case 56:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("userid"in r||void 0!==i.apiKey){n.next=2;break}throw new c("fetchOrder() requires this.apiKey or userid argument");case 2:return n.next=4,i.loadMarkets();case 4:return s={userid:i.apiKey},o=void 0,void 0!==t&&(o=i.markets[t],s.symbol=o.id),s.id=e,n.next=10,i.publicGetOrders(i.extend(s,r));case 10:return u=n.sent,n.abrupt("return",i.parseOrder(u,o));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("userid"in i||void 0!==s.apiKey){n.next=2;break}throw new c("fetchOpenOrders() requires this.apiKey or userid argument");case 2:return n.next=4,s.loadMarkets();case 4:return o={userid:s.apiKey},u=void 0,void 0!==e&&(u=s.market(e),o.symbol=u.id),void 0!==r&&(o.limit=r),n.next=10,s.publicGetOrdersOpen(s.extend(o,i));case 10:return d=n.sent,n.abrupt("return",s.parseOrders(d,u,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("userid"in i||void 0!==s.apiKey){n.next=2;break}throw new c("fetchClosedOrders() requires this.apiKey or userid argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=void 0,u={userid:s.apiKey},void 0!==e&&(o=s.market(e),u.symbol=o.id),void 0!==r&&(u.limit=r),n.next=10,s.publicGetOrdersClosed(s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseOrders(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("userid"in i||void 0!==s.apiKey){n.next=2;break}throw new c("fetchOrders() requires this.apiKey or userid argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=void 0,u={userid:s.apiKey},void 0!==e&&(o=s.market(e),u.symbol=o.id),void 0!==r&&(u.limit=r),n.next=10,s.publicGetOrdersAll(s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseOrders(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==i.apiKey){n.next=2;break}throw new c("cancelOrder() requires hasAlreadyAuthenticatedSuccessfully");case 2:if(void 0!==t){n.next=4;break}throw new c(i.id+" cancelOrder() requires a symbol argument");case 4:return n.next=6,i.loadMarkets();case 6:return s=i.market(t),o=s.baseId,u=s.quoteId,d=s.normalSymbol,"300000000000000",f=i.milliseconds(),0,l=(l=i.iso8601(f)).split(".")[0],h=(h=i.iso8601(0)).split(".")[0],"Sagittarius",p=i.safeString(r,"dappId","Sagittarius"),m=[i.numberToBE(1,32),i.numberToLE(Math.floor(f/1e3),4),i.numberToLE(1,1),i.numberToLE(0,4),i.numberToLE(1,1),i.numberToLE(33,1),i.numberToLE(0,8),i.numberToLE("300000000000000",8),i.numberToLE(i.apiKey.length,1),i.stringToBinary(i.encode(i.apiKey)),i.numberToLE(d.length,1),i.stringToBinary(i.encode(d)),i.base16ToBinary(e),i.numberToLE(parseInt(u),4),i.numberToLE(parseInt(o),4),i.numberToLE(0,1),i.numberToLE(1,1),i.numberToLE(p.length,1),i.stringToBinary(i.encode(p)),i.numberToLE(0,1)],v=i.binaryConcatArray(m),b=i.hash(v,"sha256","hex"),g=i.ecdsa(b,i.secret,"secp256k1",void 0,!0),y=i.binaryToBase16(i.numberToLE(i.sum(g.v,31),1)),w=y+g.r+g.s,k={fee:"300000000000000",creator:i.apiKey,order_id:e,market_name:d,money_id:parseInt(u),stock_id:parseInt(o)},x={timestamp:l,expiration:h,operations:[[33,k]],validate_type:0,dapp:p,signatures:[w]},_={trObj:i.json(x)},n.next=30,i.publicPostTransactionCancelorder(_);case 30:return S=n.sent,T=i.milliseconds(),O=i.safe_string(S,"code"),A="0"===O?"canceled":"failed",n.abrupt("return",{info:S,id:void 0,timestamp:T,datetime:i.iso8601(T),lastTradeTimestamp:void 0,status:A,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0});case 35:case"end":return n.stop()}}),a)})))()}transfer(e,t,r,i="",s={}){var o=this;return a(n.mark((function a(){var u,d,f,l,h,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.checkRequiredDependencies(),void 0!==o.apiKey){n.next=3;break}throw new c("transfer() requires this.apiKey");case 3:return n.next=5,o.loadMarkets();case 5:return u=o.currency(e),d=o.decimalToPrecision(t,p,u.info.basePrecision-u.info.transferPrecision,v,m),f=o.toWei(d,u.precision),l=parseInt(u.id),h=o.milliseconds(),b=h,g=(g=o.iso8601(h)).split(".")[0],y=(y=o.iso8601(b)).split(".")[0],"300000000000000","Sagittarius",w=o.safeString(s,"dappId","Sagittarius"),k=o.integerPow("2","64"),x=[o.numberToBE(1,32),o.numberToLE(Math.floor(h/1e3),4),o.numberToLE(1,1),o.numberToLE(Math.floor(b/1e3),4),o.numberToLE(1,1),o.numberToLE(28,1),o.numberToLE(0,8),o.numberToLE("300000000000000",8),o.numberToLE(o.apiKey.length,1),o.stringToBinary(o.encode(o.apiKey)),o.numberToLE(r.length,1),o.stringToBinary(o.encode(r)),o.numberToLE(l,4),o.numberToLE(o.integerDivide(f,k),8),o.numberToLE(o.integerModulo(f,k),8),o.numberToLE(1,1),o.numberToLE(i.length,1),o.stringToBinary(o.encode(i)),o.numberToLE(0,1),o.numberToLE(1,1),o.numberToLE(w.length,1),o.stringToBinary(o.encode(w)),o.numberToLE(0,1)],_=o.binaryConcatArray(x),S=o.hash(_,"sha256","hex"),T=o.ecdsa(S,o.secret,"secp256k1",void 0,!0),O=o.binaryToBase16(o.numberToLE(o.sum(T.v,31),1)),A=O+T.r+T.s,M={fee:"300000000000000",from:o.apiKey,to:r,asset_type:parseInt(u.id),amount:f.toString(),message:i},E={timestamp:g,expiration:y,operations:[[28,M]],validate_type:0,dapp:w,signatures:[A]},C={trObj:o.json(E)},n.next=30,o.publicPostTransactionTransfer(C);case 30:return I=n.sent,F=o.milliseconds(),P=o.safe_string(I,"code"),B="",B="0"===P?"submit success":"submit fail",n.abrupt("return",{info:I,id:"",timestamp:F,datetime:o.iso8601(F),lastTradeTimestamp:void 0,status:B,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,fee:void 0,clientOrderId:void 0,average:void 0,trades:void 0});case 36:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("userid"in i||void 0!==s.apiKey){n.next=2;break}throw new c("fetchMyTrades() requires this.apiKey or userid argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={userid:s.apiKey},void 0!==e&&(u.symbol=o.id),void 0!==r&&(u.limit=r),n.next=10,s.publicGetOrdersTrades(s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if("userid"in i||void 0!==s.apiKey){n.next=4;break}throw new c("fetchDeposits() requires this.apiKey or userid argument");case 4:return o=void 0,u={userid:s.apiKey},void 0!==e&&(o=s.currency(e),u.currency=o.id),void 0!==t&&(u.since=t),void 0!==r&&(u.limit=r),n.next=11,s.publicGetDeposits(s.extend(u,i));case 11:return d=n.sent,n.abrupt("return",s.parseTransactions(d,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if("userid"in i||void 0!==s.apiKey){n.next=4;break}throw new c("fetchWithdrawals() requires this.apiKey or userid argument");case 4:return o=void 0,u={userid:s.apiKey},void 0!==e&&(o=s.currency(e),u.currency=o.id),void 0!==t&&(u.since=t),void 0!==r&&(u.limit=r),n.next=11,s.publicGetWithdrawals(s.extend(u,i));case 11:return d=n.sent,n.abrupt("return",s.parseTransactions(d,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({DEPOSIT_FAILED:"failed",FEE_SEND_FAILED:"failed",FEE_FAILED:"failed",PAY_SEND_FAILED:"failed",PAY_FAILED:"failed",BTT_FAILED:"failed",WITHDDRAW_FAILED:"failed",USER_FAILED:"failed",FEE_EXECUED:"pending",PAY_EXECUED:"pending",WITHDDRAW_EXECUTED:"pending",USER_EXECUED:"pending",BTT_SUCCED:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString(e,"tag");void 0!==a&&a.length<1&&(a=void 0);var i=this.safeValue(e,"txid"),s=this.safeString(e,"code"),o=this.safeCurrencyCode(s,t),c=this.safeInteger(e,"timestamp"),u=this.safeString(e,"datetime"),d=this.safeString(e,"type"),f=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"amount"),h=this.safeValue(e,"fee"),p=this.safeFloat(h,"cost"),m=this.safeString(h,"code");return{info:e,id:r,txid:i,timestamp:c,datetime:u,address:n,tag:a,type:d,amount:l,currency:o,status:f,updated:void 0,fee:{cost:p,currency:this.safeCurrencyCode(m,t)}}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if("userid"in t||void 0!==r.apiKey){n.next=4;break}throw new c("fetchDepositAddress() requires this.apiKey or userid argument");case 4:return i=r.currency(e),s={userid:r.apiKey,code:i.id},n.next=8,r.publicGetDepositaddress(s);case 8:return o=n.sent,u=r.safeString(o[0],"address"),d=r.safeString(o[0],"tag"),f=r.safeString(o[0],"chainType"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:d,chainType:f,info:o});case 14:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,u,d,f,l,h,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkRequiredDependencies(),o.checkAddress(r),n.next=4,o.loadMarkets();case 4:if(void 0!==o.apiKey){n.next=6;break}throw new c(o.id+" withdraw() requires this.apiKey");case 6:return n.next=8,o.fetchDepositAddress(e);case 8:return i=n.sent,u=o.safeString(i,"chainType"),d=o.safeString(i.info[0],"chainId"),f="",f="eos"===u?r:o.safeString(i,"address"),l=18,"ethereum"!==u&&"etc"!==u&&"eos"!==u&&"cmt"!==u&&"naka"!==u&&(l=26),h=o.milliseconds(),0,b=(b=o.iso8601(h)).split(".")[0],g=(g=o.iso8601(0)).split(".")[0],"Sagittarius",y=o.safeString(s,"dappId","Sagittarius"),w="300000000000000",k=o.currency(e),x=k.id,_=o.decimalToPrecision(t,p,k.info.basePrecision-k.info.transferPrecision,v,m),S=o.toWei(_,k.info.externalPrecision),T=o.integerPow("2","64"),O=0,A=[],26===l?(O=k.info.fee,A=[o.numberToBE(1,32),o.numberToLE(Math.floor(h/1e3),4),o.numberToLE(1,1),o.numberToLE(Math.floor(0),4),o.numberToLE(1,1),o.numberToLE(l,1),o.numberToLE(0,8),o.numberToLE(w,8),o.numberToLE(o.apiKey.length,1),o.stringToBinary(o.encode(o.apiKey)),o.numberToLE(r.length,1),o.stringToBinary(o.encode(r)),o.numberToLE(parseInt(x),4),o.numberToLE(o.integerDivide(S,T),8),o.numberToLE(o.integerModulo(S,T),8),o.numberToLE(1,1),o.numberToLE(o.integerDivide(O,T),8),o.numberToLE(o.integerModulo(O,T),8),o.numberToLE(0,1),o.numberToLE(1,1),o.numberToLE(y.length,1),o.stringToBinary(o.encode(y)),o.numberToLE(0,1)]):A=[o.numberToBE(1,32),o.numberToLE(Math.floor(h/1e3),4),o.numberToLE(1,1),o.numberToLE(Math.floor(0),4),o.numberToLE(1,1),o.numberToLE(l,1),o.numberToLE(0,8),o.numberToLE(w,8),o.numberToLE(o.apiKey.length,1),o.stringToBinary(o.encode(o.apiKey)),o.numberToLE(Math.floor(h/1e3),4),o.numberToLE(1,1),o.numberToLE(4,1),o.numberToLE(0,8),o.numberToLE(w,8),o.numberToLE(o.apiKey.length,1),o.stringToBinary(o.encode(o.apiKey)),o.numberToLE(f.length,1),o.stringToBinary(o.encode(f)),o.numberToLE(parseInt(x),4),o.numberToLE(o.integerDivide(S,T),8),o.numberToLE(o.integerModulo(S,T),8),o.numberToLE(0,1),o.numberToLE(1,1),o.numberToLE(y.length,1),o.stringToBinary(o.encode(y)),o.numberToLE(0,1)],M=o.binaryConcatArray(A),E=o.hash(M,"sha256","hex"),C=o.ecdsa(E,o.secret,"secp256k1",void 0,!0),I=o.binaryToBase16(o.numberToLE(o.sum(C.v,31),1)),F=I+C.r+C.s,P=void 0,B=void 0,R=void 0,L=o.safeString(k.info,"chainContractAddress"),26===l?(R={fee:w,from:o.apiKey,to_external_address:r,asset_type:parseInt(x),amount:S,asset_fee:O},P={timestamp:b,expiration:g,operations:[[l,R]],validate_type:0,dapp:y,signatures:[F]},B={chainType:d,trObj:o.json(P),chainContractAddress:L}):(R={fee:w,from:o.apiKey,to_external_address:f,asset_type:parseInt(x),amount:S,asset_fee:O},N={fee:w,proposaler:o.apiKey,expiration_time:b,proposed_ops:[{op:[4,R]}]},P={timestamp:b,expiration:g,operations:[[l,N]],validate_type:0,dapp:y,signatures:[F]},B="eos"===u?{chainType:d,toExternalAddress:"noneed",trObj:o.json(P),chainContractAddress:L}:{chainType:d,toExternalAddress:r,trObj:o.json(P),chainContractAddress:L}),n.next=44,o.publicPostTransactionWithdraw(B);case 44:return D=n.sent,n.abrupt("return",{info:D,id:o.safeString(D,"id")});case 46:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t];return s+="/"+e,Object.keys(n).length&&(s+="?"+this.urlencode(n)),{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(503===e)throw new f(this.id+" "+e.toString()+" "+t+" "+i);if(void 0!==s&&("code"in s&&"1"===this.safeString(s,"code"))){var d=this.safeString(s,"msg"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,l),new o(l)}}}},function(e,t,r){"use strict";var n=r(114);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"cdax",name:"CDAX",countries:["RU"],hostname:"cdax.io",pro:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/102157692-fd406280-3e90-11eb-8d46-4511b617cd17.jpg",api:{market:"https://{hostname}/api",public:"https://{hostname}/api",private:"https://{hostname}/api",v2Public:"https://{hostname}/api",v2Private:"https://{hostname}/api"},www:"https://cdax.io",referral:"https://cdax.io/invite?invite_code=esc74",doc:"https://github.com/cloudapidoc/API_Docs",fees:"https://cdax.io/about/fee"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.AuthenticationError,d=s.NullResponse,f=s.InvalidOrder,l=s.NotSupported,h=s.InsufficientFunds,p=s.InvalidNonce,m=s.OrderNotFound,v=s.RateLimitExceeded,b=s.DDoSProtection;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_profile","currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},exceptions:{exact:{},broad:{"Insufficient funds":h,"Nonce must be incremented":p,"Invalid Order":f,"Order not found":m,"limit exceeded":v,"Invalid API key":u,"There was an error while placing your order":f,"Sorry, too many clients already":b}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0,order:{status:{c:"canceled",d:"closed",cd:"canceled",a:"open"}}}})}fetchCurrenciesFromCache(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.safeValue(t.options,"fetchCurrencies",{}),i=t.safeInteger(a,"timestamp"),s=t.safeInteger(a,"expires",1e3),o=t.milliseconds(),!(void 0===i||o-i>s)){r.next=9;break}return r.next=7,t.publicGetCurrencyProfile(e);case 7:c=r.sent,t.options.fetchCurrencies=t.extend(a,{response:c,timestamp:o});case 9:return r.abrupt("return",t.safeValue(t.options.fetchCurrencies,"response"));case 10:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:for(a=r.sent,t.options.currencies={timestamp:t.milliseconds(),response:a},i=t.safeValue(a,"data",[]),s=t.safeValue(i,"symbols",[]),o={},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"code"),f=t.safeCurrencyCode(d),l=t.safeInteger(u,"precision"),!0,o[f]={id:d,code:f,name:d,active:!0,precision:l,fee:void 0,limits:{amount:{min:t.safeFloat(u,"minimumCurrencyAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(u,"minimalWithdrawalAmount"),max:void 0}},info:u};return r.abrupt("return",o);case 9:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:return a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"symbols",[]),o=t.indexBy(s,"code"),c=t.safeValue(i,"pairs",[]),r.next=9,t.publicGetCurrencyLimits(e);case 9:for(u=r.sent,d=[],f=t.safeValue(u.data,"pairs"),l=0;l<f.length;l++){for(h=f[l],p=t.safeString(h,"symbol1"),m=t.safeString(h,"symbol2"),v=p+"/"+m,b=t.safeCurrencyCode(p),g=t.safeCurrencyCode(m),y=b+"/"+g,w=t.safeValue(o,p,{}),k=t.safeValue(o,m,{}),x=t.safeInteger(k,"precision",8),_=0;_<c.length;_++)(S=c[_]).symbol1===p&&S.symbol2===m&&(x=t.safeInteger(S,"pricePrecision",x));T=t.safeInteger(w,"precision",8),O=t.safeInteger(w,"scale",0),A={amount:T-O,price:x},d.push({id:v,info:h,symbol:y,base:b,quote:g,baseId:p,quoteId:m,precision:A,limits:{amount:{min:t.safeFloat(h,"minLotSize"),max:t.safeFloat(h,"maxLotSize")},price:{min:t.safeFloat(h,"minPrice"),max:t.safeFloat(h,"maxPrice")},cost:{min:t.safeFloat(h,"minLotSizeS2"),max:void 0}},active:void 0})}return r.abrupt("return",d);case 14:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(a=r.sent,i={info:a},s=["username","timestamp"],o=t.omit(a,s),c=Object.keys(o),u=0;u<c.length;u++)d=c[u],f=t.safeValue(o,d,{}),(l=t.account()).free=t.safeFloat(f,"available"),l.used=t.safeFloat(f,"orders",0),h=t.safeCurrencyCode(d),i[h]=l;return r.abrupt("return",t.parseBalance(i));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={pair:i.marketId(e)},void 0!==t&&(s.depth=t),n.next=6,i.publicGetOrderBookPair(i.extend(s,r));case 6:return o=n.sent,c=i.safeTimestamp(o,"timestamp"),n.abrupt("return",i.parseOrderBook(o,c));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var c=this;return a(n.mark((function a(){var u,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),void 0!==r){n.next=7;break}r=c.milliseconds()-864e5,n.next=9;break;case 7:if(!c.options.fetchOHLCVWarning){n.next=9;break}throw new o(c.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");case 9:return f=(f=(f=c.ymd(r)).split("-")).join(""),l={pair:u.id,yyyymmdd:f},n.prev=13,n.next=16,c.publicGetOhlcvHdYyyymmddPair(c.extend(l,s));case 16:return h=n.sent,p="data"+c.timeframes[t],m=c.safeString(h,p),v=JSON.parse(m),n.abrupt("return",c.parseOHLCVs(v,u,t,r,i));case 23:if(n.prev=23,n.t0=n.catch(13),!(n.t0 instanceof d)){n.next=27;break}return n.abrupt("return",[]);case 27:case"end":return n.stop()}}),a,null,[[13,23]])})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeFloat(e,"volume"),a=this.safeFloat(e,"high"),i=this.safeFloat(e,"low"),s=this.safeFloat(e,"bid"),o=this.safeFloat(e,"ask"),c=this.safeFloat(e,"last"),u=void 0;return t&&(u=t.symbol),{symbol:u,timestamp:r,datetime:this.iso8601(r),high:a,low:i,bid:s,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=Object.keys(r.currencies),s={currencies:i.join("/")},n.next=6,r.publicGetTickersCurrencies(r.extend(s,t));case 6:for(o=n.sent,c=o.data,u={},d=0;d<c.length;d++)f=c[d],l=f.pair.replace(":","/"),h=r.markets[l],u[l]=r.parseTicker(f,h);return n.abrupt("return",r.filterByArray(u,"symbol",e));case 11:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetTickerPair(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=this.safeString(e,"type"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;void 0!==s&&void 0!==i&&(o=s*i);var c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:c,type:void 0,side:a,order:void 0,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},n.next=6,s.publicGetTradeHistoryPair(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("market"!==t||"buy"!==r){n.next=7;break}if(!c.options.createMarketBuyOrderRequiresPrice){n.next=7;break}if(void 0!==s){n.next=6;break}throw new f(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 6:i*=s;case 7:return n.next=9,c.loadMarkets();case 9:return u={pair:c.marketId(e),type:r,amount:i},"limit"===t?u.price=s:u.order_type=t,n.next=13,c.privatePostPlaceOrderPair(c.extend(u,o));case 13:return d=n.sent,l=c.safeFloat(d,"amount"),h=c.safeFloat(d,"pending"),p=c.safeValue(d,"time"),m=c.safeValue(d,"complete"),v=m?"closed":"open",b=void 0,void 0!==l&&void 0!==h&&(b=Math.max(l-h,0)),n.abrupt("return",{id:c.safeString(d,"id"),info:d,clientOrderId:void 0,timestamp:p,datetime:c.iso8601(p),lastTradeTimestamp:void 0,type:t,side:c.safeString(d,"type"),symbol:e,status:v,price:c.safeFloat(d,"price"),amount:l,cost:void 0,average:void 0,remaining:h,filled:b,fee:void 0,trades:void 0});case 22:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostCancelOrder(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}parseOrder(e,t){var r=this.safeValue(e,"time");r="string"===typeof r&&r.indexOf("T")>=0?this.parse8601(r):parseInt(r);var n=void 0;if(void 0===t){var a=this.safeString(e,"symbol1"),i=this.safeString(e,"symbol2");(n=this.safeCurrencyCode(a)+"/"+this.safeCurrencyCode(i))in this.markets&&(t=this.market(n))}var s=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount");void 0!==c&&(c=Math.abs(c));var u=this.safeFloat2(e,"pending","remains"),d=c-u,f=void 0,l=void 0;if(void 0!==t){n=t.symbol;var h=this.safeFloat(e,"ta:"+t.quote),p=this.safeFloat(e,"tta:"+t.quote);l=this.sum(h,p);var m="fa:"+t.base,v="tfa:"+t.base,b="fa:"+t.quote,g="tfa:"+t.quote,y=this.safeFloat(e,"tradingFeeMaker");if(y||(y=this.safeFloat(e,"tradingFeeTaker",y)),y&&(y/=100),m in e||v in e){var w=this.safeFloat2(e,m,v);f={currency:t.base,rate:y,cost:w}}else if(b in e||g in e){var k=this.safeFloat2(e,b,g);f={currency:t.quote,rate:y,cost:k}}}l||(l=o*d);var x=e.type,_=void 0,S=e.id;if("vtx"in e){_=[];for(var T=0;T<e.vtx.length;T++){var O=e.vtx[T],A=this.safeString(O,"type");if("cancel"!==A){var M=this.safeFloat(O,"price");if(void 0!==M&&"costsNothing"!==A){var E=this.parse8601(this.safeString(O,"time")),C=this.safeFloat(O,"amount"),I=this.safeFloat(O,"fee_amount"),F=C<0?-C:C,P=void 0;"sell"===A?(P=F,F=this.sum(I,P)/M):P=F*M,_.push({id:this.safeString(O,"id"),timestamp:E,datetime:this.iso8601(E),order:S,symbol:n,price:M,amount:F,cost:P,side:A,fee:{cost:I,currency:t.quote},info:O,type:void 0,takerOrMaker:void 0})}}}}return{id:S,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:s,symbol:n,type:void 0===o?"market":"limit",timeInForce:void 0,postOnly:void 0,side:x,price:o,stopPrice:void 0,cost:l,amount:c,filled:d,remaining:u,trades:_,fee:f,info:e,average:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c="privatePostOpenOrders",u=void 0,void 0!==e&&(u=s.market(e),o.pair=u.id,c+="Pair"),n.next=8,s[c](s.extend(o,i));case 8:for(d=n.sent,f=0;f<d.length;f++)d[f]=s.extend(d[f],{status:"open"});return n.abrupt("return",s.parseOrders(d,u,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o="privatePostArchivedOrdersPair",void 0!==e){n.next=5;break}throw new c(s.id+" fetchClosedOrders() requires a symbol argument");case 5:return u=s.market(e),d={pair:u.id},n.next=9,s[o](s.extend(d,i));case 9:return f=n.sent,n.abrupt("return",s.parseOrders(f,u,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e.toString()},t.next=5,i.privatePostGetOrderTx(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={limit:r,pair:o.id,dateFrom:t},n.next=6,s.privatePostArchivedOrdersPair(s.extend(c,i));case 6:for(u=n.sent,d=[],f=0;f<u.length;f++)l=u[f],h=s.parseOrderStatus(s.safeString(l,"status")),p=s.safeString(l,"symbol1"),m=s.safeString(l,"symbol2"),v=s.safeCurrencyCode(p),b=s.safeCurrencyCode(m),g=v+"/"+b,y=s.safeString(l,"type"),w=s.safeFloat(l,"a:"+p+":cds"),k=s.safeFloat(l,"a:"+m+":cds"),x=s.safeFloat(l,"f:"+m+":cds"),_=s.safeFloat(l,"amount"),S=s.safeFloat(l,"price"),T=s.safeFloat(l,"remains"),O=_-T,A=void 0,M=void 0,E=void 0,C=void 0,S?(I=s.safeFloat(l,"ta:"+m,0),F=s.safeFloat(l,"tta:"+m,0),P=s.safeFloat(l,"fa:"+m,0),B=s.safeFloat(l,"tfa:"+m,0),M="sell"===y?s.sum(s.sum(I,F),s.sum(P,B)):s.sum(I,F)-s.sum(P,B),C="limit",A=_,E=M/O):(C="market",E=(A=w)/(M=k)),R=s.safeString(l,"time"),L=s.safeString(l,"lastTxTime"),N=s.parse8601(R),d.push({id:s.safeString(l,"id"),timestamp:N,datetime:s.iso8601(N),lastUpdated:s.parse8601(L),status:h,symbol:g,side:y,price:S,amount:A,average:E,type:C,filled:O,cost:M,remaining:T,fee:{cost:x,currency:b},info:l});return n.abrupt("return",d);case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString(this.options.order.status,e,e)}editOrder(e,t,r,i,s,o,u={}){var d=this;return a(n.mark((function r(){var a,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==s){r.next=2;break}throw new c(d.id+" editOrder() requires a amount argument");case 2:if(void 0!==o){r.next=4;break}throw new c(d.id+" editOrder() requires a price argument");case 4:return r.next=6,d.loadMarkets();case 6:return a=d.market(t),f={pair:a.id,type:i,amount:s,price:o,order_id:e},r.next=10,d.privatePostCancelReplaceOrderPair(d.extend(f,u));case 10:return l=r.sent,r.abrupt("return",d.parseOrder(l,a));case 12:case"end":return r.stop()}}),r)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("XRP"!==e&&"XLM"!==e){n.next=2;break}throw new l(r.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.currency(e),s={currency:i.id},n.next=8,r.privatePostGetAddress(r.extend(s,t));case 8:return o=n.sent,c=r.safeString(o,"data"),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:void 0,info:o});case 12:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.hmac(this.encode(u),this.encode(this.secret));i=this.json(this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o)),a={"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(Array.isArray(s))return s;if("true"!==i){if(void 0===s)throw new d(this.id+" returned "+this.json(s));if((!("e"in s)||!("ok"in s)||"ok"!==s.ok)&&"error"in s){var f=this.safeString(s,"error"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new o(l)}}}}},function(e,t,r){"use strict";var n=r(87);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"chilebit",name:"ChileBit",countries:["CL"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991414-1298f0d8-647f-11e7-9c40-d56409266336.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://chilebit.net",doc:"https://blinktrade.com/docs"},options:{brokerId:"9"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.AuthenticationError,d=s.RateLimitExceeded,f=s.InvalidNonce;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents.chrome,headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!0,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchLedger:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchMySells:!0,fetchMyBuys:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{exact:{two_factor_required:u,param_required:o,validation_error:o,invalid_request:o,personal_details_required:u,identity_verification_required:u,jumio_verification_required:u,jumio_face_match_verification_required:u,unverified_email:u,authentication_error:u,invalid_token:u,revoked_token:u,expired_token:u,invalid_scope:u,not_found:o,rate_limit_exceeded:d,internal_server_error:o},broad:{"request timestamp expired":f}},commonCurrencies:{CGLD:"CELO"},options:{fetchCurrencies:{expires:5e3},accounts:["wallet","fiat"]}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,i=t.safeValue(a,"data",{}),r.abrupt("return",t.safeTimestamp(i,"epoch"));case 5:case"end":return r.stop()}}),r)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={limit:100},r.next=5,t.privateGetAccounts(t.extend(a,e));case 5:for(i=r.sent,s=t.safeValue(i,"data",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeValue(u,"currency",{}),f=t.safeString(d,"code"),l=t.safeCurrencyCode(f),o.push({id:t.safeString(u,"id"),type:t.safeString(u,"type"),code:l,info:u});return r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.safeString(t,"account_id"),t=r.omit(t,"account_id"),void 0!==i){n.next=14;break}return n.next=5,r.loadAccounts();case 5:s=0;case 6:if(!(s<r.accounts.length)){n.next=14;break}if((c=r.accounts[s]).code!==e||"wallet"!==c.type){n.next=11;break}return i=c.id,n.abrupt("break",14);case 11:s++,n.next=6;break;case 14:if(void 0!==i){n.next=16;break}throw new o(r.id+" createDepositAddress could not find the account with matching currency code, specify an `account_id` extra param");case 16:return u={account_id:i},n.next=19,r.privatePostAccountsAccountIdAddresses(r.extend(u,t));case 19:return d=n.sent,f=r.safeValue(d,"data",{}),l=r.safeString(f,"destination_tag"),h=r.safeString(f,"address"),n.abrupt("return",{currency:e,tag:l,address:h,info:d});case 24:case"end":return n.stop()}}),a)})))()}fetchMySells(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.prepareAccountRequest(r,i);case 2:return a=e.sent,e.next=5,s.loadMarkets();case 5:return o=s.omit(i,["account_id","accountId"]),e.next=8,s.privateGetAccountsAccountIdSells(s.extend(a,o));case 8:return c=e.sent,e.abrupt("return",s.parseTrades(c.data,void 0,t,r));case 10:case"end":return e.stop()}}),e)})))()}fetchMyBuys(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.prepareAccountRequest(r,i);case 2:return a=e.sent,e.next=5,s.loadMarkets();case 5:return o=s.omit(i,["account_id","accountId"]),e.next=8,s.privateGetAccountsAccountIdBuys(s.extend(a,o));case 8:return c=e.sent,e.abrupt("return",s.parseTrades(c.data,void 0,t,r));case 10:case"end":return e.stop()}}),e)})))()}fetchTransactionsWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.prepareAccountRequestWithCurrencyCode(t,i,s);case 2:return c=n.sent,n.next=5,o.loadMarkets();case 5:return u=o.omit(s,["account_id","accountId"]),n.next=8,o[e](o.extend(c,u));case 8:return d=n.sent,n.abrupt("return",o.parseTransactions(d.data,void 0,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({created:"pending",completed:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){var r=this.safeValue(e,"subtotal",{}),n=this.safeValue(e,"fee",{}),a=this.safeString(e,"id"),i=this.parse8601(this.safeValue(e,"created_at")),s=this.parse8601(this.safeValue(e,"updated_at")),o=this.safeString(e,"resource"),c=this.safeFloat(r,"amount"),u=this.safeString(r,"currency"),d=this.safeCurrencyCode(u),f=this.safeFloat(n,"amount"),l=this.safeString(n,"currency"),h={cost:f,currency:this.safeCurrencyCode(l)},p=this.parseTransactionStatus(this.safeString(e,"status"));void 0===p&&(p=this.safeValue(e,"committed")?"ok":"pending");return{info:e,id:a,txid:a,timestamp:i,datetime:this.iso8601(i),address:void 0,tag:void 0,type:o,amount:c,currency:d,status:p,updated:s,fee:h}}parseTrade(e,t){var r=void 0,n=this.safeValue(e,"total",{}),a=this.safeValue(e,"amount",{}),i=this.safeValue(e,"subtotal",{}),s=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){var u=this.safeString(a,"currency"),d=this.safeString(n,"currency");if(void 0!==u&&void 0!==d)r=this.safeCurrencyCode(u)+"/"+this.safeCurrencyCode(d)}var f=this.safeString(e,"resource"),l=this.safeFloat(i,"amount"),h=this.safeFloat(a,"amount"),p=void 0;void 0!==l&&void 0!==h&&h>0&&(p=l/h);var m=this.safeFloat(s,"amount"),v=this.safeString(s,"currency"),b={cost:m,currency:this.safeCurrencyCode(v)};return{info:e,id:o,order:void 0,timestamp:c,datetime:this.iso8601(c),symbol:r,type:void 0,side:f,takerOrMaker:void 0,price:p,amount:h,cost:l,fee:b}}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:for(a=r.sent,i=t.safeValue(a,"currencies",{}),s=t.safeValue(a,"exchangeRates",{}),o=t.safeValue(i,"data",[]),c=t.indexBy(o,"id"),u=t.safeValue(t.safeValue(s,"data",{}),"rates",{}),d=Object.keys(u),f=[],l=0;l<d.length;l++)if(h=d[l],p=t.safeCurrencyCode(h),"crypto"===(h in c?"fiat":"crypto"))for(m=0;m<o.length;m++)v=o[m],b=t.safeString(v,"id"),g=t.safeCurrencyCode(b),y=p+"/"+g,w=h+"-"+b,f.push({id:w,symbol:y,base:p,quote:g,baseId:h,quoteId:b,active:void 0,info:v,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(v,"min_size"),max:void 0}}});return r.abrupt("return",f);case 12:case"end":return r.stop()}}),r)})))()}fetchCurrenciesFromCache(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.safeValue(t.options,"fetchCurrencies",{}),i=t.safeInteger(a,"timestamp"),s=t.safeInteger(a,"expires",1e3),o=t.milliseconds(),!(void 0===i||o-i>s)){r.next=12;break}return r.next=7,t.publicGetCurrencies(e);case 7:return c=r.sent,r.next=10,t.publicGetExchangeRates(e);case 10:u=r.sent,t.options.fetchCurrencies=t.extend(a,{currencies:c,exchangeRates:u,timestamp:o});case 12:return r.abrupt("return",t.safeValue(t.options,"fetchCurrencies",{}));case 13:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchCurrenciesFromCache(e);case 2:for(a=r.sent,i=t.safeValue(a,"currencies",{}),s=t.safeValue(a,"exchangeRates",{}),o=t.safeValue(i,"data",[]),c=t.indexBy(o,"id"),u=t.safeValue(t.safeValue(s,"data",{}),"rates",{}),d=Object.keys(u),f={},l=0;l<d.length;l++)h=d[l],p=h in c?"fiat":"crypto",m=t.safeValue(c,h,{}),v=t.safeString(m,"id",h),b=t.safeString(m,"name"),g=t.safeCurrencyCode(v),f[g]={id:v,code:g,info:m,type:p,name:b,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:t.safeFloat(m,"min_size"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",f);case 12:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.seconds(),s=r.market(e),o=r.extend({symbol:s.id},t),n.next=7,r.publicGetPricesSymbolBuy(o);case 7:return c=n.sent,n.next=10,r.publicGetPricesSymbolSell(o);case 10:return u=n.sent,n.next=13,r.publicGetPricesSymbolSpot(o);case 13:return d=n.sent,f=r.safeFloat(c.data,"amount"),l=r.safeFloat(u.data,"amount"),h=r.safeFloat(d.data,"amount"),n.abrupt("return",{symbol:e,timestamp:i,datetime:r.iso8601(i),bid:l,ask:f,last:h,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:c,sell:u,spot:d}});case 18:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={limit:100},r.next=5,t.privateGetAccounts(t.extend(a,e));case 5:for(i=r.sent,s=t.safeValue(i,"data"),o=t.safeValue(e,"type",t.options.accounts),c={info:i},u=0;u<s.length;u++)d=s[u],t.inArray(d.type,o)&&(f=t.safeString(d.balance,"currency"),l=t.safeCurrencyCode(f),h=t.safeFloat(d.balance,"amount"),p=h,void 0,l in c?(c[l].free=t.sum(c[l].free,h),c[l].total=t.sum(c[l].total,h)):(m={free:p,used:void 0,total:h},c[l]=m));return r.abrupt("return",t.parseBalance(c));case 11:case"end":return r.stop()}}),r)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),n.next=6,s.prepareAccountRequestWithCurrencyCode(e,r,i);case 6:return c=n.sent,u=s.omit(i,["account_id","accountId"]),n.next=10,s.privateGetAccountsAccountIdTransactions(s.extend(c,u));case 10:return d=n.sent,n.abrupt("return",s.parseLedger(d.data,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseLedgerEntryStatus(e){return this.safeString({completed:"ok"},e,e)}parseLedgerEntryType(e){return this.safeString({buy:"trade",sell:"trade",fiat_deposit:"transaction",fiat_withdrawal:"transaction",exchange_deposit:"transaction",exchange_withdrawal:"transaction",send:"transaction",pro_deposit:"transaction",pro_withdrawal:"transaction"},e,e)}parseLedgerEntry(e,t){var r=this.safeValue(e,"amount",{}),n=this.safeFloat(r,"amount"),a=void 0;n<0?(a="out",n=-n):a="in";var i=this.safeString(r,"currency"),s=this.safeCurrencyCode(i,t),o=void 0,c=this.safeValue(e,"network",{}),u=this.safeValue(c,"transaction_fee");if(void 0!==u){var d=this.safeString(u,"currency"),f=this.safeCurrencyCode(d,t);o={cost:this.safeFloat(u,"amount"),currency:f}}var l=this.parse8601(this.safeValue(e,"created_at")),h=this.safeString(e,"id"),p=this.parseLedgerEntryType(this.safeString(e,"type")),m=this.parseLedgerEntryStatus(this.safeString(e,"status")),v=this.safeString(e,"resource_path"),b=void 0;if(void 0!==v){var g=v.split("/");g.length>3&&(b=g[3])}return{info:e,id:h,timestamp:l,datetime:this.iso8601(l),direction:a,account:b,referenceId:void 0,referenceAccount:void 0,type:p,currency:s,amount:n,before:void 0,after:void 0,status:m,fee:o}}findAccountId(e){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:a=0;case 5:if(!(a<t.accounts.length)){r.next=12;break}if((i=t.accounts[a]).code!==e){r.next=9;break}return r.abrupt("return",i.id);case 9:a++,r.next=5;break;case 12:return r.abrupt("return",void 0);case 13:case"end":return r.stop()}}),r)})))()}prepareAccountRequest(e,t={}){var r=this.safeString2(t,"account_id","accountId");if(void 0===r)throw new c(this.id+" method requires an account_id (or accountId) parameter");var n={account_id:r};return void 0!==e&&(n.limit=e),n}prepareAccountRequestWithCurrencyCode(e,t,r={}){var i=this;return a(n.mark((function a(){var s,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(s=i.safeString2(r,"account_id","accountId"))){n.next=9;break}if(void 0!==e){n.next=4;break}throw new c(i.id+" method requires an account_id (or accountId) parameter OR a currency code argument");case 4:return n.next=6,i.findAccountId(e);case 6:if(void 0!==(s=n.sent)){n.next=9;break}throw new o(i.id+" could not find account id for "+e);case 9:return u={account_id:s},void 0!==t&&(u.limit=t),n.abrupt("return",u);case 12:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(s+="?"+this.urlencode(o));var c=this.urls.api+s;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="";"GET"!==r&&Object.keys(o).length&&(d=i=this.json(o));var f=u+r+s+d,l=this.hmac(this.encode(f),this.encode(this.secret));a={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":l,"CB-ACCESS-TIMESTAMP":u,"Content-Type":"application/json"}}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.id+" "+i,f=this.safeString(s,"error");if(void 0!==f){var l=this.safeString(s,"error_description");throw this.throwExactlyMatchedException(this.exceptions.exact,f,d),this.throwBroadlyMatchedException(this.exceptions.broad,l,d),new o(d)}var h=this.safeValue(s,"errors");if(void 0!==h)if(Array.isArray(h))if(h.length>0){f=this.safeString(h[0],"id");var p=this.safeString(h[0],"message");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions.exact,f,d),this.throwBroadlyMatchedException(this.exceptions.broad,p,d),new o(d)}if(void 0===this.safeValue(s,"data"))throw new o(this.id+" failed due to a malformed response "+this.json(s))}}}},function(e,t,r){"use strict";var n=r(204);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"coinbaseprime",name:"Coinbase Prime",pro:!0,urls:{test:{public:"https://api-public.sandbox.prime.coinbase.com",private:"https://api-public.sandbox.prime.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:{public:"https://api.prime.coinbase.com",private:"https://api.prime.coinbase.com"},www:"https://prime.coinbase.com",doc:"https://docs.prime.coinbase.com",fees:"https://support.prime.coinbase.com/customer/en/portal/articles/2945629-fees?b_id=17475"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182088-1d6d6380-c2ec-11ea-9c64-8ab9f9b289f5.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api",fees:["https://coincheck.com/exchange/fee","https://coincheck.com/info/fee"]},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountsBalance(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],(u=t.currencyId(c))in a&&(d=t.account(),f=u+"_reserved",d.free=t.safeFloat(a,u),d.used=t.safeFloat(a,f),i[c]=d);return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),n.next=6,s.privateGetExchangeOrdersOpens(i);case 6:for(c=n.sent,u=s.safeValue(c,"orders",[]),d=s.parseOrders(u,o,t,r),f=[],l=0;l<d.length;l++)f.push(s.extend(d[l],{status:"open"}));return n.abrupt("return",f);case 12:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"order_type"),a=this.parse8601(this.safeString(e,"created_at")),i=this.safeFloat(e,"pending_amount"),s=this.safeFloat(e,"pending_amount"),o=this.safeFloat(e,"rate"),c=void 0,u=void 0;void 0!==s&&void 0!==i&&(c=Math.max(i-s,0),void 0!==o&&(u=c*o));var d=this.safeString(e,"pair"),f=this.safeSymbol(d,t,"_");return{id:r,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,amount:i,remaining:s,filled:c,side:n,type:void 0,timeInForce:void 0,postOnly:void 0,status:void 0,symbol:f,price:o,stopPrice:void 0,cost:u,fee:void 0,info:e,average:void 0,trades:void 0}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BTC/JPY"===e){t.next=2;break}throw new o(i.id+" fetchOrderBook () supports BTC/JPY only");case 2:return t.next=4,i.loadMarkets();case 4:return t.next=6,i.publicGetOrderBooks(r);case 6:return a=t.sent,t.abrupt("return",i.parseOrderBook(a));case 8:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("BTC/JPY"===e){n.next=2;break}throw new o(r.id+" fetchTicker () supports BTC/JPY only");case 2:return n.next=4,r.loadMarkets();case 4:return n.next=6,r.publicGetTicker(t);case 6:return i=n.sent,s=r.safeTimestamp(i,"timestamp"),c=r.safeFloat(i,"last"),n.abrupt("return",{symbol:e,timestamp:s,datetime:r.iso8601(s),high:r.safeFloat(i,"high"),low:r.safeFloat(i,"low"),bid:r.safeFloat(i,"bid"),bidVolume:void 0,ask:r.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(i,"volume"),quoteVolume:void 0,info:i});case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"id"),a=this.safeFloat(e,"rate"),i=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,i,t);var s=void 0,o=void 0,c=void 0;if(void 0!==i)if(i in this.markets_by_id)o=(t=this.markets_by_id[i]).baseId,c=t.quoteId,s=t.symbol;else{var u=i.split("_");o=u[0],c=u[1],s=this.safeCurrencyCode(o)+"/"+this.safeCurrencyCode(c)}void 0===s&&void 0!==t&&(s=t.symbol);var d=void 0,f=void 0,l=void 0,h=void 0,p=void 0,m=void 0;if("liquidity"in e){"T"===this.safeString(e,"liquidity")?d="taker":"M"===this.safeString(e,"liquidity")&&(d="maker");var v=this.safeValue(e,"funds",{});f=this.safeFloat(v,o),l=this.safeFloat(v,c),p={currency:this.safeString(e,"fee_currency"),cost:this.safeFloat(e,"fee")},h=this.safeString(e,"side"),m=this.safeString(e,"order_id")}else f=this.safeFloat(e,"amount"),h=this.safeString(e,"order_type");return void 0===l&&void 0!==f&&void 0!==a&&(l=f*a),{id:n,info:e,datetime:this.iso8601(r),timestamp:r,symbol:s,type:void 0,side:h,order:m,takerOrMaker:d,price:a,amount:f,cost:l,fee:p}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),n.next=5,s.privateGetExchangeOrdersTransactions(s.extend({},i));case 5:return c=n.sent,u=s.safeValue(c,"transactions",[]),n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("BTC/JPY"===e){n.next=2;break}throw new o(s.id+" fetchTrades () supports BTC/JPY only");case 2:return n.next=4,s.loadMarkets();case 4:return c=s.market(e),u={pair:c.id},void 0!==r&&(u.limit=r),n.next=9,s.publicGetTrades(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={pair:c.marketId(e)},"market"===t?(d=t+"_"+r,u.order_type=d,u[("buy"===r?d+"_":"")+"amount"]=i):(u.order_type=r,u.rate=s,u.amount=i),n.next=6,c.privatePostExchangeOrders(c.extend(u,o));case 6:return f=n.sent,l=c.safeString(f,"id"),n.abrupt("return",{info:f,id:l});case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e},t.next=3,i.privateDeleteExchangeOrdersId(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u="";"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(u=i=this.urlencode(this.keysort(o)));var d=c+s+u;a={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":c,"ACCESS-SIGNATURE":this.hmac(this.encode(d),this.encode(this.secret))}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,o){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,o);case 2:if(d=n.sent,"public"!==t){n.next=5;break}return n.abrupt("return",d);case 5:if(!("success"in d)){n.next=8;break}if(!d.success){n.next=8;break}return n.abrupt("return",d);case 8:throw new c(u.id+" "+u.json(d));case 9:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.AuthenticationError,d=o.InvalidNonce,f=o.InsufficientFunds,l=o.InvalidOrder,h=o.OrderNotFound,p=o.DDoSProtection;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:"emulated",fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://trade.coinegg.com/web",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html",referral:"https://www.coinegg.com/user/register?invite=523218"},api:{web:{get:["symbol/ticker?right_coin={quote}","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:u,104:u,105:u,106:d,200:f,201:l,202:l,203:h,402:p},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]},commonCurrencies:{JBC:"JubaoCoin",SBTC:"Super Bitcoin"}})}fetchMarkets(e={}){var t=this;return i(a.mark((function e(){var r,n,i,s,o,c,u,d,f,l,h,p,m,v;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.options.quoteIds,n=[],i=0;case 3:if(!(i<r.length)){e.next=13;break}return s=r[i],e.next=7,t.webGetSymbolTickerRightCoinQuote({quote:s});case 7:for(o=e.sent,c=t.safeValue(o,"data",[]),u=0;u<c.length;u++)d=c[u],f=d.symbol,l=f.split("_")[0],h=l.toUpperCase(),p=s.toUpperCase(),h=t.safeCurrencyCode(h),p=t.safeCurrencyCode(p),m=h+"/"+p,v={amount:8,price:8},n.push({id:f,symbol:m,base:h,quote:p,baseId:l,quoteId:s,active:!0,precision:v,limits:{amount:{min:Math.pow(10,-v.amount),max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:Math.pow(10,v.price)},cost:{min:void 0,max:void 0}},info:d});case 10:i++,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))()}parseTicker(e,t){var r=t.symbol,n=this.milliseconds(),a=this.safeFloat(e,"last"),i=this.safeFloat(e,"change"),s=void 0,o=void 0,c=void 0;if(void 0!==i){var u=i/100;o=a-(s=a/this.sum(1,u)),c=this.sum(a,s)/2}return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:void 0,change:o,percentage:i,average:c,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"quoteVol"),info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={coin:i.baseId,quote:i.quoteId},n.next=6,r.publicGetTickerRegionQuote(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.market(e),s={coin:i.baseId,quote:i.quoteId},t.next=6,n.publicGetDepthRegionQuote(n.extend(s,r));case 6:return o=t.sent,t.abrupt("return",n.parseOrderBook(o));case 8:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=t.symbol,s=void 0;void 0!==a&&void 0!==n&&(s=this.costToPrecision(i,n*a));var o=this.safeString(e,"type");return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:"limit",side:o,takerOrMaker:void 0,price:n,amount:a,cost:s,fee:void 0}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={coin:o.baseId,quote:o.quoteId},a.next=6,s.publicGetOrdersRegionQuote(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(i=r.sent,s={info:i},o=t.safeValue(i,"data",{}),c=t.omit(o,"uid"),u=Object.keys(c),d=0;d<u.length;d++)f=u[d],l=f.split("_"),h=n(l,2),p=h[0],m=h[1],(v=t.safeCurrencyCode(p))in s||(s[v]=t.account()),b="lock"===m?"used":"free",s[v][b]=t.safeFloat(c,f);return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.parse8601(this.safeString(e,"datetime")),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount_original"),s=this.safeFloat(e,"amount_outstanding"),o=void 0;void 0!==i&&void 0!==s&&(o=i-s);var c=this.safeString(e,"status");c="cancelled"===c?"canceled":s?"open":"closed";var u=this.safeValue(e,"info",e),d=this.safeString(e,"type");return{id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:d,price:a,stopPrice:void 0,cost:void 0,amount:i,filled:o,remaining:s,trades:void 0,fee:void 0,info:u,average:void 0}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function t(){var i,u,d,f,l;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return i=c.market(e),u={coin:i.baseId,quote:i.quoteId,type:r,amount:n,price:s},t.next=6,c.privatePostTradeAddRegionQuote(c.extend(u,o));case 6:return d=t.sent,f=c.safeString(d,"id"),l=c.parseOrder({id:f,datetime:c.ymdhms(c.milliseconds()),amount_original:n,amount_outstanding:n,price:s,type:r,info:d},i),t.abrupt("return",l);case 10:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(t),o={id:e,coin:s.baseId,quote:s.quoteId},a.next=6,n.privatePostTradeCancelRegionQuote(n.extend(o,r));case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(t),o={id:e,coin:s.baseId,quote:s.quoteId},a.next=6,n.privatePostTradeViewRegionQuote(n.extend(o,r));case 6:return c=a.sent,u=n.safeValue(c,"data"),a.abrupt("return",n.parseOrder(u,s));case 9:case"end":return a.stop()}}),i)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={coin:o.baseId,quote:o.quoteId},void 0!==t&&(c.since=t/1e3),a.next=7,s.privatePostTradeListRegionQuote(s.extend(c,n));case 7:return u=a.sent,d=s.safeValue(u,"data",[]),a.abrupt("return",s.parseOrders(d,o,t,r));case 10:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={type:"open"},a.next=3,s.fetchOrders(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="rest";"web"===t&&(s=t);var o=this.urls.api[s]+"/"+this.implodeParams(e,n),c=this.omit(n,this.extractParams(e));if("public"===t||"web"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),c=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},c));var u=this.hash(this.encode(this.secret));c+="&signature="+this.hmac(this.encode(c),this.encode(u)),"GET"===r?o+="?"+c:(a={"Content-type":"application/x-www-form-urlencoded"},i=c)}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeValue(s,"result");if(void 0!==d&&!0!==d){var f=this.safeString(s,"code"),l=this.errorMessages,h=this.safeString(l,f,"Unknown Error"),p=this.id+" "+h;throw this.throwExactlyMatchedException(this.exceptions,f,p),new c(this.id+" "+h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.InsufficientFunds,d=s.OrderNotFound,f=s.InvalidOrder,l=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182089-1e05fa00-c2ec-11ea-8da9-cc73b45abbbc.jpg",api:"https://api.coinex.com",www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/register?refer_code=yw5fz"},api:{public:{get:["common/currency/rate","common/asset/config","market/info","market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/deposit","balance/coin/withdraw","balance/info","future/account","future/config","future/limitprice","future/loan/history","future/market","margin/account","margin/config","margin/loan/history","margin/market","order","order/deals","order/finished","order/finished/{id}","order/pending","order/status","order/status/batch","order/user/deals","sub_account/balance","sub_account/transfer/history"],post:["balance/coin/withdraw","future/flat","future/loan","future/transfer","margin/flat","margin/loan","margin/transfer","order/batchlimit","order/ioc","order/limit","order/market","sub_account/transfer"],delete:["balance/coin/withdraw","order/pending/batch","order/pending"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarketInfo(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=[],o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=i[u],f=t.safeString(d,"name"),l=t.safeString(d,"trading_name"),h=l,p=t.safeString(d,"pricing_name"),m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,l===f&&(b=f),g={amount:t.safeInteger(d,"trading_decimal"),price:t.safeInteger(d,"pricing_decimal")},void 0,s.push({id:f,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:void 0,taker:t.safeFloat(d,"taker_fee_rate"),maker:t.safeFloat(d,"maker_fee_rate"),info:d,precision:g,limits:{amount:{min:t.safeFloat(d,"min_amount"),max:void 0},price:{min:Math.pow(10,-g.price),max:void 0}}});return r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeInteger(e,"date"),n=void 0;void 0!==t&&(n=t.symbol),e=this.safeValue(e,"ticker",{});var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat2(e,"vol","volume"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetMarketTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o.data,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketTickerAll(t);case 4:for(i=n.sent,s=r.safeValue(i,"data"),o=r.safeInteger(s,"date"),c=r.safeValue(s,"ticker"),u=Object.keys(c),d={},f=0;f<u.length;f++)l=u[f],h=r.safeMarket(l),p=h.symbol,(m=r.parseTicker({date:o,ticker:c[l]},h)).symbol=p,d[p]=m;return n.abrupt("return",r.filterByArray(d,"symbol",e));case 12:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t=20,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return void 0===t&&(t=20),s={market:i.marketId(e),merge:"0.0000000001",limit:t.toString()},n.next=6,i.publicGetMarketDepth(i.extend(s,r));case 6:return o=n.sent,n.abrupt("return",i.parseOrderBook(o.data));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"create_time");void 0===r&&(r=this.safeInteger(e,"date_ms"));var n=this.safeString(e,"id"),a=this.safeString(e,"order_id"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=this.safeString(e,"market"),c=this.safeSymbol(o,t),u=this.safeFloat(e,"deal_money");u||(u=parseFloat(this.costToPrecision(c,i*s)));var d=void 0,f=this.safeFloat(e,"fee");if(void 0!==f){var l=this.safeString(e,"fee_asset");d={cost:f,currency:this.safeCurrencyCode(l)}}var h=this.safeString(e,"role"),p=this.safeString(e,"type");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,id:n,order:a,type:void 0,side:p,takerOrMaker:h,price:i,amount:s,cost:u,fee:d}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},n.next=6,s.publicGetMarketDeals(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u.data,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,5)]}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market:c.id,type:o.timeframes[t]},void 0!==i&&(u.limit=i),n.next=7,o.publicGetMarketKline(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"data",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalanceInfo(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"data"),o=Object.keys(s),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.safeValue(s,u,{}),(l=t.account()).free=t.safeFloat(f,"available"),l.used=t.safeFloat(f,"frozen"),i[d]=l;return r.abrupt("return",t.parseBalance(i));case 10:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeTimestamp(e,"create_time"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"deal_money"),i=this.safeFloat(e,"amount"),s=this.safeFloat(e,"deal_amount"),o=this.safeFloat(e,"avg_price"),c=void 0,u=this.safeString(e,"market");t=this.safeMarket(u,t);var d=this.safeString(e,"fee_asset"),f=this.safeCurrencyCode(d);void 0!==t&&(c=t.symbol,void 0===f&&(f=t.quote));var l=this.safeFloat(e,"left"),h=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"order_type"),m=this.safeString(e,"type");return{id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:h,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:n,stopPrice:void 0,cost:a,average:o,amount:i,filled:s,remaining:l,trades:void 0,fee:{currency:f,cost:this.safeFloat(e,"deal_fee")},info:e}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u="privatePostOrder"+c.capitalize(t),d=c.market(e),l={market:d.id,type:r},i=parseFloat(i),"market"!==t||"buy"!==r){n.next=19;break}if(!c.options.createMarketBuyOrderRequiresPrice){n.next=16;break}if(void 0!==s){n.next=12;break}throw new f(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 12:s=parseFloat(s),l.amount=c.costToPrecision(e,i*s);case 14:n.next=17;break;case 16:l.amount=c.costToPrecision(e,i);case 17:n.next=20;break;case 19:l.amount=c.amountToPrecision(e,i);case 20:return"limit"!==t&&"ioc"!==t||(l.price=c.priceToPrecision(e,s)),n.next=23,c[u](c.extend(l,o));case 23:return h=n.sent,p=c.safeValue(h,"data"),n.abrupt("return",c.parseOrder(p,d));case 26:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={id:e,market:s.id},n.next=6,i.privateDeleteOrderPending(i.extend(o,r));case 6:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",i.parseOrder(u,s));case 9:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={id:e,market:s.id},n.next=8,i.privateGetOrder(i.extend(o,r));case 8:return u=n.sent,d=i.safeValue(u,"data"),n.abrupt("return",i.parseOrder(d,s));case 11:case"end":return n.stop()}}),a)})))()}fetchOrdersByStatus(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return void 0===i&&(i=100),c={page:1,limit:i},u=void 0,void 0!==t&&(u=o.market(t),c.market=u.id),d="privateGetOrder"+o.capitalize(e),n.next=9,o[d](o.extend(c,s));case 9:return f=n.sent,l=o.safeValue(f,"data"),h=o.safeValue(l,"data",[]),n.abrupt("return",o.parseOrders(h,u,r,i));case 13:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStatus("pending",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByStatus("finished",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return void 0===r&&(r=100),o={page:1,limit:r},c=void 0,void 0!==e&&(c=s.market(e),o.market=c.id),n.next=8,s.privateGetOrderUserDeals(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"data"),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),i&&(r=r+":"+i),u={coin_type:c.id,coin_address:r,actual_amount:parseFloat(t),transfer_method:"onchain"},n.next=8,o.privatePostBalanceCoinWithdraw(o.extend(u,s));case 8:return d=n.sent,f=o.safeValue(d,"data",{}),n.abrupt("return",o.parseTransaction(f,c));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"},e,e)}parseTransaction(e,t){var r=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),n=this.safeString(e,"coin_address"),a=this.safeString(e,"remark");void 0!==a&&a.length<1&&(a=void 0);var i=this.safeValue(e,"tx_id");void 0!==i&&i.length<1&&(i=void 0);var s=this.safeString(e,"coin_type"),o=this.safeCurrencyCode(s,t),c=this.safeTimestamp(e,"create_time"),u="coin_withdraw_id"in e?"withdraw":"deposit",d=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeFloat(e,"amount"),l=this.safeFloat(e,"tx_fee");"deposit"===u&&(l=0);var h={cost:l,currency:o};return void 0!==f&&(f-=l),{info:e,id:r,txid:i,timestamp:c,datetime:this.iso8601(c),address:n,tag:a,type:u,amount:f,currency:o,status:d,updated:void 0,fee:h}}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchWithdrawals() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),u={coin_type:o.id},void 0!==r&&(u.Limit=r),n.next=9,s.privateGetBalanceCoinWithdraw(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data"),Array.isArray(f)||(f=s.safeValue(f,"data",[])),n.abrupt("return",s.parseTransactions(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchDeposits() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),u={coin_type:o.id},void 0!==r&&(u.Limit=r),n.next=9,s.privateGetBalanceCoinDeposit(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data"),Array.isArray(f)||(f=s.safeValue(f,"data",[])),n.abrupt("return",s.parseTransactions(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){e=this.implodeParams(e,n);var s=this.urls.api+"/"+this.version+"/"+e,o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce();o=this.extend({access_id:this.apiKey,tonce:c.toString()},o),o=this.keysort(o);var u=this.rawencode(o);a={Authorization:this.hash(this.encode(u+"&secret_key="+this.secret)).toUpperCase(),"Content-Type":"application/json"},"GET"===r||"DELETE"===r?s+="?"+u:i=this.json(o)}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var h=this;return a(n.mark((function a(){var p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.fetch2(e,t,r,i,s,c);case 2:if(p=n.sent,m=h.safeString(p,"code"),v=h.safeValue(p,"data"),b=h.safeString(p,"message"),"0"===m&&void 0!==v&&("Ok"===b||v)){n.next=10;break}throw g={24:l,25:l,107:u,600:d,601:f,602:f,606:f},new(h.safeValue(g,m,o))(p.message);case 10:return n.abrupt("return",p);case 11:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.AuthenticationError,d=o.RateLimitExceeded,f=o.ArgumentsRequired;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/trades"],post:["user/orders"],delete:["user/orders/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(i=r.sent,s=t.safeValue(i,"data"),o=[],c=0;c<s.length;c++)u=s[c],d=u.name.split("-"),f=a(d,2),l=f[0],h=f[1],p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=p+"/"+m,b={amount:t.safeInteger(u,"size_precision"),price:t.safeInteger(u,"price_precision")},o.push({id:u.name,symbol:v,base:p,quote:m,baseId:l,quoteId:h,active:!0,precision:b,limits:{amount:{min:Math.pow(10,-b.amount),max:void 0},price:{min:Math.pow(10,-b.price),max:void 0},cost:{min:void 0,max:void 0}},info:u});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeString(e,"name"),n=this.safeSymbol(r,t,"-"),a=this.milliseconds(),i=parseFloat(e.last_price);return{symbol:n,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:this.safeFloat(e,"change_in_24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.fetchTickers(t);case 4:return i=n.sent,n.abrupt("return",i[e]);case 6:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarkets(t);case 4:for(i=n.sent,s=r.safeValue(i,"data"),o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,o[d]=u;return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={market:a.marketId(e),level:"3"},t.next=5,a.publicGetMarketsMarketOrders(a.extend(i,r));case 5:return s=t.sent,o=a.safeValue(s,"data",{}),t.abrupt("return",a.parseOrderBook(o,void 0,"bids","asks","price","size"));case 8:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"size"),i=t.symbol,s=void 0;void 0!==n&&void 0!==a&&(s=parseFloat(this.costToPrecision(i,n*a)));var o=this.safeString(e,"id"),c=this.safeString(e,"side"),u=this.safeString(e,"order_id"),d=void 0,f=this.safeFloat(e,"fee");if(void 0!==f){var l=this.safeString(e,"fee_currency_code");d={cost:f,currency:this.safeCurrencyCode(l)}}return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,id:o,order:u,type:void 0,side:c,takerOrMaker:void 0,price:n,amount:a,cost:s,fee:d}}fetchMyTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new f(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={market:o.id},void 0!==t&&(c.start_time=s.iso8601(t)),void 0!==r&&(c.limit=r),n.next=10,s.privateGetUserTrades(s.extend(c,a));case 10:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 13:case"end":return n.stop()}}),i)})))()}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==t&&(c.since=s.iso8601(t)),n.next=7,s.publicGetMarketsMarketTrades(s.extend(c,a));case 7:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetUserAccounts(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"data"),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"currency_code"),d=t.safeCurrencyCode(u),f={free:t.safeFloat(c,"available_balance"),used:t.safeFloat(c,"hold_balance"),total:t.safeFloat(c,"balance")},i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({fulfilled:"closed",canceled:"canceled",pending:"open",open:"open",partially_filled:"open"},e,e)}parseOrder(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"-"),a=this.parse8601(this.safeString(e,"created_at")),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"size"),o=this.safeFloat(e,"size_filled"),c=void 0,u=void 0;void 0!==s&&(void 0!==o&&(c=Math.max(0,s-o)),void 0!==i&&(u=o*i));var d=this.parseOrderStatus(this.safeString(e,"status")),f=this.safeString(e,"operation_type");void 0!==f&&(f=(f=f.split("_"))[0]);var l=this.safeString(e,"order_type"),h=this.safeValue(e,"post_only");return{id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,status:d,symbol:n,type:f,timeInForce:void 0,postOnly:h,side:l,price:i,stopPrice:void 0,cost:u,amount:s,filled:o,remaining:c,trades:void 0,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0}}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={market:u.id,size:c.amountToPrecision(e,a),order_type:r},"limit"===t&&(s=c.priceToPrecision(e,s),d.price=s.toString()),d.operation_type=t+"_order",n.next=8,c.privatePostUserOrders(c.extend(d,o));case 8:return f=n.sent,l=c.safeValue(f,"data",{}),n.abrupt("return",c.parseOrder(l,u));case 11:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s={id:e},n.next=5,a.privateDeleteUserOrdersId(a.extend(s,r));case 5:return o=n.sent,c=a.market(t),u=a.safeValue(o,"data",{}),n.abrupt("return",a.parseOrder(u,c));case 9:case"end":return n.stop()}}),i)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={id:e},t.next=5,a.privateGetUserOrdersId(a.extend(i,r));case 5:return s=t.sent,o=a.safeValue(s,"data",{}),t.abrupt("return",a.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.market=c.id),void 0!==t&&(o.since_time=s.iso8601(t)),n.next=8,s.privateGetUserOrders(s.extend(o,a));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),f=s.filterByArray(d,"status",["pending","open","partially_filled"],!1),n.abrupt("return",s.parseOrders(f,c,t,r));case 12:case"end":return n.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):i=this.json(o);var c=this.seconds().toString(),u=[c,r,s].join("|");i&&(u+="|"+i);var d=this.hmac(this.encode(u),this.encode(this.secret));a={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":c,"CF-API-SIGNATURE":d,"Content-Type":"application/json"}}return{url:this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,f){if(!(e<400))throw new(this.safeValue({401:u,429:d},e,c))(i)}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.InsufficientFunds,c=s.ExchangeError,u=s.InvalidNonce,d=s.InvalidOrder,f=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:["UK"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153925-ef265e80-c2c0-11ea-91b5-020c804b90e0.jpg",api:"https://webapi.coinfloor.co.uk/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{symbol}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"XBT",quoteId:"GBP",precision:{price:0,amount:4}},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR",precision:{price:0,amount:4}}},exceptions:{exact:{"You have insufficient funds.":o,"Tonce is out of sequence.":u}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:if(a=void 0,i=e,void 0!==t.safeString(e,"symbol")&&(a=t.market(e.symbol),i=t.omit(e,"symbol")),(s=t.safeString(e,"id"))in t.markets_by_id&&(a=t.markets_by_id[s]),void 0!==a){r.next=10;break}throw new f(t.id+" fetchBalance() requires a symbol param");case 10:return o={id:a.id},r.next=13,t.privatePostIdBalance(t.extend(o,i));case 13:return c=r.sent,u={info:c},d=a.base,l=a.quote,h=t.safeStringLower(a,"baseId"),p=t.safeStringLower(a,"quoteId"),u[d]={free:t.safeFloat(c,h+"_available"),used:t.safeFloat(c,h+"_reserved"),total:t.safeFloat(c,h+"_balance")},u[l]={free:t.safeFloat(c,p+"_available"),used:t.safeFloat(c,p+"_reserved"),total:t.safeFloat(c,p+"_balance")},r.abrupt("return",t.parseBalance(u));case 22:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.publicGetIdOrderBook(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"vwap"),i=this.safeFloat(e,"volume"),s=void 0;void 0!==a&&(s=i*a);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:a,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:s,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={id:i.id},n.next=6,r.publicGetIdTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==a&&void 0!==i&&(s=a*i);var o=void 0;return void 0!==t&&(o=t.symbol),{info:e,id:n,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={id:o.id},n.next=6,s.publicGetIdTransactions(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=void 0,void 0===e){n.next=7;break}if(void 0!==(o=s.market(e))){n.next=7;break}throw new f(s.id+" fetchTransactions() requires a code argument (a market symbol)");case 7:return c={id:o.id,limit:r},n.next=10,s.privatePostIdUserTransactions(s.extend(c,i));case 10:return u=n.sent,n.abrupt("return",s.parseLedger(u,void 0,t,void 0));case 12:case"end":return n.stop()}}),a)})))()}parseLedgerEntryStatus(e){return this.safeString({completed:"ok"},e,e)}parseLedgerEntryType(e){return this.safeString({0:"transaction",1:"transaction",2:"trade"},e,e)}parseLedgerEntry(e,t){for(var r=Object.keys(e),n=void 0,a=void 0,i=void 0,s=void 0,o=0;o<r.length;o++){var c=r[o];if(c.indexOf("_")>0){var u=c.split("_");if(2===u.length){var d=this.safeFloat(e,u[0]),f=this.safeFloat(e,u[1]);void 0!==d&&void 0!==f&&(n=u[0],a=u[1],i=d,s=f)}}}var l=this.safeCurrencyCode(n),h=this.safeCurrencyCode(a),p=this.parseLedgerEntryType(this.safeString(e,"type")),m=this.safeString(e,"id"),v=this.parse8601(this.safeString(e,"datetime")),b=void 0,g=this.safeFloat(e,"fee"),y={id:void 0,timestamp:v,datetime:this.iso8601(v),amount:void 0,direction:void 0,currency:void 0,type:p,referenceId:m,referenceAccount:void 0,before:void 0,after:void 0,status:"ok",fee:b,info:e};if("trade"===p)return void 0!==g&&(b={cost:g,currency:h}),[this.extend(y,{currency:l,amount:Math.abs(i),direction:i>0?"in":"out"}),this.extend(y,{currency:h,amount:Math.abs(s),direction:s>0?"in":"out",fee:b})];var w=0===i?s:i,k=0===i?h:l,x=w>0?"in":"out";return void 0!==g&&(b={cost:g,currency:k}),this.extend(y,{currency:k,amount:Math.abs(w),direction:x,fee:b})}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={id:c.marketId(e)},d="privatePostId"+c.capitalize(r),"market"===t?(u.quantity=i,d+="Market"):(u.price=s,u.amount=i),n.next=7,c[d](c.extend(u,o));case 7:return f=n.sent,l=c.parse8601(c.safeString(f,"datetime")),n.abrupt("return",{id:c.safeString(f,"id"),clientOrderId:void 0,datetime:c.iso8601(l),timestamp:l,type:t,price:c.safeFloat(f,"price"),remaining:c.safeFloat(f,"amount"),info:f});case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function r(){var a,s,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new f(i.id+" cancelOrder() requires a symbol argument");case 2:return r.next=4,i.loadMarkets();case 4:return a=i.market(t),s={symbol:a.id,id:e},r.next=8,i.privatePostSymbolCancelOrder(s);case 8:if("false"!==(o=r.sent)){r.next=11;break}throw new d(i.id+" cancel was rejected");case 11:return r.abrupt("return",o);case 12:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=this.parse8601(this.safeString(e,"datetime")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=void 0,o=this.safeString(e,"status");0===e.type?s="buy":1===e.type&&(s="sell");var c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:c,type:"limit",timeInForce:void 0,postOnly:void 0,side:s,price:n,stopPrice:void 0,amount:void 0,filled:void 0,remaining:a,cost:i,fee:void 0,average:void 0,trades:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new f(s.id+" fetchOpenOrders() requires a symbol param");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={id:o.id},n.next=8,s.privatePostIdOpenOrders(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseOrders(u,o,t,r,{status:"open"}));case 10:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,o,u){if(!(e<400)&&void 0!==s){var d=this.safeString(s,"error_msg"),f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),new c(f)}}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce();i=this.urlencode(this.extend({nonce:c},o));var u=this.uid+"/"+this.apiKey+":"+this.password;a={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+this.decode(this.stringToBase64(u))}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6).ExchangeError;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coingi",name:"Coingi",rateLimit:1e3,countries:["PA","BG","CN","US"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{referral:"https://www.coingi.com/?r=XTPPMC",logo:"https://user-images.githubusercontent.com/1294454/28619707-5c9232a8-7212-11e7-86d6-98fe5d15cc6e.jpg",api:{www:"https://coingi.com",current:"https://api.coingi.com",user:"https://api.coingi.com"},www:"https://coingi.com",doc:"https://coingi.docs.apiary.io"},api:{www:{get:[""]},current:{get:["order-book/{pair}/{askCount}/{bidCount}/{depth}","transactions/{pair}/{maxCount}","24hour-rolling-aggregation"]},user:{post:["balance","add-order","cancel-order","orders","transactions","create-crypto-withdrawal"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,PPC:.02,VTC:.2,NMC:2,DASH:.002,USD:10,EUR:10},deposit:{BTC:0,LTC:0,DOGE:0,PPC:0,VTC:0,NMC:0,DASH:0,USD:5,EUR:1}}}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.wwwGet(e);case 2:for(i=r.sent,s=i.split('do=currencyPairSelector-selectCurrencyPair" class="active">'),o=s[1].split('<div class="currency-pair-label">'),c=[],u=1;u<o.length;u++)d=o[u],f=d.split("</div>"),l=(l=(l=f[0]).replace("/","-")).toLowerCase(),h=l.split("-"),p=a(h,2),m=p[0],v=p[1],b=m.toUpperCase(),g=v.toUpperCase(),b=t.safeCurrencyCode(b),g=t.safeCurrencyCode(g),y=b+"/"+g,w={amount:8,price:8},c.push({id:l,symbol:y,base:b,quote:g,baseId:m,quoteId:v,info:l,active:!0,precision:w,limits:{amount:{min:Math.pow(10,-w.amount),max:Math.pow(10,w.amount)},price:{min:Math.pow(10,-w.price),max:void 0},cost:{min:0,max:void 0}}});return r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:for(a=[],i=Object.keys(t.currencies),s=0;s<i.length;s++)o=i[s],a.push(o.toLowerCase());return c={currencies:a.join(",")},r.next=8,t.userPostBalance(t.extend(c,e));case 8:for(u=r.sent,d={info:u},f=0;f<u.length;f++)l=u[f],h=t.safeString(l.currency,"name"),p=t.safeCurrencyCode(h),(m=t.account()).free=t.safeFloat(l,"available"),v=t.safeFloat(l,"blocked"),b=t.safeFloat(l,"inOrders"),g=t.safeFloat(l,"withdrawing"),m.used=t.sum(v,b,g),d[p]=m;return r.abrupt("return",t.parseBalance(d));case 12:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t=512,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(e),o={pair:s.id,depth:32,askCount:t,bidCount:t},n.next=6,a.currentGetOrderBookPairAskCountBidCountDepth(a.extend(o,r));case 6:return c=n.sent,n.abrupt("return",a.parseOrderBook(c,void 0,"bids","asks","price","baseAmount"));case 8:case"end":return n.stop()}}),i)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;return void 0!==t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"counterVolume"),info:e}}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.currentGet24hourRollingAggregation(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=i[o],u=c.currencyPair.base.toUpperCase(),d=c.currencyPair.counter.toUpperCase(),l=void 0,(f=u+"/"+d)in r.markets&&(l=r.markets[f]),s[f]=r.parseTicker(c,l);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.fetchTickers(void 0,t);case 4:if(i=n.sent,!(e in i)){n.next=7;break}return n.abrupt("return",i[e]);case 7:throw new o(r.id+" return did not contain "+e);case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=void 0;void 0!==r&&void 0!==n&&(a=r*n);var i=this.safeInteger(e,"timestamp"),s=this.safeString(e,"id"),o=this.safeString(e,"currencyPair"),c=this.safeSymbol(o,t);return{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:r,amount:n,cost:a,fee:void 0}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id,maxCount:128},n.next=6,s.currentGetTransactionsPairMaxCount(s.extend(c,a));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),i)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function t(){var i,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return i={currencyPair:c.marketId(e),volume:a,price:s,orderType:"buy"===r?0:1},t.next=5,c.userPostAddOrder(c.extend(i,o));case 5:return u=t.sent,t.abrupt("return",{info:u,id:u.result});case 7:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={orderId:e},t.next=5,a.userPostCancelOrder(a.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sign(e,t="current",r="GET",n={},a,i){var s=this.urls.api[t];"www"!==t&&(s+="/"+t+"/"+this.implodeParams(e,n));var o=this.omit(n,this.extractParams(e));if("current"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else if("user"===t){this.checkRequiredCredentials();var c=this.nonce(),u=this.extend({token:this.apiKey,nonce:c},o),d=c.toString()+"$"+this.apiKey;u.signature=this.hmac(this.encode(d),this.encode(this.secret)),i=this.json(u),a={"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}request(e,t="current",r="GET",a={},s,c){var u=this;return i(n.mark((function i(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,a,s,c);case 2:if("string"===typeof(d=n.sent)){n.next=6;break}if(!("errors"in d)){n.next=6;break}throw new o(u.id+" "+u.json(d));case 6:return n.abrupt("return",d);case 7:case"end":return n.stop()}}),i)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:["US"],has:{cancelOrder:!1,CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,editOrder:!1,privateAPI:!1,fetchBalance:!1,fetchCurrencies:!0,fetchL2OrderBook:!1,fetchMarkets:!0,fetchOHLCV:!1,fetchOrderBook:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!1},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182086-1cd4cd00-c2ec-11ea-9ec4-d0cf2a2abf62.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new s("Fetching order books is not supported by the API of "+i.id);case 1:case"end":return e.stop()}}),e)})))()}currencyCode(e,t){return this.safeValue({ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin","BigONE Token":"BigONE Token",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT","Blocktrade Token":"Blocktrade Token","BOX Token":"BOX Token",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",CryptoBossCoin:"CryptoBossCoin",Comet:"Comet",CPChain:"CPChain",CrowdCoin:"CrowdCoin",Cryptaur:"Cryptaur",Cubits:"Cubits","DAO.Casino":"DAO.Casino",DefiBox:"DefiBox","E-Dinar Coin":"E-Dinar Coin",EDRcoin:"EDRcoin",ENTCash:"ENTCash",FairCoin:"FairCoin","Fabric Token":"Fabric Token",GHOSTPRISM:"GHOSTPRISM","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin","Harvest Masternode Coin":"Harvest Masternode Coin","HOT Token":"HOT Token","Hydro Protocol":"Hydro Protocol",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","IQ.cash":"IQ.cash","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie","Menlo One":"Menlo One","Mobilian Coin":"Mobilian Coin",Monarch:"Monarch","MTC Mesh Network":"MTC Mesh Network",IOTA:"IOTA",NetCoin:"NetCoin",PCHAIN:"PCHAIN",Penta:"Penta",Plair:"Plair",PlayChip:"PlayChip",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin",SBTCT:"SiamBitcoin","Super Bitcoin":"Super Bitcoin",TerraCredit:"TerraCredit",Themis:"Themis","UNI COIN":"UNI COIN","UNICORN Token":"UNICORN Token",Universe:"Universe"},t,e)}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={limit:0},r.next=3,t.publicGetTicker(t.extend(a,e));case 3:for(i=r.sent,s=[],o=0;o<i.length;o++)for(c=i[o],u=t.currencyCodes,d=0;d<u.length;d++)f=u[d],l=f.toLowerCase(),h=c.id,p=t.currencyCode(c.symbol,c.name),m=p+"/"+f,v=h+"/"+l,s.push({id:v,symbol:m,base:p,quote:f,baseId:h,quoteId:l,info:c,active:void 0,precision:t.precision,limits:t.limits});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchGlobal(e="USD"){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={},e&&(a.convert=e),r.next=6,t.publicGetGlobal(a);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"last_updated");void 0===r&&(r=this.milliseconds());var n=this.safeFloat(e,"percent_change_24h"),a=void 0,i=void 0,s=void 0;if(void 0!==t){i=t.symbol;var o="price_"+t.quoteId;a=this.safeFloat(e,o);var c="24h_volume_"+t.quoteId;s=this.safeFloat(e,c)}return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:void 0,quoteVolume:s,info:e}}fetchTickers(e="USD",t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={limit:1e4},e&&(i.convert=e),n.next=6,r.publicGetTicker(r.extend(i,t));case 6:for(s=n.sent,o={},c=0;c<s.length;c++)u=s[c],d=e.toLowerCase(),f=u.id+"/"+d,l=f,h=void 0,f in r.markets_by_id&&(h=r.markets_by_id[f],l=h.symbol),o[l]=r.parseTicker(u,h);return n.abrupt("return",o);case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={convert:i.quote,id:i.baseId},n.next=6,r.publicGetTickerId(r.extend(s,t));case 6:return o=n.sent,c=o[0],n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={limit:0},r.next=3,t.publicGetTicker(t.extend(a,e));case 3:for(i=r.sent,s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=t.safeString(c,"name"),8,f=t.currencyCode(u,d),s[f]={id:u,code:f,info:c,name:d,active:!0,fee:void 0,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return Object.keys(o).length&&(s+="?"+this.urlencode(o)),{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},o,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,o,c);case 2:if(!("error"in(d=n.sent))){n.next=6;break}if(!d.error){n.next=6;break}throw new s(u.id+" "+u.json(d));case 6:return n.abrupt("return",d);case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.InvalidOrder,d=s.OrderNotFound,f=s.RateLimitExceeded,l=s.InsufficientFunds;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460806-1c9f3f00-c616-11ea-8c46-a77018a8f3f4.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",fees:"https://coinmate.io/fees",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions","tradingPairs"]},private:{post:["balances","bitcoinCashWithdrawal","bitcoinCashDepositAddresses","bitcoinDepositAddresses","bitcoinWithdrawal","bitcoinWithdrawalFees","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","dashDepositAddresses","dashWithdrawal","ethereumWithdrawal","ethereumDepositAddresses","litecoinWithdrawal","litecoinDepositAddresses","openOrders","order","orderHistory","orderById","pusherAuth","redeemVoucher","replaceByBuyLimit","replaceByBuyInstant","replaceBySellLimit","replaceBySellInstant","rippleDepositAddresses","rippleWithdrawal","sellInstant","sellLimit","transactionHistory","traderFees","tradeHistory","transfer","transferHistory","unconfirmedBitcoinDeposits","unconfirmedBitcoinCashDeposits","unconfirmedDashDeposits","unconfirmedEthereumDeposits","unconfirmedLitecoinDeposits","unconfirmedRippleDeposits"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0012,taker:.0025,tiers:{taker:[[0,.0025],[1e4,.0023],[1e5,.0021],[25e4,.002],[5e5,.0015],[1e6,.0013],[3e6,.001],[15e6,5e-4]],maker:[[0,.0012],[1e4,.0011],[1e6,.001],[25e4,8e-4],[5e5,5e-4],[1e6,3e-4],[3e6,2e-4],[15e6,0]]}},promotional:{trading:{maker:5e-4,taker:.0015,tiers:{taker:[[0,.0015],[1e4,.14/100],[1e5,.0013],[25e4,.0012],[5e5,.0011],[1e6,.001],[3e6,8e-4],[15e6,5e-4]],maker:[[0,5e-4],[1e4,4e-4],[1e6,3e-4],[25e4,2e-4],[5e5,0],[1e6,0],[3e6,0],[15e6,0]]}}}},options:{promotionalMarkets:["ETH/EUR","ETH/CZK","ETH/BTC","XRP/EUR","XRP/CZK","XRP/BTC","DASH/EUR","DASH/CZK","DASH/BTC","BCH/EUR","BCH/CZK","BCH/BTC"]},exceptions:{exact:{"No order with given ID":d},broad:{"Not enough account balance available":l,"Incorrect order ID":u,"Minimum Order Size ":u,"TOO MANY REQUESTS":f}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTradingPairs(e);case 2:for(a=r.sent,i=t.safeValue(a,"data"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=t.safeString(c,"firstCurrency"),f=t.safeString(c,"secondCurrency"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m=t.safeValue(t.options,"promotionalMarkets",[]),v=t.safeValue(t.fees,"trading"),t.inArray(p,m)&&(b=t.safeValue(t.fees,"promotional",{}),v=t.safeValue(b,"trading",v)),s.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:void 0,maker:v.maker,taker:v.taker,info:c,precision:{price:t.safeInteger(c,"priceDecimals"),amount:t.safeInteger(c,"lotDecimals")},limits:{amount:{min:t.safeFloat(c,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalances(e);case 4:for(a=r.sent,i=t.safeValue(a,"data"),s={info:a},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.safeValue(i,u),(l=t.account()).free=t.safeFloat(f,"available"),l.used=t.safeFloat(f,"reserved"),l.total=t.safeFloat(f,"balance"),s[d]=l;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={currencyPair:i.marketId(e),groupByPriceLimit:"False"},t.next=5,i.publicGetOrderBook(i.extend(a,r));case 5:return s=t.sent,o=s.data,c=i.safeTimestamp(o,"timestamp"),t.abrupt("return",i.parseOrderBook(o,c,"bids","asks","price","amount"));case 9:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={currencyPair:r.marketId(e)},n.next=5,r.publicGetTicker(r.extend(i,t));case 5:return s=n.sent,o=r.safeValue(s,"data"),c=r.safeTimestamp(o,"timestamp"),u=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:r.safeFloat(o,"high"),low:r.safeFloat(o,"low"),bid:r.safeFloat(o,"bid"),bidVolume:void 0,ask:r.safeFloat(o,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(o,"amount"),quoteVolume:void 0,info:o});case 10:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={limit:1e3},void 0!==r&&(o.limit=r),void 0!==t&&(o.timestampFrom=t),void 0!==e&&(o.currency=s.currencyId(e)),n.next=8,s.privatePostTransferHistory(s.extend(o,i));case 8:return c=n.sent,u=c.data,n.abrupt("return",s.parseTransactions(u,void 0,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({COMPLETED:"ok"},e,e)}parseTransaction(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeFloat(e,"amount"),a=this.safeFloat(e,"fee"),i=this.safeString(e,"txid"),s=this.safeString(e,"destination"),o=this.safeString(e,"destinationTag"),c=this.safeString(e,"amountCurrency"),u=this.safeCurrencyCode(c,t),d=this.safeStringLower(e,"transferType"),f=this.parseTransactionStatus(this.safeString(e,"transferStatus"));return{id:this.safeString(e,"transactionId"),timestamp:r,datetime:this.iso8601(r),currency:u,amount:n,type:d,txid:i,address:s,tag:o,status:f,fee:{cost:a,currency:u},info:e}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return void 0===r&&(r=1e3),o={limit:r},void 0!==e&&(c=s.market(e),o.currencyPair=c.id),void 0!==t&&(o.timestampFrom=t),n.next=8,s.privatePostTradeHistory(s.extend(o,i));case 8:return u=n.sent,d=u.data,n.abrupt("return",s.parseTrades(d,void 0,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"currencyPair");t=this.safeMarket(r,t,"_");var n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;void 0!==a&&void 0!==n&&(i=n*a);var s=this.safeStringLower2(e,"type","tradeType"),o=this.safeStringLower(e,"orderType"),c=this.safeString(e,"orderId"),u=this.safeString(e,"transactionId"),d=this.safeInteger2(e,"timestamp","createdTimestamp"),f=void 0,l=this.safeFloat(e,"fee");void 0!==l&&(f={cost:l,currency:t.quote});var h=this.safeString(e,"feeType");return h="MAKER"===h?"maker":"taker",{id:u,info:e,timestamp:d,datetime:this.iso8601(d),symbol:t.symbol,type:o,side:s,order:c,takerOrMaker:h,price:n,amount:a,cost:i,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currencyPair:o.id,minutesIntoHistory:10},n.next=6,s.publicGetTransactions(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.privatePostOpenOrders(s.extend({},i));case 2:return a=e.sent,o={status:"open"},e.abrupt("return",s.parseOrders(a.data,void 0,t,r,o));case 5:case"end":return e.stop()}}),e)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={currencyPair:o.id},void 0!==r&&(u.limit=r),n.next=9,s.privatePostOrderHistory(s.extend(u,i));case 9:return d=n.sent,n.abrupt("return",s.parseOrders(d.data,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({FILLED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED:"open",OPEN:"open"},e,e)}parseOrderType(e){return this.safeString({LIMIT:"limit",MARKET:"market"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeInteger(e,"timestamp"),a=this.safeStringLower(e,"type"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"originalAmount"),o=this.safeFloat(e,"remainingAmount");void 0===o&&(o=this.safeFloat(e,"amount"));var c=this.parseOrderStatus(this.safeString(e,"status")),u=this.parseOrderType(this.safeString(e,"orderTradeType")),d=void 0,f=void 0;void 0!==s&&void 0!==o&&(d=Math.max(s-o,0),0===o&&(c="closed"),void 0!==i&&(f=d*i));var l=this.safeFloat(e,"avgPrice"),h=this.safeString(e,"currencyPair"),p=this.safeSymbol(h,t,"_"),m=this.safeString(e,"clientOrderId"),v=this.safeFloat(e,"stopPrice");return{id:r,clientOrderId:m,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:p,type:u,timeInForce:void 0,postOnly:void 0,side:a,price:i,stopPrice:v,amount:s,cost:f,average:l,filled:d,remaining:o,status:c,trades:void 0,info:e,fee:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u="privatePost"+c.capitalize(r),d={currencyPair:c.marketId(e)},"market"===t?("buy"===r?d.total=c.amountToPrecision(e,i):d.amount=c.amountToPrecision(e,i),u+="Instant"):(d.amount=c.amountToPrecision(e,i),d.price=c.priceToPrecision(e,s),u+=c.capitalize(t)),n.next=7,c[u](c.extend(d,o));case 7:return f=n.sent,l=c.safeString(f,"data"),n.abrupt("return",{info:f,id:l});case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderId:e},o=void 0,t&&(o=i.market(t)),n.next=7,i.privatePostOrderById(i.extend(s,r));case 7:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",i.parseOrder(u,o));case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={orderId:e},t.next=3,i.privatePostCancelOrderWithInfo(i.extend(a,r));case 3:return s=t.sent,t.abrupt("return",{info:s});case 5:case"end":return t.stop()}}),t)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString(),c=o+this.uid+this.apiKey,u=this.hmac(this.encode(c),this.encode(this.secret));i=this.urlencode(this.extend({clientId:this.uid,nonce:o,publicKey:this.apiKey,signature:u.toUpperCase()},n)),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&"error"in s&&s.error){var d=this.safeString(s,"errorMessage"),f=this.id+" "+d;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new o(this.id+" "+this.json(s))}if(e>400){if(i){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,i,l),this.throwBroadlyMatchedException(this.exceptions.broad,i,l),new o(l)}throw new o(this.id+" "+i)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.BadRequest,u=s.ExchangeError,d=s.ArgumentsRequired,f=s.OrderNotFound,l=s.OnMaintenance;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchClosedOrders:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},precision:{price:4,amount:4,cost:8},exceptions:{405:l,104:f,108:o,107:c}})}fetchMarkets(e={}){var t=this;return a(n.mark((function e(){var r,a,i,s,o,c,u,d,f,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={currency:"all"},e.next=3,t.publicGetTicker(r);case 3:a=e.sent,i=[],s="krw",o=t.safeCurrencyCode(s),c=Object.keys(a),u=0;case 9:if(!(u<c.length)){e.next=20;break}if(d=c[u],f=t.safeValue(a,d,{}),void 0!==t.safeValue(f,"currency")){e.next=15;break}return e.abrupt("continue",17);case 15:l=t.safeCurrencyCode(d),i.push({id:d,symbol:l+"/"+o,base:l,quote:o,baseId:d,quoteId:s,active:!0});case 17:u++,e.next=9;break;case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostAccountBalance(e);case 4:for(a=r.sent,i={info:a},s=t.omit(a,["errorCode","result","normalWallets"]),o=Object.keys(s),c=0;c<o.length;c++)u=o[c],d=s[u],f=t.safeCurrencyCode(u),(l=t.account()).free=t.safeFloat(d,"avail"),l.total=t.safeFloat(d,"balance"),i[f]=l;return r.abrupt("return",t.parseBalance(i));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={currency:a.id,format:"json"},t.next=6,i.publicGetOrderbook(i.extend(s,r));case 6:return o=t.sent,c=i.safeTimestamp(o,"timestamp"),t.abrupt("return",i.parseOrderBook(o,c,"bid","ask","price","qty"));case 9:case"end":return t.stop()}}),t)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={currency:"all",format:"json"},n.next=5,r.publicGetTicker(r.extend(i,t));case 5:for(s=n.sent,o={},c=Object.keys(s),u=r.safeTimestamp(s,"timestamp"),d=0;d<c.length;d++)f=c[d],l=f,h=void 0,f in r.markets_by_id&&(h=r.markets_by_id[f],l=h.symbol,p=s[f],o[l]=r.parseTicker(p,h),o[l].timestamp=u);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 11:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currency:i.id,format:"json"},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeFloat(e,"first"),a=this.safeFloat(e,"last"),i=void 0;void 0!==n&&void 0!==a&&(i=this.sum(n,a)/2);var s=this.safeFloat(e,"yesterday_last"),o=void 0,c=void 0;return void 0!==a&&void 0!==s&&(o=a-s,0!==s&&(c=o/s*100)),{symbol:void 0!==t?t.symbol:void 0,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:s,change:o,percentage:c,average:i,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){var r=this.safeTimestamp(e,"timestamp"),n=void 0!==t?t.symbol:void 0,a=this.safeString(e,"is_ask"),i=this.safeString(e,"type");void 0!==a?"1"===a?i="sell":"0"===a&&(i="buy"):"ask"===i?i="sell":"bid"===i&&(i="buy");var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"qty"),c=void 0;void 0!==s&&void 0!==o&&(c=s*o);var u=this.safeString(e,"orderId"),d=this.safeFloat(e,"fee"),f=void 0;if(void 0!==d){d=Math.abs(d);var l=this.safeFloat(e,"feeRate");l=Math.abs(l);var h=void 0;void 0!==t&&(h="sell"===i?t.quote:t.base),f={cost:d,currency:h,rate:l}}return{id:this.safeString(e,"id"),info:e,timestamp:r,datetime:this.iso8601(r),order:u,symbol:n,type:void 0,side:i,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currency:o.id,format:"json"},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"completeOrders",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new u(c.id+" allows limit orders only");case 2:return n.next=4,c.loadMarkets();case 4:return d={price:s,currency:c.marketId(e),qty:i},f="privatePostOrder"+c.capitalize(t)+c.capitalize(r),n.next=8,c[f](c.extend(d,o));case 8:return l=n.sent,n.abrupt("return",c.parseOrder(l));case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new d(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={order_id:e,currency:s.id},n.next=8,i.privatePostOrderOrderInfo(i.extend(o,r));case 8:return c=n.sent,(u=i.safeValue(c,"info",{})).status=i.safeString(u,"status"),n.abrupt("return",i.parseOrder(u,s));case 12:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({live:"open",partially_filled:"open",filled:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeFloat(e,"price"),a=this.safeTimestamp(e,"timestamp"),i=this.safeString(e,"type");"ask"===i?i="sell":"bid"===i&&(i="buy");var s=this.safeFloat(e,"remainQty"),o=void 0,c=this.safeFloat(e,"qty"),u=this.safeString(e,"status");"live"===u&&void 0!==s&&void 0!==c&&s<c&&(u="canceled"),void 0!==s&&void 0!==c&&(o=Math.max(c-s)),u=this.parseOrderStatus(u);var d=void 0;void 0!==n&&void 0!==o&&(d=n*o);var f=void 0,l=void 0,h=void 0,p=this.safeStringLower(e,"currency");void 0!==p&&(p in this.markets_by_id?t=this.markets_by_id[p]:f=(l=this.safeCurrencyCode(p))+"/"+(h="KRW")),void 0===f&&void 0!==t&&(f=t.symbol,l=t.base,h=t.quote);var m=void 0,v=this.safeFloat(e,"fee");if(void 0!==v){var b="sell"===i?h:l;m={cost:v,rate:this.safeFloat(e,"feeRate"),currency:b}}return{info:e,id:r,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:f,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,cost:d,average:void 0,amount:c,filled:o,remaining:c,status:u,fee:m,trades:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" allows fetching closed orders with a specific symbol");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={currency:o.id},n.next=8,s.privatePostOrderLimitOrders(s.extend(c,i));case 8:return d=n.sent,f=s.safeValue(d,"limitOrders",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={currency:o.id},n.next=8,s.privatePostOrderCompleteOrders(s.extend(c,i));case 8:return u=n.sent,f=s.safeValue(u,"completeOrders",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new d(i.id+" cancelOrder() requires a symbol argument. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 2:if(s=i.safeFloat(r,"price"),o=i.safeFloat(r,"qty"),c=i.safeInteger(r,"is_ask"),void 0!==s&&void 0!==o&&void 0!==c){n.next=7;break}throw new d(i.id+" cancelOrder() requires {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument.");case 7:return n.next=9,i.loadMarkets();case 9:return u={order_id:e,price:s,qty:o,is_ask:c,currency:i.marketId(t)},n.next=12,i.privatePostOrderCancel(i.extend(u,r));case 12:return f=n.sent,n.abrupt("return",f);case 14:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c=this.urls.api+"/";if("public"===t)c+=s,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+s;var u=this.nonce().toString(),d=this.json(this.extend({access_token:this.apiKey,nonce:u},n)),f=this.stringToBase64(d);i=this.decode(f);var l=this.secret.toUpperCase();a={"Content-Type":"application/json","X-COINONE-PAYLOAD":f,"X-COINONE-SIGNATURE":this.hmac(f,this.encode(l),"sha512")}}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){if(!("result"in s))throw new u(this.id+" "+i);if("success"!==s.result){var d=this.safeString(s,"errorCode"),f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,d,f),new u(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{cancelOrder:!1,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api",referral:"https://www.coinspot.com.au/register?code=PJURCU"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel","ro/my/balances","ro/my/balances/{cointype}","ro/my/deposits","ro/my/withdrawals","ro/my/transactions","ro/my/transactions/{cointype}","ro/my/transactions/open","ro/my/transactions/{cointype}/open","ro/my/sendreceive","ro/my/affiliatepayments","ro/my/referralpayments"]}},markets:{"BTC/AUD":{id:"btc",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"btc",quoteId:"aud"},"ETH/AUD":{id:"eth",symbol:"ETH/AUD",base:"ETH",quote:"AUD",baseId:"eth",quoteId:"aud"},"XRP/AUD":{id:"xrp",symbol:"XRP/AUD",base:"XRP",quote:"AUD",baseId:"xrp",quoteId:"aud"},"LTC/AUD":{id:"ltc",symbol:"LTC/AUD",base:"LTC",quote:"AUD",baseId:"ltc",quoteId:"aud"},"DOGE/AUD":{id:"doge",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD",baseId:"doge",quoteId:"aud"},"RFOX/AUD":{id:"rfox",symbol:"RFOX/AUD",base:"RFOX",quote:"AUD",baseId:"rfox",quoteId:"aud"},"POWR/AUD":{id:"powr",symbol:"POWR/AUD",base:"POWR",quote:"AUD",baseId:"powr",quoteId:"aud"},"NEO/AUD":{id:"neo",symbol:"NEO/AUD",base:"NEO",quote:"AUD",baseId:"neo",quoteId:"aud"},"TRX/AUD":{id:"trx",symbol:"TRX/AUD",base:"TRX",quote:"AUD",baseId:"trx",quoteId:"aud"},"EOS/AUD":{id:"eos",symbol:"EOS/AUD",base:"EOS",quote:"AUD",baseId:"eos",quoteId:"aud"},"XLM/AUD":{id:"xlm",symbol:"XLM/AUD",base:"XLM",quote:"AUD",baseId:"xlm",quoteId:"aud"},"RHOC/AUD":{id:"rhoc",symbol:"RHOC/AUD",base:"RHOC",quote:"AUD",baseId:"rhoc",quoteId:"aud"},"GAS/AUD":{id:"gas",symbol:"GAS/AUD",base:"GAS",quote:"AUD",baseId:"gas",quoteId:"aud"}},commonCurrencies:{DRK:"DASH"},options:{fetchBalance:"private_post_my_balances"}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeString(t.options,"fetchBalance","private_post_my_balances"),r.next=5,t[a](e);case 5:if(i=r.sent,s={info:i},o=t.safeValue2(i,"balance","balances"),Array.isArray(o))for(c=0;c<o.length;c++)for(u=o[c],d=Object.keys(u),f=0;f<d.length;f++)l=d[f],h=u[l],p=t.safeCurrencyCode(l),(m=t.account()).total=t.safeFloat(h,"balance"),s[p]=m;else for(v=Object.keys(o),b=0;b<v.length;b++)g=v[b],y=t.safeCurrencyCode(g),(w=t.account()).total=t.safeFloat(o,g),s[y]=w;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={cointype:a.id},t.next=6,i.privatePostOrders(i.extend(s,r));case 6:return o=t.sent,t.abrupt("return",i.parseOrderBook(o,void 0,"buyorders","sellorders","rate","amount"));case 8:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetLatest(t);case 4:return i=n.sent,s=(s=r.marketId(e)).toLowerCase(),o=i.prices[s],c=r.milliseconds(),u=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:void 0,low:void 0,bid:r.safeFloat(o,"bid"),bidVolume:void 0,ask:r.safeFloat(o,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={cointype:o.id},n.next=6,s.privatePostOrdersHistory(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"orders",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeFloat(e,"rate"),n=this.safeFloat(e,"amount"),a=this.safeFloat(e,"total");void 0===a&&void 0!==r&&void 0!==n&&(a=r*n);var i=this.safeInteger(e,"solddate"),s=this.safeString(e,"market");return{info:e,id:void 0,symbol:this.safeSymbol(s,t,"/"),timestamp:i,datetime:this.iso8601(i),order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:r,amount:n,cost:a,fee:void 0}}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d="privatePostMy"+u.capitalize(r),"market"!==t){n.next=5;break}throw new o(u.id+" allows limit orders only");case 5:return f={cointype:u.marketId(e),amount:i,rate:s},n.next=8,u[d](u.extend(f,c));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("buy"===(a=i.safeString(r,"side"))||"sell"===a){t.next=3;break}throw new c(i.id+' cancelOrder() requires a side parameter, "buy" or "sell"');case 3:return r=i.omit(r,"side"),s="privatePostMy"+i.capitalize(a)+"Cancel",o={id:e},t.next=8,i[s](i.extend(o,r));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){if(!this.apiKey)throw new u(this.id+" requires apiKey for all requests");var s=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var o=this.nonce();i=this.json(this.extend({nonce:o},n)),a={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.BadRequest,u=s.InvalidNonce,d=s.RequestTimeout,f=s.ExchangeNotAvailable,l=s.InsufficientFunds,h=s.OrderNotFound,p=s.InvalidOrder,m=s.DDoSProtection,v=s.AuthenticationError,b=s.BadSymbol;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1mo"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook","ohlcv"]},trading:{get:["orderStatus","orderTrades","activeOrders","orderHistory","tradeHistory","tradeFee","moneyTransferStatus"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-1e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{BCC:"BCH",BIT:"BitMoney",BULL:"BuySell",CREDIT:"TerraCredit",GHOST:"GHOSTPRISM",IQ:"IQ.Cash",PUT:"PutinCoin",SBTC:"SBTCT",UNI:"Universe",YOYO:"YOYOW"},options:{fetchOrdersMethod:"tradingGetOrderHistory",fetchClosedOrdersMethod:"tradingGetOrderHistory",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":c,"Mandatory parameter 'instrument' is missing.":c,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":c,"Failed to verify request signature.":v,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":u,"Market orders are not supported by the instrument currently.":p,"Parameter 'instrument' contains invalid value.":b},broad:{"try again later":f,"API Key":v,"Insufficient funds":l,"has been delisted.":b,"Mandatory parameter":c}}})}nonce(){return this.milliseconds()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInstruments(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeString(o,"baseCurrency"),d=t.safeString(o,"quoteCurrency"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,p=t.safeValue(o,"tickSize"),m=t.safeValue(o,"minPrice"),v=t.safeFloat(o,"minVolume"),b={amount:t.precisionFromString(t.numberToString(v)),price:t.precisionFromString(t.numberToString(p))},g="active"===o.state,i.push({id:c,symbol:h,base:f,quote:l,baseId:u,quoteId:d,info:o,active:g,precision:b,limits:{amount:{min:v,max:void 0},price:{min:m,max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),d=t.safeInteger(o,"withdrawalPrecision"),f=t.safeValue(o,"BaseAddress"),l=o.depositsAllowed&&o.withdrawalsAllowed&&!o.isDelisted,h=o.isFiat?"fiat":"crypto",i[u]={id:c,code:u,address:f,info:o,type:h,name:t.safeString(o,"name"),active:l,fee:t.safeFloat(o,"flatWithdrawalFee"),precision:d,limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},deposit:{min:t.safeFloat(o,"minDeposit"),max:void 0},withdraw:{min:t.safeFloat(o,"minWithdrawal"),max:t.safeFloat(o,"maxWithdrawal")}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={},r.next=5,t.accountGetBalance(t.extend(a,e));case 5:for(i=r.sent,s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"available"),f.used=t.safeFloat(c,"reserved"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={instrument:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicGetOrderBook(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrderBook(c,void 0,"buyLevels","sellLevels","price","volume"));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),n=this.safeString(e,"instrument"),a=this.safeSymbol(n,t,"-"),i=this.safeFloat(e,"last");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"percentChange"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={instrument:i.id},n.next=6,r.publicGetTickers(r.extend(s,t));case 6:if(c=n.sent,!(c.length<1)){n.next=10;break}throw new o(r.id+" fetchTicker could not load quotes for symbol "+e);case 10:return n.abrupt("return",r.parseTicker(c[0],i));case 11:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.marketIds(e),i.instrument=s.join(",")),n.next=6,r.publicGetTickers(r.extend(i,t));case 6:return o=n.sent,n.abrupt("return",r.parseTickers(o,e));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),i=void 0;void 0!==n&&void 0!==a&&(i=a*n);var s=this.safeString(e,"id"),o=this.safeString(e,"side"),c=this.safeString(e,"orderId"),u=this.safeString(e,"instrument"),d=this.safeSymbol(u,t,"-"),f=void 0,l=this.safeString(e,"feeCurrency"),h=this.safeCurrencyCode(l),p=this.safeFloat(e,"fee");void 0!==p&&(f={cost:p,currency:h});return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,id:s,order:c,type:void 0,takerOrMaker:void 0,side:o,price:n,cost:i,amount:a,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={instrument:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetRecentTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={granularity:o.timeframes[t],instrument:c.id},void 0!==i&&(u.limit=i),n.next=7,o.publicGetOhlcv(o.extend(u,s));case 7:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 9:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){var t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"instrument"),a=this.safeSymbol(n,t,"-"),i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"volume"),c=this.safeFloat(e,"remainingVolume"),u=void 0,d=this.parse8601(this.safeString(e,"lastUpdate")),f=void 0;void 0!==c&&void 0!==o&&(u=o-c,this.options.parseOrderToPrecision&&(u=parseFloat(this.amountToPrecision(a,u))),u=Math.max(u,0),void 0!==s&&(f=s*u));var l=this.safeString(e,"id"),h=this.safeString(e,"type");"market"===h&&0===s&&void 0!==f&&void 0!==u&&f>0&&u>0&&(s=f/u);var p=this.safeString(e,"side"),m=void 0;void 0!==f&&(u&&(m=f/u),this.options.parseOrderToPrecision&&(f=parseFloat(this.costToPrecision(a,f))));var v=this.safeString(e,"timeInForce"),b=this.safeFloat(e,"stopPrice");return{info:e,id:l,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:d,symbol:a,type:h,timeInForce:v,side:p,price:s,stopPrice:b,amount:o,cost:f,average:m,filled:u,remaining:c,status:r,fee:void 0,trades:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d={instrument:u.id,volume:c.amountToPrecision(e,i),type:t,side:r},f=!1,l=!1,"limit"===t?f=!0:"stopLimit"===t&&(f=!0,l=!0),!f){n.next=11;break}if(void 0!==s){n.next=10;break}throw new p(c.id+" createOrder() requires a price argument for a "+t+" order");case 10:d.price=c.priceToPrecision(e,s);case 11:if(!l){n.next=19;break}if(void 0!==(h=c.safeFloat(o,"stopPrice"))){n.next=17;break}throw new p(c.id+" createOrder() requires a stopPrice extra param for a "+t+" order");case 17:d.stopPrice=c.priceToPrecision(e,h);case 18:o=c.omit(o,"stopPrice");case 19:return n.next=21,c.tradingPostPlaceOrder(c.extend(d,o));case 21:return m=n.sent,n.abrupt("return",c.parseOrder(m,u));case 23:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.tradingGetOrderStatus(i.extend(a,r));case 5:if(s=t.sent,!(s.length<1)){t.next=9;break}throw new h(i.id+" fetchOrder could not fetch order id "+e);case 9:return t.abrupt("return",i.parseOrder(s[0]));case 10:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.from=s.ymdhms(t,"T")),void 0!==r&&(o.limit=r),void 0!==e&&(c=s.market(e),o.instrument=c.id),u=s.safeString(s.options,"fetchOrdersMethod","tradingGetOrderHistory"),n.next=9,s[u](s.extend(o,i));case 9:return d=n.sent,n.abrupt("return",s.parseOrders(d));case 11:case"end":return n.stop()}}),a)})))()}fetchOrdersByIds(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={id:e.join(",")},n.next=5,s.tradingGetOrderStatus(s.extend(o,i));case 5:return c=n.sent,n.abrupt("return",s.parseOrders(c,void 0,t,r));case 7:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.instrument=o.id),n.next=7,s.tradingGetActiveOrders(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.instrument=o.id),void 0!==t&&(c.from=s.ymdhms(t,"T")),void 0!==r&&(c.limit=r),u=s.safeString(s.options,"fetchClosedOrdersMethod","tradingGetOrderHistory"),n.next=10,s[u](s.extend(c,i));case 10:return d=n.sent,n.abrupt("return",s.parseOrders(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={ids:[parseInt(e)]},t.next=5,i.tradingPostCancelOrdersById(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function e(){var a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tradingPostCancelAllOrders(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.instrument=o.id),void 0!==t&&(c.from=s.ymdhms(t,"T")),void 0!==r&&(c.limit=r),n.next=9,s.tradingGetTradeHistory(s.extend(c,i));case 9:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.currency=o.id),void 0!==t&&(c.from=s.ymd(t,"T")),n.next=8,s.accountGetMoneyTransfers(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTransactions(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"deposit"},n.abrupt("return",s.fetchTransactions(e,t,r,s.extend(o,i)));case 2:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"withdrawal"},n.abrupt("return",s.fetchTransactions(e,t,r,s.extend(o,i)));case 2:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({pending:"pending",success:"ok",failed:"failed"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString(e,"paymentId"),i=this.safeValue(e,"txId"),s=this.safeString(e,"currency"),o=this.safeCurrencyCode(s,t),c=this.safeString(e,"type"),u=this.parse8601(this.safeString(e,"createdAt")),d=this.parse8601(this.safeString(e,"processedAt")),f=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"amount"),h={cost:this.safeFloat(e,"fee"),currency:o};return{info:e,id:r,txid:i,timestamp:u,datetime:this.iso8601(u),address:n,tag:a,type:c,amount:l,currency:o,status:f,updated:d,fee:h}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.accountGetDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),u=r.safeString(o,"paymentId"),n.abrupt("return",{currency:e,address:r.checkAddress(c),tag:u,info:o});case 10:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency:c.id,address:r,amount:parseFloat(o.currencyToPrecision(e,t)),feeCurrency:c.id},void 0!==i&&(u.paymentId=i),n.next=8,o.accountPostWithdraw(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseTransaction(d));case 10:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+t+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(s+="?"+this.urlencode(o));var c=this.urls.api+s;if("trading"===t||"account"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.base64ToBinary(this.secret),f=s+u;a={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":u},"POST"===r&&(a["Content-Type"]="application/json",f+=i=this.json(n)),a["X-CREX24-API-SIGN"]=this.hmac(this.encode(f),d,"sha512","base64")}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,u,l){if(this.isJsonEncodedObject(i)&&!(e>=200&&e<300)){var h=this.safeString(s,"errorDescription"),p=this.id+" "+i;if(this.throwExactlyMatchedException(this.exceptions.exact,h,p),this.throwBroadlyMatchedException(this.exceptions.broad,h,p),400===e)throw new c(p);if(401===e)throw new v(p);if(403===e)throw new v(p);if(429===e)throw new m(p);if(500===e)throw new o(p);if(503===e)throw new f(p);if(504===e)throw new d(p);throw new o(p)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.ExchangeNotAvailable,d=s.InsufficientFunds,f=s.OrderNotFound,l=s.InvalidOrder,h=s.DDoSProtection,p=s.InvalidNonce,m=s.AuthenticationError,v=s.BadRequest,b=r(16),g=b.ROUND,y=b.TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"currencycom",name:"Currency.com",countries:["BY"],rateLimit:500,certified:!0,pro:!0,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTradingFees:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83718672-36745c00-a63e-11ea-81a9-677b1f789a4d.jpg",api:{public:"https://api-adapter.backend.currency.com/api",private:"https://api-adapter.backend.currency.com/api"},www:"https://www.currency.com",referral:"https://currency.com/trading/signup?c=362jaimv&pid=referral",doc:["https://currency.com/api"],fees:"https://currency.com/fees-charges"},api:{public:{get:["time","exchangeInfo","depth","aggTrades","klines","ticker/24hr"]},private:{get:["leverageSettings","openOrders","tradingPositions","account","myTrades"],post:["order","updateTradingPosition","updateTradingOrder","closeTradingPosition"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},precisionMode:y,options:{defaultTimeInForce:"GTC",warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT",stop:"RESULT"}},exceptions:{broad:{"FIELD_VALIDATION_ERROR Cancel is available only for LIMIT order":l,"API key does not exist":m,"Order would trigger immediately.":l,"Account has insufficient balance for requested action.":d,"Rest API trading is not enabled.":u},exact:{"-1000":u,"-1013":l,"-1021":p,"-1022":m,"-1100":l,"-1104":o,"-1025":m,"-1128":v,"-2010":o,"-2011":f,"-2013":f,"-2014":m,"-2015":m}},commonCurrencies:{IQ:"iQIYI"}})}nonce(){return this.milliseconds()-this.options.timeDifference}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"serverTime"));case 4:case"end":return r.stop()}}),r)})))()}loadTimeDifference(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,i=t.milliseconds(),t.options.timeDifference=parseInt(i-a.serverTime),r.abrupt("return",t.options.timeDifference);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeInfo(e);case 2:if(a=r.sent,!t.options.adjustForTimeDifference){r.next=6;break}return r.next=6,t.loadTimeDifference();case 6:for(i=t.safeValue(a,"symbols"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=t.safeString(c,"baseAsset"),f=t.safeString(c,"quoteAsset"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,u.indexOf("/")>=0&&(p=u),m=t.safeValue(c,"filters",[]),v=t.indexBy(m,"filterType"),b={amount:1/Math.pow(1,t.safeInteger(c,"baseAssetPrecision")),price:t.safeFloat(c,"tickSize")},g=t.safeString(c,"status"),y="TRADING"===g,"leverage"===(w=t.safeStringLower(c,"marketType"))&&(w="margin"),k={id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,type:w,spot:"spot"===w,margin:"margin"===w,info:c,active:y,precision:b,limits:{amount:{min:Math.pow(10,-b.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:-1*Math.log10(b.amount),max:void 0}}},x=t.safeFloat2(c,"exchangeFee","tradingFee"),_=t.safeFloat(c,"makerFee",x),S=t.safeFloat(c,"takerFee",x),void 0!==_&&(k.maker=_/100),void 0!==S&&(k.taker=S/100),"PRICE_FILTER"in v&&(T=t.safeValue(v,"PRICE_FILTER",{}),k.precision.price=t.safeFloat(T,"tickSize"),k.limits.price={min:t.safeFloat(T,"minPrice"),max:void 0},void 0!==(O=t.safeFloat(T,"maxPrice"))&&O>0&&(k.limits.price.max=O)),"LOT_SIZE"in v&&(A=t.safeValue(v,"LOT_SIZE",{}),k.precision.amount=t.safeFloat(A,"stepSize"),k.limits.amount={min:t.safeFloat(A,"minQty"),max:t.safeFloat(A,"maxQty")}),"MARKET_LOT_SIZE"in v&&(M=t.safeValue(v,"MARKET_LOT_SIZE",{}),k.limits.market={min:t.safeFloat(M,"minQty"),max:t.safeFloat(M,"maxQty")}),"MIN_NOTIONAL"in v&&(E=t.safeValue(v,"MIN_NOTIONAL",{}),k.limits.cost.min=t.safeFloat(E,"minNotional")),s.push(k);return r.abrupt("return",s);case 10:case"end":return r.stop()}}),r)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=n*u,f=o.precision.price;return"sell"===r?d*=a:(c="base",f=o.precision.amount),d=this.decimalToPrecision(d,g,f,this.precisionMode),{type:i,currency:o[c],rate:u,cost:parseFloat(d)}}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetAccount(e);case 2:for(a=r.sent,i=t.safeValue(a,"balances",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeInteger(c,"accountId"),d=t.safeString(c,"asset"),f=t.safeCurrencyCode(d),s.push({id:u,type:void 0,currency:f,info:a});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccount(e);case 4:return a=r.sent,r.abrupt("return",{info:a,maker:t.safeFloat(a,"makerCommission"),taker:t.safeFloat(a,"takerCommission")});case 6:case"end":return r.stop()}}),r)})))()}parseBalanceResponse(e){for(var t={info:e},r=this.safeValue(e,"balances",[]),n=0;n<r.length;n++){var a=r[n],i=this.safeString(a,"asset"),s=this.safeCurrencyCode(i),o=this.account();o.free=this.safeFloat(a,"free"),o.used=this.safeFloat(a,"locked"),t[s]=o}return this.parseBalance(t)}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccount(e);case 4:return a=r.sent,r.abrupt("return",t.parseBalanceResponse(a));case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicGetDepth(i.extend(o,r));case 7:return c=n.sent,(u=i.parseOrderBook(c)).nonce=i.safeInteger(c,"lastUpdateId"),n.abrupt("return",u);case 11:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"closeTime"),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"lastPrice"),s=this.safeFloat(e,"openPrice"),o=void 0;return void 0!==s&&void 0!==i&&(o=this.sum(s,i)/2),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:s,close:i,last:i,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:o,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTicker24hr(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker24hr(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,interval:o.timeframes[t]},void 0!==r&&(u.startTime=r),void 0!==i&&(u.limit=i),n.next=8,o.publicGetKlines(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger2(e,"T","time"),n=this.safeFloat2(e,"p","price"),a=this.safeFloat2(e,"q","qty"),i=this.safeString2(e,"a","id"),s=void 0,o=this.safeString(e,"orderId");"m"in e?s=e.m?"sell":"buy":"isBuyerMaker"in e?s=e.isBuyerMaker?"sell":"buy":"isBuyer"in e&&(s=e.isBuyer?"buy":"sell");var c=void 0;"commission"in e&&(c={cost:this.safeFloat(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});var u=void 0;"isMaker"in e&&(u=e.isMaker?"maker":"taker");var d=this.safeString(e,"symbol"),f=this.safeSymbol(d,t);return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:f,id:i,order:o,type:void 0,takerOrMaker:u,side:s,price:n,amount:a,cost:n*a,fee:c}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetAggTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t,"/"),i=void 0;"time"in e?i=this.safeInteger(e,"time"):"transactTime"in e&&(i=this.safeInteger(e,"transactTime"));var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"origQty"),c=this.safeFloat(e,"executedQty"),u=void 0,d=this.safeFloat(e,"cummulativeQuoteQty");void 0!==c&&(void 0!==o&&(u=o-c,this.options.parseOrderToPrecision&&(u=parseFloat(this.amountToPrecision(a,u))),u=Math.max(u,0)),void 0!==s&&void 0===d&&(d=s*c));var f=this.safeString(e,"orderId"),l=this.safeStringLower(e,"type");"market"===l&&0===s&&void 0!==d&&void 0!==c&&d>0&&c>0&&(s=d/c);var h=this.safeStringLower(e,"side"),p=void 0,m=void 0,v=this.safeValue(e,"fills");if(void 0!==v&&(m=this.parseTrades(v,t)).length>0){d=m[0].cost,p={cost:m[0].fee.cost,currency:m[0].fee.currency};for(var b=1;b<m.length;b++)d=this.sum(d,m[b].cost),p.cost=this.sum(p.cost,m[b].fee.cost)}var g=void 0;void 0!==d&&(c&&(g=d/c),this.options.parseOrderToPrecision&&(d=parseFloat(this.costToPrecision(a,d))));var y=this.safeString(e,"timeInForce");return{info:e,id:f,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:a,type:l,timeInForce:y,side:h,price:s,stopPrice:void 0,amount:o,cost:d,average:g,filled:c,remaining:u,status:r,fee:p,trades:m}}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d=u.market(e),void 0,!d.margin){n.next=8;break}if(void 0!==u.safeInteger(o,"accountId")){n.next=8;break}throw new c(u.id+" createOrder() requires an accountId parameter for "+d.type+" market "+e);case 8:return f=t.toUpperCase(),l=u.safeValue(u.options.newOrderRespType,t,"RESULT"),h={symbol:d.id,quantity:u.amountToPrecision(e,i),type:f,side:r.toUpperCase(),newOrderRespType:l},"LIMIT"===f?(h.price=u.priceToPrecision(e,s),h.timeInForce=u.options.defaultTimeInForce):"STOP"===f&&(h.price=u.priceToPrecision(e,s)),n.next=14,u.privatePostOrder(u.extend(h,o));case 14:return p=n.sent,n.abrupt("return",u.parseOrder(p,d));case 16:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(c=void 0,u={},void 0===e){n.next=9;break}c=s.market(e),u.symbol=c.id,n.next=14;break;case 9:if(!s.options.warnOnFetchOpenOrdersWithoutSymbol){n.next=14;break}throw d=s.symbols,f=d.length,l=parseInt(f/2),new o(s.id+" fetchOpenOrders() WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+l.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+s.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.');case 14:return n.next=16,s.privateGetOpenOrders(s.extend(u,i));case 16:return h=n.sent,n.abrupt("return",s.parseOrders(h,c,t,r));case 18:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o=i.safeValue(r,"origClientOrderId"),u={symbol:s.id},void 0===o?u.orderId=e:u.origClientOrderId=o,n.next=10,i.privateDeleteOrder(i.extend(u,r));case 10:return d=n.sent,n.abrupt("return",i.parseOrder(d,s));case 12:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={symbol:o.id},void 0!==r&&(u.limit=r),n.next=9,s.privateGetMyTrades(s.extend(u,i));case 9:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+e;if("historicalTrades"===e&&(a={"X-MBX-APIKEY":this.apiKey}),"private"===t){this.checkRequiredCredentials();var o=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},n));o+="&signature="+this.hmac(this.encode(o),this.encode(this.secret)),a={"X-MBX-APIKEY":this.apiKey},"GET"===r||"DELETE"===r?s+="?"+o:(i=o,a["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(n).length&&(s+="?"+this.urlencode(n));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+i);if(e>=400){if(i.indexOf("Price * QTY is zero or less")>=0)throw new l(this.id+" order cost = amount * price is zero or less "+i);if(i.indexOf("LOT_SIZE")>=0)throw new l(this.id+" order amount should be evenly divisible by lot size "+i);if(i.indexOf("PRICE_FILTER")>=0)throw new l(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+i)}if(void 0!==s){var d=this.safeString(s,"code");if(void 0!==d&&"0"!==d){var f=this.id+" "+this.json(s);this.throwExactlyMatchedException(this.exceptions.exact,d,f);var p=this.safeString(s,"msg");throw this.throwBroadlyMatchedException(this.exceptions.broad,p,f),new o(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.InsufficientFunds,u=s.BadRequest,d=s.BadSymbol,f=s.InvalidOrder,l=s.AuthenticationError,h=s.ArgumentsRequired,p=s.OrderNotFound,m=s.ExchangeNotAvailable,v=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"delta",name:"Delta Exchange",countries:["VC"],rateLimit:300,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchCurrencies:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","1d":"1d","7d":"7d","1w":"1w","2w":"2w","1M":"30d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/99450025-3be60a00-2931-11eb-9302-f4fd8d8589aa.jpg",test:{public:"https://testnet-api.delta.exchange",private:"https://testnet-api.delta.exchange"},api:{public:"https://api.delta.exchange",private:"https://api.delta.exchange"},www:"https://www.delta.exchange",doc:["https://docs.delta.exchange"],fees:"https://www.delta.exchange/fees",referral:"https://www.delta.exchange/app/signup/?code=IULYNB"},api:{public:{get:["assets","settings","indices","products","tickers","tickers/{symbol}","l2orderbook/{symbol}","trades/{symbol}","history/candles","history/sparklines"]},private:{get:["orders","orders/leverage","positions","positions/margined","orders/history","fills","fills/history/download/csv","wallet/balances","wallet/transactions","wallet/transactions/download","deposits/address"],post:["orders","orders/batch","orders/leverage","positions/change_margin"],put:["orders","orders/batch"],delete:["orders","orders/all","orders/batch"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}}},precisionMode:v,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{insufficient_margin:c,order_size_exceed_available:f,risk_limits_breached:u,invalid_contract:d,immediate_liquidation:f,out_of_bankruptcy:f,self_matching_disrupted_post_only:f,immediate_execution_post_only:f,bad_schema:u,invalid_api_key:l,invalid_signature:l,open_order_not_found:p,unavailable:m},broad:{}}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSettings(e);case 2:return a=r.sent,i=t.safeValue(a,"result",{}),r.abrupt("return",t.safeIntegerProduct(i,"server_time",.001));case 5:case"end":return r.stop()}}),r)})))()}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSettings(e);case 2:return a=r.sent,i=t.safeValue(a,"result",{}),s=t.safeValue(i,"under_maintenance"),o="true"===s?"maintenance":"ok",c=t.safeIntegerProduct(i,"server_time",.001),t.status=t.extend(t.status,{status:o,updated:c}),r.abrupt("return",t.status);case 9:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i=t.safeValue(a,"result",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=t.safeInteger(c,"id"),f=t.safeCurrencyCode(u),l=t.safeString(c,"deposit_status"),h=t.safeString(c,"withdrawal_status"),p="enabled"===h,m="enabled"===l&&p,v=t.safeInteger(c,"precision"),s[f]={id:u,numericId:d,code:f,name:t.safeString(c,"name"),info:c,active:m,fee:t.safeFloat(c,"base_withdrawal_fee"),precision:1/Math.pow(10,v),limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(c,"min_withdrawal_amount"),max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}loadMarkets(e=!1,t={}){var r=()=>super.loadMarkets,i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r().call(i,e,t);case 2:return s=n.sent,(void 0===i.safeValue(i.options,"currenciesByNumericId")||e)&&(i.options.currenciesByNumericId=i.indexBy(i.currencies,"numericId")),(void 0===i.safeValue(i.options,"marketsByNumericId")||e)&&(i.options.marketsByNumericId=i.indexBy(i.markets,"numericId")),n.abrupt("return",s);case 8:case"end":return n.stop()}}),a)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetProducts(e);case 2:for(a=r.sent,i=t.safeValue(a,"result",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"contract_type"),d=t.safeValue(c,"quoting_asset",{}),f=t.safeValue(c,"underlying_asset",{}),l=t.safeString(f,"symbol"),h=t.safeString(d,"symbol"),p=t.safeString(c,"symbol"),m=t.safeInteger(c,"id"),v=t.safeCurrencyCode(l),b=t.safeCurrencyCode(h),g=p,y=!1,w=!1,k=!1,"perpetual_futures"===u?(u="swap",y=!0,w=!1,k=!1,g=v+"/"+b):"call_options"===u||"put_options"===u||"move_options"===u?(u="option",y=!1,k=!0,w=!1):"futures"===u&&(u="future",y=!1,k=!1,w=!0),x={amount:1,price:t.safeFloat(c,"tick_size")},_={amount:{min:1,max:t.safeFloat(c,"position_size_limit")},price:{min:x.price,max:void 0},cost:{min:t.safeFloat(c,"min_size"),max:void 0}},S=t.safeString(c,"state"),T="live"===S,O=t.safeFloat(c,"maker_commission_rate"),A=t.safeFloat(c,"taker_commission_rate"),s.push({id:p,numericId:m,symbol:g,base:v,quote:b,baseId:l,quoteId:h,type:u,option:k,swap:y,future:w,maker:O,taker:A,precision:x,limits:_,info:c,active:T});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeIntegerProduct(e,"timestamp",.001),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"close"),s=this.safeFloat(e,"open"),o=void 0,c=void 0,u=void 0;void 0!==s&&void 0!==i&&(o=i-s,c=this.sum(i,s)/2,0!==s&&(u=o/s*100));var d=this.safeFloat(e,"volume"),f=this.safeFloat(e,"turnover"),l=this.vwap(d,f);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:l,open:s,close:i,last:i,previousClose:void 0,change:o,percentage:u,average:c,baseVolume:d,quoteVolume:f,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTickersSymbol(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"result",[]),o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,o[d]=u;return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.depth=t),n.next=6,i.publicGetL2orderbookSymbol(i.extend(s,r));case 6:return o=n.sent,c=i.safeValue(o,"result",{}),n.abrupt("return",i.parseOrderBook(c,void 0,"buy","sell","price","size"));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"order_id"),a=this.parse8601(this.safeString(e,"created_at"));a=this.safeIntegerProduct(e,"timestamp",.001,a);var i=this.safeFloat(e,"price"),s=this.safeFloat(e,"size"),o=void 0;void 0!==s&&void 0!==i&&(o=s*i);var c=this.safeValue(e,"product",{}),u=this.safeString(c,"symbol"),d=this.safeSymbol(u,t),f=this.safeString(e,"seller_role"),l=this.safeString(e,"side");void 0===l&&("taker"===f?l="sell":"maker"===f&&(l="buy"));var h=this.safeString(e,"role"),p=this.safeValue(e,"meta_data",{}),m=this.safeString(p,"order_type");void 0!==m&&(m=m.replace("_order",""));var v=this.safeFloat(e,"commission"),b=void 0;if(void 0!==v){var g=this.safeValue(c,"settling_asset",{}),y=this.safeString(g,"symbol");b={cost:v,currency:this.safeCurrencyCode(y)}}return{id:r,order:n,timestamp:a,datetime:this.iso8601(a),symbol:d,type:m,side:l,price:i,amount:s,cost:o,takerOrMaker:h,fee:b,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetTradesSymbol(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,resolution:o.timeframes[t]},d=o.parseTimeframe(t),i=i||2e3,void 0===r?(f=o.seconds(),u.end=f,u.start=f-i*d):(l=parseInt(r/1e3),u.start=l,u.end=o.sum(l,i*d)),n.next=9,o.publicGetHistoryCandles(o.extend(u,s));case 9:return h=n.sent,p=o.safeValue(h,"result",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetWalletBalances(e);case 4:for(a=r.sent,i=t.safeValue(a,"result",[]),s={info:a},o=t.safeValue(t.options,"currenciesByNumericId",{}),c=0;c<i.length;c++)u=i[c],d=t.safeString(u,"asset_id"),f=t.safeValue(o,d),l=void 0===f?d:f.code,(h=t.account()).total=t.safeFloat(u,"balance"),h.free=t.safeFloat(u,"available_balance"),s[l]=h;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchPosition(e,t){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={product_id:i.numericId},n.next=6,r.privateGetPositions(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",c);case 9:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privateGetPositionsMargined(i);case 4:return t=e.sent,r=s.safeValue(t,"result",[]),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()}parseOrderStatus(e){return this.safeString({open:"open",pending:"open",closed:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"client_order_id"),a=this.parse8601(this.safeString(e,"created_at")),i=this.safeString(e,"product_id"),s=this.safeValue(this.options,"marketsByNumericId",{}),o=void 0===(t=this.safeValue(s,i,t))?i:t.symbol,c=this.parseOrderStatus(this.safeString(e,"state")),u=this.safeString(e,"side"),d=this.safeString(e,"order_type");d=d.replace("_order","");var f=this.safeFloat(e,"limit_price"),l=this.safeFloat(e,"size"),h=this.safeFloat(e,"unfilled_size"),p=void 0;void 0!==l&&void 0!==h&&(p=Math.max(0,l-h));var m=void 0,v=this.safeFloat(e,"average_fill_price");void 0!==v&&p&&(m=v*p);var b=void 0,g=this.safeFloat(e,"paid_commission");if(void 0!==g){var y=void 0;if(void 0!==t){var w=this.safeValue(t.info,"settling_asset",{}),k=this.safeString(w,"symbol");y=this.safeCurrencyCode(k)}b={cost:g,currency:y}}return{info:e,id:r,clientOrderId:n,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:o,type:d,side:u,price:f,amount:l,cost:m,average:v,filled:p,remaining:h,status:c,fee:b,trades:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=t+"_order",d=c.market(e),f={product_id:d.numericId,size:c.amountToPrecision(e,i),side:r,order_type:u},"limit"===t&&(f.limit_price=c.priceToPrecision(e,s)),l=c.safeString2(o,"clientOrderId","client_order_id"),o=c.omit(o,["clientOrderId","client_order_id"]),void 0!==l&&(f.client_order_id=l),n.next=11,c.privatePostOrders(c.extend(f,o));case 11:return h=n.sent,p=c.safeValue(h,"result",{}),n.abrupt("return",c.parseOrder(p,d));case 14:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return a=u.market(t),i={id:parseInt(e),product_id:a.numericId},void 0!==s&&(i.size=parseInt(u.amountToPrecision(t,s))),void 0!==o&&(i.limit_price=u.priceToPrecision(t,o)),r.next=8,u.privatePutOrders(u.extend(i,c));case 8:return d=r.sent,f=u.safeValue(d,"result"),r.abrupt("return",u.parseOrder(f,a));case 11:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new h(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={id:parseInt(e),product_id:s.numericId},n.next=8,i.privateDeleteOrders(i.extend(o,r));case 8:return c=n.sent,u=i.safeValue(c,"result"),n.abrupt("return",i.parseOrder(u,s));case 11:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new h(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.market(e),s={product_id:i.numericId},o=r.privateDeleteOrdersAll(r.extend(s,t)),n.abrupt("return",o);case 8:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetOrders",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetOrdersHistory",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOrdersWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={},u=void 0,void 0!==t&&(u=o.market(t),c.product_ids=u.numericId),void 0!==r&&(c.start_time=r.toString()+"000"),void 0!==i&&(c.page_size=i),n.next=9,o[e](o.extend(c,s));case 9:return d=n.sent,f=o.safeValue(d,"result",[]),n.abrupt("return",o.parseOrders(f,u,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.product_ids=c.numericId),void 0!==t&&(o.start_time=t.toString()+"000"),void 0!==r&&(o.page_size=r),n.next=9,s.privateGetFills(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseTrades(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.asset_id=c.numericId),void 0!==r&&(o.page_size=r),n.next=8,s.privateGetWalletTransactions(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseLedger(d,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({pnl:"pnl",deposit:"transaction",withdrawal:"transaction",commission:"fee",conversion:"trade",referral_bonus:"referral",commission_rebate:"rebate"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"uuid"),n=void 0,a=this.safeValue(e,"meta_data",{}),i=this.safeString(a,"transaction_id"),s=this.safeString(e,"transaction_type");"deposit"===s||"commission_rebate"===s||"referral_bonus"===s||"pnl"===s||"withdrawal_cancellation"===s||"promo_credit"===s?n="in":"withdrawal"!==s&&"commission"!==s&&"conversion"!==s&&"perpetual_futures_funding"!==s||(n="out"),s=this.parseLedgerEntryType(s);var o=this.safeInteger(e,"asset_id"),c=this.safeValue(this.options,"currenciesByNumericId"),u=void 0===(t=this.safeValue(c,o,t))?void 0:t.code,d=this.safeFloat(e,"amount"),f=this.parse8601(this.safeString(e,"created_at")),l=this.safeFloat(e,"balance");return{info:e,id:r,direction:n,account:void 0,referenceId:i,referenceAccount:void 0,type:s,currency:u,amount:d,before:Math.max(0,l-d),after:l,status:"ok",timestamp:f,datetime:this.iso8601(f),fee:void 0}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={asset_symbol:i.id},n.next=6,r.privateGetDepositsAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),u=r.safeString(c,"address"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.urls.api[t]+s,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();var u=this.seconds().toString();a={"api-key":this.apiKey,timestamp:u};var d=r+u+s;if("GET"===r||"DELETE"===r){if(Object.keys(c).length){var f="?"+this.urlencode(c);d+=f,o+=f}}else d+=i=this.json(c),a["Content-Type"]="application/json";var l=this.hmac(this.encode(d),this.encode(this.secret));a.signature=l}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeValue(s,"error",{}),f=this.safeString(d,"code");if(void 0!==f){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new o(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(16).TICK_SIZE,o=r(6),c=o.AuthenticationError,u=o.ExchangeError,d=o.ArgumentsRequired,f=o.PermissionDenied,l=o.InvalidOrder,h=o.OrderNotFound,p=o.DDoSProtection,m=o.NotSupported,v=o.ExchangeNotAvailable,b=o.InsufficientFunds,g=o.BadRequest,y=o.InvalidAddress,w=o.OnMaintenance;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"deribit",name:"Deribit",countries:["NL"],version:"v2",userAgent:void 0,rateLimit:500,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","3m":"3","5m":"5","10m":"10","15m":"15","30m":"30","1h":"60","2h":"120","3h":"180","6h":"360","12h":"720","1d":"1D"},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com/v2","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:"https://www.deribit.com/reg-1189.4038"},api:{public:{get:["auth","exchange_token","fork_token","set_heartbeat","disable_heartbeat","get_time","hello","test","subscribe","unsubscribe","get_announcements","get_book_summary_by_currency","get_book_summary_by_instrument","get_contract_size","get_currencies","get_funding_chart_data","get_funding_rate_history","get_funding_rate_value","get_historical_volatility","get_index","get_instruments","get_last_settlements_by_currency","get_last_settlements_by_instrument","get_last_trades_by_currency","get_last_trades_by_currency_and_time","get_last_trades_by_instrument","get_last_trades_by_instrument_and_time","get_order_book","get_trade_volumes","get_tradingview_chart_data","ticker"]},private:{get:["logout","enable_cancel_on_disconnect","disable_cancel_on_disconnect","get_cancel_on_disconnect","subscribe","unsubscribe","change_api_key_name","change_scope_in_api_key","change_subaccount_name","create_api_key","create_subaccount","disable_api_key","disable_tfa_for_subaccount","enable_api_key","get_account_summary","get_email_language","get_new_announcements","get_position","get_positions","get_subaccounts","list_api_keys","remove_api_key","reset_api_key","set_announcement_as_read","set_api_key_as_default","set_email_for_subaccount","set_email_language","set_password_for_subaccount","toggle_notifications_from_subaccount","toggle_subaccount_login","execute_block_trade","get_block_trade","get_last_block_trades_by_currency","invalidate_block_trade_signature","verify_block_trade","buy","sell","edit","cancel","cancel_all","cancel_all_by_currency","cancel_all_by_instrument","cancel_by_label","close_position","get_margins","get_open_orders_by_currency","get_open_orders_by_instrument","get_order_history_by_currency","get_order_history_by_instrument","get_order_margin_by_ids","get_order_state","get_stop_order_history","get_user_trades_by_currency","get_user_trades_by_currency_and_time","get_user_trades_by_instrument","get_user_trades_by_instrument_and_time","get_user_trades_by_order","get_settlement_history_by_instrument","get_settlement_history_by_currency","cancel_transfer_by_id","cancel_withdrawal","create_deposit_address","get_current_deposit_address","get_deposits","get_transfers","get_withdrawals","submit_transfer_to_subaccount","submit_transfer_to_user","withdraw"]}},exceptions:{9999:f,1e4:c,10001:u,10002:l,10003:l,10004:h,10005:l,10006:l,10007:l,10008:l,10009:b,10010:h,10011:l,10012:l,10013:f,10014:f,10015:f,10016:f,10017:f,10018:f,10019:f,10020:u,10021:l,10022:l,10023:l,10024:l,10025:l,10026:l,10027:l,10028:p,10029:h,10030:u,10031:u,10032:l,10033:m,10034:l,10035:l,10036:l,10040:v,10041:w,10043:l,10044:l,10045:l,10046:l,10047:p,10048:u,11008:l,11029:g,11030:u,11031:u,11035:p,11036:l,11037:g,11038:l,11039:l,11041:l,11042:f,11043:g,11044:l,11045:g,11046:g,11047:g,11048:u,11049:g,11050:g,11051:w,11052:u,11053:u,11090:y,11091:y,11092:y,11093:p,11094:u,11095:u,11096:u,12e3:c,12001:p,12002:u,12998:c,12003:c,12004:c,12005:c,12100:u,12999:c,13e3:c,13001:c,13002:f,13003:c,13004:c,13005:c,13006:c,13007:c,13008:u,13009:c,13010:g,13011:g,13012:f,13013:g,13014:g,13015:g,13016:g,13017:u,13018:u,13019:u,13020:u,13021:f,13025:u,"-32602":g,"-32601":g,"-32700":g,"-32000":g},precisionMode:s,options:{code:"BTC",fetchBalance:{code:"BTC"}}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"result"));case 4:case"end":return r.stop()}}),r)})))()}codeFromOptions(e){var t=this.safeValue(this.options,"code","BTC"),r=this.safeValue(this.options,e,{});return this.safeValue(r,"code",t)}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={},r.next=3,t.publicGetTest(t.extend(a,e));case 3:return t.status=t.extend(t.status,{status:"ok",updated:t.milliseconds()}),r.abrupt("return",t.status);case 5:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetGetCurrencies(e);case 2:a=r.sent,i=t.safeValue(a,"result",[]),s=[],o=0;case 6:if(!(o<i.length)){r.next=17;break}return c=t.safeString(i[o],"currency"),u={currency:c},r.next=11,t.publicGetGetInstruments(t.extend(u,e));case 11:for(d=r.sent,f=t.safeValue(d,"result",[]),l=0;l<f.length;l++)h=f[l],p=t.safeString(h,"instrument_name"),m=t.safeString(h,"base_currency"),v=t.safeString(h,"quote_currency"),b=t.safeCurrencyCode(m),g=t.safeCurrencyCode(v),y=t.safeString(h,"kind"),w="future"===y,k="option"===y,x=t.safeValue(h,"is_active"),_=t.safeFloat(h,"min_trade_amount"),S=t.safeFloat(h,"tick_size"),T={amount:_,price:S},s.push({id:p,symbol:p,base:b,quote:g,active:x,precision:T,taker:t.safeFloat(h,"taker_commission"),maker:t.safeFloat(h,"maker_commission"),limits:{amount:{min:_,max:void 0},price:{min:S,max:void 0},cost:{min:void 0,max:void 0}},type:y,spot:!1,future:w,option:k,info:h});case 14:o++,r.next=6;break;case 17:return r.abrupt("return",s);case 18:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.codeFromOptions("fetchBalance"),i=t.currency(a),s={currency:i.id},r.next=7,t.privateGetGetAccountSummary(t.extend(s,e));case 7:return o=r.sent,c={info:o},u=t.safeValue(o,"result",{}),d=t.safeString(u,"currency"),f=t.safeCurrencyCode(d),(l=t.account()).free=t.safeFloat(u,"availableFunds"),l.used=t.safeFloat(u,"maintenanceMargin"),l.total=t.safeFloat(u,"equity"),c[f]=l,r.abrupt("return",t.parseBalance(c));case 18:case"end":return r.stop()}}),r)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetCreateDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),u=r.safeString(c,"address"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetGetCurrentDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),u=r.safeString(c,"address"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger2(e,"timestamp","creation_timestamp"),n=this.safeString(e,"instrument_name"),a=this.safeSymbol(n,t),i=this.safeFloat2(e,"last_price","last"),s=this.safeValue(e,"stats",e);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat2(s,"high","max_price"),low:this.safeFloat2(s,"low","min_price"),bid:this.safeFloat2(e,"best_bid_price","bid_price"),bidVolume:this.safeFloat(e,"best_bid_amount"),ask:this.safeFloat2(e,"best_ask_price","ask_price"),askVolume:this.safeFloat(e,"best_ask_amount"),vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(s,"volume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={instrument_name:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result"),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.codeFromOptions("fetchTickers"),s=r.currency(i),o={currency:s.id},n.next=7,r.publicGetGetBookSummaryByCurrency(r.extend(o,t));case 7:for(c=n.sent,u=r.safeValue(c,"result",[]),d={},f=0;f<u.length;f++)l=r.parseTicker(u[f]),h=l.symbol,d[h]=l;return n.abrupt("return",r.filterByArray(d,"symbol",e));case 12:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),u={instrument_name:c.id,resolution:o.timeframes[t]},f=o.parseTimeframe(t),l=o.milliseconds(),void 0!==r){n.next=15;break}if(void 0!==i){n.next=11;break}throw new d(o.id+" fetchOHLCV() requires a since argument or a limit argument");case 11:u.start_timestamp=l-(i-1)*f*1e3,u.end_timestamp=l;case 13:n.next=17;break;case 15:u.start_timestamp=r,u.end_timestamp=void 0===i?l:o.sum(r,i*f*1e3);case 17:return n.next=19,o.publicGetGetTradingviewChartData(o.extend(u,s));case 19:return h=n.sent,p=o.safeValue(h,"result",{}),m=o.convertTradingViewToOHLCV(p,"ticks","open","high","low","close","volume",!0),n.abrupt("return",o.parseOHLCVs(m,c,t,r,i));case 23:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"trade_id"),n=this.safeString(e,"instrument_name"),a=this.safeSymbol(n,t),i=this.safeInteger(e,"timestamp"),s=this.safeString(e,"direction"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount"),u=void 0;void 0!==c&&void 0!==o&&(u=c*o);var d=this.safeString(e,"liquidity"),f=void 0;void 0!==d&&(f="M"===d?"maker":"taker");var l=this.safeFloat(e,"fee"),h=void 0;if(void 0!==l){var p=this.safeString(e,"fee_currency");h={cost:l,currency:this.safeCurrencyCode(p)}}return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,order:this.safeString(e,"order_id"),type:this.safeString(e,"order_type"),side:s,takerOrMaker:f,price:o,amount:c,cost:u,fee:h}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={instrument_name:o.id,include_old:!0},u=void 0===t?"publicGetGetLastTradesByInstrument":"publicGetGetLastTradesByInstrumentAndTime",void 0!==t&&(c.start_timestamp=t),void 0!==r&&(c.count=r),n.next=9,s[u](s.extend(c,i));case 9:return d=n.sent,f=s.safeValue(d,"result",{}),l=s.safeValue(f,"trades",[]),n.abrupt("return",s.parseTrades(l,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={instrument_name:s.id},void 0!==t&&(o.depth=t),n.next=7,i.publicGetGetOrderBook(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"result",{}),d=i.safeInteger(u,"timestamp"),f=i.safeInteger(u,"change_id"),(l=i.parseOrderBook(u,d)).nonce=f,n.abrupt("return",l);case 14:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({open:"open",cancelled:"canceled",filled:"closed",rejected:"rejected",untriggered:"open"},e,e)}parseTimeInForce(e){return this.safeString({good_til_cancelled:"GTC",fill_or_kill:"FOK",immediate_or_cancel:"IOC"},e,e)}parseOrder(e,t){var r=this.safeInteger(e,"creation_timestamp"),n=this.safeInteger(e,"last_update_timestamp"),a=this.safeString(e,"order_id"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"average_price"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"filled_amount"),u=void 0;void 0!==c&&c>0&&(u=n);var d=void 0,f=void 0;void 0!==c&&(void 0!==o&&(d=o-c),void 0!==i&&(f=i*c));var l=this.parseOrderStatus(this.safeString(e,"order_state")),h=this.safeString(e,"instrument_name");t=this.safeMarket(h,t);var p=this.safeStringLower(e,"direction"),m=this.safeFloat(e,"commission"),v=void 0;void 0!==m&&(v={cost:m=Math.abs(m),currency:t.base});var b=this.safeString(e,"order_type"),g=this.safeValue(e,"trades");void 0!==g&&(g=this.parseTrades(g,t));var y=this.parseTimeInForce(this.safeString(e,"time_in_force")),w=this.safeValue(e,"stop_price"),k=this.safeValue(e,"post_only");return{info:e,id:a,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:u,symbol:t.symbol,type:b,timeInForce:y,postOnly:k,side:p,price:i,stopPrice:w,amount:o,cost:f,average:s,filled:c,remaining:d,status:l,fee:v,trades:g}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetGetOrderState(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"result"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,f,l,h,p,m,v,b,g,y;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),f={instrument_name:u.id,amount:c.amountToPrecision(e,i),type:t},l=!1,h=!1,"limit"===t?l=!0:"stop_limit"===t&&(l=!0,h=!0),!l){n.next=13;break}if(void 0===s){n.next=12;break}f.price=c.priceToPrecision(e,s),n.next=13;break;case 12:throw new d(c.id+" createOrder() requires a price argument for a "+t+" order");case 13:if(!h){n.next=21;break}if(void 0!==(p=c.safeFloat2(o,"stop_price","stopPrice"))){n.next=19;break}throw new d(c.id+" createOrder() requires a stop_price or stopPrice param for a "+t+" order");case 19:f.stop_price=c.priceToPrecision(e,p);case 20:o=c.omit(o,["stop_price","stopPrice"]);case 21:return m="privateGet"+c.capitalize(r),n.next=24,c[m](c.extend(f,o));case 24:return v=n.sent,b=c.safeValue(v,"result",{}),g=c.safeValue(b,"order"),y=c.safeValue(b,"trades",[]),g.trades=y,n.abrupt("return",c.parseOrder(g,u));case 30:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==s){r.next=2;break}throw new d(u.id+" editOrder() requires an amount argument");case 2:if(void 0!==o){r.next=4;break}throw new d(u.id+" editOrder() requires a price argument");case 4:return r.next=6,u.loadMarkets();case 6:return a={order_id:e,amount:u.amountToPrecision(t,s),price:u.priceToPrecision(t,o)},r.next=9,u.privateGetEdit(u.extend(a,c));case 9:return i=r.sent,f=u.safeValue(i,"result",{}),l=u.safeValue(f,"order"),h=u.safeValue(f,"trades",[]),l.trades=h,r.abrupt("return",u.parseOrder(l));case 15:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetCancel(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"result",{}),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0===e?s="privateGetCancelAll":(s="privateGetCancelAllByInstrument",o=r.market(e),i.instrument_name=o.id),n.next=7,r[s](r.extend(i,t));case 7:return c=n.sent,n.abrupt("return",c);case 9:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,u=void 0,void 0===e?(d=s.codeFromOptions("fetchOpenOrders"),f=s.currency(d),o.currency=f.id,u="privateGetGetOpenOrdersByCurrency"):(c=s.market(e),o.instrument_name=c.id,u="privateGetGetOpenOrdersByInstrument"),n.next=8,s[u](s.extend(o,i));case 8:return l=n.sent,h=s.safeValue(l,"result",[]),n.abrupt("return",s.parseOrders(h,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,u=void 0,void 0===e?(d=s.codeFromOptions("fetchClosedOrders"),f=s.currency(d),o.currency=f.id,u="privateGetGetOrderHistoryByCurrency"):(c=s.market(e),o.instrument_name=c.id,u="privateGetGetOrderHistoryByInstrument"),n.next=8,s[u](s.extend(o,i));case 8:return l=n.sent,h=s.safeValue(l,"result",[]),n.abrupt("return",s.parseOrders(h,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function t(){var a,c,u,d;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.loadMarkets();case 2:return a={order_id:e},t.next=5,o.privateGetGetUserTradesByOrder(o.extend(a,s));case 5:return c=t.sent,u=o.safeValue(c,"result",{}),d=o.safeValue(u,"trades",[]),t.abrupt("return",o.parseTrades(d,void 0,r,i));case 9:case"end":return t.stop()}}),t)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={include_old:!0},c=void 0,u=void 0,void 0===e?(d=s.codeFromOptions("fetchMyTrades"),f=s.currency(d),o.currency=f.id,void 0===t?u="privateGetGetUserTradesByCurrency":(u="privateGetGetUserTradesByCurrencyAndTime",o.start_timestamp=t)):(c=s.market(e),o.instrument_name=c.id,void 0===t?u="privateGetGetUserTradesByInstrument":(u="privateGetGetUserTradesByInstrumentAndTime",o.start_timestamp=t)),void 0!==r&&(o.count=r),n.next=9,s[u](s.extend(o,i));case 9:return l=n.sent,h=s.safeValue(l,"result",{}),p=s.safeValue(h,"trades",[]),n.abrupt("return",s.parseTrades(p,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+" fetchDeposits() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currency:o.id},void 0!==r&&(c.count=r),n.next=9,s.privateGetGetDeposits(s.extend(c,i));case 9:return u=n.sent,f=s.safeValue(u,"result",{}),l=s.safeValue(f,"data",[]),n.abrupt("return",s.parseTransactions(l,o,t,r,i));case 13:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+" fetchWithdrawals() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={currency:o.id},void 0!==r&&(c.count=r),n.next=9,s.privateGetGetWithdrawals(s.extend(c,i));case 9:return u=n.sent,f=s.safeValue(u,"result",{}),l=s.safeValue(f,"data",[]),n.abrupt("return",s.parseTransactions(l,o,t,r,i));case 13:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({completed:"ok",unconfirmed:"pending"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"currency"),n=this.safeCurrencyCode(r,t),a=this.safeInteger2(e,"created_timestamp","received_timestamp"),i=this.safeInteger(e,"updated_timestamp"),s=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address"),c=this.safeFloat(e,"fee"),u="deposit",d=void 0;return void 0!==c&&(u="withdrawal",d={cost:c,currency:n}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"transaction_id"),timestamp:a,datetime:this.iso8601(a),address:o,addressTo:o,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:u,amount:this.safeFloat(e,"amount"),currency:n,status:s,updated:i,fee:d}}fetchPosition(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={instrument_name:i.id},n.next=6,r.privateGetGetPosition(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result"),n.abrupt("return",c);case 9:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,r,a,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return t=s.codeFromOptions("fetchPositions"),r=s.currency(t),a={currency:r.id},e.next=7,s.privateGetGetPositions(s.extend(a,i));case 7:return o=e.sent,c=s.safeValue(o,"result",[]),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return i=o.currency(e),c={currency:i.id,address:r,amount:t},void 0!==o.twofa&&(c.tfa=o.oath()),n.next=8,o.privateGetWithdraw(o.extend(c,s));case 8:return u=n.sent,n.abrupt("return",{info:u,id:o.safeString(u,"id")});case 10:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/"+t+"/"+e;if("public"===t&&Object.keys(n).length&&(s+="?"+this.urlencode(n)),"private"===t){this.checkRequiredCredentials();var o=this.nonce().toString(),c=this.milliseconds().toString();Object.keys(n).length&&(s+="?"+this.urlencode(n));var u=c+"\n"+o+"\n"+(r+"\n"+s+"\n\n"),d=this.hmac(this.encode(u),this.encode(this.secret),"sha256");a={Authorization:"deri-hmac-sha256 id="+this.apiKey+",ts="+c+",sig="+d+",nonce="+o}}return{url:this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(s){var d=this.safeValue(s,"error");if(void 0!==d){var f=this.safeString(d,"code"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,f,l),new u(l)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.AccountSuspended,u=o.BadRequest,d=o.BadResponse,f=o.NetworkError,l=o.DDoSProtection,h=o.AuthenticationError,p=o.PermissionDenied,m=o.ArgumentsRequired,v=o.ExchangeError,b=o.InsufficientFunds,g=o.InvalidOrder,y=o.InvalidNonce,w=o.OrderNotFound,k=o.InvalidAddress,x=o.RateLimitExceeded,_=o.BadSymbol;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"digifinex",name:"DigiFinex",countries:["SG"],version:"v3",rateLimit:900,has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D","1w":"1W"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443315-01283a00-c5fe-11ea-8628-c2a0feaf07ac.jpg",api:"https://openapi.digifinex.com",www:"https://www.digifinex.com",doc:["https://docs.digifinex.com"],fees:"https://digifinex.zendesk.com/hc/en-us/articles/360000328422-Fee-Structure-on-DigiFinex",referral:"https://www.digifinex.com/en-ww/from/DhOzBg?channelCode=ljaUPp"},api:{v2:{get:["ticker"]},public:{get:["{market}/symbols","kline","margin/currencies","margin/symbols","markets","order_book","ping","spot/symbols","time","trades","trades/symbols","ticker","currencies"]},private:{get:["{market}/financelog","{market}/mytrades","{market}/order","{market}\u200b/order\u200b/detail","{market}/order/current","{market}/order/history","margin/assets","margin/financelog","margin/mytrades","margin/order","margin/order/current","margin/order/history","margin/positions","otc/financelog","spot/assets","spot/financelog","spot/mytrades","spot/order","spot/order/current","spot/order/history","deposit/address","deposit/history","withdraw/history"],post:["{market}/order/cancel","{market}/order/new","{market}\u200b/order\u200b/batch_new","margin/order/cancel","margin/order/new","margin/position/close","spot/order/cancel","spot/order/new","transfer","withdraw/new","withdraw/cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{10001:[u,"Wrong request method, please check it's a GET ot POST request"],10002:[h,"Invalid ApiKey"],10003:[h,"Sign doesn't match"],10004:[u,"Illegal request parameters"],10005:[l,"Request frequency exceeds the limit"],10006:[p,"Unauthorized to execute this request"],10007:[p,"IP address Unauthorized"],10008:[y,"Timestamp for this request is invalid, timestamp must within 1 minute"],10009:[f,"Unexist endpoint, please check endpoint URL"],10011:[c,"ApiKey expired. Please go to client side to re-create an ApiKey"],20001:[p,"Trade is not open for this trading pair"],20002:[p,"Trade of this trading pair is suspended"],20003:[g,"Invalid price or amount"],20007:[g,"Price precision error"],20008:[g,"Amount precision error"],20009:[g,"Amount is less than the minimum requirement"],20010:[g,"Cash Amount is less than the minimum requirement"],20011:[b,"Insufficient balance"],20012:[u,"Invalid trade type, valid value: buy/sell)"],20013:[g,"No order info found"],20014:[u,"Invalid date, Valid format: 2018-07-25)"],20015:[u,"Date exceeds the limit"],20018:[p,"Your trading rights have been banned by the system"],20019:[u,'Wrong trading pair symbol. Correct format:"usdt_btc". Quote asset is in the front'],20020:[l,"You have violated the API operation trading rules and temporarily forbid trading. At present, we have certain restrictions on the user's transaction rate and withdrawal rate."],5e4:[v,"Exception error"],20021:[u,"Invalid currency"],20022:[u,"The ending timestamp must be larger than the starting timestamp"],20023:[u,"Invalid transfer type"],20024:[u,"Invalid amount"],20025:[u,"This currency is not transferable at the moment"],20026:[b,"Transfer amount exceed your balance"],20027:[p,"Abnormal account status"],20028:[p,"Blacklist for transfer"],20029:[p,"Transfer amount exceed your daily limit"],20030:[u,"You have no position on this trading pair"],20032:[p,"Withdrawal limited"],20033:[u,"Wrong Withdrawal ID"],20034:[p,"Withdrawal service of this crypto has been closed"],20035:[p,"Withdrawal limit"],20036:[v,"Withdrawal cancellation failed"],20037:[k,"The withdrawal address, Tag or chain type is not included in the withdrawal management list"],20038:[k,"The withdrawal address is not on the white list"],20039:[v,"Can't be canceled in current status"],20040:[x,"Withdraw too frequently; limitation: 3 times a minute, 100 times a day"],20041:[p,"Beyond the daily withdrawal limit"],20042:[_,"Current trading pair does not support API trading"]},broad:{}},options:{defaultType:"spot",types:["spot","margin","otc"]},commonCurrencies:{BHT:"Black House Test",MBN:"Mobilian Coin",TEL:"TEL666"}})}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(n=r.sent,i=t.safeValue(n,"data",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),f=t.safeValue(c,"deposit_status",1),l=t.safeValue(c,"withdraw_status",1),h=f&&l,p=t.safeFloat(c,"withdraw_fee_rate"),d in s?Array.isArray(s[d].info)?s[d].info.push(c):s[d].info=[s[d].info,c]:s[d]={id:u,code:d,info:c,type:void 0,name:void 0,active:h,fee:p,precision:8,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(c,"min_withdraw_amount"),max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.safeValue(t.options,"fetchMarkets",{}),i=t.safeString(n,"method","fetch_markets_v2"),r.next=4,t[i](e);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}fetchMarketsV2(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTradesSymbols(e);case 2:for(n=r.sent,i=t.safeValue(n,"symbol_list",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"symbol"),d=t.safeString(c,"base_asset"),f=t.safeString(c,"quote_asset"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={amount:t.safeInteger(c,"amount_precision"),price:t.safeInteger(c,"price_precision")},v={amount:{min:t.safeFloat(c,"minimum_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(c,"minimum_value"),max:void 0}},b=t.safeValue(c,"is_allow",1),g=!!b,"spot",!0,!1,s.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:g,type:"spot",spot:!0,margin:!1,precision:m,limits:v,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchMarketsV1(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(i=r.sent,s=t.safeValue(i,"data",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"market"),f=d.split("_"),l=n(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g={amount:t.safeInteger(u,"volume_precision"),price:t.safeInteger(u,"price_precision")},y={amount:{min:t.safeFloat(u,"min_volume"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(u,"min_amount"),max:void 0}},void 0,o.push({id:d,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:void 0,precision:g,limits:y,info:u});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.safeString(t.options,"defaultType","spot"),i=t.safeString(e,"type",n),e=t.omit(e,"type"),s="privateGet"+t.capitalize(i)+"Assets",r.next=6,t[s](e);case 6:for(o=r.sent,c=t.safeValue(o,"list",[]),u={info:o},d=0;d<c.length;d++)f=c[d],l=t.safeString(f,"currency"),h=t.safeCurrencyCode(l),(p=t.account()).used=t.safeFloat(f,"frozen"),p.free=t.safeFloat(f,"free"),p.total=t.safeFloat(f,"total"),u[h]=p;return r.abrupt("return",t.parseBalance(u));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={symbol:s.id},void 0!==t&&(o.limit=t),a.next=7,n.publicGetOrderBook(n.extend(o,r));case 7:return c=a.sent,u=n.safeTimestamp(c,"date"),a.abrupt("return",n.parseOrderBook(c,u));case 10:case"end":return a.stop()}}),i)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function i(){var s,o,c,u,d,f,l,h,p,v,b,g,y,w,k,x,_;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=r.safeValue(t,"apiKey",r.apiKey)){a.next=3;break}throw new m(r.id+" fetchTickers() is a private v2 endpoint that requires an `exchange.apiKey` credential or an `apiKey` extra parameter");case 3:return a.next=5,r.loadMarkets();case 5:return o={apiKey:s},a.next=8,r.v2GetTicker(r.extend(o,t));case 8:for(c=a.sent,u={},d=r.safeValue(c,"ticker",{}),f=r.safeInteger(c,"date"),l=Object.keys(d),h=0;h<l.length;h++)p=l[h],v=r.extend({date:f},d[p]),b=p.split("_"),g=n(b,2),y=g[0],w=g[1],k=w.toUpperCase()+"_"+y.toUpperCase(),x=r.safeMarket(k,void 0,"_"),_=x.symbol,u[_]=r.parseTicker(v,x);return a.abrupt("return",r.filterByArray(u,"symbol",e));case 15:case"end":return a.stop()}}),i)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.safeValue(t,"apiKey",r.apiKey)){n.next=3;break}throw new m(r.id+" fetchTicker() is a private v2 endpoint that requires an `exchange.apiKey` credential or an `apiKey` extra parameter");case 3:return n.next=5,r.loadMarkets();case 5:return s=r.market(e),o=s.quoteId.toLowerCase()+"_"+s.baseId.toLowerCase(),c={symbol:o,apiKey:i},n.next=10,r.v2GetTicker(r.extend(c,t));case 10:return u=n.sent,d=r.safeInteger(u,"date"),f=r.safeValue(u,"ticker",{}),l=r.safeValue(f,o,{}),l=r.extend({date:d},l),n.abrupt("return",r.parseTicker(l,s));case 16:case"end":return n.stop()}}),n)})))()}parseTicker(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeTimestamp(e,"date"),a=this.safeFloat(e,"last"),i=this.safeFloat(e,"change");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:i,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"base_vol"),info:e}}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"order_id"),a=this.safeTimestamp2(e,"date","timestamp"),i=this.safeString2(e,"type","side"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;void 0!==s&&void 0!==o&&(c=s*o);var u=this.safeString(e,"symbol"),d=this.safeSymbol(u,t,"_"),f=this.safeValue(e,"is_maker"),l=this.safeFloat(e,"fee"),h=void 0;if(void 0!==l){var p=this.safeString(e,"fee_currency");h={cost:l,currency:this.safeCurrencyCode(p)}}return{id:r,info:e,timestamp:a,datetime:this.iso8601(a),symbol:d,type:void 0,order:n,side:i,price:s,amount:o,cost:c,takerOrMaker:f,fee:h}}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return n=r.sent,r.abrupt("return",t.safeTimestamp(n,"server_time"));case 4:case"end":return r.stop()}}),r)})))()}fetchStatus(e={}){var t=this;return i(a.mark((function r(){return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPing(e);case 2:return t.status=t.extend(t.status,{status:"ok",updated:t.milliseconds()}),r.abrupt("return",t.status);case 4:case"end":return r.stop()}}),r)})))()}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),a.next=7,s.publicGetTrades(s.extend(c,n));case 7:return u=a.sent,d=s.safeValue(u,"data",[]),a.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,5),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,1)]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,period:o.timeframes[t]},void 0!==r?(d=parseInt(r/1e3),u.start_time=d,void 0!==n&&(f=o.parseTimeframe(t),u.end_time=o.sum(d,n*f))):void 0!==n&&(l=o.seconds(),h=o.parseTimeframe(t),u.startTime=o.sum(l,-n*h)),a.next=7,o.publicGetKline(o.extend(u,s));case 7:return p=a.sent,m=o.safeValue(p,"data",[]),a.abrupt("return",o.parseOHLCVs(m,c,t,r,n));case 10:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.market(e),d=c.safeString(c.options,"defaultType","spot"),f=c.safeString(o,"type",d),o=c.omit(o,"type"),l={market:f,symbol:u.id,amount:c.amountToPrecision(e,n)},h="","market"===t?h="_market":l.price=c.priceToPrecision(e,s),l.type=r+h,a.next=12,c.privatePostMarketOrderNew(c.extend(l,o));case 12:return p=a.sent,m=c.parseOrder(p,u),a.abrupt("return",c.extend(m,{symbol:e,side:r,type:t,amount:n,price:s}));case 15:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.safeString(n.options,"defaultType","spot"),s=n.safeString(r,"type",i),r=n.omit(r,"type"),o={market:s,order_id:e},t.next=8,n.privatePostMarketOrderCancel(n.extend(o,r));case 8:if(c=t.sent,u=n.safeValue(c,"success",[]),1===u.length){t.next=13;break}throw new w(n.id+" cancelOrder "+e+" not found");case 13:return t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})))()}cancelOrders(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i=n.safeString(n.options,"defaultType","spot"),s=n.safeString(r,"type",i),r=n.omit(r,"type"),o={market:s,order_id:e.join(",")},t.next=8,n.privatePostCancelOrder(n.extend(o,r));case 8:if(c=t.sent,u=n.safeValue(c,"success",[]),!(u.length<1)){t.next=13;break}throw new w(n.id+" cancelOrders error");case 13:return t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=this.safeTimestamp(e,"created_date"),a=this.safeTimestamp(e,"finished_date"),i=this.safeString(e,"type"),s=void 0;if(void 0!==i){var o=i.split("_");o.length>1?(i=o[0],s=o[1]):s="limit"}var c=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"symbol"),d=this.safeSymbol(u,t,"_"),f=this.safeFloat(e,"amount"),l=this.safeFloat(e,"executed_amount"),h=this.safeFloat(e,"price"),p=this.safeFloat(e,"avg_price"),m=void 0,v=void 0;return void 0!==l&&(void 0!==p&&(v=l*p),void 0!==f&&(m=Math.max(0,f-l))),{info:e,id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:a,symbol:d,type:s,timeInForce:void 0,postOnly:void 0,side:i,price:h,stopPrice:void 0,amount:f,filled:l,remaining:m,cost:v,average:p,status:c,fee:void 0,trades:void 0}}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.safeString(s.options,"defaultType","spot"),c=s.safeString(n,"type",o),n=s.omit(n,"type"),a.next=5,s.loadMarkets();case 5:return u=void 0,d={market:c},void 0!==e&&(u=s.market(e),d.symbol=u.id),a.next=10,s.privateGetMarketOrderCurrent(s.extend(d,n));case 10:return f=a.sent,l=s.safeValue(f,"data",[]),a.abrupt("return",s.parseOrders(l,u,t,r));case 13:case"end":return a.stop()}}),i)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.safeString(s.options,"defaultType","spot"),c=s.safeString(n,"type",o),n=s.omit(n,"type"),a.next=5,s.loadMarkets();case 5:return u=void 0,d={market:c},void 0!==e&&(u=s.market(e),d.symbol=u.id),void 0!==t&&(d.start_time=parseInt(t/1e3)),void 0!==r&&(d.limit=r),a.next=12,s.privateGetMarketOrderHistory(s.extend(d,n));case 12:return f=a.sent,l=s.safeValue(f,"data",[]),a.abrupt("return",s.parseOrders(l,u,t,r));case 15:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.safeString(n.options,"defaultType","spot"),o=n.safeString(r,"type",s),r=n.omit(r,"type"),a.next=5,n.loadMarkets();case 5:return c=void 0,void 0!==t&&(c=n.market(t)),u={market:o,order_id:e},a.next=10,n.privateGetMarketOrder(n.extend(u,r));case 10:if(d=a.sent,f=n.safeValue(d,"data",[]),void 0!==(l=n.safeValue(f,0))){a.next=15;break}throw new w(n.id+" fetchOrder() order "+e+" not found");case 15:return a.abrupt("return",n.parseOrder(l,c));case 16:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.safeString(s.options,"defaultType","spot"),c=s.safeString(n,"type",o),n=s.omit(n,"type"),a.next=5,s.loadMarkets();case 5:return u=void 0,d={market:c},void 0!==e&&(u=s.market(e),d.symbol=u.id),void 0!==t&&(d.start_time=parseInt(t/1e3)),void 0!==r&&(d.limit=r),a.next=12,s.privateGetMarketMytrades(s.extend(d,n));case 12:return f=a.sent,l=s.safeValue(f,"list",[]),a.abrupt("return",s.parseTrades(l,u,t,r));case 15:case"end":return a.stop()}}),i)})))()}parseLedgerEntryType(e){return this.safeString({},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"num"),n=this.parseLedgerEntryType(this.safeString(e,"type")),a=this.safeCurrencyCode(this.safeString(e,"currency_mark"),t),i=this.safeTimestamp(e,"time");return{info:e,id:r,direction:void 0,account:void 0,referenceId:void 0,referenceAccount:void 0,type:n,currency:a,amount:void 0,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:i,datetime:this.iso8601(i),fee:void 0}}fetchLedger(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.safeString(s.options,"defaultType","spot"),c=s.safeString(n,"type",o),n=s.omit(n,"type"),a.next=5,s.loadMarkets();case 5:return u={market:c},d=void 0,void 0!==e&&(d=s.currency(e),u.currency_mark=d.id),void 0!==t&&(u.start_time=parseInt(t/1e3)),void 0!==r&&(u.limit=r),a.next=12,s.privateGetMarketFinancelog(s.extend(u,n));case 12:return f=a.sent,l=s.safeValue(f,"data",{}),h=s.safeValue(l,"finance",[]),a.abrupt("return",s.parseLedger(h,d,t,r));case 16:case"end":return a.stop()}}),i)})))()}parseDepositAddresses(e){for(var t={},r=0;r<e.length;r++){var n=this.parseDepositAddress(e[r]);t[n.currency]=n}return t}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"addressTag"),a=this.safeStringUpper(e,"currency");return{info:e,code:this.safeCurrencyCode(a),address:r,tag:n}}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetDepositAddress(r.extend(s,t));case 6:if(o=n.sent,c=r.safeValue(o,"data",[]),u=r.parseDepositAddresses(c),void 0!==(d=r.safeValue(u,e))){n.next=12;break}throw new k(r.id+" fetchDepositAddress did not return an address for "+e+" - create the deposit address in the user settings on the exchange website first.");case 12:return n.abrupt("return",d);case 13:case"end":return n.stop()}}),n)})))()}fetchTransactionsByType(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=void 0,u={},void 0!==t&&(c=o.currency(t),u.currency=c.id),void 0!==n&&(u.size=Math.min(500,n)),d="deposit"===e?"privateGetDepositHistory":"privateGetWithdrawHistory",a.next=9,o[d](o.extend(u,s));case 9:return f=a.sent,l=o.safeValue(f,"data",[]),a.abrupt("return",o.parseTransactions(l,c,r,n,{type:e}));case 12:case"end":return a.stop()}}),i)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsByType("deposit",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsByType("withdrawal",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString2(e,"id","withdraw_id"),n=this.safeString(e,"address"),a=this.safeString(e,"memo");void 0!==a&&a.length<1&&(a=void 0);var i=this.safeString(e,"hash"),s=this.safeStringUpper(e,"currency"),o=this.safeCurrencyCode(s,t),c=this.parse8601(this.safeString(e,"created_date")),u=this.parse8601(this.safeString(e,"finished_date")),d=this.parseTransactionStatus(this.safeString(e,"state")),f=this.safeFloat(e,"amount"),l=this.safeFloat(e,"fee"),h=void 0;return void 0!==l&&(h={currency:o,cost:l}),{info:e,id:r,txid:i,timestamp:c,datetime:this.iso8601(c),address:n,addressTo:n,addressFrom:void 0,tag:a,tagTo:a,tagFrom:void 0,type:void 0,amount:f,currency:o,status:d,updated:u,fee:h}}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={address:r,amount:parseFloat(t),currency:c.id},void 0!==n&&(u.memo=n),a.next=8,o.privatePostWithdrawNew(o.extend(u,s));case 8:return d=a.sent,a.abrupt("return",o.parseTransaction(d,c));case 10:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s="v2"===t?t:this.version,o=this.urls.api+"/"+s+"/"+this.implodeParams(e,n),c=this.omit(n,this.extractParams(e)),u=this.urlencode(this.keysort(c));if("private"===t){var d=this.nonce().toString(),f=u,l=this.hmac(this.encode(f),this.encode(this.secret));"GET"===r?u&&(o+="?"+u):"POST"===r&&(a={"Content-Type":"application/x-www-form-urlencoded"},u&&(i=u)),a={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":l,"ACCESS-TIMESTAMP":d}}else u&&(o+="?"+u);return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,a,i,s,o,c,u){if(o){var f=this.safeString(o,"code");if("0"!==f&&"200"!==f){var l=this.id+" "+s;if(void 0===f)throw new d(l);var h=[v,l],p=this.safeValue(this.exceptions.exact,f,h),m=n(p,2);throw new(0,m[0])(m[1])}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.ExchangeNotAvailable,d=s.InvalidNonce,f=s.BadRequest,l=s.InsufficientFunds,h=s.PermissionDenied,p=s.DDoSProtection,m=s.InvalidOrder,v=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"dsx",name:"DSX",countries:["UK"],rateLimit:1500,version:"v3",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTransactions:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/76909626-cb2bb100-68bc-11ea-99e0-28ba54f04792.jpg",api:{public:"https://dsxglobal.com/mapi",private:"https://dsxglobal.com/tapi",dwapi:"https://dsxglobal.com/dwapi"},www:"https://dsxglobal.com",doc:["https://dsxglobal.com/developers/publicApi"]},fees:{trading:{tierBased:!0,percentage:!0,maker:.0015,taker:.0025}},timeframes:{"1m":"m","1h":"h","1d":"d"},api:{public:{get:["barsFromMoment/{pair}/{period}/{start}","depth/{pair}","info","lastBars/{pair}/{period}/{amount}","periodBars/{pair}/{period}/{start}/{end}","ticker/{pair}","trades/{pair}"]},private:{post:["info/account","history/transactions","history/trades","history/orders","orders","order/cancel","order/status","order/new","volume","fees"]},dwapi:{post:["deposit/cryptoaddress","withdraw/crypto","withdraw/fiat","withdraw/submit","transaction/status"]}},exceptions:{exact:{"Sign is invalid":v,"Order was rejected. Incorrect price.":m,"Order was rejected. You don't have enough money.":l,"This method is blocked for your pair of keys":h},broad:{INVALID_PARAMETER:f,"Invalid pair name":o,"invalid api key":v,"invalid sign":v,"api key dont have trade permission":v,"invalid parameter":m,"invalid order":m,"Requests too often":p,"not available":u,"data unavailable":u,"external service unavailable":u,"nonce is invalid":d,"Incorrect volume":m}},options:{fetchTickersMaxLength:250},commonCurrencies:{DSH:"DASH"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInfo(e);case 2:for(a=r.sent,i=t.safeValue(a,"pairs"),s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeString(d,"base_currency"),l=t.safeString(d,"quoted_currency"),h=t.safeCurrencyCode(f),p=t.safeCurrencyCode(l),m=h+"/"+p,v={amount:t.safeInteger(d,"decimal_places"),price:t.safeInteger(d,"decimal_places")},b={min:t.safeFloat(d,"min_amount"),max:t.safeFloat(d,"max_amount")},g={min:t.safeFloat(d,"min_price"),max:t.safeFloat(d,"max_price")},y={min:t.safeFloat(d,"min_total")},w={amount:b,price:g,cost:y},k=t.safeInteger(d,"hidden"),x=0===k,_=h.toLowerCase()+p.toLowerCase(),o.push({id:u,otherId:_,symbol:m,base:h,quote:p,baseId:f,quoteId:l,active:x,precision:v,limits:w,info:d});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function e(){var r,a,i,s,o,c,u,d,f,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadMarkets();case 2:return e.next=4,t.privatePostInfoAccount();case 4:for(r=e.sent,a=t.safeValue(r,"return"),i={info:r},s=t.safeValue(a,"funds"),o=Object.keys(s),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.safeValue(s,u,{}),(l=t.account()).free=t.safeFloat(f,"available"),l.total=t.safeFloat(f,"total"),i[d]=l;return e.abrupt("return",t.parseBalance(i));case 11:case"end":return e.stop()}}),e)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"updated"),n=void 0,a=this.safeString(e,"pair");void 0!==(t=this.parseMarket(a))&&(n=t.symbol);var i=this.safeFloat(e,"avg");void 0!==i&&i>0&&(i=1/i);var s=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:i,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_cur"),info:e}}parseTrade(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeString(e,"type");"ask"===n?n="sell":"bid"===n&&(n="buy");var a=this.safeFloat2(e,"rate","price"),i=this.safeString2(e,"number","id"),s=this.safeString(e,"orderId"),o=this.safeString(e,"pair"),c=void 0;void 0!==(t=this.parseMarket(o))&&(c=t.symbol);var u=this.safeFloat2(e,"amount","volume"),d=void 0,f=void 0,l=this.safeFloat(e,"commission");if(void 0!==l){var h=this.safeString(e,"commissionCurrency");f={cost:l,currency:this.safeCurrencyCode(h)}}var p=this.safeValue(e,"is_your_order");void 0!==p&&(d="taker",p&&(d="maker"),void 0===f&&(f=this.calculateFee(c,"limit",n,u,a,d)));var m=void 0;return void 0!==a&&void 0!==u&&(m=a*u),{id:i,order:s,timestamp:r,datetime:this.iso8601(r),symbol:c,type:"limit",side:n,takerOrMaker:d,price:a,amount:u,cost:m,fee:f,info:e}}parseTrades(e,t,r,n,a={}){var i=[];if(Array.isArray(e))for(var s=0;s<e.length;s++)i.push(this.parseTrade(e[s],t));else for(var o=Object.keys(e),c=0;c<o.length;c++){var u=o[c],d=this.parseTrade(e[u],t);i.push(this.extend(d,{id:u},a))}i=this.sortBy(i,"timestamp");var f=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(i,f,r,n)}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?d*=a:c="base",{type:i,currency:o[c],rate:u,cost:d}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),c={pair:s.id},void 0!==t&&(c.limit=t),n.next=7,i.publicGetDepthPair(i.extend(c,r));case 7:if(u=n.sent,s.id in u){n.next=11;break}throw new o(i.id+" "+s.symbol+" order book is empty or not available");case 11:return d=u[s.id],n.abrupt("return",i.parseOrderBook(d));case 13:case"end":return n.stop()}}),a)})))()}fetchOrderBooks(e,t,r={}){var i=this;return a(n.mark((function a(){var s,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(s=void 0,void 0!==e){n.next=10;break}if(!((s=i.ids.join("-")).length>2048)){n.next=8;break}throw c=i.ids.length,new o(i.id+" has "+c.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:n.next=12;break;case 10:s=(s=i.marketIds(e)).join("-");case 12:return u={pair:s},void 0!==t&&(u.limit=t),n.next=16,i.publicGetDepthPair(i.extend(u,r));case 16:for(d=n.sent,f={},s=Object.keys(d),l=0;l<s.length;l++)h=s[l],p=h,h in i.markets_by_id&&(m=i.markets_by_id[h],p=m.symbol),f[p]=i.parseOrderBook(d[h]);return n.abrupt("return",f);case 21:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,u,d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.ids,void 0!==e){n.next=11;break}if(s=i.length,i=i.join("-"),o=r.safeInteger(r.options,"fetchTickersMaxLength",2048),!(i.length>r.options.fetchTickersMaxLength)){n.next=9;break}throw new c(r.id+" has "+s.toString()+" markets exceeding max URL length for this endpoint ("+o.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers");case 9:n.next=13;break;case 11:i=(i=r.marketIds(e)).join("-");case 13:return u={pair:i},n.next=16,r.publicGetTickerPair(r.extend(u,t));case 16:for(d=n.sent,f={},l=Object.keys(d),h=0;h<l.length;h++)p=l[h],m=d[p],v=p,b=void 0,p in r.markets_by_id&&(b=r.markets_by_id[p],v=b.symbol),f[v]=r.parseTicker(m,b);return n.abrupt("return",r.filterByArray(f,"symbol",e));case 21:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickers([e],t);case 2:return i=n.sent,n.abrupt("return",i[e]);case 4:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetTradesPair(s.extend(c,i));case 7:if(u=n.sent,!Array.isArray(u)){n.next=12;break}if(0!==u.length){n.next=12;break}return n.abrupt("return",[]);case 12:return n.abrupt("return",s.parseTrades(u[o.id],o,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"amount")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={pair:c.id,period:o.timeframes[t]},d="publicGetLastBarsPairPeriodAmount",void 0===r?(void 0===i&&(i=100),u.amount=i):(d="publicGetPeriodBarsPairPeriodStartEnd",u.start=parseInt(r/1e3),void 0===i?u.end=o.seconds():(f=1e3*o.parseTimeframe(t),l=o.sum(r,f*i),u.end=parseInt(l/1e3))),n.next=8,o[d](o.extend(u,s));case 8:return h=n.sent,p=o.safeValue(h,c.id,[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d=u.market(e),"market"!==t||void 0!==s){n.next=5;break}throw new c(u.id+" createOrder() requires a price argument even for market orders, that is the worst price that you agree to fill your order for");case 5:return f={pair:d.id,type:r,volume:u.amountToPrecision(e,i),rate:u.priceToPrecision(e,s),orderType:t},s=parseFloat(s),i=parseFloat(i),n.next=10,u.privatePostOrderNew(u.extend(f,o));case 10:return l=n.sent,h="open",0,i,v=u.safeValue(l,"return"),"0"===(b=u.safeString2(v,"orderId","order_id"))&&(b=u.safeString(v,"initOrderId","init_order_id"),h="closed"),p=u.safeFloat(v,"received",0),m=u.safeFloat(v,"remains",i),g=u.milliseconds(),n.abrupt("return",{info:l,id:b,timestamp:g,datetime:u.iso8601(g),lastTradeTimestamp:void 0,status:h,symbol:e,type:t,side:r,price:s,cost:s*p,amount:i,remaining:m,filled:p,fee:void 0});case 21:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceling",7:"canceled"},e,e)}parseMarket(e){if(e in this.markets_by_id)return this.markets_by_id[e];var t=this.safeValue(this.options,"markets_by_other_id");return void 0===t&&(this.options.markets_by_other_id=this.indexBy(this.markets,"otherId"),t=this.options.markets_by_other_id),e in t?t[e]:void 0}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeTimestamp(e,"timestampCreated"),i=this.safeString(e,"pair"),s=void 0;void 0!==(t=this.parseMarket(i))&&(s=t.symbol);var o=this.safeFloat(e,"remainingVolume"),c=this.safeFloat(e,"volume"),u=this.safeFloat(e,"rate"),d=void 0,f=void 0;void 0!==c&&void 0!==o&&(f=u*(d=c-o));var l=this.safeString(e,"orderType"),h=this.safeString(e,"type"),p=void 0,m=this.safeValue(e,"deals",[]),v=void 0,b=void 0;if(m.length>0){v=this.parseTrades(m);for(var g=void 0,y=void 0,w=0;w<v.length;w++){var k=v[w];void 0===g&&(g=0),g=this.sum(g,k.fee.cost),y=k.fee.currency,b=k.timestamp}void 0!==g&&(p={cost:g,currency:y})}return{info:e,id:r,clientOrderId:void 0,symbol:s,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:b,type:l,timeInForce:void 0,postOnly:void 0,side:h,price:u,stopPrice:void 0,cost:f,amount:c,remaining:o,filled:d,status:n,fee:p,trades:v}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderId:parseInt(e)},t.next=5,i.privatePostOrderStatus(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(i.extend({id:e},s.return)));case 7:case"end":return t.stop()}}),t)})))()}parseOrdersById(e,t,r,n){for(var a=Object.keys(e),i=[],s=0;s<a.length;s++){var o=a[s],c=this.parseOrder(this.extend({id:o.toString()},e[o]));i.push(c)}return this.filterBySymbolSinceLimit(i,t,r,n)}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},n.next=5,s.privatePostOrders(s.extend(o,i));case 5:return c=n.sent,n.abrupt("return",s.parseOrdersById(s.safeValue(c,"return",{}),e,t,r));case 7:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==r&&(o.count=r),n.next=6,s.privatePostHistoryOrders(s.extend(o,i));case 6:return c=n.sent,n.abrupt("return",s.parseOrdersById(s.safeValue(c,"return",{}),e,t,r));case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderId:e},t.next=5,i.privatePostOrderCancel(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}parseOrders(e,t,r,n,a={}){var i=[],s=Object.keys(e),o=void 0;void 0!==t&&(o=t.symbol);for(var c=0;c<s.length;c++){var u=s[c],d=this.extend({id:u},e[u]);i.push(this.extend(this.parseOrder(d,t),a))}return this.filterBySymbolSinceLimit(i,o,r,n)}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrders(e,t,r,i);case 2:return o=n.sent,n.abrupt("return",s.filterBy(o,"status","closed"));case 4:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.pair=o.id),void 0!==r&&(c.count=parseInt(r)),void 0!==t&&(c.since=parseInt(t/1e3)),n.next=9,s.privatePostHistoryTrades(s.extend(c,i));case 9:return u=n.sent,d=[],"return"in u&&(d=u.return),n.abrupt("return",s.parseTrades(d,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.currency=o.id),void 0!==t&&(c.since=t),void 0!==r&&(c.count=r),n.next=9,s.privatePostHistoryTransactions(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"return",[]),n.abrupt("return",s.parseTransactions(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({1:"failed",2:"ok",3:"pending",4:"failed"},e,e)}parseTransaction(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeString(e,"type");void 0!==n&&("Incoming"===n?n="deposit":"Withdraw"===n&&(n="withdrawal"));var a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a,t),s=this.parseTransactionStatus(this.safeString(e,"status"));return{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:r,datetime:this.iso8601(r),address:this.safeString(e,"address"),type:n,amount:this.safeFloat(e,"amount"),currency:i,status:s,fee:{currency:i,cost:this.safeFloat(e,"commission"),rate:void 0},info:e}}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={new:1},n.next=3,r.fetchDepositAddress(e,r.extend(i,t));case 3:return s=n.sent,n.abrupt("return",s);case 5:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.dwapiPostDepositCryptoaddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"return",{}),u=r.safeString(c,"address"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:o});case 11:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(u=o.currency(e),void 0!==(d=o.safeValue(s,"commission"))){n.next=7;break}throw new c(o.id+" withdraw() requires a `commission` (withdrawal fee) parameter (string)");case 7:return s=o.omit(s,d),f={currency:u.id,amount:parseFloat(t),address:r,commission:d},void 0!==i&&(f.address+=":"+i),n.next=12,o.dwapiPostWithdrawCrypto(o.extend(f,s));case 12:return l=n.sent,h=o.safeValue(l,"return",{}),p=o.safeString(h,"transactionId"),n.abrupt("return",{info:l,id:p});case 16:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t],o=this.omit(n,this.extractParams(e));if("private"===t||"dwapi"===t){s+="/"+this.version+"/"+this.implodeParams(e,n),this.checkRequiredCredentials();var c=this.nonce();i=this.urlencode(this.extend({nonce:c},o));var u=this.hmac(this.encode(i),this.encode(this.secret),"sha512","base64");a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:u}}else"public"===t?(s+="/"+this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o))):(s+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o),a={"Content-Type":"application/json"}));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&"success"in s){var d=this.safeValue(s,"success",!1);if("string"===typeof d&&(d="true"===d||"1"===d),!d){var f=this.safeString(s,"code"),l=this.safeString(s,"error"),h=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,h),this.throwExactlyMatchedException(this.exceptions.exact,l,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h),new o(h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ArgumentsRequired,c=s.InvalidOrder,u=s.ExchangeError,d=s.BadRequest,f=s.BadSymbol,l=r(16),h=l.TRUNCATE,p=l.SIGNIFICANT_DIGITS;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"eterbase",name:"Eterbase",countries:["SK"],rateLimit:500,version:"v1",certified:!0,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,createOrder:!0,deposit:!1,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","1h":"60","4h":"240","1d":"1440","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/82067900-faeb0f80-96d9-11ea-9f22-0071cfcb9871.jpg",api:"https://api.eterbase.exchange",www:"https://www.eterbase.com",doc:"https://developers.eterbase.exchange",fees:"https://www.eterbase.com/exchange/fees",referral:"https://eterbase.exchange/invite/1wjjh4Pe"},api:{markets:{get:["{id}/order-book"]},public:{get:["ping","assets","markets","tickers","tickers/{id}/ticker","markets/{id}/trades","markets/{id}/ohlcv","wstoken"]},private:{get:["accounts/{id}/balances","accounts/{id}/orders","accounts/{id}/fills","orders/{id}/fills","orders/{id}"],post:["orders","accounts/{id}/withdrawals"],delete:["orders/{id}"]},feed:{get:["feed"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.35/100,maker:.35/100}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},precisionMode:p,options:{createMarketBuyOrderRequiresPrice:!0},exceptions:{exact:{"Invalid cost":c,"Invalid order ID":c,"Invalid market !":f},broad:{"Failed to convert argument":d}}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPing(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"pong"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=t.parseMarket(a[s]),i.push(o);return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}parseMarket(e){for(var t=this.safeString(e,"id"),r=this.safeString(e,"base"),n=this.safeString(e,"quote"),a=this.safeCurrencyCode(r),i=this.safeCurrencyCode(n),s=a+"/"+i,o="Trading"===this.safeString(e,"state"),c={price:this.safeInteger(e,"priceSigDigs"),amount:this.safeInteger(e,"qtySigDigs"),cost:this.safeInteger(e,"costSigDigs")},u=this.safeValue(e,"tradingRules",[]),d=void 0,f=void 0,l=void 0,h=void 0,p=0;p<u.length;p++){var m=u[p],v=this.safeString(m,"attribute"),b=this.safeString(m,"condition"),g=this.safeFloat(m,"value");"Qty"===v&&"Min"===b?d=g:"Qty"===v&&"Max"===b?f=g:"Cost"===v&&"Min"===b?l=g:"Cost"===v&&"Max"===b&&(h=g)}return{id:t,symbol:s,base:a,quote:i,baseId:r,quoteId:n,info:e,active:o,precision:c,limits:{amount:{min:d,max:f},price:{min:void 0,max:void 0},cost:{min:l,max:h}}}}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeInteger(o,"precisionDisplay"),d=t.safeCurrencyCode(c),f=t.safeValue(o,"depositEnabled"),l=t.safeValue(o,"withdrawalEnabled"),h=t.safeString(o,"state"),p=f&&l&&"Active"===h,m=t.safeStringLower(o,"type"),v=t.safeString(o,"name"),i[d]={id:c,info:o,code:d,type:m,name:v,active:p,fee:t.safeFloat(o,"withdrawalFee"),precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"withdrawalMin"),max:t.safeFloat(o,"withdrawalMax")}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeString(e,"marketId"),n=this.safeSymbol(r,t),a=this.safeInteger(e,"time"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"volumeBase"),o=this.safeFloat(e,"volume"),c=this.vwap(s,o),u=this.safeFloat(e,"change");return{symbol:n,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:c,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:u,average:void 0,baseVolume:s,quoteVolume:o,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={id:i.id},n.next=6,r.publicGetTickersIdTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},n.next=5,r.publicGetTickers(r.extend(i,t));case 5:return s=n.sent,n.abrupt("return",r.parseTickers(s,e));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeFloat(e,"price"),n=this.safeFloat(e,"qty"),a=void 0,i=this.safeFloat(e,"fee");if(void 0!==i){var s=this.safeString(e,"feeAsset");a={cost:i,currency:this.safeCurrencyCode(s)}}var o=this.safeFloat(e,"qty");void 0===o&&void 0!==r&&void 0!==n&&(o=r*n);var c=this.safeInteger2(e,"executedAt","filledAt"),u="1"===this.safeString(e,"side")?"buy":"sell",d=this.safeString(e,"liquidity"),f=void 0;void 0!==d&&(f="1"===d?"maker":"taker");var l=this.safeString(e,"orderId"),h=this.safeString(e,"id"),p=this.safeString(e,"marketId");return{info:e,id:h,symbol:this.safeSymbol(p,t),timestamp:c,datetime:this.iso8601(c),order:l,type:void 0,side:u,takerOrMaker:f,price:r,amount:n,cost:o,fee:a}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={id:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetMarketsIdTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.marketsGetIdOrderBook(i.extend(a,r));case 5:return s=t.sent,o=i.safeInteger(s,"timestamp"),t.abrupt("return",i.parseOrderBook(s,o));case 8:case"end":return t.stop()}}),t)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u={interval:c.timeframes[t]},d=c.parseTimeframe(t),f=c.milliseconds(),void 0===r){n.next=8;break}u.start=r,u.end=void 0===i?f:c.sum(r,d*i*1e3),n.next=14;break;case 8:if(void 0===i){n.next=13;break}u.start=f-d*i*1e3,u.end=f,n.next=14;break;case 13:throw new o(c.id+" fetchOHLCV() requires a since argument, or a limit argument, or both");case 14:return n.next=16,c.loadMarkets();case 16:return l=c.market(e),u.id=l.id,n.next=20,c.publicGetMarketsIdOhlcv(c.extend(u,s));case 20:return h=n.sent,n.abrupt("return",c.parseOHLCVs(h,l,t,r,i));case 22:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a={id:t.uid},r.next=5,t.privateGetAccountsIdBalances(t.extend(a,e));case 5:for(i=r.sent,s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"assetId"),d=t.safeCurrencyCode(u),f={free:t.safeFloat(c,"available"),used:t.safeFloat(c,"reserved"),total:t.safeFloat(c,"balance")},s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrdersId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){var t={1:void 0,2:"open",3:"open",4:"closed",FILLED:"closed",USER_REQUESTED_CANCEL:"canceled",ADMINISTRATIVE_CANCEL:"canceled",NOT_ENOUGH_LIQUIDITY:"canceled",EXPIRED:"expired",ONE_CANCELS_OTHER:"canceled"};return this.safeString(t,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeInteger(e,"placedAt"),a=this.safeInteger(e,"marketId"),i=this.safeSymbol(a,t),s=this.parseOrderStatus(this.safeString(e,"state"));"closed"===s&&(s=this.parseOrderStatus(this.safeString(e,"closeReason")));var o="1"===this.safeString(e,"side")?"buy":"sell",c=this.safeString(e,"type"),u=void 0;u="1"===c?"market":"2"===c?"limit":"3"===c?"stopmarket":"stoplimit";var d=this.safeFloat(e,"limitPrice"),f=this.safeFloat(e,"qty"),l=this.safeFloat(e,"remainingQty"),h=void 0,p=this.safeFloat(e,"remainingCost");void 0!==p&&0===p&&(l=0),void 0!==f&&void 0!==l&&(h=Math.max(0,f-l));var m=this.safeFloat(e,"cost");"market"===u&&0===d&&void 0!==m&&void 0!==h&&m>0&&h>0&&(d=m/h);var v=void 0;void 0!==m&&h&&(v=m/h);var b=this.safeString(e,"timeInForce"),g=this.safeFloat(e,"stopPrice"),y=this.safeValue(e,"postOnly");return{info:e,id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:u,timeInForce:b,postOnly:y,side:o,price:d,stopPrice:g,amount:f,cost:m,average:v,filled:h,remaining:l,status:s,fee:void 0,trades:void 0}}fetchOrdersByState(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.milliseconds(),7776e6,u={id:o.uid,state:e},void 0===r?(u.from=c-7776e6,u.to=c):(u.from=r,u.to=o.sum(r,7776e6)),n.next=6,o.loadMarkets();case 6:return d=void 0,void 0!==t&&(d=o.market(t),u.marketId=d.id),void 0!==i&&(u.limit=i),n.next=11,o.privateGetAccountsIdOrders(o.extend(u,s));case 11:return f=n.sent,n.abrupt("return",o.parseOrders(f,d,r,i));case 13:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByState("INACTIVE",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByState("ACTIVE",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.milliseconds(),7776e6,c={id:s.uid},void 0===t?(c.from=o-7776e6,c.to=o):(c.from=t,c.to=s.sum(t,7776e6)),n.next=6,s.loadMarkets();case 6:return u=void 0,void 0!==e&&(u=s.market(e),c.marketId=u.id),void 0!==r&&(c.limit=r),n.next=11,s.privateGetAccountsIdFills(s.extend(c,i));case 11:return d=n.sent,n.abrupt("return",s.parseTrades(d,u,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function t(){var r,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.loadMarkets();case 2:return r={id:e},t.next=5,o.privateGetOrdersIdFills(o.extend(r,s));case 5:return a=t.sent,t.abrupt("return",o.parseTrades(a));case 7:case"end":return t.stop()}}),t)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,p,m,v,b,g,y;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d=u.market(e),"MARKET"===(f=t.toUpperCase())?t=1:"LIMIT"===f?t=2:"STOPMARKET"===f?t=3:"STOPLIMIT"===f&&(t=4),l=r.toUpperCase(),r="BUY"===l?1:2,p={accountId:u.uid,marketId:d.id,type:t,side:r},m=u.safeValue2(o,"refId","clientOrderId"),v=o,void 0!==m&&(p.refId=m,v=u.omit(o,["refId","clientOrderId"])),"MARKET"!==f||"BUY"!==l){n.next=27;break}if(b=u.safeFloat(o,"cost"),!u.options.createMarketBuyOrderRequiresPrice){n.next=22;break}if(void 0!==b){n.next=20;break}if(void 0===s){n.next=19;break}b=i*s,n.next=20;break;case 19:throw new c(u.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 20:n.next=23;break;case 22:b=void 0===b?i:b;case 23:g=d.precision.price,p.cost=u.decimalToPrecision(b,h,g,u.precisionMode),n.next=28;break;case 27:p.qty=u.amountToPrecision(e,i);case 28:return"LIMIT"===f&&(p.limitPrice=u.priceToPrecision(e,s)),n.next=31,u.privatePostOrders(u.extend(p,v));case 31:return y=n.sent,n.abrupt("return",u.parseOrder(y,d));case 33:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e},t.next=3,i.privateDeleteOrdersId(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={id:o.uid,accountId:o.uid,assetId:c.id,amount:t},void 0!==r&&(u.cryptoAddress=r,void 0!==i&&(u.memo=i)),n.next=8,o.privatePostAccountsIdWithdrawals(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",{info:d,id:o.safeString(d,"id")});case 10:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o="/";"public"===t||"private"===t?o+="api/"+this.version:"markets"===t&&(o+="api/"+t),o+="/"+this.implodeParams(e,n),"GET"===r&&Object.keys(s).length&&(o+="?"+this.urlencode(s));var c=this.urls.api+o;if("private"===t){this.checkRequiredCredentials();var u="";"GET"!==r&&Object.keys(s).length&&(u=i=this.json(s));var d="POST"===r||"PUT"===r||"PATCH"===r,f=this.rfc2616(this.milliseconds()),l="date request-line",h="date: "+f+"\n"+r+" "+o+" HTTP/1.1",p="";d&&(h+="\ndigest: "+(p="SHA-256="+this.hash(u,"sha256","base64")),l+=" digest");var m=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64");a={Date:f,Authorization:'hmac username="'+this.apiKey+'",algorithm="hmac-sha256",headers="'+l+'",signature="'+m+'"',"Content-Type":"application/json"},d&&(a.Digest=p)}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var d=this.safeString(s,"message");if(void 0!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new u(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ArgumentsRequired,u=o.ExchangeError,d=o.OrderNotFound,f=o.AuthenticationError,l=o.InsufficientFunds,h=o.InvalidOrder,p=o.InvalidNonce,m=o.NotSupported,v=o.OnMaintenance,b=o.RateLimitExceeded,g=o.BadRequest,y=o.PermissionDenied;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1.1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","1d":"D","1w":"W","1M":"M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","currency/list/extended","order_book","pair_settings","ticker","trades","candles_history","required_amount","payments/providers/crypto/list"]},private:{post:["user_info","order_create","order_cancel","stop_market_order_create","stop_market_order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","code_check","wallet_history","wallet_operations"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1}},options:{useWebapiForFetchingFees:!1,feesAndLimits:{success:1,ctlr:"feesAndLimits",error:"",data:{limits:[{pair:"BTC/USD",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/RUB",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"2000000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BTC/EUR",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/GBP",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/UAH",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"15000000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BTC/PLN",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"20000000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"BTC/TRY",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"800000",min_a:"40",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"BTC/KZT",min_q:"0.0001",max_q:"1000",min_p:"1000",max_p:"12000000",min_a:"1000",max_a:"100000000",taker:"0.4",maker:"0.4"},{pair:"BTC/USDT",min_q:"0.0001",max_q:"1000",min_p:"0.01",max_p:"30000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/BTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/USD",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/RUB",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XRP/BTC",min_q:"1",max_q:"5000000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XRP/USD",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/RUB",min_q:"1",max_q:"5000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ADA/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ADA/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ADA/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EXM",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"50",taker:"0.4",maker:"0.4"},{pair:"ALGO/USDT",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0",maker:"0"},{pair:"ALGO/RUB",min_q:"1",max_q:"1000000",min_p:"0.000001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EUR",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ATOM/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ATOM/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EUR",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/USD",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"30000",min_a:"0.0001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/RUB",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"2000000",min_a:"0.0001",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BCH/EUR",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"300000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/UAH",min_q:"0.003",max_q:"5000",min_p:"0.1",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BCH/BTC",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"5",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BCH/ETH",min_q:"0.003",max_q:"5000",min_p:"0.0000001",max_p:"200",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BCH/USDT",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"BTG/USD",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTG/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTG/ETH",min_q:"0.01",max_q:"100000",min_p:"0.0001",max_p:"100",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BTT/RUB",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/UAH",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/BTC",min_q:"1",max_q:"500000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/BTC",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/ETH",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"CRON/USDT",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"CRON/EXM",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"DAI/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DAI/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"0.5",max_a:"30000000",taker:"0.4",maker:"0.4"},{pair:"DAI/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DAI/ETH",min_q:"1",max_q:"500000",min_p:"0.000001",max_p:"10",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"DASH/USD",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DASH/RUB",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"DASH/UAH",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"200000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"DASH/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DASH/USDT",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"DCR/RUB",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"3000000",taker:"0.4",maker:"0.4"},{pair:"DCR/UAH",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.25",max_a:"1000000",taker:"0.4",maker:"0.4"},{pair:"DCR/BTC",min_q:"0.01",max_q:"50000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DOGE/USD",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DOGE/BTC",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"EOS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/EUR",min_q:"0.01",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETC/USD",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETC/RUB",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ETC/BTC",min_q:"0.2",max_q:"100000",min_p:"0.0001",max_p:"0.5",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/EUR",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/GBP",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/UAH",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"1000000",min_a:"90",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ETH/PLN",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"ETH/TRY",min_q:"0.001",max_q:"5000",min_p:"0.1",max_p:"80000",min_a:"10",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ETH/KZT",min_q:"0.001",max_q:"5000",min_p:"4",max_p:"40000000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/USDT",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/LTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"100000",min_a:"0.05",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"ETZ/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ETZ/ETH",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETZ/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"1000",taker:"0",maker:"0"},{pair:"EXM/USDT",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"EXM/ETH",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GAS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GAS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GUSD/USD",min_q:"1",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GUSD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"GUSD/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HP/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HB/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LSK/USD",min_q:"0.1",max_q:"500000",min_p:"0.1",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LSK/RUB",min_q:"0.1",max_q:"500000",min_p:"0.001",max_p:"100000",min_a:"0.5",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LSK/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LTC/USD",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/RUB",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LTC/EUR",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/UAH",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"300000",min_a:"5",max_a:"18000000",taker:"0.4",maker:"0.4"},{pair:"LTC/BTC",min_q:"0.05",max_q:"10000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/BTC",min_q:"0.0001",max_q:"1000",min_p:"0.0001",max_p:"100",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/DAI",min_q:"0.0001",max_q:"1000",min_p:"0.5",max_p:"500000",min_a:"0.005",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"MNC/USD",min_q:"10",max_q:"500000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"MNC/BTC",min_q:"10",max_q:"500000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MNC/ETH",min_q:"10",max_q:"500000000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"NEO/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"NEO/RUB",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1500000",min_a:"50",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"NEO/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"OMG/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/ETH",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ONG/EXM",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONG/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONG/RUB",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"ONG/UAH",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONT/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/UAH",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"PTI/RUB",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"600000",min_a:"10",max_a:"600000",taker:"0.4",maker:"0.4"},{pair:"PTI/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"PTI/EOS",min_q:"1",max_q:"50000000",min_p:"0.0000001",max_p:"5000",min_a:"0.01",max_a:"20000",taker:"0.4",maker:"0.4"},{pair:"PTI/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"QTUM/USD",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"10000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"QTUM/BTC",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"QTUM/ETH",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ROOBEE/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"SMART/USD",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/RUB",min_q:"10",max_q:"100000000",min_p:"0.0001",max_p:"100000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"SMART/EUR",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"TRX/USD",min_q:"1",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/EUR",min_q:"0.01",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/RUB",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/UAH",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/USD",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDC/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/ETH",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"100",min_a:"0.001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"USDC/USDT",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"USDT/USD",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"USDT/EUR",min_q:"0.01",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/GBP",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/UAH",min_q:"0.01",max_q:"500000",min_p:"1",max_p:"3000",min_a:"2",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"USDT/KZT",min_q:"1",max_q:"500000",min_p:"200",max_p:"4000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"VLX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/USD",min_q:"0.5",max_q:"500000",min_p:"0.001",max_p:"3500",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"WAVES/RUB",min_q:"0.5",max_q:"500000",min_p:"0.01",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"WAVES/BTC",min_q:"0.5",max_q:"500000",min_p:"0.000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/ETH",min_q:"0.5",max_q:"500000",min_p:"0.00001",max_p:"30",min_a:"0.0035",max_a:"3500",taker:"0.4",maker:"0.4"},{pair:"XEM/USD",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/EUR",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/UAH",min_q:"1",max_q:"10000000",min_p:"0.0001",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XEM/BTC",min_q:"10",max_q:"10000000",min_p:"0.0000001",max_p:"1",min_a:"0.00015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XLM/USD",min_q:"0.01",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XLM/RUB",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XLM/TRY",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XLM/BTC",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"600000",min_a:"10",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/UAH",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"300000",min_a:"5",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/ETH",min_q:"0.01",max_q:"10000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XRP/EUR",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/GBP",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/TRY",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XRP/UAH",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XRP/USDT",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"XRP/ETH",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XTZ/USD",min_q:"0.1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"XTZ/RUB",min_q:"0.1",max_q:"100000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XTZ/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"XTZ/ETH",min_q:"0.1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.0001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"ZEC/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ZEC/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/BTC",min_q:"0.01",max_q:"10000",min_p:"0.00001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZRX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ZAG/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"EXM/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0000001",max_a:"1",taker:"0.4",maker:"0.4"}],fees:[{group:"crypto",title:"Cryptocurrency",items:[{prov:"EXM",dep:"0%",wd:"1 EXM"},{prov:"BTC",dep:"0%",wd:"0.0004 BTC"},{prov:"LTC",dep:"0%",wd:"0.01 LTC"},{prov:"DOGE",dep:"0%",wd:"1 Doge"},{prov:"DASH",dep:"0%",wd:"0.002 DASH"},{prov:"ETH",dep:"0%",wd:"0.003 ETH"},{prov:"WAVES",dep:"0%",wd:"0.001 WAVES"},{prov:"ZEC",dep:"0%",wd:"0.001 ZEC"},{prov:"USDT",dep:"0%",wd:""},{prov:"XMR",dep:"0%",wd:"0.001 XMR"},{prov:"XRP",dep:"0%",wd:"0.02 XRP"},{prov:"ETC",dep:"0%",wd:"0.01 ETC"},{prov:"BCH",dep:"0%",wd:"0.001 BCH"},{prov:"BTG",dep:"0%",wd:"0.001 BTG"},{prov:"EOS",dep:"0%",wd:"0.05 EOS"},{prov:"XLM",dep:"0%",wd:"0.01 XLM"},{prov:"OMG",dep:"0.1 OMG",wd:"0.5 OMG"},{prov:"TRX",dep:"0%",wd:"1 TRX"},{prov:"ADA",dep:"0%",wd:"1 ADA"},{prov:"NEO",dep:"0%",wd:"0%"},{prov:"GAS",dep:"0%",wd:"0%"},{prov:"ZRX",dep:"0%",wd:"1 ZRX"},{prov:"GNT",dep:"0%",wd:"1 GNT"},{prov:"GUSD",dep:"0%",wd:"0.5 GUSD"},{prov:"LSK",dep:"0%",wd:"0.1 LSK"},{prov:"XEM",dep:"0%",wd:"5 XEM"},{prov:"SMART",dep:"0%",wd:"0.5 SMART"},{prov:"QTUM",dep:"0%",wd:"0.01 QTUM"},{prov:"HB",dep:"0%",wd:"10 HB"},{prov:"DAI",dep:"0%",wd:"1 DAI"},{prov:"MKR",dep:"0%",wd:"0.005 MKR"},{prov:"MNC",dep:"0%",wd:"15 MNC"},{prov:"PTI",dep:"-",wd:"10 PTI"},{prov:"ETZ",dep:"0%",wd:"1 ETZ"},{prov:"USDC",dep:"0%",wd:"0.5 USDC"},{prov:"ROOBEE",dep:"0%",wd:"200 ROOBEE"},{prov:"DCR",dep:"0%",wd:"0.01 DCR"},{prov:"ZAG",dep:"0%",wd:"0%"},{prov:"BTT",dep:"0 BTT",wd:"100 BTT"},{prov:"VLX",dep:"0%",wd:"1 VLX"},{prov:"CRON",dep:"0%",wd:"5 CRON"},{prov:"ONT",dep:"0%",wd:"1 ONT"},{prov:"ONG",dep:"0%",wd:"5 ONG"},{prov:"ALGO",dep:"0%",wd:"0.01 ALGO"},{prov:"ATOM",dep:"0%",wd:"0.05 ATOM"}]},{group:"usd",title:"USD",items:[{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"2.49%"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 0.5 USD",wd:"-"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"Frick Bank",dep:"0 USD",wd:"-"}]},{group:"eur",title:"EUR",items:[{prov:"Visa/MasterCard",dep:"4.5% + 0.5  EUR",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"2.95%",wd:"-"},{prov:"Frick Internal Transfer",dep:"0 EUR",wd:"-"},{prov:"SEPA Frick Bank",dep:"0 EUR",wd:"1 EUR"},{prov:"WIRE Frick Bank",dep:"0%",wd:"20 EUR"},{prov:"SEPA Weg Ag",dep:"-",wd:"1 EUR"}]},{group:"gbp",title:"GBP",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"WIRE Frick Bank",dep:"10 GBP",wd:"-"}]},{group:"rub",title:"RUB",items:[{prov:"Payeer",dep:"2.49%",wd:"3.49%"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Qiwi",dep:"1.49%",wd:"2.49%"},{prov:"Yandex Money",dep:"1.49%",wd:"1.95 %"},{prov:"AdvCash",dep:"0.99%",wd:"0.99%"},{prov:"Visa/MasterCard",dep:"2.99%",wd:"3.99% + 60 RUB"}]},{group:"pln",title:"PLN",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"try",title:"TRY",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"3.05%",wd:"-"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 2 TRY",wd:"-"},{prov:"AdvCash",dep:"0%",wd:"-"}]},{group:"uah",title:"UAH",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Terminal",dep:"2.6%",wd:"-"},{prov:"Visa/MasterCard EasyTransfer",dep:"-",wd:"2.99%"},{prov:"Visa/MasterCard",dep:"1% + 5 UAH",wd:"-"}]},{group:"kzt",title:"KZT",items:[{prov:"Visa/MasterCard",dep:"3.5%",wd:"2.99% + 450 KZT"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"-"}]}]}}},exceptions:{exact:{40005:f,40009:p,40015:u,40016:v,40017:f,40032:y,40034:b,50052:l,50054:l,50304:d,50173:d,50277:h,50319:h,50321:h},broad:{"range period is too long":g,"invalid syntax":g,"API rate limit exceeded":b}},orders:{}})}fetchTradingFees(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.options.useWebapiForFetchingFees){r.next=19;break}return r.next=3,t.webGetEnDocsFees(e);case 3:if(n=r.sent,i=n.split('<td class="th_fees_2" colspan="2">'),2===i.length){r.next=8;break}throw new m(t.id+" fetchTradingFees format has changed");case 8:if(s=i[1],i=s.split("</td>"),!(i.length<2)){r.next=13;break}throw new m(t.id+" fetchTradingFees format has changed");case 13:return o=.01*parseFloat(i[0].replace("%","")),c=o,u=o,r.abrupt("return",{maker:u,taker:c});case 19:return r.abrupt("return",{maker:t.fees.trading.maker,taker:t.fees.trading.taker});case 20:case"end":return r.stop()}}),r)})))()}parseFixedFloatValue(e){if(void 0!==e&&"-"!==e){if(""===e)return 0;var t=e.indexOf("%")>=0,r=e.split(" ")[0].replace("%",""),n=parseFloat(r);if(n>0&&t)throw new u(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return n}}fetchFundingFees(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=void 0,!t.options.useWebapiForFetchingFees){r.next=7;break}return r.next=4,t.webGetCtrlFeesAndLimits(e);case 4:n=r.sent,r.next=8;break;case 7:n=t.options.feesAndLimits;case 8:for(i={},s={},o=t.safeValue(n.data,"fees"),c=t.indexBy(o,"group"),u=c.crypto.items,d=0;d<u.length;d++)f=u[d],l=t.safeCurrencyCode(t.safeString(f,"prov")),h=t.safeString(f,"wd"),p=t.safeString(f,"dep"),void 0!==h&&(i[l]=t.parseFixedFloatValue(h)),void 0!==p&&(s[l]=t.parseFixedFloatValue(p));for(m=t.toArray(t.omit(c,"crypto")),v=0;v<m.length;v++)b=t.safeCurrencyCode(t.safeString(m[v],"title")),i[b]=void 0,s[b]=void 0;return g={info:n,withdraw:i,deposit:s},t.options.fundingFees=g,r.abrupt("return",g);case 19:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchFundingFees(e);case 2:for(i=r.sent,s=Object.keys(i.withdraw),o=t.indexBy(i.info.data.limits,"pair"),c=Object.keys(o),u={},d={},f={},l={},h={},p={},m=0;m<c.length;m++)v=c[m],b=o[v],g=v.split("/"),y=n(g,2),w=y[0],k=y[1],x=t.safeCurrencyCode(w),_=t.safeCurrencyCode(k),S=t.safeFloat(b,"max_q"),T=t.safeFloat(b,"max_p"),O=t.safeFloat(b,"max_a"),A=t.safeFloat(b,"min_q"),M=t.safeFloat(b,"min_p"),E=t.safeFloat(b,"min_a"),u[x]=Math.min(t.safeFloat(u,x,A),A),l[x]=Math.max(t.safeFloat(l,x,S),S),d[_]=Math.min(t.safeFloat(d,_,M),M),f[_]=Math.min(t.safeFloat(f,_,E),E),h[_]=Math.max(t.safeFloat(h,_,T),T),p[_]=Math.max(t.safeFloat(p,_,O),O);for(C={},I=0;I<s.length;I++)F=s[I],P=t.safeCurrencyCode(F),B=t.safeValue(i.withdraw,P),!0,C[P]={id:F,code:P,name:P,active:!0,fee:B,precision:8,limits:{amount:{min:t.safeFloat(u,P),max:t.safeFloat(l,P)},price:{min:t.safeFloat(d,P),max:t.safeFloat(h,P)},cost:{min:t.safeFloat(f,P),max:t.safeFloat(p,P)}},info:F};return r.abrupt("return",C);case 16:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPairSettings(e);case 2:for(i=r.sent,s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=u.replace("_","/"),l=f.split("/"),h=n(l,2),p=h[0],m=h[1],v=t.safeCurrencyCode(p),b=t.safeCurrencyCode(m),g=t.safeFloat(d,"commission_taker_percent"),y=t.safeFloat(d,"commission_maker_percent"),o.push({id:u,symbol:f,base:v,quote:b,baseId:p,quoteId:m,active:!0,taker:g/100,maker:y/100,limits:{amount:{min:t.safeFloat(d,"min_quantity"),max:t.safeFloat(d,"max_quantity")},price:{min:t.safeFloat(d,"min_price"),max:t.safeFloat(d,"max_price")},cost:{min:t.safeFloat(d,"min_amount"),max:t.safeFloat(d,"max_amount")}},precision:{amount:8,price:t.safeInteger(d,"price_precision")},info:d});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:if(u=o.market(e),d={symbol:u.id,resolution:o.timeframes[t]},f=o.safeValue(o.options,"fetchOHLCV"),l=o.safeInteger(f,"maxLimit",3e3),h=o.parseTimeframe(t),p=o.milliseconds(),void 0!==r){a.next=19;break}if(void 0!==n){a.next=13;break}throw new c(o.id+" fetchOHLCV() requires a since argument or a limit argument");case 13:if(!(n>l)){a.next=15;break}throw new g(o.id+" fetchOHLCV will serve "+l.toString()+" candles at most");case 15:d.from=parseInt(p/1e3)-n*h-1,d.to=parseInt(p/1e3);case 17:a.next=28;break;case 19:if(d.from=parseInt(r/1e3)-1,void 0!==n){a.next=24;break}d.to=parseInt(p/1e3),a.next=28;break;case 24:if(!(n>l)){a.next=26;break}throw new g(o.id+" fetchOHLCV will serve "+l.toString()+" candles at most");case 26:m=o.sum(r,n*h*1e3),d.to=parseInt(m/1e3);case 28:return a.next=30,o.publicGetCandlesHistory(o.extend(d,s));case 30:return v=a.sent,b=o.safeValue(v,"candles",[]),a.abrupt("return",o.parseOHLCVs(b,u,t,r,n));case 33:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"t"),this.safeFloat(e,"o"),this.safeFloat(e,"h"),this.safeFloat(e,"l"),this.safeFloat(e,"c"),this.safeFloat(e,"v")]}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostUserInfo(e);case 4:for(n=r.sent,i={info:n},s=t.safeValue(n,"balances",{}),o=t.safeValue(n,"reserved",{}),c=Object.keys(s),u=0;u<c.length;u++)d=c[u],f=t.currencyId(d),l=t.account(),f in s&&(l.free=t.safeFloat(s,f)),f in o&&(l.used=t.safeFloat(o,f)),i[d]=l;return r.abrupt("return",t.parseBalance(i));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={pair:s.id},void 0!==t&&(o.limit=t),a.next=7,n.publicGetOrderBook(n.extend(o,r));case 7:return c=a.sent,u=n.safeValue(c,s.id),a.abrupt("return",n.parseOrderBook(u,void 0,"bid","ask"));case 10:case"end":return a.stop()}}),i)})))()}fetchOrderBooks(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,d,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(s=void 0,void 0!==e){a.next=10;break}if(!((s=n.ids.join(",")).length>2048)){a.next=8;break}throw o=n.ids.length,new u(n.id+" has "+o.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:a.next=12;break;case 10:s=(s=n.marketIds(e)).join(",");case 12:return c={pair:s},void 0!==t&&(c.limit=t),a.next=16,n.publicGetOrderBook(n.extend(c,r));case 16:for(d=a.sent,f={},l=Object.keys(d),h=0;h<l.length;h++)p=l[h],m=p,p in n.markets_by_id&&(v=n.markets_by_id[p],m=v.symbol),f[m]=n.parseOrderBook(d[p],void 0,"bid","ask");return a.abrupt("return",f);case 21:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"updated"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_curr"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s={},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=r.markets_by_id[u],f=d.symbol,l=i[u],s[f]=r.parseTicker(l,d);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 9:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:return i=n.sent,s=r.market(e),n.abrupt("return",r.parseTicker(i[s.id],s));case 7:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),a=void 0,i=this.safeString(e,"trade_id"),s=this.safeString(e,"order_id"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"quantity"),u=this.safeFloat(e,"amount"),d=this.safeString(e,"type"),f=this.safeString(e,"pair");if(void 0!==f)if(f in this.markets_by_id)t=this.markets_by_id[f];else{var l=f.split("_"),h=n(l,2),p=h[0],m=h[1];a=this.safeCurrencyCode(p)+"/"+this.safeCurrencyCode(m)}void 0===a&&void 0!==t&&(a=t.symbol);var v=this.safeString(e,"exec_type"),b=void 0,g=this.safeFloat(e,"commission_amount");if(void 0!==g){var y=this.safeString(e,"commission_currency"),w=this.safeCurrencyCode(y),k=this.safeFloat(e,"commission_percent");void 0!==k&&(k/=1e3),b={cost:g,currency:w,rate:k}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:s,type:void 0,side:d,takerOrMaker:v,price:o,amount:c,cost:u,fee:b}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},a.next=6,s.publicGetTrades(s.extend(c,n));case 6:return u=a.sent,d=s.safeValue(u,o.id,[]),a.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,s={}){var o=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new c(o.id+" fetchMyTrades() requires a symbol argument (a single symbol or an array)");case 2:return a.next=4,o.loadMarkets();case 4:if(u=void 0,d=void 0,!Array.isArray(e)){a.next=14;break}if(!(e.length<1)){a.next=10;break}throw new c(o.id+" fetchMyTrades() requires a non-empty symbol array");case 10:f=o.marketIds(e),u=f.join(","),a.next=16;break;case 14:d=o.market(e),u=d.id;case 16:return l={pair:u},void 0!==r&&(l.limit=r),a.next=20,o.privatePostUserTrades(o.extend(l,s));case 20:for(h=a.sent,p=[],m=Object.keys(h),v=0;v<m.length;v++)b=m[v],g=void 0,b in o.markets_by_id?(d=o.markets_by_id[b],g=d.symbol):(y=b.split("_"),w=n(y,2),k=w[0],x=w[1],_=o.safeCurrencyCode(k),S=o.safeCurrencyCode(x),g=_+"/"+S),T=h[b],O=o.parseTrades(T,d,t,r,{symbol:g}),p=o.arrayConcat(p,O);return a.abrupt("return",o.filterBySinceLimit(p,t,r));case 25:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u="market"===t?t+"_":"",d=c.market(e),"market"===t&&void 0===s&&(s=0),f={pair:d.id,quantity:c.amountToPrecision(e,n),type:u+r,price:c.priceToPrecision(e,s)},a.next=8,c.privatePostOrderCreate(c.extend(f,o));case 8:return l=a.sent,h=c.safeString(l,"order_id"),p=c.milliseconds(),n=parseFloat(n),s=parseFloat(s),"open",a.abrupt("return",{id:h,info:l,timestamp:p,datetime:c.iso8601(p),lastTradeTimestamp:void 0,status:"open",symbol:e,type:t,side:r,price:s,cost:s*n,amount:n,remaining:n,filled:0,fee:void 0,trades:void 0,clientOrderId:void 0,average:void 0});case 15:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:e},t.next=5,n.privatePostOrderCancel(n.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:e.toString()},t.next=5,n.privatePostOrderTrades(n.extend(i,r));case 5:return s=t.sent,o=n.parseOrder(s),t.abrupt("return",n.extend(o,{id:e.toString()}));case 8:case"end":return t.stop()}}),t)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=void 0,void 0!==t&&(c=o.market(t)),u={order_id:e.toString()},a.next=5,o.privatePostOrderTrades(o.extend(u,s));case 5:return d=a.sent,f=o.safeValue(d,"trades"),a.abrupt("return",o.parseTrades(f,c,r,n));case 8:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.privatePostUserOpenOrders(n);case 4:for(o=a.sent,c=Object.keys(o),u=[],d=0;d<c.length;d++)f=c[d],l=void 0,f in s.markets_by_id&&(l=s.markets_by_id[f]),h=s.parseOrders(o[f],l),u=s.arrayConcat(u,h);return a.abrupt("return",s.filterBySymbolSinceLimit(u,e,t,r));case 9:case"end":return a.stop()}}),i)})))()}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=this.safeTimestamp(e,"created"),a=void 0,i=this.safeString(e,"type");if(void 0===t){var s=void 0;"pair"in e?s=e.pair:"in_currency"in e&&"out_currency"in e&&(s="buy"===i?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),void 0!==s&&s in this.markets_by_id&&(t=this.markets_by_id[s])}var o=this.safeFloat(e,"quantity");if(void 0===o){var c="buy"===i?"in_amount":"out_amount";o=this.safeFloat(e,c)}var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),f=0,l=[],h=this.safeValue(e,"trades",[]),p=void 0,m=void 0,v=void 0,b=h.length;if(b>0){p=0;for(var g=0;g<b;g++){var y=this.parseTrade(h[g],t);void 0===r&&(r=y.order),void 0===n&&(n=y.timestamp),n>y.timestamp&&(n=y.timestamp),f=this.sum(f,y.amount),p=this.sum(p,y.fee.cost),l.push(y)}m=l[b-1].timestamp}var w=this.safeString(e,"status"),k=void 0;void 0!==o&&(k=o-f,w=f>=o?"closed":"open"),void 0===t&&(t=this.getMarketFromTrades(l));var x=void 0;void 0!==t&&(a=t.symbol,x=t.quote),void 0===d?void 0!==u&&(d=u*f):f>0&&(void 0===v&&(v=d/f),void 0===u&&(u=d/f));var _={cost:p,currency:x};return{id:r,clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:m,status:w,symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:u,stopPrice:void 0,cost:d,amount:o,filled:f,remaining:k,average:v,trades:l,fee:_,info:e}}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.privatePostDepositAddress(t);case 4:return i=n.sent,s=r.safeString(i,e),o=void 0,c=void 0,s&&(u=s.split(","),o=u[0],u.length>1&&(c=u[1])),r.checkAddress(o),n.abrupt("return",{currency:e,address:o,tag:c,info:i});case 11:case"end":return n.stop()}}),n)})))()}getMarketFromTrades(e){var t=this.indexBy(e,"pair"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c=o[i],u=parseFloat(this.costToPrecision(e,n*c)),d="quote";return"sell"===r?u*=a:d="base",{type:i,currency:o[d],rate:c,cost:parseFloat(this.feeToPrecision(e,u))}}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.currency(e),u={amount:t,currency:c.id,address:r},void 0!==n&&(u.invoice=n),a.next=7,o.privatePostWithdrawCrypt(o.extend(u,s));case 7:return d=a.sent,a.abrupt("return",{info:d,id:d.task_id});case 9:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({transferred:"ok",paid:"ok",pending:"pending",processing:"pending"},e,e)}parseTransaction(e,t){var r=this.safeTimestamp(e,"dt"),n=this.safeFloat(e,"amount");void 0!==n&&(n=Math.abs(n));var a=this.parseTransactionStatus(this.safeString(e,"status")),i=this.safeString(e,"txid"),s=this.safeString(e,"type"),o=this.safeString(e,"curr"),c=this.safeCurrencyCode(o,t),u=void 0,d=void 0,f=this.safeString(e,"account");if("deposit"===s)d=f;else if("withdrawal"===s&&void 0!==(u=f)){var l=u.split(":");2===l.length&&(u=(u=this.safeString(l,1)).replace(" ",""))}var h=void 0;if(!this.fees.funding.percentage){var p="withdrawal"===s?"withdraw":"deposit",m=this.safeFloat(this.options.fundingFees[p],c);"cashback"===this.safeString(e,"provider")&&(m=0),void 0!==m&&("withdrawal"===s&&(n-=m),h={cost:m,currency:c,rate:void 0})}return{info:e,id:void 0,timestamp:r,datetime:this.iso8601(r),currency:c,amount:n,address:u,addressTo:u,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,status:a,type:s,updated:void 0,comment:d,txid:i,fee:h}}fetchTransactions(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.date=parseInt(t/1e3)),c=void 0,void 0!==e&&(c=s.currency(e)),a.next=8,s.privatePostWalletHistory(s.extend(o,n));case 8:return u=a.sent,a.abrupt("return",s.parseTransactions(u.history,c,t,r));case 10:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/";if("web"!==t&&(s+=this.version+"/"),s+=e,"public"===t||"web"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else if("private"===t){this.checkRequiredCredentials();var o=this.nonce();i=this.urlencode(this.extend({nonce:o},n)),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:i,headers:a}}nonce(){return this.milliseconds()}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&("result"in s||"errmsg"in s)){var d=this.safeValue(s,"result",!1);if("string"===typeof d&&(d="true"===d||"1"===d),!d){var f=void 0,l=this.safeString2(s,"error","errmsg"),h=l.split(":");if(h.length>1){var p=h[0].split(" ");f=p.length>1?p[1]:p[0]}var m=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,m),this.throwBroadlyMatchedException(this.exceptions.broad,l,m),new u(m)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.AuthenticationError,d=o.ExchangeNotAvailable,f=o.ArgumentsRequired;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"exx",name:"EXX",countries:["CN"],rateLimit:100,userAgent:this.userAgents.chrome,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate",referral:"https://www.exx.com/r/fde4260159e53ab8a58cc9186d35501f?recommQd=1"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{DOS:"DEMOS",TV:"TIV"},exceptions:{103:u}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(i=r.sent,s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=u.split("_"),l=a(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g=!0===d.isOpen,y={amount:parseInt(d.amountScale),price:parseInt(d.priceScale)},o.push({id:u,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:g,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:Math.pow(10,y.amount)},price:{min:Math.pow(10,-y.price),max:Math.pow(10,y.price)},cost:{min:void 0,max:void 0}},info:d});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=t.symbol,n=this.safeInteger(e,"date");e=e.ticker;var a=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currency:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:i=n.sent,s={},o=r.milliseconds(),c=Object.keys(i),u=0;case 9:if(!(u<c.length)){n.next=20;break}if((d=c[u])in r.marketsById){n.next=13;break}return n.abrupt("continue",17);case 13:f=r.marketsById[d],l=f.symbol,h={date:o,ticker:i[d]},s[l]=r.parseTicker(h,f);case 17:u++,n.next=9;break;case 20:return n.abrupt("return",r.filterByArray(s,"symbol",e));case 21:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={currency:a.marketId(e)},t.next=5,a.publicGetDepth(a.extend(i,r));case 5:return s=t.sent,o=a.safeTimestamp(s,"timestamp"),t.abrupt("return",a.parseOrderBook(s,o));case 8:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=void 0;void 0!==t&&(s=t.symbol);var o=this.safeString(e,"type");return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,order:void 0,type:"limit",side:o,takerOrMaker:void 0,price:n,amount:a,cost:i,fee:void 0}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currency:o.id},n.next=6,s.publicGetTrades(s.extend(c,a));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetGetBalance(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"funds"),o=Object.keys(s),c=0;c<o.length;c++)u=o[c],d=s[u],f=t.safeCurrencyCode(u),l={free:t.safeFloat(d,"balance"),used:t.safeFloat(d,"freeze"),total:t.safeFloat(d,"total")},i[f]=l;return r.abrupt("return",t.parseBalance(i));case 10:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=t.symbol,n=parseInt(e.trade_date),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"trade_money"),s=this.safeFloat(e,"total_amount"),o=this.safeFloat(e,"trade_amount",0),c=parseFloat(this.amountToPrecision(r,s-o)),u=this.safeInteger(e,"status");u=1===u?"canceled":2===u?"closed":"open";var d=void 0;return"fees"in e&&(d={cost:this.safeFloat(e,"fees"),currency:t.quote}),{id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:e.type,price:a,stopPrice:void 0,cost:i,amount:s,filled:o,remaining:c,trades:void 0,fee:d,info:e,average:void 0}}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function t(){var i,u,d,f,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return i=c.market(e),u={currency:i.id,type:r,price:s,amount:a},t.next=6,c.privateGetOrder(c.extend(u,o));case 6:return d=t.sent,f=c.safeString(d,"id"),l=c.parseOrder({id:f,trade_date:c.milliseconds(),total_amount:a,price:s,type:r,info:d},i),t.abrupt("return",l);case 10:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(t),o={id:e,currency:s.id},n.next=6,a.privateGetCancel(a.extend(o,r));case 6:return c=n.sent,n.abrupt("return",c);case 8:case"end":return n.stop()}}),i)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(t),o={id:e,currency:s.id},n.next=6,a.privateGetGetOrder(a.extend(o,r));case 6:return c=n.sent,n.abrupt("return",a.parseOrder(c,s));case 8:case"end":return n.stop()}}),i)})))()}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==e){n.next=4;break}throw new f(s.id+" fetchOpenOrders() requires a symbol argument");case 4:return o=s.market(e),c={currency:o.id},n.next=8,s.privateGetGetOpenOrders(s.extend(c,a));case 8:if(u=n.sent,Array.isArray(u)){n.next=11;break}return n.abrupt("return",[]);case 11:return n.abrupt("return",s.parseOrders(u,o,t,r));case 12:case"end":return n.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},n)));s+="?"+o+"&signature="+this.hmac(this.encode(o),this.encode(this.secret),"sha512"),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var f=this.safeString(s,"code"),l=this.safeString(s,"message"),h=this.id+" "+i;if("100"!==f){if(void 0!==f){if(this.throwExactlyMatchedException(this.exceptions,f,h),"308"===f)return;throw new c(h)}var p=this.safeValue(s,"result");if(void 0!==p&&!p)throw"\u670d\u52a1\u7aef\u5fd9\u788c"===l?new d(h):new c(h)}}}}},function(e,t,r){"use strict";var n=r(205);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"fcoinjp",name:"FCoinJP",countries:["JP"],hostname:"fcoinjp.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/54219174-08b66b00-4500-11e9-862d-f522d0fe08c6.jpg",fees:"https://fcoinjp.zendesk.com/hc/en-us/articles/360018727371",www:"https://www.fcoinjp.com",referral:void 0}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443317-01c0d080-c5fe-11ea-95c2-9ebe1a8fafd9.jpg",api:"https://publicapi.flowbtc.com.br",www:"https://www.flowbtc.com.br",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.005}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicPostGetProductPairs(e);case 2:for(a=r.sent,i=t.safeValue(a,"productPairs"),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=t.safeString(c,"product1Label"),f=t.safeString(c,"product2Label"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p={amount:t.safeInteger(c,"product1DecimalPlaces"),price:t.safeInteger(c,"product2DecimalPlaces")},s[m=l+"/"+h]={id:u,symbol:m,base:l,quote:h,baseId:d,quoteId:f,precision:p,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:c,active:void 0};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetAccountInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"currencies"),s={info:a},o=0;o<i.length;o++)c=i[o],u=c.name,d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"balance"),f.total=t.safeFloat(c,"hold"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={productPair:a.id},t.next=6,i.publicPostGetOrderBook(i.extend(s,r));case 6:return o=t.sent,t.abrupt("return",i.parseOrderBook(o,void 0,"bids","asks","px","qty"));case 8:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={productPair:i.id},n.next=6,r.publicPostGetTicker(r.extend(s,t));case 6:return o=n.sent,c=r.milliseconds(),u=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:r.safeFloat(o,"high"),low:r.safeFloat(o,"low"),bid:r.safeFloat(o,"bid"),bidVolume:void 0,ask:r.safeFloat(o,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(o,"volume24hr"),quoteVolume:r.safeFloat(o,"volume24hrProduct2"),info:o});case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"unixtime"),n=0===e.incomingOrderSide?"buy":"sell",a=this.safeString(e,"tid"),i=this.safeFloat(e,"px"),s=this.safeFloat(e,"qty"),o=void 0;return void 0!==i&&void 0!==s&&(o=i*s),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:a,order:void 0,type:void 0,side:n,price:i,amount:s,cost:o,takerOrMaker:void 0,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={ins:o.id,startIndex:-1},n.next=6,s.publicPostGetTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u.trades,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u="market"===t?1:0,d={ins:c.marketId(e),side:r,orderType:u,qty:i,px:c.priceToPrecision(e,s)},n.next=6,c.privatePostCreateOrder(c.extend(d,o));case 6:return f=n.sent,n.abrupt("return",{info:f,id:f.serverOrderId});case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:if(!("ins"in r)){t.next=7;break}return a={serverOrderId:e},t.next=6,i.privatePostCancelOrder(i.extend(a,r));case 6:return t.abrupt("return",t.sent);case 7:throw new s(i.id+" cancelOrder() requires an `ins` symbol parameter for cancelling an order");case 8:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(i=this.json(n));else{this.checkRequiredCredentials();var o=this.nonce(),c=o.toString()+this.uid+this.apiKey,u=this.hmac(this.encode(c),this.encode(this.secret));i=this.json(this.extend({apiKey:this.apiKey,apiNonce:o,apiSig:u.toUpperCase()},n)),a={"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},o,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,o,c);case 2:if(!("isAccepted"in(d=n.sent))){n.next=6;break}if(!d.isAccepted){n.next=6;break}return n.abrupt("return",d);case 6:throw new s(u.id+" "+u.json(d));case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(16).TICK_SIZE,c=r(6),u=c.ExchangeError,d=c.InvalidOrder,f=c.BadRequest,l=c.InsufficientFunds,h=c.OrderNotFound,p=c.AuthenticationError,m=c.RateLimitExceeded,v=c.ExchangeNotAvailable,b=c.CancelPending;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"ftx",name:"FTX",countries:["HK"],rateLimit:50,certified:!0,pro:!0,hostname:"ftx.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/67149189-df896480-f2b0-11e9-8816-41593e17f9ec.jpg",www:"https://ftx.com",api:{public:"https://{hostname}",private:"https://{hostname}"},doc:"https://github.com/ftexchange/ftx",fees:"https://ftexchange.zendesk.com/hc/en-us/articles/360024479432-Fees",referral:"https://ftx.com/#a=1623029"},has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"15s":"15","1m":"60","5m":"300","15m":"900","1h":"3600","4h":"14400","1d":"86400"},api:{public:{get:["coins","markets","markets/{market_name}","markets/{market_name}/orderbook","markets/{market_name}/trades","markets/{market_name}/candles","futures","futures/{future_name}","futures/{future_name}/stats","funding_rates","indexes/{index_name}/weights","expired_futures","indexes/{market_name}/candles","lt/tokens","lt/{token_name}","options/requests","options/trades","stats/24h_options_volume","options/historical_volumes/BTC","options/open_interest/BTC","options/historical_open_interest/BTC"]},private:{get:["account","positions","wallet/coins","wallet/balances","wallet/all_balances","wallet/deposit_address/{coin}","wallet/deposits","wallet/withdrawals","wallet/airdrops","wallet/saved_addresses","orders","orders/history","orders/{order_id}","orders/by_client_id/{client_order_id}","conditional_orders","conditional_orders/{conditional_order_id}/triggers","conditional_orders/history","spot_margin/borrow_rates","spot_margin/lending_rates","spot_margin/borrow_summary","spot_margin/market_info","spot_margin/borrow_history","spot_margin/lending_history","spot_margin/offers","spot_margin/lending_info","fills","funding_payments","lt/balances","lt/creations","lt/redemptions","subaccounts","subaccounts/{nickname}/balances","otc/quotes/{quoteId}","options/my_requests","options/requests/{request_id}/quotes","options/my_quotes","options/account_info","options/positions","options/fills","staking/stakes","staking/unstake_requests","staking/balances","staking/staking_rewards"],post:["account/leverage","wallet/withdrawals","wallet/saved_addresses","orders","conditional_orders","orders/{order_id}/modify","orders/by_client_id/{client_order_id}/modify","conditional_orders/{order_id}/modify","spot_margin/offers","lt/{token_name}/create","lt/{token_name}/redeem","subaccounts","subaccounts/update_name","subaccounts/transfer","otc/quotes/{quote_id}/accept","otc/quotes","options/requests","options/requests/{request_id}/quotes","options/quotes/{quote_id}/accept","staking/unstake_requests","srm_stakes/stakes"],delete:["wallet/saved_addresses/{saved_address_id}","orders/{order_id}","orders/by_client_id/{client_order_id}","orders","conditional_orders/{order_id}","subaccounts","options/requests/{request_id}","options/quotes/{quote_id}","staking/unstake_requests/{request_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:2e-4,taker:.07/100,tiers:{taker:[[0,.07/100],[1e6,6e-4],[5e6,55e-5],[1e7,5e-4],[15e6,45e-5],[35e6,4e-4]],maker:[[0,2e-4],[1e6,2e-4],[5e6,15e-5],[1e7,15e-5],[15e6,1e-4],[35e6,1e-4]]}},funding:{withdraw:{}}},exceptions:{exact:{"Please slow down":m,"Size too small for provide":d,"Not logged in":p,"Not enough balances":l,InvalidPrice:d,"Size too small":d,"Missing parameter price":d,"Order not found":h,"Order already closed":d,"Order already queued for cancellation":b},broad:{"Account does not have enough margin for order":l,"Invalid parameter":f,"The requested URL was not found on the server":f,"No such coin":f,"No such market":f,"Do not send more than":m,"An unexpected error occurred":v,"Please retry request":v,"Please try again":v}},precisionMode:o,options:{cancelOrder:{method:"privateDeleteOrdersOrderId"},fetchOpenOrders:{method:"privateGetOrders"},fetchOrders:{method:"privateGetOrdersHistory"},sign:{"ftx.com":"FTX","ftx.us":"FTXUS"}}})}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCoins(e);case 2:for(n=r.sent,i=t.safeValue(n,"result",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeCurrencyCode(u),f=t.safeString(c,"name"),s[d]={id:u,code:d,info:c,type:void 0,name:f,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(n=r.sent,i=[],s=t.safeValue(n,"result",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"name"),d=t.safeString2(c,"baseCurrency","underlying"),f=t.safeString(c,"quoteCurrency","USD"),l=t.safeString(c,"type"),h=t.safeCurrencyCode(d),p=t.safeCurrencyCode(f),m="future"===l?t.safeString(c,"name"):h+"/"+p,v=t.safeValue(c,"enabled"),b=t.safeFloat(c,"sizeIncrement"),g=t.safeFloat(c,"priceIncrement"),y={amount:b,price:g},i.push({id:u,symbol:m,base:h,quote:p,baseId:d,quoteId:f,type:l,future:"future"===l,spot:"spot"===l,active:v,precision:y,limits:{amount:{min:b,max:void 0},price:{min:g,max:void 0},cost:{min:void 0,max:void 0}},info:c});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=void 0,n=this.safeString(e,"name");if(n in this.markets_by_id)t=this.markets_by_id[n];else if("future"===this.safeString(e,"type"))r=n;else{var a=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),i=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));void 0!==a&&void 0!==i&&(r=a+"/"+i)}void 0===r&&void 0!==t&&(r=t.symbol);var s=this.safeFloat(e,"last"),o=this.safeTimestamp(e,"time",this.milliseconds());return{symbol:r,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:this.safeFloat(e,"bidSize"),ask:this.safeFloat(e,"ask"),askVolume:this.safeFloat(e,"askSize"),vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"change24h"),average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"quoteVolume24h"),info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market_name:i.id},n.next=6,r.publicGetMarketsMarketName(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),n)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarkets(t);case 4:return i=n.sent,s=r.safeValue(i,"result",[]),n.abrupt("return",r.parseTickers(s,e));case 7:case"end":return n.stop()}}),n)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={market_name:s.id},void 0!==t&&(o.depth=t),a.next=7,n.publicGetMarketsMarketNameOrderbook(n.extend(o,r));case 7:return c=a.sent,u=n.safeValue(c,"result",{}),a.abrupt("return",n.parseOrderBook(u));case 10:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}getMarketId(e,t,r={}){var n=this.getMarketParams(e,t,r);return this.safeString(n,1,e)}getMarketParams(e,t,r={}){var n=void 0,a=void 0;return a=e in this.markets?(n=this.market(e)).id:this.safeString(r,t,e),[n,a]}fetchOHLCV(e,t="1m",r,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.getMarketParams(e,"market_name",o),d=n(u,2),f=d[0],l=d[1],h={resolution:c.timeframes[t],market_name:l},s=void 0===s?1501:s,void 0===r?(h.end_time=c.seconds(),h.limit=s,h.start_time=h.end_time-s*c.parseTimeframe(t)):(h.start_time=parseInt(r/1e3),h.limit=s,h.end_time=c.sum(h.start_time,s*c.parseTimeframe(t))),a.next=8,c.publicGetMarketsMarketNameCandles(c.extend(h,o));case 8:return p=a.sent,m=c.safeValue(p,"result",[]),a.abrupt("return",c.parseOHLCVs(m,f,t,r,s));case 11:case"end":return a.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"liquidity"),a=this.safeString(e,"market"),i=void 0;if(a in this.markets_by_id)i=(t=this.markets_by_id[a]).symbol;else{var s=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),o=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));i=void 0!==s&&void 0!==o?s+"/"+o:a}var c=this.parse8601(this.safeString(e,"time")),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"size");void 0===i&&void 0!==t&&(i=t.symbol);var f=this.safeString(e,"side"),l=void 0;void 0!==u&&void 0!==d&&(l=u*d);var h=void 0,p=this.safeFloat(e,"fee");if(void 0!==p){var m=this.safeString(e,"feeCurrency");h={cost:p,currency:this.safeCurrencyCode(m),rate:this.safeFloat(e,"feeRate")}}var v=this.safeString(e,"orderId");return{info:e,timestamp:c,datetime:this.iso8601(c),symbol:i,id:r,order:v,type:void 0,takerOrMaker:n,side:f,price:u,amount:d,cost:l,fee:h}}fetchTrades(e,t,r,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.getMarketParams(e,"market_name",s),u=n(c,2),d=u[0],f=u[1],l={market_name:f},void 0!==t&&(l.start_time=parseInt(t/1e3),l.end_time=o.seconds()),void 0!==r&&(l.limit=r),a.next=8,o.publicGetMarketsMarketNameTrades(o.extend(l,s));case 8:return h=a.sent,p=o.safeValue(h,"result",[]),a.abrupt("return",o.parseTrades(p,d,t,r));case 11:case"end":return a.stop()}}),i)})))()}fetchTradingFees(e={}){var t=this;return i(a.mark((function r(){var n,i;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccount(e);case 4:return n=r.sent,i=t.safeValue(n,"result",{}),r.abrupt("return",{info:n,maker:t.safeFloat(i,"makerFee"),taker:t.safeFloat(i,"takerFee")});case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetWalletBalances(e);case 4:for(n=r.sent,i={info:n},s=t.safeValue(n,"result",[]),o=0;o<s.length;o++)c=s[o],u=t.safeCurrencyCode(t.safeString(c,"coin")),(d=t.account()).free=t.safeFloat(c,"free"),d.total=t.safeFloat(c,"total"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({new:"open",open:"open",closed:"closed",triggered:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"createdAt")),a=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeFloat(e,"size"),s=this.safeFloat(e,"filledSize"),o=this.safeFloat(e,"remainingSize");0===o&&void 0!==i&&void 0!==s&&(o=Math.max(i-s,0))>0&&(a="canceled");var c=void 0,u=this.safeString(e,"market");void 0!==u&&(c=u in this.markets_by_id?(t=this.markets_by_id[u]).symbol:u),void 0===c&&void 0!==t&&(c=t.symbol);var d=this.safeString(e,"side"),f=this.safeString(e,"type"),l=this.safeFloat(e,"avgFillPrice"),h=this.safeFloat2(e,"price","triggerPrice",l),p=void 0;void 0!==s&&void 0!==h&&(p=s*h);var m=this.parse8601(this.safeString(e,"triggeredAt")),v=this.safeString(e,"clientId"),b=this.safeFloat(e,"triggerPrice"),g=this.safeValue(e,"postOnly");return{info:e,id:r,clientOrderId:v,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:m,symbol:c,type:f,timeInForce:void 0,postOnly:g,side:d,price:h,stopPrice:b,amount:i,cost:p,average:l,filled:s,remaining:o,status:a,fee:void 0,trades:void 0}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:if(u=c.market(e),f={market:u.id,side:r,type:t,size:parseFloat(c.amountToPrecision(e,n))},void 0!==(l=c.safeString2(o,"clientId","clientOrderId"))&&(f.clientId=l,o=c.omit(o,["clientId","clientOrderId"])),h=void 0,void 0!==s&&(h=parseFloat(c.priceToPrecision(e,s))),p="privatePostConditionalOrders","limit"!==t){a.next=14;break}p="privatePostOrders",f.price=h,a.next=28;break;case 14:if("market"!==t){a.next=19;break}p="privatePostOrders",f.price=null,a.next=28;break;case 19:if("stop"!==t&&"takeProfit"!==t){a.next=23;break}f.triggerPrice=h,a.next=28;break;case 23:if("trailingStop"!==t){a.next=27;break}f.trailValue=h,a.next=28;break;case 27:throw new d(c.id+" createOrder () does not support order type "+t+", only limit, market, stop, trailingStop, or takeProfit orders are supported");case 28:return a.next=30,c[p](c.extend(f,o));case 30:return m=a.sent,v=c.safeValue(m,"result",[]),a.abrupt("return",c.parseOrder(v,u));case 33:case"end":return a.stop()}}),i)})))()}editOrder(e,t,r,n,s,o,c={}){var u=this;return i(a.mark((function r(){var n,i,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return n=u.market(t),i={},d=void 0,f=u.safeString2(c,"client_order_id","clientOrderId"),l=u.safeFloat(c,"triggerPrice"),h=u.safeFloat(c,"orderPrice"),p=u.safeFloat(c,"trailValue"),c=u.omit(c,["client_order_id","clientOrderId","triggerPrice","orderPrice","trailValue"]),v=void 0!==h,b=void 0!==p,(m=void 0!==l)||v||b?(d="privatePostConditionalOrdersOrderIdModify",i.order_id=e,m&&(i.triggerPrice=parseFloat(u.priceToPrecision(t,l))),v&&(i.orderPrice=parseFloat(u.priceToPrecision(t,h))),b&&(i.trailValue=parseFloat(u.priceToPrecision(t,p)))):(void 0===f?(d="privatePostOrdersOrderIdModify",i.order_id=e):(d="privatePostOrdersByClientIdClientOrderIdModify",i.client_order_id=f),void 0!==o&&(i.price=parseFloat(u.priceToPrecision(t,o)))),void 0!==s&&(i.size=parseFloat(u.amountToPrecision(t,s))),r.next=17,u[d](u.extend(i,c));case 17:return g=r.sent,y=u.safeValue(g,"result",{}),r.abrupt("return",u.parseOrder(y,n));case 20:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u,d,f,l,h;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={},s=n.safeValue(n.options,"cancelOrder",{}),o=n.safeString(s,"method","privateDeleteOrdersOrderId"),c=n.safeString(r,"method",o),u=n.safeValue(r,"type"),void 0===(d=n.safeValue2(r,"client_order_id","clientOrderId"))?(i.order_id=parseInt(e),"stop"!==u&&"trailingStop"!==u&&"takeProfit"!==u||(c="privateDeleteConditionalOrdersOrderId")):(i.client_order_id=d,c="privateDeleteOrdersByClientIdClientOrderId"),f=n.omit(r,["method","type","client_order_id","clientOrderId"]),t.next=12,n[c](n.extend(i,f));case 12:return l=t.sent,h=n.safeValue(l,"result",{}),t.abrupt("return",h);case 15:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeValue(t,"conditionalOrdersOnly"),s={},i?s.conditionalOrdersOnly=i:s.limitOrdersOnly=!0,void 0!==(o=r.getMarketId(e,"market",t))&&(s.market=o),n.next=9,r.privateDeleteOrders(r.extend(s,t));case 9:return c=n.sent,u=r.safeValue(c,"result",{}),n.abrupt("return",u);case 12:case"end":return n.stop()}}),n)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={},s=n.safeValue2(r,"client_order_id","clientOrderId"),o="privateGetOrdersOrderId",void 0===s?i.order_id=e:(i.client_order_id=s,r=n.omit(r,["client_order_id","clientOrderId"]),o="privateGetOrdersByClientIdClientOrderId"),t.next=8,n[o](n.extend(i,r));case 8:return c=t.sent,u=n.safeValue(c,"result",{}),t.abrupt("return",n.parseOrder(u));case 11:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={},u=o.getMarketParams(e,"market",s),d=n(u,2),f=d[0],void 0!==(l=d[1])&&(c.market=l),h=o.safeValue(o.options,"fetchOpenOrders",{}),p=o.safeString(h,"method","privateGetOrders"),m=o.safeString(s,"method",p),"stop"!==(v=o.safeValue(s,"type"))&&"trailingStop"!==v&&"takeProfit"!==v||(m="privateGetConditionalOrders"),b=o.omit(s,["method","type"]),a.next=13,o[m](o.extend(c,b));case 13:return g=a.sent,y=o.safeValue(g,"result",[]),a.abrupt("return",o.parseOrders(y,f,t,r));case 16:case"end":return a.stop()}}),i)})))()}fetchOrders(e,t,r,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={},u=o.getMarketParams(e,"market",s),d=n(u,2),f=d[0],void 0!==(l=d[1])&&(c.market=l),void 0!==r&&(c.limit=r),void 0!==t&&(c.start_time=parseInt(t/1e3)),h=o.safeValue(o.options,"fetchOrders",{}),p=o.safeString(h,"method","privateGetOrdersHistory"),m=o.safeString(s,"method",p),"stop"!==(v=o.safeValue(s,"type"))&&"trailingStop"!==v&&"takeProfit"!==v||(m="privateGetConditionalOrdersHistory"),b=o.omit(s,["method","type"]),a.next=15,o[m](o.extend(c,b));case 15:return g=a.sent,y=o.safeValue(g,"result",[]),a.abrupt("return",o.parseOrders(y,f,t,r));case 18:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.getMarketParams(e,"market",s),u=n(c,2),d=u[0],f=u[1],l={},void 0!==f&&(l.market=f),void 0!==r&&(l.limit=r),void 0!==t&&(l.start_time=parseInt(t/1e3),l.end_time=o.seconds()),a.next=9,o.privateGetFills(o.extend(l,s));case 9:return h=a.sent,p=o.safeValue(h,"result",[]),a.abrupt("return",o.parseTrades(p,d,t,r));case 12:case"end":return a.stop()}}),i)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return o.checkAddress(r),c=o.currency(e),u={coin:c.id,size:t,address:r},void 0!==o.password&&(u.password=o.password),void 0!==n&&(u.tag=n),a.next=9,o.privatePostWalletWithdrawals(o.extend(u,s));case 9:return d=a.sent,f=o.safeValue(d,"result",{}),a.abrupt("return",o.parseTransaction(f,c));case 12:case"end":return a.stop()}}),i)})))()}fetchPositions(e,t,r,n={}){var s=this;return i(a.mark((function e(){var t,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privateGetAccount(n);case 4:return t=e.sent,r=s.safeValue(t,"result",{}),e.abrupt("return",s.safeValue(r,"positions",[]));case 7:case"end":return e.stop()}}),e)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={coin:i.id},n.next=6,r.privateGetWalletDepositAddressCoin(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),u=r.safeString(c,"address"),d=r.safeString(c,"tag"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:d,info:o});case 12:case"end":return n.stop()}}),n)})))()}parseTransactionStatus(e){return this.safeString({confirmed:"ok",complete:"ok"},e,e)}parseTransaction(e,t){var r=this.safeCurrencyCode(this.safeString(e,"coin")),n=this.safeString(e,"id"),a=this.safeFloat(e,"size"),i=this.parseTransactionStatus(this.safeString(e,"status")),s=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"txid"),c=void 0,u=this.safeValue(e,"address");if("string"!==typeof u&&(c=this.safeString(u,"tag"),u=this.safeString(u,"address")),void 0===u){var d=this.safeString(e,"notes");void 0!==d&&(u=d.slice(12))}var f=this.safeFloat(e,"fee");return{info:e,id:n,txid:o,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:u,addressTo:u,tagFrom:void 0,tag:c,tagTo:c,type:void 0,amount:a,currency:r,status:i,updated:void 0,fee:{currency:r,cost:f,rate:void 0}}}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.privateGetWalletDeposits(n);case 4:return o=a.sent,c=s.safeValue(o,"result",[]),u=void 0,void 0!==e&&(u=s.currency(e)),a.abrupt("return",s.parseTransactions(c,u,t,r,{type:"deposit"}));case 9:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.privateGetWalletWithdrawals(n);case 4:return o=a.sent,c=s.safeValue(o,"result",[]),u=void 0,void 0!==e&&(u=s.currency(e)),a.abrupt("return",s.parseTransactions(c,u,t,r,{type:"withdrawal"}));case 9:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+s;if("POST"!==r&&Object.keys(o).length){var u="?"+this.urlencode(o);c+=u,s+=u}if("private"===t){this.checkRequiredCredentials();var d=this.milliseconds().toString(),f=d+r+s;a={},"POST"!==r&&"DELETE"!==r||(f+=i=this.json(o),a["Content-Type"]="application/json");var l=this.hmac(this.encode(f),this.encode(this.secret),"sha256"),h=this.safeValue(this.options,"sign",{}),p=this.safeString(h,this.hostname,"FTX"),m=p+"-TS",v=p+"-SIGN";a[p+"-KEY"]=this.apiKey,a[m]=d,a[v]=l}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&!this.safeValue(s,"success")){var d=this.id+" "+i,f=this.safeString(s,"error");throw this.throwExactlyMatchedException(this.exceptions.exact,f,d),this.throwBroadlyMatchedException(this.exceptions.broad,f,d),new u(d)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeError,u=s.ArgumentsRequired,d=s.InvalidAddress,f=s.OrderNotFound,l=s.NotSupported,h=s.DDoSProtection,p=s.InsufficientFunds,m=s.InvalidOrder;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"gateio",name:"Gate.io",countries:["CN"],version:"2",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":60,"5m":300,"10m":600,"15m":900,"30m":1800,"1h":3600,"2h":7200,"4h":14400,"6h":21600,"12h":43200,"1d":86400,"1w":604800},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"],referral:"https://www.gate.io/signup/2436035"},api:{public:{get:["candlestick2/{id}","pairs","coininfo","marketinfo","marketlist","coininfo","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","feelist","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{4:h,5:o,6:o,7:l,8:l,9:l,15:h,16:f,17:f,20:m,21:p},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"}},options:{limits:{cost:{min:{BTC:1e-4,ETH:.001,USDT:1}}}},commonCurrencies:{BOX:"DefiBox",BTCBEAR:"BEAR",BTCBULL:"BULL",SBTC:"Super Bitcoin",TNC:"Trinity Network Credit"}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCoininfo(e);case 2:if(a=r.sent,i=t.safeValue(a,"coins")){r.next=6;break}throw new c(t.id+" fetchCurrencies got an unrecognized response");case 6:for(s={},o=0;o<i.length;o++)for(u=i[o],d=Object.keys(u),f=0;f<d.length;f++)l=d[f],h=u[l],p=t.safeCurrencyCode(l),m=t.safeValue(h,"delisted",0),v=t.safeValue(h,"withdraw_disabled",0),b=t.safeValue(h,"deposit_disabled",0),g=t.safeValue(h,"trade_disabled",0),y=0===v,w=0===b,k=0===g,x=0===m&&y&&w&&k,s[p]={id:l,code:p,active:x,info:h,name:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarketinfo(e);case 2:if(a=r.sent,i=t.safeValue(a,"pairs")){r.next=6;break}throw new c(t.id+" fetchMarkets got an unrecognized response");case 6:for(s=[],o=0;o<i.length;o++)u=i[o],d=Object.keys(u),f=t.safeString(d,0),l=u[f],h=f.split("_"),p=h.length,m=h[0],v=h[1],p>2&&(m=h[0]+"_"+h[1],v=h[2]),b=t.safeCurrencyCode(m),g=t.safeCurrencyCode(v),y=b+"/"+g,w={amount:t.safeInteger(l,"amount_decimal_places"),price:t.safeInteger(l,"decimal_places")},k={min:t.safeFloat(l,"min_amount"),max:void 0},x={min:Math.pow(10,-w.price),max:void 0},_=k.min*x.min,S=t.safeFloat(t.options.limits.cost.min,g,_),T={amount:k,price:x,cost:{min:S,max:void 0}},O=t.safeValue(l,"trade_disabled"),A=!O,M=f.toUpperCase(),E=t.safeFloat(l,"fee"),s.push({id:f,uppercaseId:M,symbol:y,base:b,quote:g,baseId:m,quoteId:v,info:u,active:A,maker:E/100,taker:E/100,precision:w,limits:T});return r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalances(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"available",{}),Array.isArray(s)&&(s={}),o=t.safeValue(a,"locked",{}),c=Object.keys(s),u=0;u<c.length;u++)d=c[u],f=t.safeCurrencyCode(d),(l=t.account()).free=t.safeFloat(s,d),l.used=t.safeFloat(o,d),i[f]=l;return r.abrupt("return",t.parseBalance(i));case 12:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.publicGetOrderBookId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,5),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,1)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={id:c.id,group_sec:o.timeframes[t]},void 0!==i&&(d=o.parseTimeframe(t),f=parseInt(d*i/3600),u.range_hour=Math.max(0,f-1)),n.next=7,o.publicGetCandlestick2Id(o.extend(u,s));case 7:return l=n.sent,h=o.safeValue(l,"data",[]),n.abrupt("return",o.parseOHLCVs(h,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"last"),i=this.safeFloat(e,"percentChange"),s=void 0,o=void 0,c=void 0;if(void 0!==a&&void 0!==i){var u=i/100;o=a-(s=a/this.sum(1,u)),c=this.sum(a,s)/2}return s=this.safeFloat(e,"open",s),o=this.safeFloat(e,"change",o),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat2(e,"high24hr","high"),low:this.safeFloat2(e,"low24hr","low"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:void 0,change:o,percentage:i,average:c,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s={},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=r.safeMarket(u,void 0,"_"),f=d.symbol,s[f]=r.parseTicker(i[u],d);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.publicGetTickerId(r.extend({id:i.id},t));case 5:return s=n.sent,n.abrupt("return",r.parseTicker(s,i));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp2(e,"timestamp","time_unix");r=this.safeTimestamp(e,"time",r);var n=this.safeString2(e,"tradeID","id"),a=this.safeString2(e,"orderid","orderNumber"),i=this.safeFloat2(e,"rate","price"),s=this.safeFloat(e,"amount"),o=this.safeString(e,"type"),c=this.safeString(e,"role"),u=void 0;void 0!==i&&void 0!==s&&(u=i*s);var d=void 0;void 0!==t&&(d=t.symbol);var f=void 0,l=this.safeCurrencyCode(this.safeString(e,"fee_coin")),h=this.safeFloat(e,"point_fee");return void 0===h||0===h?void 0===(h=this.safeFloat(e,"gt_fee"))||0===h?h=this.safeFloat(e,"fee"):l=this.safeCurrencyCode("GT"):l=this.safeCurrencyCode("POINT"),void 0!==h&&(f={cost:h,currency:l}),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,order:a,type:void 0,side:o,takerOrMaker:c,price:i,amount:s,cost:u,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={id:o.id},u=void 0,u="tid"in i?"publicGetTradeHistoryIdTid":"publicGetTradeHistoryId",n.next=8,s[u](s.extend(c,i));case 8:return d=n.sent,n.abrupt("return",s.parseTrades(d.data,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.privatePostOpenOrders(i);case 2:return a=e.sent,e.abrupt("return",s.parseOrders(a.orders,void 0,t,r));case 4:case"end":return e.stop()}}),e)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderNumber:e,currencyPair:i.marketId(t)},n.next=5,i.privatePostGetOrder(i.extend(s,r));case 5:return o=n.sent,n.abrupt("return",i.parseOrder(o.order));case 7:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({cancelled:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString2(e,"orderNumber","id"),n=this.safeString(e,"currencyPair"),a=this.safeSymbol(n,t,"_"),i=this.safeTimestamp2(e,"timestamp","ctime"),s=this.safeTimestamp(e,"mtime"),o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeString(e,"type");"1"===c?c="sell":"2"===c&&(c="buy");var u=this.safeFloat2(e,"initialRate","rate"),d=this.safeFloat(e,"filledRate"),f=this.safeFloat2(e,"initialAmount","amount"),l=this.safeFloat(e,"filledAmount"),h=this.safeFloat2(e,"leftAmount","left");void 0===h&&(h=f-l);var p=this.safeFloat(e,"feeValue"),m=this.safeString(e,"feeCurrency"),v=this.safeCurrencyCode(m),b=this.safeFloat(e,"feePercentage");return void 0!==b&&(b/=100),{id:r,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:s,status:o,symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:c,price:u,stopPrice:void 0,cost:void 0,amount:f,filled:l,remaining:h,average:d,trades:void 0,fee:{cost:p,currency:v,rate:b},info:e}}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("market"!==t){n.next=2;break}throw new c(u.id+" allows limit orders only");case 2:return n.next=4,u.loadMarkets();case 4:return d="privatePost"+u.capitalize(r),f=u.market(e),l={currencyPair:f.id,rate:s,amount:i},n.next=9,u[d](u.extend(l,o));case 9:return h=n.sent,n.abrupt("return",u.parseOrder(u.extend({status:"open",type:r,initialAmount:i},h),f));case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new u(i.id+" cancelOrder() requires symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s={orderNumber:e,currencyPair:i.marketId(t)},n.next=7,i.privatePostCancelOrder(i.extend(s,r));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),a)})))()}queryDepositAddress(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.currency(t),e="privatePost"+e+"Address",o={currency:s.id},n.next=7,i[e](i.extend(o,r));case 7:if(c=n.sent,u=i.safeString(c,"addr"),f=void 0,!(void 0!==u&&u.indexOf("address")>=0)){n.next=12;break}throw new d(i.id+" queryDepositAddress "+u);case 12:return"XRP"!==t&&"HBAR"!==t&&"STEEM"!==t&&"XLM"!==t&&"EOS"!==t||(l=u.split(" "),u=l[0],f=l[1]),n.abrupt("return",{currency:t,address:u,tag:f,info:c});case 14:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryDepositAddress("New",e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryDepositAddress("Deposit",e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),n.next=6,s.privatePostOpenOrders(i);case 6:return c=n.sent,n.abrupt("return",s.parseOrders(c.orders,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new u(o.id+" fetchOrderTrades() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(t),d={currencyPair:c.id,orderNumber:e},n.next=8,o.privatePostTradeHistory(o.extend(d,s));case 8:return f=n.sent,n.abrupt("return",o.parseTrades(f.trades,c,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" fetchMyTrades() requires symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={currencyPair:o.id},n.next=8,s.privatePostTradeHistory(s.extend(c,i));case 8:return d=n.sent,n.abrupt("return",s.parseTrades(d.trades,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency:c.id,amount:t,address:r},void 0!==i&&(u.address+=" "+i),n.next=8,o.privatePostWithdraw(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",{info:d,id:void 0});case 10:case"end":return n.stop()}}),a)})))()}fetchTransactionsByType(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={},void 0!==r&&(c.start=r),n.next=6,o.privatePostDepositsWithdrawals(o.extend(c,s));case 6:return u=n.sent,d=void 0,void 0===e?(f=o.safeValue(u,"deposits",[]),l=o.safeValue(u,"withdraws",[]),d=o.arrayConcat(f,l)):d=o.safeValue(u,e,[]),h=void 0,void 0!==t&&(h=o.currency(t)),n.abrupt("return",o.parseTransactions(d,h,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType(void 0,e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("deposits",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("withdraws",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"currency"),n=this.safeCurrencyCode(r,t),a=this.safeString(e,"id"),i=this.safeString(e,"txid"),s=this.safeFloat(e,"amount"),o=this.safeString(e,"address");"false"===o&&(o=void 0);var c=this.safeTimestamp(e,"timestamp"),u=this.parseTransactionStatus(this.safeString(e,"status")),d=this.parseTransactionType(a[0]),f=this.safeFloat(e,"fee"),l=void 0;return void 0!==f&&(l={currency:n,cost:f},void 0!==s&&(s-=f)),{info:e,id:a,txid:i,currency:n,amount:s,address:o,tag:void 0,status:u,type:d,timestamp:c,datetime:this.iso8601(c),fee:l}}parseTransactionStatus(e){return this.safeString({PEND:"pending",REQUEST:"pending",DMOVE:"pending",CANCEL:"failed",DONE:"ok"},e,e)}parseTransactionType(e){return this.safeString({d:"deposit",w:"withdrawal"},e,e)}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&"false"===this.safeString(s,"result","")){var u=this.safeString(s,"code"),d=this.safeString(s,"message",i);if(void 0!==u){var f=this.safeString(this.exceptions.errorCodeNames,u,d);this.throwExactlyMatchedException(this.exceptions.exact,u,f)}}}sign(e,t="public",r="GET",n={},a,i){var s="private"===t?t+"/":"",o=this.urls.api[t]+this.version+"/1/"+s+this.implodeParams(e,n),c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();var u={nonce:this.nonce()};i=(i=this.rawencode(this.extend(u,c))).replace("+"," ");var d=this.hmac(this.encode(i),this.encode(this.secret),"sha512");a={Key:this.apiKey,Sign:d,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.BadRequest,d=s.OrderNotFound,f=s.InvalidOrder,l=s.InvalidNonce,h=s.InsufficientFunds,p=s.AuthenticationError,m=s.PermissionDenied,v=s.NotSupported,b=s.OnMaintenance,g=s.RateLimitExceeded,y=s.ExchangeNotAvailable,w=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:{public:"https://api.gemini.com",private:"https://api.gemini.com",web:"https://docs.gemini.com"},www:"https://gemini.com/",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:{public:"https://api.sandbox.gemini.com",private:"https://api.sandbox.gemini.com",web:"https://docs.gemini.com"},fees:["https://gemini.com/api-fee-schedule","https://gemini.com/trading-fees","https://gemini.com/transfer-fees"]},api:{web:{get:["rest-api"]},public:{get:["v1/symbols","v1/pricefeed","v1/pubticker/{symbol}","v1/book/{symbol}","v1/trades/{symbol}","v1/auction/{symbol}","v1/auction/{symbol}/history","v2/candles/{symbol}/{timeframe}","v2/ticker/{symbol}"]},private:{post:["v1/order/new","v1/order/cancel","v1/order/cancel/session","v1/order/cancel/all","v1/order/status","v1/orders","v1/mytrades","v1/notionalvolume","v1/tradevolume","v1/transfers","v1/balances","v1/deposit/{currency}/newAddress","v1/withdraw/{currency}","v1/heartbeat","v1/transfers"]}},precisionMode:w,fees:{trading:{taker:.0035,maker:.001}},httpExceptions:{400:u,403:m,404:d,406:h,429:g,500:o,502:y,503:b},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1hr","6h":"6hr","1d":"1day"},exceptions:{exact:{AuctionNotOpen:u,ClientOrderIdTooLong:u,ClientOrderIdMustBeString:u,ConflictingOptions:u,EndpointMismatch:u,EndpointNotFound:u,IneligibleTiming:u,InsufficientFunds:h,InvalidJson:u,InvalidNonce:l,InvalidOrderType:f,InvalidPrice:f,InvalidQuantity:f,InvalidSide:f,InvalidSignature:p,InvalidSymbol:u,InvalidTimestampInPayload:u,Maintenance:b,MarketNotOpen:f,MissingApikeyHeader:p,MissingOrderField:f,MissingRole:p,MissingPayloadHeader:p,MissingSignatureHeader:p,NoSSL:p,OptionsMustBeArray:u,OrderNotFound:d,RateLimit:g,System:o,UnsupportedOption:u},broad:{"The Gemini Exchange is currently undergoing maintenance.":b,"We are investigating technical issues with the Gemini Exchange.":y}},options:{fetchMarketsMethod:"fetch_markets_from_web",fetchTickerMethod:"fetchTickerV1"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.safeValue(t.options,"fetchMarketsMethod","fetch_markets_from_api"),r.next=3,t[a](e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}fetchMarketsFromWeb(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.webGetRestApi(e);case 2:if(a=r.sent,i=a.split('<h1 id="symbols-and-minimums">Symbols and minimums</h1>'),s=i.length,o=t.id+" the "+t.name+" API doc HTML markup has changed, breaking the parser of order limits and precision info for "+t.name+" markets.",2===s){r.next=8;break}throw new v(o);case 8:if(c=i[1].split("tbody>"),!(c.length<2)){r.next=12;break}throw new v(o);case 12:if(u=c[1].split("\n<tr>\n"),!((d=u.length)<2)){r.next=16;break}throw new v(o);case 16:f=[],l=1;case 18:if(!(l<d)){r.next=45;break}if(h=u[l],p=h.split("</td>\n"),!(p.length<5)){r.next=24;break}throw new v(o);case 24:m=p[0].replace("<td>",""),b=p[1].replace("<td>",""),g=b.split(" "),y=t.safeFloat(g,0),w=p[2].replace("<td>",""),k=w.split(" "),x=t.safeFloat(k,0),_=m.length-0,S=m.slice(_-3,_),T=t.safeCurrencyCode(S),O=p[3].replace("<td>",""),A=O.split(" "),M=t.safeFloat(A,0),E=m.replace(S,""),C=t.safeCurrencyCode(E),I=C+"/"+T,void 0,f.push({id:m,info:h,symbol:I,base:C,quote:T,baseId:E,quoteId:S,active:void 0,precision:{amount:x,price:M},limits:{amount:{min:y,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}});case 42:l++,r.next=18;break;case 45:return r.abrupt("return",f);case 46:case"end":return r.stop()}}),r)})))()}fetchMarketsFromAPI(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetV1Symbols(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=o,u=o.length-0,d=o.slice(0,u-3),f=o.slice(u-3,u),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={amount:void 0,price:void 0},i.push({id:o,info:c,symbol:p,base:l,quote:h,baseId:d,quoteId:f,precision:m,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.limit_bids=t,s.limit_asks=t),n.next=6,i.publicGetV1BookSymbol(i.extend(s,r));case 6:return o=n.sent,n.abrupt("return",i.parseOrderBook(o,void 0,"bids","asks","price","amount"));case 8:case"end":return n.stop()}}),a)})))()}fetchTickerV1(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetV1PubtickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickerV2(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetV2TickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickerV1AndV2(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickerV1(e,t);case 2:return i=n.sent,n.next=5,r.fetchTickerV2(e,t);case 5:return s=n.sent,n.abrupt("return",r.deepExtend(i,{open:s.open,high:s.high,low:s.low,change:s.change,percentage:s.percentage,average:s.average,info:s.info}));case 7:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.safeValue(r.options,"fetchTickerMethod","fetchTickerV1"),n.next=3,r[i](e,t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeValue(e,"volume",{}),n=this.safeInteger(r,"timestamp"),a=void 0,i=this.safeString(e,"pair"),s=void 0,o=void 0;void 0!==i&&(i in this.markets_by_id?t=this.markets_by_id[i]:(7===i.length-0?(s=i.slice(0,4),o=i.slice(4,7)):(s=i.slice(0,3),o=i.slice(3,6)),a=this.safeCurrencyCode(s)+"/"+this.safeCurrencyCode(o)));void 0===a&&void 0!==t&&(a=t.symbol,s=t.baseId.toUpperCase(),o=t.quoteId.toUpperCase(),t.base,t.quote);var c=this.safeFloat(e,"price"),u=this.safeFloat2(e,"last","close",c),d=this.safeFloat(e,"percentChange24h"),f=void 0,l=this.safeFloat(e,"open"),h=void 0;void 0!==u&&(void 0!==l?(f=u-l,0!==l&&(d=f/l*100),h=this.sum(u,l)/2):void 0!==d&&(f=u*d,void 0===l&&(l=u-f),h=this.sum(u,l)/2));var p=this.safeFloat(r,s),m=this.safeFloat(r,o),v=this.vwap(p,m);return{symbol:a,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:v,open:l,close:u,last:u,previousClose:void 0,change:f,percentage:d,average:h,baseVolume:p,quoteVolume:m,info:e}}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetV1Pricefeed(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger(e,"timestampms"),n=this.safeString(e,"tid"),a=this.safeString(e,"order_id"),i=this.safeString(e,"fee_currency"),s=this.safeCurrencyCode(i),o={cost:this.safeFloat(e,"fee_amount"),currency:s},c=this.safeFloat(e,"price"),u=this.safeFloat(e,"amount"),d=void 0;void 0!==c&&void 0!==u&&(d=c*u);var f=this.safeStringLower(e,"type"),l=this.safeSymbol(void 0,t);return{id:n,order:a,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,side:f,takerOrMaker:void 0,price:c,cost:d,amount:u,fee:o}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetV1TradesSymbol(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostV1Balances(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),(d=t.account()).free=t.safeFloat(o,"available"),d.total=t.safeFloat(o,"amount"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=this.safeInteger(e,"timestampms"),n=this.safeFloat(e,"original_amount"),a=this.safeFloat(e,"remaining_amount"),i=this.safeFloat(e,"executed_amount"),s="closed";e.is_live&&(s="open"),e.is_cancelled&&(s="canceled");var o=this.safeFloat(e,"price"),c=this.safeFloat(e,"avg_execution_price"),u=void 0;void 0!==i&&void 0!==c&&(u=i*c);var d=this.safeString(e,"type");d="exchange limit"===d?"limit":"market buy"===d||"market sell"===d?"market":e.type;var f=this.safeString(e,"symbol"),l=this.safeSymbol(f,t),h=this.safeString(e,"order_id"),p=this.safeStringLower(e,"side");return{id:h,clientOrderId:this.safeString(e,"client_order_id"),info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:s,symbol:l,type:d,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:void 0,average:c,cost:u,amount:n,filled:i,remaining:a,fee:void 0,trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privatePostV1OrderStatus(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.privatePostV1Orders(i);case 4:return o=n.sent,c=void 0,void 0!==e&&(c=s.market(e)),n.abrupt("return",s.parseOrders(o,c,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("market"!==t){n.next=4;break}throw new o(u.id+" allows limit orders only");case 4:return d=u.nonce(),f={client_order_id:d.toString(),symbol:u.marketId(e),amount:i.toString(),price:s.toString(),side:r,type:"exchange limit"},n.next=8,u.privatePostV1OrderNew(u.extend(f,c));case 8:return l=n.sent,n.abrupt("return",{info:l,id:l.order_id});case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privatePostV1OrderCancel(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={symbol:o.id},void 0!==r&&(u.limit_trades=r),void 0!==t&&(u.timestamp=parseInt(t/1e3)),n.next=10,s.privatePostV1Mytrades(s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return i=o.currency(e),c={currency:i.id,amount:t,address:r},n.next=7,o.privatePostV1WithdrawCurrency(o.extend(c,s));case 7:return u=n.sent,n.abrupt("return",{info:u,id:o.safeString(u,"txHash")});case 9:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var a,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return a={},void 0!==r&&(a.limit_transfers=r),void 0!==t&&(a.timestamp=t),e.next=7,s.privatePostV1Transfers(s.extend(a,i));case 7:return o=e.sent,e.abrupt("return",s.parseTransactions(o));case 9:case"end":return e.stop()}}),e)})))()}parseTransaction(e,t){var r=this.safeInteger(e,"timestampms"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n,t),i=this.safeString(e,"destination"),s=this.safeStringLower(e,"type"),o="pending";e.status&&(o="ok");var c=void 0,u=this.safeFloat(e,"feeAmount");return void 0!==u&&(c={cost:u,currency:a}),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:r,datetime:this.iso8601(r),address:i,tag:void 0,type:s,amount:this.safeFloat(e,"amount"),currency:a,status:o,updated:void 0,fee:c}}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce(),u=this.extend({request:s,nonce:c},o),d=this.json(u);d=this.stringToBase64(d);var f=this.hmac(d,this.encode(this.secret),"sha384");a={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(d),"X-GEMINI-SIGNATURE":f}}else Object.keys(o).length&&(s+="?"+this.urlencode(o));return{url:s=this.urls.api[t]+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){if("error"===this.safeString(s,"result")){var d=this.safeString(s,"reason"),f=this.safeString(s,"message"),l=this.id+" "+f;throw this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new o(l)}}else if("string"===typeof i){var h=this.id+" "+i;this.throwBroadlyMatchedException(this.exceptions.broad,i,h)}}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostV1DepositCurrencyNewAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o,"address"),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:void 0,info:o});case 10:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={timeframe:o.timeframes[t],symbol:c.id},n.next=6,o.publicGetV2CandlesSymbolTimeframe(o.extend(u,s));case 6:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 8:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.InvalidOrder,u=s.AuthenticationError,d=s.InsufficientFunds,f=s.BadSymbol,l=s.OrderNotFound,h=s.InvalidAddress,p=s.BadRequest,m=r(16),v=m.TRUNCATE,b=m.ROUND,g=m.TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"gopax",name:"GOPAX",countries:["KR"],version:"v1",rateLimit:50,hostname:"gopax.co.kr",certified:!0,pro:!0,has:{cancelOrder:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDepositAddresses:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1d":"1440"},urls:{logo:"https://user-images.githubusercontent.com/1294454/102897212-ae8a5e00-4478-11eb-9bab-91507c643900.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.gopax.co.kr",doc:"https://gopax.github.io/API/index.en.html",fees:"https://www.gopax.com/feeinfo"},api:{public:{get:["notices","assets","price-tick-size","trading-pairs","trading-pairs/{tradingPair}/ticker","trading-pairs/{tradingPair}/book","trading-pairs/{tradingPair}/trades","trading-pairs/{tradingPair}/stats","trading-pairs/{tradingPair}/price-tick-size","trading-pairs/stats","trading-pairs/{tradingPair}/candles","time"]},private:{get:["balances","balances/{assetName}","orders","orders/{orderId}","orders/clientOrderId/{clientOrderId}","trades","deposit-withdrawal-status","crypto-deposit-addresses","crypto-withdrawal-addresses"],post:["orders"],delete:["orders/{orderId}","orders/clientOrderId/{clientOrderId}"]}},fees:{trading:{percentage:!0,tierBased:!1,maker:4e-4,taker:4e-4}},exceptions:{broad:{ERROR_INVALID_ORDER_TYPE:c,ERROR_INVALID_AMOUNT:c,ERROR_INVALID_TRADING_PAIR:f,"No such order ID":l,"Forbidden order type":c,"the client order ID will be reusable which order has already been completed or canceled":c,ERROR_NO_SUCH_TRADING_PAIR:f,ERROR_INVALID_ORDER_SIDE:c,ERROR_NOT_HEDGE_TOKEN_USER:c,ORDER_EVENT_ERROR_NOT_ALLOWED_BID_ORDER:c,ORDER_EVENT_ERROR_INSUFFICIENT_BALANCE:d,"Invalid option combination":c,"No such client order ID":l},exact:{100:f,101:f,103:c,104:f,105:f,106:f,107:c,108:c,111:c,201:d,202:c,203:c,204:c,205:c,206:c,10004:u,10041:p,10056:p,10057:f,10059:f,10062:p,10069:l,10155:u,10166:p,10212:c,10221:l,10222:c,10223:c,10227:c,10319:p,10358:c,10359:c,10360:c,10361:c,10362:c,10363:c}},options:{createMarketBuyOrderRequiresPrice:!0}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"serverTime"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,y,w,k,x,_,S;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTradingPairs(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"name"),u=t.safeInteger(o,"id"),d=t.safeString(o,"baseAsset"),f=t.safeString(o,"quoteAsset"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={price:t.safeInteger(o,"quoteAssetScale"),amount:t.safeInteger(o,"baseAssetScale")},v=t.safeValue(o,"restApiOrderAmountMin",{}),y=t.safeValue(v,"marketAsk",{}),w=t.safeValue(v,"marketBid",{}),k=t.safeFloat(o,"takerFeePercent"),x=t.safeFloat(o,"makerFeePercent"),_=parseFloat(t.decimalToPrecision(k/100,b,1e-8,g)),S=parseFloat(t.decimalToPrecision(x/100,b,1e-8,g)),i.push({id:c,info:o,numericId:u,symbol:p,base:l,quote:h,baseId:t.safeString(o,"baseAsset"),quoteId:t.safeString(o,"quoteAsset"),active:!0,taker:_,maker:S,precision:m,limits:{amount:{min:t.safeFloat(y,"amount"),max:void 0},price:{min:t.safeFloat(o,"priceMin"),max:void 0},cost:{min:t.safeFloat(w,"amount"),max:void 0}}});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"id"),u=t.safeCurrencyCode(c),d=t.safeString(o,"name"),f=t.safeFloat(o,"withdrawalFee"),l=t.safeFloat(o,"scale"),i[u]={id:c,info:o,code:u,name:d,active:!0,fee:f,precision:l,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"withdrawalAmountMin"),max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={tradingPair:a.id},t.next=6,i.publicGetTradingPairsTradingPairBook(i.extend(s,r));case 6:return o=t.sent,c=i.safeInteger(o,"sequence"),(u=i.parseOrderBook(o,void 0,"bid","ask",1,2)).nonce=c,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.safeString(e,"name"),n=this.safeSymbol(r,t,"-"),a=this.parse8601(this.safeString(e,"time")),i=this.safeFloat(e,"open"),s=this.safeFloat2(e,"price","close"),o=void 0,c=void 0,u=void 0;void 0!==s&&void 0!==i&&(u=this.sum(s,i)/2,o=s-i,i>0&&(c=o/i*100));var d=this.safeFloat(e,"volume"),f=this.safeFloat(e,"quoteVolume"),l=this.vwap(d,f);return{symbol:n,info:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:this.safeFloat(e,"bidVolume"),ask:this.safeFloat(e,"ask"),askVolume:this.safeFloat(e,"askVolume"),vwap:l,open:i,close:s,last:s,previousClose:void 0,change:o,percentage:c,average:u,baseVolume:d,quoteVolume:f}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={tradingPair:i.id},n.next=6,r.publicGetTradingPairsTradingPairTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTradingPairsStats(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parsePublicTrade(e,t){var r=this.parse8601(this.safeString(e,"time")),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=void 0;return"symbol"in t&&(i=this.safeString(t,"symbol")),{info:e,id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:void 0,side:this.safeString(e,"side"),takerOrMaker:void 0,price:n,amount:a,cost:n*a,fee:void 0}}parsePrivateTrade(e,t){var r=this.parse8601(this.safeString(e,"timestamp")),n=this.safeString(e,"tradingPairName").replace("-","/"),a=this.safeString(e,"side"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"baseAmount"),o=n.slice(0,3);"sell"===a&&(o=n.slice(4));var c={cost:this.safeFloat(e,"fee"),currency:o,rate:void 0};return{info:e,id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),symbol:n,order:this.safeInteger(e,"orderId"),type:void 0,side:a,takerOrMaker:this.safeString(e,"position"),price:i,amount:s,cost:i*s,fee:c}}parseTrade(e,t){var r=this.safeString2(e,"id","tradeId"),n=this.safeInteger(e,"orderId"),a=this.parse8601(this.safeString2(e,"time","timestamp"));a=this.safeTimestamp(e,"occuredAt",a);var i=this.safeString(e,"tradingPairName"),s=(t=this.safeMarket(i,t,"-")).symbol,o=this.safeString(e,"side");"1"===o?o="buy":"2"===o&&(o="sell");var c=this.safeString(e,"type");"1"===c?c="limit":"2"===c&&(c="market");var u=this.safeFloat(e,"price"),d=this.safeFloat2(e,"amount","baseAmount"),f=this.safeFloat(e,"quoteAmount");void 0===f&&void 0!==u&&void 0!==d&&(f=u*d);var l=this.safeFloat(e,"fee"),h=void 0;void 0!==l&&(h={cost:l,currency:t.base});var p=this.safeString(e,"position");return{info:e,id:r,timestamp:a,datetime:this.iso8601(a),symbol:s,order:n,type:void 0,side:o,takerOrMaker:p,price:u,amount:d,cost:f,fee:h}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={tradingPair:o.id},void 0!==t&&(c.after=parseInt(t/1e3)),void 0!==r&&(c.limit=r),n.next=8,s.publicGetTradingPairsTradingPairTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,3),this.safeFloat(e,2),this.safeFloat(e,1),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),i=void 0===i?1024:i,u={tradingPair:c.id,interval:o.timeframes[t]},d=o.parseTimeframe(t),void 0===r?(f=o.milliseconds(),u.end=f,u.start=f-i*d*1e3):(u.start=r,u.end=o.sum(r,i*d*1e3)),n.next=9,o.publicGetTradingPairsTradingPairCandles(o.extend(u,s));case 9:return l=n.sent,n.abrupt("return",o.parseOHLCVs(l,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}parseBalanceResponse(e){for(var t={info:e},r=0;r<e.length;r++){var n=e[r],a=this.safeString2(n,"asset","isoAlpha3"),i=this.safeCurrencyCode(a),s=this.safeFloat(n,"hold"),o=this.safeFloat(n,"pendingWithdrawal"),c=this.account();c.free=this.safeFloat(n,"avail"),c.used=this.sum(s,o),t[i]=c}return this.parseBalance(t)}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalances(e);case 4:return a=r.sent,r.abrupt("return",t.parseBalanceResponse(a));case 6:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({placed:"open",cancelled:"canceled",completed:"closed",updated:"open",reserved:"open"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"clientOrderId"),a=this.parse8601(this.safeString(e,"createdAt")),i=this.safeString(e,"type"),s=this.safeString(e,"side"),o=this.safeStringUpper(e,"timeInForce"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"stopPrice"),f=this.safeFloat(e,"remaining"),l=this.safeString(e,"tradingPairName");t=this.safeMarket(l,t,"-");var h=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeValue(e,"balanceChange",{}),m=this.safeFloat(p,"baseNet"),v=this.safeFloat(p,"quoteNet");void 0!==v&&(v=Math.abs(v));var b=void 0;void 0===m&&void 0!==u&&void 0!==f&&(m=Math.max(0,u-f)),void 0!==m&&m>0&&(b=this.parse8601(this.safeString(e,"updatedAt"))),void 0===v&&void 0!==c&&void 0!==m&&(v=m*c);var g=void 0;if("buy"===s){var y=this.safeValue(p,"baseFee",{}),w=this.safeFloat(y,"taking"),k=this.safeFloat(y,"making");g={currency:t.base,cost:this.sum(w,k)}}else{var x=this.safeValue(p,"quoteFee",{}),_=this.safeFloat(x,"taking"),S=this.safeFloat(x,"making");g={currency:t.quote,cost:this.sum(_,S)}}var T=void 0;return void 0!==o&&(T="PO"===o),{id:r,clientOrderId:n,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:b,status:h,symbol:t.symbol,type:i,timeInForce:o,postOnly:T,side:s,price:c,stopPrice:d,average:void 0,amount:u,filled:m,remaining:f,cost:v,trades:void 0,fee:g,info:e}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=void 0,s=i.safeString(r,"clientOrderId"),r=i.omit(r,"clientOrderId"),o={},void 0===s?(a="privateGetOrdersOrderId",o.orderId=e):(a="privateGetOrdersClientOrderIdClientOrderId",o.clientOrderId=s),t.next=9,i[a](i.extend(o,r));case 9:return c=t.sent,t.abrupt("return",i.parseOrder(c));case 11:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={includePast:"true"},c=void 0,void 0!==e&&(c=s.market(e)),n.next=7,s.privateGetOrders(s.extend(o,i));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u,c,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={includePast:"false"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if(d=u.market(e),f={tradingPairName:d.id,side:r,type:t},"limit"!==t){n.next=9;break}f.price=u.priceToPrecision(e,s),f.amount=u.amountToPrecision(e,i),n.next=22;break;case 9:if("market"!==t){n.next=22;break}if("buy"!==r){n.next=21;break}if(l=i,!u.safeValue(u.options,"createMarketBuyOrderRequiresPrice",!0)){n.next=17;break}if(void 0!==s){n.next=16;break}throw new c(u.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");case 16:l=s*i;case 17:h=d.precision.price,f.amount=u.decimalToPrecision(l,v,h,u.precisionMode),n.next=22;break;case 21:f.amount=u.amountToPrecision(e,i);case 22:return void 0!==(p=u.safeString(o,"clientOrderId"))&&(f.clientOrderId=p,o=u.omit(o,"clientOrderId")),void 0!==(m=u.safeFloat(o,"stopPrice"))&&(f.stopPrice=u.priceToPrecision(e,m),o=u.omit(o,"stopPrice")),void 0!==(b=u.safeStringLower(o,"timeInForce"))&&(f.timeInForce=b,o=u.omit(o,"timeInForce")),n.next=30,u.privatePostOrders(u.extend(f,o));case 30:return g=n.sent,n.abrupt("return",u.parseOrder(g,d));case 32:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={},s=i.safeString(r,"clientOrderId"),o=void 0,void 0===s?(o="privateDeleteOrdersOrderId",a.orderId=e):(o="privateDeleteOrdersClientOrderIdClientOrderId",a.clientOrderId=s,r=i.omit(r,"clientOrderId")),t.next=8,i[o](i.extend(a,r));case 8:return c=t.sent,u=i.parseOrder(c),t.abrupt("return",i.extend(u,{id:e}));case 11:case"end":return t.stop()}}),t)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={deepSearch:"true"},void 0!==t&&(o.after=parseInt(t/1e3)),void 0!==r&&(o.limit=r),n.next=7,s.privateGetTrades(s.extend(o,i));case 7:return c=n.sent,u=void 0,void 0!==e&&(u=s.market(e)),n.abrupt("return",s.parseTrades(c,u,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"memoId"),a=this.safeString(e,"asset"),i=this.safeCurrencyCode(a);return this.checkAddress(r),{currency:i,address:r,tag:n,info:e}}parseDepositAddresses(e,t){for(var r=[],n=0;n<e.length;n++){var a=this.parseDepositAddress(e[n]);r.push(a)}return t&&(r=this.filterByArray(r,"currency",t)),this.indexBy(r,"currency")}fetchDepositAddresses(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.privateGetCryptoDepositAddresses(t);case 4:return i=n.sent,n.abrupt("return",r.parseDepositAddresses(i,e));case 6:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.fetchDepositAddresses(void 0,t);case 4:if(i=n.sent,void 0!==(s=r.safeValue(i,e))){n.next=8;break}throw new h(r.id+" fetchDepositAddress() "+e+" address not found");case 8:return n.abrupt("return",s);case 9:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({reviewing:"pending",rejected:"rejected",processing:"pending",failed:"failed",completed:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"txId"),a=this.safeString(e,"asset"),i=this.safeCurrencyCode(a,t),s=this.safeString(e,"type");"crypto_withdrawal"===s||"fiat_withdrawal"===s?s="withdrawal":"crypto_deposit"!==s&&"fiat_deposit"!==s||(s="deposit");var o=this.safeFloat(e,"netAmount"),c=this.safeFloat(e,"feeAmount"),u=void 0;void 0!==c&&(u={cost:c,currency:i});var d=this.safeTimestamp(e,"reviewStartedAt"),f=this.safeTimestamp(e,"completedAt"),l=this.safeString(e,"sourceAddress"),h=this.safeString(e,"destinationAddress"),p=this.safeString(e,"sourceMemoId"),m=this.safeString(e,"destinationMemoId"),v=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:r,txid:n,timestamp:d,datetime:this.iso8601(d),addressFrom:l,address:h,addressTo:h,tagFrom:p,tag:m,tagTo:m,type:s,amount:o,currency:i,status:v,updated:f,comment:void 0,fee:u}}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.before=t),void 0!==r&&(o.limit=r),n.next=7,s.privateGetDepositWithdrawalStatus(s.extend(o,i));case 7:return c=n.sent,u=void 0,void 0!==e&&(u=s.currency(e)),n.abrupt("return",s.parseTransactions(c,u,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+s,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="t"+u+r+s;if(a={"api-key":this.apiKey,timestamp:u},"POST"===r)a["Content-Type"]="application/json",d+=i=this.json(n);else if("/orders"===s){if(Object.keys(c).length){var f="?"+this.urlencode(c);d+=f,o+=f}}else"GET"===r&&Object.keys(c).length&&(o+="?"+this.urlencode(c));var l=this.base64ToBinary(this.secret),h=this.hmac(this.encode(d),l,"sha512","base64");a.signature=h}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&!Array.isArray(s)){var d=this.safeString(s,"errorCode"),f=this.safeString(s,"errorMessage"),l=this.id+" "+i;if(void 0!==f&&this.throwBroadlyMatchedException(this.exceptions.broad,i,l),void 0!==d&&this.throwExactlyMatchedException(this.exceptions.exact,d,l),void 0!==d||void 0!==f)throw new o(l)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeError,u=s.OrderNotFound,d=s.ArgumentsRequired,f=s.BadSymbol,l=s.BadRequest,h=s.NullResponse,p=s.InvalidOrder,m=s.BadResponse,v=s.NotSupported,b=s.ExchangeNotAvailable,g=s.RequestTimeout,y=s.RateLimitExceeded,w=s.PermissionDenied,k=s.InsufficientFunds,x=s.InvalidAddress,_=r(16),S=_.TICK_SIZE,T=_.TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"hbtc",name:"HBTC",countries:["CN"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchBidAsk:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/51840849/80134449-70663300-85a7-11ea-8942-e204cdeaab5d.jpg",api:{quote:"https://api.hbtc.com/openapi/quote",contract:"https://api.hbtc.com/openapi/contract",option:"https://api.hbtc.com/openapi/option",public:"https://api.hbtc.com/openapi",private:"https://api.hbtc.com/openapi",zendesk:"https://hbtc.zendesk.com/hc/en-us"},www:"https://www.hbtc.com",referral:"https://www.hbtc.com/register/O2S8NS",doc:"https://github.com/bhexopen/BHEX-OpenApi/tree/master/doc",fees:"https://hbtc.zendesk.com/hc/zh-cn/articles/360009274694"},api:{public:{get:["ping","time","brokerInfo","getOptions"]},quote:{get:["depth","depth/merged","trades","klines","ticker/24hr","ticker/price","ticker/bookTicker","contract/index","contract/depth","contract/depth/merged","contract/trades","contract/klines","contract/ticker/24hr","option/index","option/depth","option/depth/merged","option/trades","option/klines","option/ticker/24hr"]},contract:{get:["insurance","fundingRate","openOrders","historyOrders","getOrder","myTrades","positions","account"],post:["order","modifyMargin"],delete:["order/cancel","order/batchCancel"]},option:{get:["openOrders","positions","historyOrders","myTrades","settlements","account"],post:["order"],delete:["order/cancel"]},private:{get:["order","openOrders","historyOrders","account","myTrades","depositOrders","withdrawalOrders","withdraw/detail","balance_flow"],post:["order","order/test","userDataStream","subAccount/query","transfer","user/transfer","withdraw"],put:["userDataStream"],delete:["order","userDataStream"]}},precisionMode:S,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},exceptions:{exact:{"-1000":c,"-1001":c,"-1002":o,"-1003":y,"-1004":l,"-1005":w,"-1006":m,"-1007":g,"-1014":p,"-1015":y,"-1016":b,"-1020":v,"-1021":l,"-1022":o,"-1100":l,"-1101":l,"-1102":l,"-1103":l,"-1104":l,"-1105":l,"-1106":l,"-1111":l,"-1112":h,"-1114":p,"-1115":p,"-1116":p,"-1117":p,"-1118":p,"-1119":p,"-1120":l,"-1121":f,"-1125":o,"-1127":l,"-1128":l,"-1130":l,"-1131":k,"-1132":p,"-1133":p,"-1134":p,"-1135":p,"-1136":p,"-1137":p,"-1138":p,"-1139":p,"-1140":p,"-1141":p,"-1142":p,"-1143":u,"-1144":p,"-1145":p,"-1146":g,"-1147":g,"-1149":p,"-1187":x,"-2010":p,"-2011":p,"-2013":u,"-2014":o,"-2015":o,"-2016":c}},options:{fetchTickers:{method:"quoteGetTicker24hr"}}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"serverTime"));case 4:case"end":return r.stop()}}),r)})))()}parseMarket(e,t="spot"){var r=this.safeValue(e,"filters",[]),n=this.safeString(e,"symbol"),a=this.safeString(e,"baseAsset"),i=this.safeString(e,"quoteAsset"),s=this.safeCurrencyCode(a),o=this.safeCurrencyCode(i),c=s+"/"+o,u=!0,d=!1,f=!1,l=!1;"future"===t?(c=n,u=!1,d=!0,l=this.safeValue(e,"inverse",!1),a=this.safeString(e,"underlying"),s=this.safeCurrencyCode(a)):"option"===t&&(c=n,u=!1,f=!0);for(var h=void 0,p=void 0,m=void 0,v=void 0,b=void 0,g=0;g<r.length;g++){var y=r[g],w=this.safeString(y,"filterType");"LOT_SIZE"===w&&(h=this.safeFloat(y,"minQty"),p=this.safeFloat(y,"maxQty")),"PRICE_FILTER"===w&&(m=this.safeFloat(y,"minPrice"),v=this.safeFloat(y,"maxPrice")),"MIN_NOTIONAL"===w&&(b=this.safeFloat(y,"minNotional"))}return void 0===b&&void 0!==h&&void 0!==m&&(b=h*m),{id:n,symbol:c,base:s,quote:o,baseId:a,quoteId:i,active:!0,type:t,spot:u,future:d,option:f,inverse:l,precision:{price:this.safeFloat2(e,"quotePrecision","quoteAssetPrecision"),amount:this.safeFloat(e,"baseAssetPrecision")},limits:{amount:{min:h,max:p},price:{min:m,max:v},cost:{min:b,max:void 0}},info:e}}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetBrokerInfo(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"symbols",[]),o=0;o<s.length;o++)c=t.parseMarket(s[o],"spot"),i.push(c);for(u=t.safeValue(a,"options",[]),d=0;d<u.length;d++)f=t.parseMarket(u[d],"option"),i.push(f);for(l=t.safeValue(a,"contracts",[]),h=0;h<l.length;h++)p=t.parseMarket(l[h],"future"),i.push(p);return r.abrupt("return",i);case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id},void 0!==t&&(o.limit=t),n.next=7,i.quoteGetDepth(i.extend(o,r));case 7:return c=n.sent,u=i.safeInteger(c,"time"),n.abrupt("return",i.parseOrderBook(c,u));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.quoteGetTicker24hr(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchBidAsk(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.quoteGetTickerBookTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchBidsAsks(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.quoteGetTickerBookTicker(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeValue(r.options,"fetchTickers",{}),s=r.safeString(i,"method","quoteGetTicker24hr"),o=r.safeString(i,"type","spot"),c=r.safeString(t,"type",o),u=r.omit(t,"type"),d=s,"future"===c?d="quoteGetContractTicker24hr":"option"===c&&(d="quoteGetOptionTicker24hr"),n.next=11,r[d](u);case 11:return f=n.sent,n.abrupt("return",r.parseTickers(f,e));case 13:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return a=t.safeValue(t.options,"fetchBalance",{}),i=t.safeString(a,"type","spot"),s=t.safeString(e,"type",i),o=t.omit(e,"type"),c="privateGetAccount","future"===s?c="contractGetAccount":"option"===s&&(c="optionGetAccount"),r.next=10,t[c](o);case 10:if(u=r.sent,d=t.safeValue(u,"balances"),f={info:u},void 0!==d)for(l=0;l<d.length;l++)h=d[l],p=t.safeString2(h,"asset","tokenName"),m=t.safeCurrencyCode(p),(v=t.account()).free=t.safeFloat(h,"free"),v.used=t.safeFloat(h,"locked"),f[m]=v;else for(b=Object.keys(u),g=0;g<b.length;g++)y=b[g],w=t.safeCurrencyCode(y),k=u[y],(x=t.account()).free=t.safeFloat(k,"availableMargin"),x.total=t.safeFloat(k,"total"),f[w]=x;return r.abrupt("return",t.parseBalance(f));case 15:case"end":return r.stop()}}),r)})))()}fetchTrades(e,t,r=50,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),n.next=7,s.quoteGetTrades(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,interval:o.timeframes[t]},void 0!==r&&(u.startTime=r),void 0!==i&&(u.limit=i),n.next=8,o.quoteGetKlines(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=void 0,c={},u=s.safeString(s.options,"type","spot"),f=s.safeValue(s.options,"fetchMyTrades",{}),l=s.safeString(f,"type",u),h=s.safeString(i,"type",l),void 0!==e&&(o=s.market(e),c.symbol=o.id,h=o.type),p=s.omit(i,"type"),void 0!==r&&(c.limit=r),m="privateGetMyTrades","future"!==h){n.next=16;break}m="contractGetMyTrades",n.next=25;break;case 16:if("option"!==h){n.next=20;break}m="optionGetMyTrades",n.next=25;break;case 20:if(void 0!==e){n.next=22;break}throw new d(s.id+" fetchMyTrades() requires a `symbol` argument for "+h+" markets");case 22:v=s.market(e),c.symbol=v.id,void 0!==t&&(c.startTime=t);case 25:return void 0!==t&&(c.startTime=t),n.next=28,s[m](s.extend(c,p));case 28:return b=n.sent,n.abrupt("return",s.parseTrades(b,o,t,r));case 30:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,f,l,h,m,b,g,y,w,k,x,_;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),f=r.toUpperCase(),l=t.toUpperCase(),h={symbol:u.id,side:f},m=o,b="privatePostOrder","future"!==u.type){n.next=28;break}if("BUY_OPEN"===f||"SELL_OPEN"===f||"BUY_CLOSE"===f||"SELL_CLOSE"===f){n.next=11;break}throw new v(c.id+" createOrder() does not support order side "+r+" for "+u.type+" markets, only BUY_OPEN, SELL_OPEN, BUY_CLOSE and SELL_CLOSE are supported");case 11:if("LIMIT"===l||"STOP"===l){n.next=13;break}throw new v(c.id+" createOrder() does not support order type "+t+" for "+u.type+" markets, only LIMIT and STOP are supported");case 13:if(void 0!==(g=c.safeValue(o,"clientOrderId"))){n.next=16;break}throw new d(c.id+" createOrder() requires a clientOrderId parameter for "+u.type+" markets, supply clientOrderId in the params argument");case 16:if(void 0!==(y=c.safeValue(o,"leverage"))||"BUY_OPEN"!==f&&"SELL_OPEN"!==f){n.next=19;break}throw new v(c.id+" createOrder() requires a leverage parameter for "+u.type+" markets if orderSide is BUY_OPEN or SELL_OPEN");case 19:b="contractPostOrder",void 0===(w=c.safeString(o,"priceType"))?h.price=c.priceToPrecision(e,s):(h.priceType=w,"INPUT"===w&&(h.price=c.priceToPrecision(e,s))),h.orderType=t.toUpperCase(),h.quantity=c.amountToPrecision(e,i),h.leverage=y,h.clientOrderId=g,n.next=51;break;case 28:if("option"===u.type&&(b="optionPostOrder"),void 0!==(k=c.safeValue2(o,"clientOrderId","newClientOrderId"))&&(h.newClientOrderId=k),h.type=l,"limit"!==t){n.next=37;break}h.price=c.priceToPrecision(e,s),h.quantity=c.amountToPrecision(e,i),n.next=51;break;case 37:if("market"!==t){n.next=51;break}if("buy"!==r){n.next=50;break}if(!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){n.next=46;break}if(void 0===s){n.next=45;break}i*=s,n.next=46;break;case 45:throw new p(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument (the exchange-specific behaviour)");case 46:x=u.precision.price,h.quantity=c.decimalToPrecision(i,T,x,c.precisionMode),n.next=51;break;case 50:h.quantity=c.amountToPrecision(e,i);case 51:return m=c.omit(m,["clientOrderId","newClientOrderId"]),n.next=54,c[b](c.extend(h,m));case 54:return _=n.sent,n.abrupt("return",c.parseOrder(_,u));case 56:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,f,l,h,p,m;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:if(a=i.safeValue2(r,"origClientOrderId","clientOrderId"),s={},o=i.safeString(i.options,"type","spot"),c=i.safeValue(i.options,"cancelOrder",{}),u=i.safeString(c,"type",o),f=i.safeString(r,"type",u),l=i.omit(r,"type"),void 0!==a?(s.origClientOrderId=a,l=i.omit(l,["origClientOrderId","clientOrderId"])):s.orderId=e,h="privateDeleteOrder",void 0!==(p=i.safeString(l,"orderType"))&&(f="future"),"future"!==f){t.next=20;break}if(h="contractDeleteOrderCancel",void 0!==p){t.next=17;break}throw new d(i.id+" cancelOrder() requires an orderType parameter, pass the { 'orderType': 'LIMIT' } or { 'orderType': 'STOP' } in params argument");case 17:s.orderType=p,t.next=21;break;case 20:"option"===f&&(h="optionDeleteOrderCancel");case 21:return t.next=23,i[h](i.extend(s,l));case 23:return m=t.sent,t.abrupt("return",i.parseOrder(m));case 25:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},u=s.safeString(s.options,"type","spot"),d=s.safeValue(s.options,"fetchOpenOrders",{}),f=s.safeString(d,"type",u),l=s.safeString(i,"type",f),void 0!==e&&(o=s.market(e),c.symbol=o.id,l=o.type),h=s.omit(i,"type"),void 0!==r&&(c.limit=r),p="privateGetOpenOrders","future"===l?p="contractGetOpenOrders":"option"===l&&(p="optionGetOpenOrders"),n.next=15,s[p](s.extend(c,h));case 15:return m=n.sent,n.abrupt("return",s.parseOrders(m,o,t,r));case 17:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},u=s.safeString(s.options,"type","spot"),d=s.safeValue(s.options,"fetchClosedOrders",{}),f=s.safeString(d,"type",u),l=s.safeString(i,"type",f),void 0!==e&&(o=s.market(e),c.symbol=o.id,l=o.type),h=s.omit(i,"type"),void 0!==r&&(c.limit=r),void 0!==t&&(c.startTime=t),p="privateGetHistoryOrders","future"===l?p="contractGetHistoryOrders":"option"===l&&(p="optionGetHistoryOrders"),n.next=16,s[p](s.extend(c,h));case 16:return m=n.sent,n.abrupt("return",s.parseOrders(m,o,t,r));case 18:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,f,l,h;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.safeValue2(r,"origClientOrderId","clientOrderId"),s={},o=i.safeString(i.options,"type","spot"),c=i.safeValue(i.options,"fetchOrder",{}),u=i.safeString(c,"type",o),d=i.safeString(r,"type",u),f=i.omit(r,"type"),void 0!==a?(s.origClientOrderId=a,f=i.omit(f,["origClientOrderId","clientOrderId"])):s.orderId=e,l="privateGetOrder","future"===d?l="contractGetGetOrder":"option"===d&&(l="optionGetGetOrder"),t.next=14,i[l](i.extend(s,f));case 14:return h=t.sent,t.abrupt("return",i.parseOrder(h));case 16:case"end":return t.stop()}}),t)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e)),void 0!==t&&(c.startTime=t),void 0!==r&&(c.limit=r),n.next=9,s.privateGetDepositOrders(s.extend(c,i));case 9:return u=n.sent,n.abrupt("return",s.parseTransactions(u,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.token=o.id),void 0!==t&&(c.startTime=t),void 0!==r&&(c.limit=r),n.next=9,s.privateGetWithdrawalOrders(s.extend(c,i));case 9:return u=n.sent,n.abrupt("return",s.parseTransactions(u,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u=o.safeString(s,"clientOrderId",o.uuid()),d={clientOrderId:u,tokenId:c.id,address:r,withdrawQuantity:t},void 0!==i&&(d.addressExt=i),n.next=9,o.privatePostWithdraw(o.extend(d,s));case 9:return f=n.sent,n.abrupt("return",{info:f,id:o.safeString(f,"orderId")});case 11:case"end":return n.stop()}}),a)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privatePostSubAccountQuery(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"accountId"),u=t.safeString(o,"accountType"),d=u,"1"===u?d="spot":"2"===u?d="option":"3"===u&&(d="future"),i.push({id:c,type:d,currency:void 0,info:o});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={accountType:1,accountIndex:0,fromFlowId:"",endFlowId:"",endTime:1588450533040},c=void 0,void 0!==e&&(c=s.currency(e),o.tokenId=c.id),void 0!==t&&(o.startTime=t),void 0!==r&&(o.limit=r),n.next=9,s.privateGetBalanceFlow(s.extend(o,i));case 9:return u=n.sent,n.abrupt("return",s.parseLedger(u,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseLedgerEntry(e,t){var r=this.safeString(e,"tokenId"),n=this.safeCurrencyCode(r,t),a=this.safeFloat(e,"change"),i=this.safeFloat(e,"total"),s=a<0?"out":"in",o=void 0;if(void 0!==i&&void 0!==a){var c="out"===s?a:-a;o=this.sum(i,c)}var u=this.safeInteger(e,"created"),d=this.parseLedgerEntryType(this.safeString(e,"flowType"));return{id:this.safeString(e,"id"),currency:n,account:this.safeString(e,"accountId"),referenceAccount:void 0,referenceId:void 0,status:void 0,amount:a,before:o,after:i,fee:void 0,direction:s,timestamp:u,datetime:this.iso8601(u),type:d,info:e}}parseLedgerEntryType(e){return this.safeString({TRADE:"trade",FEE:"fee",TRANSFER:"transfer",DEPOSIT:"transaction",MAKER_REWARD:"rebate",PNL:"pnl",SETTLEMENT:"settlement",LIQUIDATION:"liquidation",FUNDING_SETTLEMENT:"settlement",USER_ACCOUNT_TRANSFER:"transfer",OTC_BUY_COIN:"trade",OTC_SELL_COIN:"trade",OTC_FEE:"fee",OTC_TRADE:"trade",ACTIVITY_AWARD:"referral",INVITATION_REFERRAL_BONUS:"referral",REGISTER_BONUS:"referral",AIRDROP:"airdrop",MINE_REWARD:"reward"},e,e)}parseTransactionStatus(e){return this.safeString({BROKER_AUDITING_STATUS:"pending",BROKER_REJECT_STATUS:"failed",AUDITING_STATUS:"pending",AUDIT_REJECT_STATUS:"failed",PROCESSING_STATUS:"pending",WITHDRAWAL_SUCCESS_STATUS:"ok",WITHDRAWAL_FAILURE_STATUS:"failed",BLOCK_MINING_STATUS:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"orderId"),n=this.safeString(e,"address"),a=this.safeString2(e,"addressExt","addressTag");void 0!==a&&a.length<1&&(a=void 0);var i=this.safeString(e,"fromAddress"),s=this.safeString(e,"fromAddressTag");void 0!==s&&s.length<1&&(s=void 0);var o=this.safeString(e,"tokenId"),c=this.safeCurrencyCode(o,t),u=this.safeInteger(e,"time"),d=this.safeString(e,"txid");""===d&&(d=void 0);var f=void 0,l=this.parseTransactionStatus(this.safeString(e,"statusCode"));void 0===l?(f="deposit",l="ok"):f="withdrawal";var h=this.safeFloat(e,"quantity"),p=this.safeFloat(e,"fee"),m=void 0;if(void 0!==p){var v=this.safeString(e,"feeTokenId");m={currency:this.safeCurrencyCode(v),cost:p}}return{info:e,id:r,txid:d,timestamp:u,datetime:this.iso8601(u),addressFrom:i,address:n,addressTo:n,tagFrom:s,tag:a,tagTo:a,type:f,amount:h,currency:c,status:l,updated:void 0,fee:m}}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.safeInteger(e,"time"),i=this.safeFloat(e,"openPrice"),s=this.safeFloat(e,"lastPrice"),o=void 0,c=void 0,u=void 0;void 0!==i&&void 0!==s&&(o=s-i,u=this.sum(i,s)/2,void 0!==s&&s>0&&(c=o/i*100));var d=this.safeFloat(e,"quoteVolume"),f=this.safeFloat(e,"volume"),l=this.vwap(f,d);return{symbol:n,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat2(e,"bestBidPrice","bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat2(e,"bestAskPrice","askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:l,open:i,close:s,last:s,previousClose:void 0,change:o,percentage:c,average:u,baseVolume:f,quoteVolume:d,info:e}}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeFloat(e,"time"),a=this.safeString(e,"orderId"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"qty"),o=void 0;void 0!==i&&void 0!==s&&(o=i*s);var c=void 0,u=void 0;if("isBuyerMaker"in e)c=e.isBuyerMaker?"sell":"buy";else{var d=this.safeValue(e,"isMaker");void 0!==d&&(u=d?"maker":"taker"),c=this.safeValue(e,"isBuyer")?"buy":"sell"}var f=void 0,l=this.safeFloat(e,"commission");if(void 0!==l){var h=this.safeString(e,"commissionAsset");f={cost:l,currency:this.safeCurrencyCode(h)}}var p=void 0;return void 0===p&&void 0!==t&&(p=t.symbol),{id:r,info:e,timestamp:n,datetime:this.iso8601(n),symbol:p,type:void 0,order:a,side:c,takerOrMaker:u,price:i,amount:s,cost:o,fee:f}}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeString(e,"clientOrderId"),a=this.safeInteger(e,"time");void 0===a&&(a=this.safeInteger(e,"transactTime"));var i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),o=this.safeStringLower(e,"type"),c=this.safeStringLower(e,"side"),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"avgPrice"),f=void 0,l=this.safeFloat(e,"cummulativeQuoteQty"),h=void 0,p=void 0;void 0===o?(o=this.safeStringLower(e,"orderType"),void 0!==t&&t.inverse&&(l=this.safeFloat(e,"executedQty"),f=void 0),0===l&&(h=0)):(f=this.safeFloat(e,"origQty"),"market"===o&&(u=void 0,"buy"===c&&(f=void 0)),void 0!==(h=this.safeFloat(e,"executedQty"))&&void 0!==f&&(p=f-h)),0===d&&(d=void 0);var m=this.parseOrderStatus(this.safeString(e,"status")),v=this.safeString(e,"timeInForce"),b=this.safeFloat(e,"stopPrice"),g={info:e,id:r,clientOrderId:n,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:o,timeInForce:v,side:c,price:u,stopPrice:b,average:d,cost:l,amount:f,filled:h,remaining:p,status:m,trades:void 0,fee:void 0,fees:void 0},y=this.safeValue(e,"fees",[]);if(y.length>0){g.fees=[];for(var w=0;w<y.length;w++){var k=this.safeFloat(y[w],"fee");if(void 0!==k){var x=this.safeString(y[w],"feeToken"),_=this.safeCurrencyCode(x);g.fees.push({cost:k,currency:_})}}}return g}parseOrderStatus(e){return this.safeString({NEW:"open",CANCELED:"canceled",FILLED:"closed",PARTIALLY_FILLED:"open",PENDING_CANCEL:"canceled"},e,e)}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t||"quote"===t||"contract"===t&&("insurance"===e||"fundingRate"===e))Object.keys(n).length&&(s+="?"+this.urlencode(n));else{var c=this.milliseconds();this.checkRequiredCredentials();var u=this.extend({timestamp:c},o),d=this.urlencode(u),f=this.hmac(this.encode(d),this.encode(this.secret),"sha256");u.signature=f,a={"X-BH-APIKEY":this.apiKey},"POST"===r?(i=this.urlencode(u),a=this.extend({"Content-Type":"application/x-www-form-urlencoded"},a)):s+="?"+this.urlencode(u)}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&"code"in s){var d=this.safeString(s,"code");if("0"!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),new c(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadRequest,c=s.AuthenticationError,u=s.NetworkError,d=s.ArgumentsRequired,f=s.OrderNotFound,l=s.InsufficientFunds,h=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"hollaex",name:"HollaEx",countries:["KR"],rateLimit:333,version:"v1",has:{CORS:!1,fetchMarkets:!0,fetchCurrencies:!0,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTrades:!0,fetchOHLCV:!0,fetchBalance:!0,createOrder:!0,createLimitBuyOrder:!0,createLimitSellOrder:!0,createMarketBuyOrder:!0,createMarketSellOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!1,fetchOpenOrder:!0,fetchOrder:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1,fetchOrders:!1,fetchMyTrades:!0,withdraw:!0,fetchDepositAddress:!0},timeframes:{"1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/75841031-ca375180-5ddd-11ea-8417-b975674c23cb.jpg",api:"https://api.hollaex.com",www:"https://hollaex.com",doc:"https://apidocs.hollaex.com",referral:"https://pro.hollaex.com/signup?affiliation_code=QSWA6G"},precisionMode:h,requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["health","constant","ticker","ticker/all","orderbooks","trades","chart","udf/config","udf/history","udf/symbols"]},private:{get:["user","user/balance","user/trades","user/orders","user/orders/{order_id}","user/deposits","user/withdrawals","user/withdraw/{currency}/fee"],post:["user/request-withdrawal","order"],delete:["user/orders","user/orders/{order_id}"]}},fees:{trading:{tierBased:!0,percentage:!0}},exceptions:{broad:{"Invalid token":c,"Order not found":f,"Insufficient balance":l},exact:{400:o,403:c,404:o,405:o,410:o,429:o,500:u,503:u}},options:{"api-expires":parseInt(this.timeout/1e3)}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetConstant(e);case 2:for(a=r.sent,i=t.safeValue(a,"pairs",{}),s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeString(d,"name"),l=t.safeString(d,"pair_base"),h=t.safeString(d,"pair_2"),p=t.commonCurrencyCode(l.toUpperCase()),m=t.commonCurrencyCode(h.toUpperCase()),v=p+"/"+m,b=t.safeValue(d,"active"),o.push({id:f,symbol:v,base:p,quote:m,baseId:l,quoteId:h,active:b,precision:{price:t.safeFloat(d,"increment_price"),amount:t.safeFloat(d,"increment_size")},limits:{amount:{min:t.safeFloat(d,"min_size"),max:t.safeFloat(d,"max_size")},price:{min:t.safeFloat(d,"min_price"),max:t.safeFloat(d,"max_price")},cost:{min:void 0,max:void 0}},info:d});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetConstant(e);case 2:for(a=r.sent,i=t.safeValue(a,"coins",{}),s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeString(d,"symbol"),l=t.safeInteger(d,"id"),h=t.safeCurrencyCode(f),p=t.safeString(d,"fullname"),m=t.safeValue(d,"active"),v=t.safeFloat(d,"withdrawal_fee"),b=t.safeFloat(d,"increment_unit"),g=t.safeValue(d,"withdrawal_limits",[]),o[h]={id:f,numericId:l,code:h,info:d,name:p,active:m,fee:v,precision:b,limits:{amount:{min:t.safeFloat(d,"min"),max:t.safeFloat(d,"max")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:t.safeValue(g,0)}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBooks(e,t,r={}){var i=this;return a(n.mark((function e(){var t,a,s,o,c,u,d,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.loadMarkets();case 2:return e.next=4,i.publicGetOrderbooks(r);case 4:for(t=e.sent,a={},s=Object.keys(t),o=0;o<s.length;o++)c=s[o],u=t[c],d=i.safeSymbol(c,void 0,"-"),f=i.parse8601(i.safeString(u,"timestamp")),a[d]=i.parseOrderBook(t[c],f);return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.marketId(e),s={symbol:a},t.next=6,i.publicGetOrderbooks(i.extend(s,r));case 6:return o=t.sent,c=i.safeValue(o,a),u=i.parse8601(i.safeString(c,"timestamp")),t.abrupt("return",i.parseOrderBook(c,u));case 10:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickerAll(r.extend(t));case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r={},n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=this.safeString(s,"symbol",i),c=this.safeMarket(o,void 0,"-");r[c.symbol]=this.parseTicker(s,c)}return this.filterByArray(r,"symbol",t)}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t,"-"),a=this.parse8601(this.safeString2(e,"time","timestamp")),i=this.safeFloat(e,"close");return{symbol:n,info:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:this.safeFloat(e,"last",i),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,o.id,[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"symbol"),n=(t=this.safeMarket(r,t,"-")).symbol,a=this.safeString(e,"timestamp"),i=this.parse8601(a),s=this.safeString(e,"side"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"size"),u=void 0;void 0!==o&&void 0!==c&&(u=o*c);var d=this.safeFloat(e,"fee"),f=void 0;if(void 0!==d){var l=t.quote;f={cost:d,currency:void 0!==t?t.quote:l}}return{info:e,id:void 0,timestamp:i,datetime:a,symbol:n,order:void 0,type:void 0,side:s,takerOrMaker:void 0,price:o,amount:c,cost:u,fee:f}}fetchOHLCV(e,t="1h",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),u={symbol:c.id,resolution:o.timeframes[t]},f=o.parseTimeframe(t),void 0!==r){n.next=16;break}if(void 0!==i){n.next=10;break}throw new d(o.id+" fetchOHLCV() requires a 'since' or a 'limit' argument");case 10:l=o.seconds(),h=l-f*i,u.to=l,u.from=h;case 14:n.next=17;break;case 16:void 0===i?(u.from=parseInt(r/1e3),u.to=o.seconds()):(p=parseInt(r/1e3),u.from=p,u.to=o.sum(p,f*i));case 17:return n.next=19,o.publicGetChart(o.extend(u,s));case 19:return m=n.sent,n.abrupt("return",o.parseOHLCVs(m,c,t,r,i));case 21:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t,r="1h",n,a){return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetUserBalance(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies_by_id),o=0;o<s.length;o++)c=s[o],u=t.safeCurrencyCode(c),(d=t.account()).free=t.safeFloat(a,c+"_available"),d.total=t.safeFloat(a,c+"_balance"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOpenOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetUserOrdersOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function t(){var r,a,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.loadMarkets();case 2:return r=void 0,a={},void 0!==e&&(r=s.market(e),a.symbol=r.id),t.next=7,s.privateGetUserOrders(s.extend(a,i));case 7:return o=t.sent,t.abrupt("return",s.parseOrders(o,r));case 9:case"end":return t.stop()}}),t)})))()}parseOrder(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t,"-"),a=this.safeString(e,"id"),i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"size"),d=this.safeFloat(e,"filled"),f=void 0,l=void 0;void 0!==d&&(void 0!==u&&(l=u-d),void 0!==c&&(f=d*c));var h="market"===s?"closed":"open";return{id:a,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:h,symbol:n,type:s,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,amount:u,filled:d,remaining:l,cost:f,trades:void 0,fee:void 0,info:e,average:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={symbol:u.id,side:r,size:i,type:t},"market"!==t&&(d.price=s),n.next=7,c.privatePostOrder(c.extend(d,o));case 7:return f=n.sent,n.abrupt("return",c.parseOrder(f,u));case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateDeleteUserOrdersOrderId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.markets(e),i.symbol=s.id),n.next=7,r.privateDeleteUserOrders(r.extend(i,t));case 7:return o=n.sent,n.abrupt("return",r.parseOrders(o,s));case 9:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.symbol=c.id),void 0!==r&&(o.limit=r),void 0!==t&&(o.start_date=s.iso8601(t)),n.next=9,s.privateGetUserTrades(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),n.next=5,r.privateGetUser(t);case 5:return s=n.sent,o=r.safeValue(s,"crypto_wallet"),c=r.safeString(o,i.id),u=void 0,void 0!==c&&(d=c.split(":"),c=r.safeString(d,0),u=r.safeString(d,1)),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:u,info:s});case 12:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.limit=r),void 0!==t&&(o.start_date=s.iso8601(t)),n.next=9,s.privateGetUserDeposits(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.limit=r),void 0!==t&&(o.start_date=s.iso8601(t)),n.next=9,s.privateGetUserWithdrawals(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"transaction_id"),a=this.parse8601(this.safeString(e,"created_at")),i=this.parse8601(this.safeString(e,"updated_at")),s=this.safeString(e,"type"),o=this.safeFloat(e,"amount"),c=this.safeString(e,"address"),u=void 0,d=void 0,f=void 0;if(void 0!==c){var l=c.split(":");u=c=this.safeString(l,0),f=d=this.safeString(l,1)}var h=this.safeString(e,"currency"),p=this.safeCurrencyCode(h),m=this.safeValue(e,"status"),v=this.safeValue(e,"dismissed"),b=this.safeValue(e,"rejected");m=m?"ok":v?"canceled":b?"failed":"pending";var g={currency:p,cost:this.safeFloat(e,"fee")};return{info:e,id:r,txid:n,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,address:c,addressTo:u,tagFrom:void 0,tag:d,tagTo:f,type:s,amount:o,currency:p,status:m,updated:i,fee:g}}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),void 0!==i&&(r+=":"+i),u={currency:c.id,amount:t,address:r},void 0===(d=o.safeString(s,"otp_code"))&&void 0===o.twofa||(void 0===d&&(d=o.oath()),u.otp_code=d),n.next=10,o.privatePostUserRequestWithdrawal(o.extend(u,s));case 10:return f=n.sent,n.abrupt("return",{info:f,id:void 0});case 12:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e));e="/"+this.version+"/"+this.implodeParams(e,n),"GET"===r&&Object.keys(s).length&&(e+="?"+this.urlencode(s));var o=this.urls.api+e;if("private"===t){this.checkRequiredCredentials();var c=this.safeInteger2(this.options,"api-expires","expires",parseInt(this.timeout/1e3)),u=this.sum(this.seconds(),c).toString(),d=r+e+u;a={"api-key":this.encode(this.apiKey),"api-expires":u},"POST"===r&&(a["Content-type"]="application/json",Object.keys(s).length&&(d+=i=this.json(s)));var f=this.hmac(this.encode(d),this.encode(this.secret));a["api-signature"]=f}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&e>=400&&e<=503){var u=this.id+" "+i,d=this.safeString(s,"message");this.throwBroadlyMatchedException(this.exceptions.broad,d,u);var f=e.toString();this.throwExactlyMatchedException(this.exceptions.exact,f,u)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(114),s=r(6).NotSupported;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"huobijp",name:"Huobi Japan",countries:["JP"],hostname:"api-cloud.huobi.co.jp",pro:!0,has:{fetchDepositAddress:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/85734211-85755480-b705-11ea-8b35-0b7f1db33a2f.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}"},www:"https://www.huobi.co.jp",referral:"https://www.huobi.co.jp/register/?invite_code=znnq3",doc:"https://api-doc.huobi.co.jp",fees:"https://www.huobi.co.jp/support/fee"}})}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new s(r.id+" fetchDepositAddress not supported yet");case 1:case"end":return e.stop()}}),e)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"ice3x",name:"ICE3X",countries:["ZA"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460809-1dd06c00-c616-11ea-98ad-7d5e1cb7fcdd.jpg",api:"https://ice3x.com/api",www:"https://ice3x.com",doc:"https://ice3x.co.za/ice-cubed-bitcoin-exchange-api-documentation-1-june-2017",fees:["https://help.ice3.com/support/solutions/articles/11000033293-trading-fees","https://help.ice3.com/support/solutions/articles/11000033288-fees-explained","https://help.ice3.com/support/solutions/articles/11000008131-what-are-your-fiat-deposit-and-withdrawal-fees-","https://help.ice3.com/support/solutions/articles/11000033289-deposit-fees"],referral:"https://ice3x.com?ref=14341802"},api:{public:{get:["currency/list","currency/info","pair/list","pair/info","stats/marketdepthfull","stats/marketdepthbtcav","stats/marketdepth","orderbook/info","trade/list","trade/info"]},private:{post:["balance/list","balance/info","order/new","order/cancel","order/list","order/info","trade/list","trade/info","transaction/list","transaction/info","invoice/list","invoice/info","invoice/pdf"]}},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencyList(e);case 2:for(a=r.sent,i=a.response.entities,s=t.precision.amount,o={},c=0;c<i.length;c++)u=i[c],d=t.safeString(u,"currency_id"),f=t.safeString(u,"iso"),l=t.safeCurrencyCode(f),o[l]={id:d,code:l,name:u.name,active:!0,precision:s,limits:{amount:{min:void 0,max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0}},info:u,fee:void 0};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.currencies_by_id){r.next=5;break}return r.next=3,t.fetchCurrencies();case 3:t.currencies=r.sent,t.currencies_by_id=t.indexBy(t.currencies,"id");case 5:return r.next=7,t.publicGetPairList(e);case 7:for(a=r.sent,i=t.safeValue(a.response,"entities"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"pair_id"),d=t.safeString(c,"currency_id_from"),f=t.safeString(c,"currency_id_to"),l=t.currencies_by_id[d],h=t.currencies_by_id[f],p=l.code,m=h.code,v=p+"/"+m,s.push({id:u,symbol:v,base:p,quote:m,baseId:d,quoteId:f,active:void 0,info:c,precision:t.precision,limits:t.limits});return r.abrupt("return",s);case 12:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.milliseconds(),n=t.symbol,a=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"max_bid"),bidVolume:void 0,ask:this.safeFloat(e,"min_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"vol"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair_id:i.id},n.next=6,r.publicGetStatsMarketdepthfull(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o.response,"entity"),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetStatsMarketdepthfull(t);case 4:for(i=n.sent,s=r.safeValue(i.response,"entities"),o={},c=0;c<s.length;c++)u=s[c],d=r.safeString(u,"pair_id"),void 0!==(f=r.safeValue(r.marketsById,d))&&(l=f.symbol,o[l]=r.parseTicker(u,f));return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(s={pair_id:i.marketId(e)},void 0===t){n.next=10;break}if("ask"===(o=i.safeString(r,"type"))||"bid"===o){n.next=9;break}throw new u(i.id+" fetchOrderBook() requires an exchange-specific extra 'type' param ('bid' or 'ask') when used with a limit");case 9:s.items_per_page=t;case 10:return n.next=12,i.publicGetOrderbookInfo(i.extend(s,r));case 12:return c=n.sent,d=i.safeValue(c.response,"entities"),n.abrupt("return",i.parseOrderBook(d,void 0,"bids","asks","price","amount"));case 15:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"created"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=void 0,o=this.safeFloat(e,"fee");void 0!==o&&(s={cost:o,currency:t.quote});var c=this.safeString(e,"type"),u=this.safeString(e,"trade_id"),d=void 0;return void 0!==t&&(d=t.symbol),{id:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,order:void 0,type:"limit",side:c,takerOrMaker:void 0,price:n,amount:a,cost:i,fee:s}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair_id:o.id},n.next=6,s.publicGetTradeList(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u.response,"entities"),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalanceList(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a.response,"entities",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"currency_id"),d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(c,"balance"),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrder(e,t){var r=this.safeInteger(e,"pair_id"),n=void 0;r&&!t&&r in this.marketsById&&(n=(t=this.marketsById[r]).symbol);var a=this.safeTimestamp(e,"created"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"volume"),o=this.safeInteger(e,"active"),c=this.safeFloat(e,"remaining"),u=void 0;1===o?o="open":(o="closed",c=0,u=s);var d=void 0,f=this.safeFloat(e,"fee");return void 0!==f&&(d={cost:f},void 0!==t&&(d.currency=t.quote)),{id:this.safeString(e,"order_id"),clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:o,symbol:n,type:"limit",timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:i,stopPrice:void 0,cost:void 0,amount:s,filled:u,remaining:c,trades:void 0,fee:d,info:e,average:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function t(){var a,u,d,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadMarkets();case 2:return a=c.market(e),u={pair_id:a.id,type:r,amount:i,price:s},t.next=6,c.privatePostOrderNew(c.extend(u,o));case 6:return d=t.sent,f=c.parseOrder({order_id:d.response.entity.order_id,created:c.seconds(),active:1,type:r,price:s,volume:i,remaining:i,info:d},a),t.abrupt("return",f);case 9:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={order_id:e},t.next=3,i.privatePostOrderCancel(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={"order _id":e},t.next=5,i.privatePostOrderInfo(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"response",{}),c=i.safeValue(o,"entity"),t.abrupt("return",i.parseOrder(c));case 9:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.privatePostOrderList(i);case 4:return o=n.sent,c=s.safeValue(o,"response",{}),u=s.safeValue(c,"entities",[]),d=void 0,void 0!==e&&(d=s.market(e)),n.abrupt("return",s.parseOrders(u,d,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair_id:o.id},void 0!==r&&(c.items_per_page=r),void 0!==t&&(c.date_from=parseInt(t/1e3)),n.next=8,s.privatePostTradeList(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"response",{}),f=s.safeValue(d,"entities",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency_id:i.id},n.next=6,r.privatePostBalanceInfo(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"response",{}),u=r.safeValue(c,"entity",{}),d=r.safeString(u,"address"),f=d?"ok":"none",n.abrupt("return",{currency:e,address:d,tag:void 0,status:f,info:o});case 12:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+e;return"public"===t?Object.keys(n).length&&(s+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),i=this.urlencode(this.extend({nonce:this.nonce()},n)),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}),{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,u){var d=this;return a(n.mark((function a(){var f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.fetch2(e,t,r,i,s,u);case 2:if(f=n.sent,l=d.safeValue(f,"errors"),h=d.safeValue(f,"response"),!l&&h){n.next=20;break}p=["Key","user_id","Sign"],m=0;case 8:if(!(m<p.length)){n.next=19;break}if(v=p[m],b=d.safeString(l,v)){n.next=13;break}return n.abrupt("continue",16);case 13:if(!("user_id"===v&&b.indexOf("authorization")<0)){n.next=15;break}return n.abrupt("continue",16);case 15:throw new c(b);case 16:m++,n.next=8;break;case 19:throw new o(d.json(l));case 20:return n.abrupt("return",f);case 21:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(16).PAD_WITH_ZERO,o=r(6),c=o.InvalidOrder,u=o.InsufficientFunds,d=o.ExchangeError,f=o.ExchangeNotAvailable,l=o.DDoSProtection,h=o.BadRequest,p=o.NotSupported,m=o.InvalidAddress,v=o.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"idex",name:"IDEX",countries:["US"],rateLimit:1500,version:"v2",certified:!0,pro:!0,requiresWeb3:!0,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","1d":"1d"},urls:{test:{public:"https://api-sandbox.idex.io",private:"https://api-sandbox.idex.io"},logo:"https://user-images.githubusercontent.com/51840849/94481303-2f222100-01e0-11eb-97dd-bc14c5943a86.jpg",api:{ETH:"https://api-eth.idex.io",BSC:"https://api-bsc.idex.io"},www:"https://idex.io",doc:["https://docs.idex.io/"]},api:{public:{get:["ping","time","exchange","assets","markets","tickers","candles","trades","orderbook","wsToken"]},private:{get:["user","wallets","balances","orders","fills","deposits","withdrawals"],post:["wallets","orders","orders/test","withdrawals"],delete:["orders"]}},options:{defaultTimeInForce:"gtc",defaultSelfTradePrevention:"cn",network:"ETH"},exceptions:{INVALID_ORDER_QUANTITY:c,INSUFFICIENT_FUNDS:u,SERVICE_UNAVAILABLE:f,EXCEEDED_RATE_LIMIT:l,INVALID_PARAMETER:h,WALLET_NOT_ASSOCIATED:m,INVALID_WALLET_SIGNATURE:v},requiredCredentials:{walletAddress:!0,privateKey:!0,apiKey:!0,secret:!0},paddingMode:s,commonCurrencies:{},requireCredentials:{privateKey:!0,apiKey:!0,secret:!0}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"market"),u=t.safeString(o,"baseAsset"),d=t.safeString(o,"quoteAsset"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,p=t.safeInteger(o,"baseAssetPrecision"),m=t.safeInteger(o,"quoteAssetPrecision"),v=t.safeString(o,"status"),b="active"===v,g={amount:p,price:m},i.push({symbol:h,id:c,base:f,quote:l,baseId:u,quoteId:d,active:b,info:o,precision:g,limits:{amount:{min:Math.pow(10,-g.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTickers(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,0),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:return i=n.sent,n.abrupt("return",r.parseTickers(i,e));case 6:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}parseTicker(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"-"),a=this.safeFloat(e,"baseVolume"),i=this.safeFloat(e,"quoteVolume"),s=this.safeInteger(e,"time"),o=this.safeFloat(e,"open"),c=this.safeFloat(e,"high"),u=this.safeFloat(e,"low"),d=this.safeFloat(e,"close"),f=this.safeFloat(e,"ask"),l=this.safeFloat(e,"bid"),h=this.safeFloat(e,"percentChange");void 0!==h&&(h=1+h/100);var p=void 0;return void 0!==d&&void 0!==o&&(p=d-o),{symbol:n,timestamp:s,datetime:this.iso8601(s),high:c,low:u,bid:l,bidVolume:void 0,ask:f,askVolume:void 0,vwap:void 0,open:o,close:d,last:d,previousClose:void 0,change:p,percentage:h,average:void 0,baseVolume:a,quoteVolume:i,info:e}}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market:c.id,interval:t},void 0!==r&&(u.start=r),void 0!==i&&(u.limit=i),n.next=8,o.publicGetCandles(o.extend(u,s));case 8:if(d=n.sent,!Array.isArray(d)){n.next=13;break}return n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 13:return n.abrupt("return",[]);case 14:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"start"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),n.next=8,s.publicGetTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"fillId"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"quantity"),i=this.safeFloat(e,"quoteQuantity"),s=this.safeInteger(e,"time"),o=this.safeString(e,"market"),c=this.safeSymbol(o,t,"-"),u="buy"===this.safeString(e,"makerSide")?"sell":"buy",d=this.safeString(e,"side",u),f=this.safeString(e,"liquidity","taker"),l=this.safeFloat(e,"fee"),h=void 0;if(void 0!==l){var p=this.safeString(e,"feeAsset");h={cost:l,currency:this.safeCurrencyCode(p)}}var m=this.safeString(e,"orderId");return{info:e,timestamp:s,datetime:this.iso8601(s),symbol:c,id:r,order:m,type:"limit",side:d,takerOrMaker:f,price:n,amount:a,cost:i,fee:h}}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={market:s.id,level:2},void 0!==t&&(o.limit=t),n.next=7,i.publicGetOrderbook(i.extend(o,r));case 7:return c=n.sent,u=i.safeInteger(c,"sequence"),n.abrupt("return",{timestamp:void 0,datetime:void 0,nonce:u,bids:i.parseSide(c,"bids"),asks:i.parseSide(c,"asks")});case 10:case"end":return n.stop()}}),a)})))()}parseSide(e,t){for(var r=this.safeValue(e,t,[]),n=[],a=0;a<r.length;a++){var i=r[a],s=this.safeFloat(i,0),o=this.safeFloat(i,1),c=this.safeInteger(i,2);n.push([s,o,c])}var u="bids"===t;return this.sortBy(n,0,u)}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"name"),u=t.safeString(o,"symbol"),d=t.safeInteger(o,"exchangeDecimals"),f=t.safeCurrencyCode(u),l=Math.pow(-10,d),i[f]={id:u,code:f,info:o,type:void 0,name:c,active:void 0,fee:void 0,precision:d,limits:{amount:{min:l,max:void 0},price:{min:l,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:l,max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,p,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.checkRequiredCredentials(),r.next=3,t.loadMarkets();case 3:if(a=t.uuidv1(),i={nonce:a,wallet:t.walletAddress},void 0!==(s=t.extend(i,e)).wallet){r.next=8;break}throw new h(t.id+' wallet is undefined, set this.walletAddress or "address" in params');case 8:return o=void 0,r.prev=9,r.next=12,t.privateGetBalances(s);case 12:o=r.sent,r.next=27;break;case 15:if(r.prev=15,r.t0=r.catch(9),!(r.t0 instanceof m)){r.next=26;break}return c=s.wallet,r.next=21,t.associateWallet(c);case 21:return r.next=23,t.privateGetBalances(s);case 23:o=r.sent,r.next=27;break;case 26:throw r.t0;case 27:for(u={info:o},d=0;d<o.length;d++)f=o[d],l=t.safeString(f,"asset"),p=t.safeCurrencyCode(l),v=t.safeFloat(f,"quantity"),b=t.safeFloat(f,"availableForTrade"),g=t.safeFloat(f,"locked"),u[p]={free:b,used:g,total:v};return r.abrupt("return",t.parseBalance(u));case 30:case"end":return r.stop()}}),r,null,[[9,15]])})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.checkRequiredCredentials(),n.next=3,s.loadMarkets();case 3:if(o=void 0,c={nonce:s.uuidv1(),wallet:s.walletAddress},void 0!==e&&(o=s.market(e),c.market=o.id),void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),void 0!==(u=s.extend(c,i)).wallet){n.next=11;break}throw new h(s.id+' walletAddress is undefined, set this.walletAddress or "address" in params');case 11:return d=void 0,n.prev=12,n.next=15,s.privateGetFills(u);case 15:d=n.sent,n.next=30;break;case 18:if(n.prev=18,n.t0=n.catch(12),!(n.t0 instanceof m)){n.next=29;break}return f=u.wallet,n.next=24,s.associateWallet(f);case 24:return n.next=26,s.privateGetFills(u);case 26:d=n.sent,n.next=30;break;case 29:throw n.t0;case 30:return n.abrupt("return",s.parseTrades(d,o,t,r));case 31:case"end":return n.stop()}}),a,null,[[12,18]])})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={orderId:e},n.next=3,i.fetchOrdersHelper(t,void 0,void 0,i.extend(s,r));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={closed:!1},n.next=3,s.fetchOrdersHelper(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={closed:!0},n.next=3,s.fetchOrdersHelper(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrdersHelper(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={nonce:s.uuidv1(),wallet:s.walletAddress},c=void 0,void 0!==e&&(c=s.market(e),o.market=c.id),void 0!==t&&(o.start=t),void 0!==r&&(o.limit=r),n.next=9,s.privateGetOrders(s.extend(o,i));case 9:if(u=n.sent,!Array.isArray(u)){n.next=14;break}return n.abrupt("return",s.parseOrders(u,c,t,r));case 14:return n.abrupt("return",s.parseOrder(u,c));case 15:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({active:"open",partiallyFilled:"open",rejected:"canceled",filled:"closed"},e,e)}parseOrder(e,t){var r=this.safeInteger(e,"time"),n=this.safeValue(e,"fills",[]),a=this.safeString(e,"orderId"),i=this.safeString(e,"clientOrderId"),s=this.safeString(e,"market"),o=this.safeString(e,"side"),c=this.safeSymbol(s,t,"-"),u=this.parseTrades(n,t),d=this.safeString(e,"type"),f=this.safeFloat(e,"originalQuantity"),l=this.safeFloat(e,"executedQuantity"),h=void 0;void 0!==f&&void 0!==l&&(h=f-l);var p=this.safeFloat(e,"avgExecutionPrice"),m=this.safeFloat(e,"price",p),v=void 0;void 0!==f&&void 0!==m&&(v=f*m);for(var b=this.safeString(e,"status"),g=this.parseOrderStatus(b),y={currency:void 0,cost:void 0},w=void 0,k=0;k<u.length;k++)w=u[k],y.currency=w.fee.currency,y.cost=this.sum(y.cost,w.fee.cost);var x=this.safeInteger(w,"timestamp");return{info:e,id:a,clientOrderId:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:x,symbol:c,type:d,timeInForce:void 0,postOnly:void 0,side:o,price:m,stopPrice:void 0,amount:f,cost:v,average:p,filled:l,remaining:h,status:g,fee:y,trades:u}}associateWallet(e,t={}){var r=this;return a(n.mark((function t(){var a,i,s,o,c,u,d,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.uuidv1(),i=r.remove0xPrefix(e),s=[r.base16ToBinary(a),r.base16ToBinary(i)],o=r.binaryConcatArray(s),c=r.hash(o,"keccak","hex"),u=r.signMessageString(c,r.privateKey),d={parameters:{nonce:a,wallet:e},signature:u},t.next=9,r.privatePostWallets(d);case 9:return f=t.sent,t.abrupt("return",f);case 11:case"end":return t.stop()}}),t)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.checkRequiredCredentials(),n.next=3,c.loadMarkets();case 3:if(u=c.market(e),d=c.uuidv1(),f=void 0,l={stopLoss:3,stopLossLimit:4,takeProfit:5,takeProfitLimit:6},m=void 0,"stopLossLimit"!==t&&"takeProfitLimit"!==t&&!("stopPrice"in o)){n.next=12;break}if("stopPrice"in o){n.next=11;break}throw new h(c.id+" stopPrice is a required parameter for "+t+"orders");case 11:m=c.priceToPrecision(e,o.stopPrice);case 12:if(v={limit:1,limitMaker:2},b=void 0,g=t.toLowerCase(),y=g.indexOf("limit")>-1,!(t in v)){n.next=21;break}f=v[t],b=c.priceToPrecision(e,s),n.next=31;break;case 21:if(!(t in l)){n.next=26;break}f=l[t],b=c.priceToPrecision(e,s),n.next=31;break;case 26:if("market"!==t){n.next=30;break}f=0,n.next=31;break;case 30:throw new h(c.id+" "+t+" is not a valid order type");case 31:if(w=0,!("quoteOrderQuantity"in o)){n.next=37;break}if("market"===t){n.next=35;break}throw new p(c.id+" quoteOrderQuantity is not supported for "+t+" orders, only supported for market orders");case 35:w=1,i=c.safeFloat(o,"quoteOrderQuantity");case 37:if(k="buy"===r?0:1,x=c.remove0xPrefix(c.walletAddress),_=c.safeString(c.options,"network","ETH"),S="ETH"===_?1:2,T=c.amountToPrecision(e,i),O={gtc:0,ioc:2,fok:3},A=c.safeString(c.options,"defaultTimeInForce","gtc"),M=c.safeString(o,"timeInForce",A),E=void 0,!(M in O)){n.next=50;break}E=O[M],n.next=53;break;case 50:throw C=Object.keys(O),I=C.join(", "),new h(c.id+" "+M+" is not a valid timeInForce, please choose one of "+I);case 53:if(F={dc:0,co:1,cn:2,cb:3},P=c.safeString(c.options,"defaultSelfTradePrevention","cn"),B=c.safeString(o,"selfTradePrevention",P),R=void 0,!(B in F)){n.next=61;break}R=F[B],n.next=64;break;case 61:throw L=Object.keys(F),N=L.join(", "),new h(c.id+" "+B+" is not a valid selfTradePrevention, please choose one of "+N);case 64:return D=[c.numberToBE(S,1),c.base16ToBinary(d),c.base16ToBinary(x),c.stringToBinary(c.encode(u.id)),c.numberToBE(f,1),c.numberToBE(k,1),c.stringToBinary(c.encode(T)),c.numberToBE(w,1)],y&&(V=c.stringToBinary(c.encode(b)),D.push(V)),t in l&&(j=c.stringToBinary(c.encode(m||b)),D.push(j)),void 0!==(U=c.safeString(o,"clientOrderId"))&&D.push(c.stringToBinary(c.encode(U))),q=[c.numberToBE(E,1),c.numberToBE(R,1),c.numberToBE(0,8)],G=c.arrayConcat(D,q),H=c.binaryConcatArray(G),z=c.hash(H,"keccak","hex"),K=c.signMessageString(z,c.privateKey),J={parameters:{nonce:d,market:u.id,side:r,type:t,wallet:c.walletAddress,timeInForce:M,selfTradePrevention:B},signature:K},y&&(J.parameters.price=b),t in l&&(J.parameters.stopPrice=m||b),0===w?J.parameters.quantity=T:J.parameters.quoteOrderQuantity=T,void 0!==U&&(J.parameters.clientOrderId=U),n.next=81,c.privatePostOrders(J);case 81:return X=n.sent,n.abrupt("return",c.parseOrder(X,u));case 83:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,s,c,u,d,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkRequiredCredentials(),n.next=3,o.loadMarkets();case 3:return i=o.uuidv1(),s=o.currencyToPrecision(e,t),c=o.currency(e),u=o.remove0xPrefix(o.walletAddress),d=[o.base16ToBinary(i),o.base16ToBinary(u),o.stringToBinary(o.encode(c.id)),o.stringToBinary(o.encode(s)),o.numberToBE(1,1)],f=o.binaryConcatArray(d),l=o.hash(f,"keccak","hex"),h=o.signMessageString(l,o.privateKey),p={parameters:{nonce:i,wallet:r,asset:c.id,quantity:s},signature:h},n.next=14,o.privatePostWithdrawals(p);case 14:return m=n.sent,v=o.safeString(m,"withdrawalId"),n.abrupt("return",{info:m,id:v});case 17:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.checkRequiredCredentials(),n.next=3,i.loadMarkets();case 3:return s=void 0,void 0!==t&&(s=i.market(t)),o=i.uuidv1(),c=i.remove0xPrefix(i.walletAddress),u=[i.base16ToBinary(o),i.base16ToBinary(c),i.stringToBinary(i.encode(e))],d=i.binaryConcatArray(u),f=i.hash(d,"keccak","hex"),l=i.signMessageString(f,i.privateKey),h={parameters:{nonce:o,wallet:i.walletAddress,orderId:e},signature:l},n.next=14,i.privateDeleteOrders(i.extend(h,r));case 14:return p=n.sent,m=i.safeValue(p,0),n.abrupt("return",i.parseOrder(m,s));case 17:case"end":return n.stop()}}),a)})))()}handleErrors(e,t,r,n,a,i,s,o,c){var u=this.safeString(s,"code"),f=this.safeString(s,"message");if(u in this.exceptions)throw new(0,this.exceptions[u])(this.id+" "+f);if(void 0!==u)throw new d(this.id+" "+f)}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.extend({method:"privateGetDeposits"},i),n.abrupt("return",s.fetchTransactionsHelper(e,t,r,i));case 2:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.extend({method:"privateGetWithdrawals"},i),n.abrupt("return",s.fetchTransactionsHelper(e,t,r,i));case 2:case"end":return n.stop()}}),a)})))()}fetchTransactionsHelper(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.uuidv1(),c={nonce:o,wallet:s.walletAddress},u=void 0,void 0!==e&&(u=s.currency(e),c.asset=u.id),void 0!==t&&(c.start=t),void 0!==r&&(c.limit=r),d=i.method,i=s.omit(i,"method"),n.next=12,s[d](s.extend(c,i));case 12:return f=n.sent,n.abrupt("return",s.parseTransactions(f,u,t,r));case 14:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({mined:"ok"},e,e)}parseTransaction(e,t){var r=void 0;"depositId"in e?r="deposit":"withdrawalId"in e&&(r="withdrawal");var n=this.safeString2(e,"depositId","withdrawId"),a=this.safeCurrencyCode(this.safeString(e,"asset"),t),i=this.safeFloat(e,"quantity"),s=this.safeString(e,"txId"),o=this.safeInteger(e,"txTime"),c=void 0;"fee"in e&&(c={cost:this.safeFloat(e,"fee"),currency:"ETH"});var u=this.safeString(e,"txStatus"),d=this.parseTransactionStatus(u),f=this.safeInteger(e,"confirmationTime");return{info:e,id:n,txid:s,timestamp:o,datetime:this.iso8601(o),address:void 0,tag:void 0,type:r,amount:i,currency:a,status:d,updated:f,fee:c}}sign(e,t="public",r="GET",n={},a,i){var s=this.safeString(this.options,"network","ETH"),o=this.safeString(this.options,"version","v1"),c=this.urls.api[s]+"/"+o+"/"+e,u=void 0;if(Object.keys(n).length>0&&("GET"===r?c=c+"?"+(u=this.urlencode(n)):i=this.json(n)),a={"Content-Type":"application/json"},void 0!==this.apiKey&&(a["IDEX-API-Key"]=this.apiKey),"private"===t){var d=void 0;d="GET"===r?u:i,a["IDEX-HMAC-Signature"]=this.hmac(this.encode(d),this.encode(this.secret),"sha256","hex")}return{url:c,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7);e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182090-1e9e9080-c2ec-11ea-8e49-563db9a38f37.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetAllOrders","GetTradeHistorySummary","GetRecentTrades","GetFxRates"]},private:{post:["PlaceLimitOrder","PlaceMarketOrder","CancelOrder","GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","SynchDigitalCurrencyDepositAddressWithBlockchain","WithdrawDigitalCurrency","RequestFiatWithdrawal","GetTrades","GetBrokerageFees"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}},commonCurrencies:{PLA:"PlayChip"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetGetValidPrimaryCurrencyCodes(e);case 2:return a=r.sent,r.next=5,t.publicGetGetValidSecondaryCurrencyCodes(e);case 5:for(i=r.sent,s=[],o=0;o<a.length;o++)for(c=a[o],u=t.safeCurrencyCode(c),d=0;d<i.length;d++)f=i[d],l=t.safeCurrencyCode(f),h=c+"/"+f,p=u+"/"+l,s.push({id:h,symbol:p,base:u,quote:l,baseId:c,quoteId:f,info:h,active:void 0,precision:t.precision,limits:t.limits});return r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetAccounts(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"CurrencyCode"),u=t.safeCurrencyCode(c),(d=t.account()).free=t.safeFloat(o,"AvailableBalance"),d.total=t.safeFloat(o,"TotalBalance"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={primaryCurrencyCode:a.baseId,secondaryCurrencyCode:a.quoteId},t.next=6,i.publicGetGetOrderBook(i.extend(s,r));case 6:return o=t.sent,c=i.parse8601(i.safeString(o,"CreatedTimestampUtc")),t.abrupt("return",i.parseOrderBook(o,c,"BuyOrders","SellOrders","Price","Volume"));case 9:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"CreatedTimestampUtc")),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"LastPrice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"DayHighestPrice"),low:this.safeFloat(e,"DayLowestPrice"),bid:this.safeFloat(e,"CurrentHighestBidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"CurrentLowestOfferPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"DayAvgPrice"),baseVolume:this.safeFloat(e,"DayVolumeXbtInSecondaryCurrrency"),quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={primaryCurrencyCode:i.baseId,secondaryCurrencyCode:i.quoteId},n.next=6,r.publicGetGetMarketSummary(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=void 0,n=this.safeString(e,"PrimaryCurrencyCode"),a=this.safeString(e,"SecondaryCurrencyCode"),i=void 0;void 0!==n&&void 0!==a?r=(i=this.safeCurrencyCode(n))+"/"+this.safeCurrencyCode(a):void 0!==t&&(r=t.symbol,i=t.base,t.quote);var s=this.safeString2(e,"Type","OrderType"),o=void 0;s.indexOf("Bid")>=0?o="buy":s.indexOf("Offer")>=0&&(o="sell"),s.indexOf("Market")>=0?s="market":s.indexOf("Limit")>=0&&(s="limit");var c=this.parse8601(this.safeString(e,"CreatedTimestampUtc")),u=this.safeFloat2(e,"VolumeOrdered","Volume"),d=this.safeFloat(e,"VolumeFilled"),f=this.safeFloat(e,"Outstanding");void 0===d&&void 0!==f&&void 0!==u&&(d=Math.max(0,u-f)),void 0===f&&void 0!==d&&void 0!==u&&(f=Math.max(0,u-d));var l=this.safeFloat(e,"FeePercent"),h=void 0;void 0!==l&&(h=l*d);var p={rate:l,cost:h,currency:i},m=this.safeString(e,"OrderGuid"),v=this.parseOrderStatus(this.safeString(e,"Status")),b=this.safeFloat(e,"Value"),g=this.safeFloat(e,"AvgPrice"),y=this.safeFloat(e,"Price",g);return{info:e,id:m,clientOrderId:void 0,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:r,type:s,timeInForce:void 0,postOnly:void 0,side:o,price:y,stopPrice:void 0,cost:b,average:g,amount:u,filled:d,remaining:f,status:v,fee:p,trades:void 0}}parseOrderStatus(e){return this.safeString({Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"},e,e)}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return n.next=4,i.privatePostGetOrderDetails(i.extend({orderGuid:e},r));case 4:return s=n.sent,o=void 0,void 0!==t&&(o=i.market(t)),n.abrupt("return",i.parseOrder(s,o));case 8:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.ordered({}),c=void 0,void 0!==e&&(c=s.market(e),o.primaryCurrencyCode=c.baseId,o.secondaryCurrencyCode=c.quoteId),void 0===r&&(r=50),o.pageIndex=1,o.pageSize=r,n.next=10,s.privatePostGetOpenOrders(s.extend(o,i));case 10:return u=n.sent,d=s.safeValue(u,"Data",[]),n.abrupt("return",s.parseOrders(d,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.ordered({}),c=void 0,void 0!==e&&(c=s.market(e),o.primaryCurrencyCode=c.baseId,o.secondaryCurrencyCode=c.quoteId),void 0===r&&(r=50),o.pageIndex=1,o.pageSize=r,n.next=10,s.privatePostGetClosedOrders(s.extend(o,i));case 10:return u=n.sent,d=s.safeValue(u,"Data",[]),n.abrupt("return",s.parseOrders(d,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r=50,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.safeInteger(i,"pageIndex",1),void 0===r&&(r=50),c=s.ordered({pageIndex:o,pageSize:r}),n.next=7,s.privatePostGetTrades(s.extend(c,i));case 7:return u=n.sent,d=void 0,void 0!==e&&(d=s.market(e)),n.abrupt("return",s.parseTrades(u.Data,d,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(e.TradeTimestampUtc),n=this.safeString(e,"TradeGuid"),a=this.safeString(e,"OrderGuid"),i=this.safeFloat2(e,"Price","SecondaryCurrencyTradePrice"),s=this.safeFloat2(e,"VolumeTraded","PrimaryCurrencyAmount"),o=void 0;void 0!==i&&void 0!==s&&(o=i*s);var c=void 0;void 0!==t&&(c=t.symbol);var u=this.safeString(e,"OrderType");return void 0!==u&&(u.indexOf("Bid")>=0?u="buy":u.indexOf("Offer")>=0&&(u="sell")),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,order:a,type:void 0,side:u,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={primaryCurrencyCode:o.baseId,secondaryCurrencyCode:o.quoteId,numberOfRecentTradesToRetrieve:50},n.next=6,s.publicGetGetRecentTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u.Trades,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d=c.capitalize(t),f="privatePostPlace"+d+"Order",l=d,l+="sell"===r?"Offer":"Bid",h=c.ordered({primaryCurrencyCode:u.baseId,secondaryCurrencyCode:u.quoteId,orderType:l}),"limit"===t&&(h.price=s),h.volume=i,n.next=12,c[f](c.extend(h,o));case 12:return p=n.sent,n.abrupt("return",{info:p,id:p.OrderGuid});case 14:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderGuid:e},t.next=5,i.privatePostCancelOrder(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();for(var o=this.nonce(),c=[s,"apiKey="+this.apiKey,"nonce="+o.toString()],u=Object.keys(n),d=0;d<u.length;d++){var f=u[d],l=n[f].toString();c.push(f+"="+l)}var h=c.join(","),p=this.hmac(this.encode(h),this.encode(this.secret)),m=this.ordered({});m.apiKey=this.apiKey,m.nonce=o,m.signature=p.toUpperCase();for(var v=0;v<u.length;v++){var b=u[v];m[b]=n[b]}i=this.json(m),a={"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.InsufficientFunds,d=s.InvalidOrder,f=s.OrderNotFound,l=s.AuthenticationError,h=s.BadSymbol;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"indodax",name:"INDODAX",countries:["ID"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchTrades:!0,withdraw:!0},version:"2.0",urls:{logo:"https://user-images.githubusercontent.com/51840849/87070508-9358c880-c221-11ea-8dc5-5391afbbb422.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://github.com/btcid/indodax-official-api-docs",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["server_time","pairs","{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}},exceptions:{exact:{invalid_pair:h,"Insufficient balance.":u,"invalid order.":f,"Invalid credentials. API not found or session has expired.":l,"Invalid credentials. Bad sign.":l},broad:{"Minimum price":d,"Minimum order":d}},options:{recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},commonCurrencies:{STR:"XLM",BCHABC:"BCH",BCHSV:"BSV",DRK:"DASH",NEM:"XEM"}})}nonce(){return this.milliseconds()-this.options.timeDifference}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetServerTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"server_time"));case 4:case"end":return r.stop()}}),r)})))()}loadTimeDifference(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetchTime(e);case 2:return a=r.sent,i=t.milliseconds(),t.options.timeDifference=i-a,r.abrupt("return",t.options.timeDifference);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPairs(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"ticker_id"),u=t.safeString(o,"traded_currency"),d=t.safeString(o,"base_currency"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,p=t.safeFloat(o,"trade_fee_percent"),m=t.safeInteger(o,"is_maintenance"),v=!m,b=t.safeInteger(o,"price_round"),g={amount:8,price:b},y={amount:{min:t.safeFloat(o,"trade_min_traded_currency"),max:void 0},price:{min:t.safeFloat(o,"trade_min_base_currency"),max:void 0},cost:{min:void 0,max:void 0}},i.push({id:c,symbol:h,base:f,quote:l,baseId:u,quoteId:d,taker:p,percentage:!0,precision:g,limits:y,info:o,active:v});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"return",{}),s=t.safeValue(i,"balance",{}),o=t.safeValue(i,"balance_hold",{}),c={info:a},u=Object.keys(s),d=0;d<u.length;d++)f=u[d],l=t.safeCurrencyCode(f),(h=t.account()).free=t.safeFloat(s,f),h.used=t.safeFloat(o,f),c[l]=h;return r.abrupt("return",t.parseBalance(c));case 12:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={pair:i.marketId(e)},t.next=5,i.publicGetPairDepth(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s,void 0,"buy","sell"));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetPairTicker(r.extend(s,t));case 6:return o=n.sent,c=o.ticker,u=r.safeTimestamp(c,"server_time"),d="vol_"+i.baseId.toLowerCase(),f="vol_"+i.quoteId.toLowerCase(),l=r.safeFloat(c,"last"),n.abrupt("return",{symbol:e,timestamp:u,datetime:r.iso8601(u),high:r.safeFloat(c,"high"),low:r.safeFloat(c,"low"),bid:r.safeFloat(c,"buy"),bidVolume:void 0,ask:r.safeFloat(c,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:l,last:l,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(c,d),quoteVolume:r.safeFloat(c,f),info:c});case 13:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=void 0;void 0!==t&&(a=t.symbol);var i=this.safeString(e,"type"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;return void 0!==s&&void 0!==o&&(c=s*o),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},n.next=6,s.publicGetPairTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({open:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){var r=void 0;"type"in e&&(r=e.type);var n=this.parseOrderStatus(this.safeString(e,"status","open")),a=void 0,i=void 0,s=this.safeFloat(e,"price"),o=void 0,c=void 0,u=void 0;if(void 0!==t){a=t.symbol;var d=t.quoteId,f=t.baseId;if("idr"===t.quoteId&&"order_rp"in e&&(d="rp"),"idr"===t.baseId&&"remain_rp"in e&&(f="rp"),i=this.safeFloat(e,"order_"+d)){o=i/s;var l=this.safeFloat(e,"remain_"+d);void 0!==l&&(u=o-(c=l/s))}else i=s*(o=this.safeFloat(e,"order_"+f)),u=o-(c=this.safeFloat(e,"remain_"+f))}var h=void 0;u&&(h=i/u);var p=this.safeInteger(e,"submit_time");return{info:e,id:this.safeString(e,"order_id"),clientOrderId:void 0,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:s,stopPrice:void 0,cost:i,average:h,amount:o,filled:u,remaining:c,status:n,fee:void 0,trades:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" fetchOrder() requires a symbol");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={pair:s.id,order_id:e},n.next=8,i.privatePostGetOrder(i.extend(o,r));case 8:return u=n.sent,d=u.return,f=i.parseOrder(i.extend({id:e},d.order),s),n.abrupt("return",i.extend({info:u},f));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.pair=o.id),n.next=7,s.privatePostOpenOrders(s.extend(c,i));case 7:if(u=n.sent,d=u.return.orders){n.next=11;break}return n.abrupt("return",[]);case 11:if(void 0===e){n.next=13;break}return n.abrupt("return",s.parseOrders(d,o,t,r));case 13:for(f=Object.keys(d),l=[],h=0;h<f.length;h++)p=f[h],m=d[p],o=s.markets_by_id[p],v=s.parseOrders(m,o,t,r),l=s.arrayConcat(l,v);return n.abrupt("return",l);case 17:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o={},u=void 0,void 0!==e&&(u=s.market(e),o.pair=u.id),n.next=9,s.privatePostOrderHistory(s.extend(o,i));case 9:return d=n.sent,f=s.parseOrders(d.return.orders,u),f=s.filterBy(f,"status","closed"),n.abrupt("return",s.filterBySymbolSinceLimit(f,e,t,r));case 13:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new o(u.id+" allows limit orders only");case 2:return n.next=4,u.loadMarkets();case 4:return d=u.market(e),f={pair:d.id,type:r,price:s},l=d.baseId,"buy"===r?f[d.quoteId]=i*s:f[d.baseId]=i,f[l]=i,n.next=11,u.privatePostTrade(u.extend(f,c));case 11:return h=n.sent,p=u.safeValue(h,"return",{}),m=u.safeString(p,"order_id"),n.abrupt("return",{info:h,id:m});case 15:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder() requires a symbol argument");case 2:if(void 0!==(s=i.safeValue(r,"side"))){n.next=5;break}throw new c(i.id+' cancelOrder() requires an extra "side" param');case 5:return n.next=7,i.loadMarkets();case 7:return o=i.market(t),u={order_id:e,pair:o.id,type:s},n.next=11,i.privatePostCancelOrder(i.extend(u,r));case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u=o.milliseconds(),d={currency:c.id,withdraw_amount:t,withdraw_address:r,request_id:u.toString()},i&&(d.withdraw_memo=i),n.next=9,o.privatePostWithdrawCoin(o.extend(d,s));case 9:return f=n.sent,l=void 0,"txid"in f&&f.txid.length>0&&(l=f.txid),n.abrupt("return",{info:f,id:l});case 13:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t];return"public"===t?s+="/"+this.implodeParams(e,n):(this.checkRequiredCredentials(),i=this.urlencode(this.extend({method:e,timestamp:this.nonce(),recvWindow:this.options.recvWindow},n)),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}),{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&!Array.isArray(s)){var d=this.safeValue(s,"error","");if("success"in s||""!==d){if(1===this.safeInteger(s,"success",0)){if("return"in s)return;throw new o(this.id+": malformed response: "+this.json(s))}var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new o(f)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"XBT",quoteId:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",baseId:"XBT",quoteId:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/SGD":{id:"ETHSGD",symbol:"ETH/SGD",base:"ETH",quote:"SGD",baseId:"ETH",quoteId:"SGD"},PAXGUSD:{id:"PAXGUSD",symbol:"PAXG/USD",base:"PAXG",quote:"USD",baseId:"PAXG",quoteId:"USD"},BCHUSD:{id:"BCHUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCH",quoteId:"USD"},LTCUSD:{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"}},fees:{trading:{maker:-3e-4,taker:.35/100}},commonCurrencies:{XBT:"BTC"}})}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={symbol:i.marketId(e)},t.next=5,i.publicGetMarketsSymbolOrderBook(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={symbol:r.marketId(e)},n.next=5,r.publicGetMarketsSymbolTicker(r.extend(i,t));case 5:if(s=n.sent,c=r.safeString(s,"serverTimeUTC")){n.next=9;break}throw new o(r.id+" fetchTicker returned a bad response: "+r.json(s));case 9:return u=r.parse8601(c),d=r.safeFloat(s,"vwap24h"),f=r.safeFloat(s,"volume24h"),l=void 0,void 0!==f&&void 0!==d&&(l=f*d),h=r.safeFloat(s,"lastPrice"),n.abrupt("return",{symbol:e,timestamp:u,datetime:r.iso8601(u),high:r.safeFloat(s,"high24h"),low:r.safeFloat(s,"low24h"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:d,open:r.safeFloat(s,"openToday"),close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:f,quoteVolume:l,info:s});case 16:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString2(e,"executionId","matchNumber"),n=this.parse8601(this.safeString(e,"timestamp")),a=this.safeString(e,"direction"),i=this.safeString(e,"orderId"),s=this.safeFloat(e,"commissionPaid"),o=this.safeString(e,"commissionCurrency"),c=this.safeCurrencyCode(o),u=this.safeFloat(e,"rebatesApplied");void 0!==u&&(u=-u);var d=this.safeString(e,"rebateCurrency"),f=this.safeCurrencyCode(d),l=this.safeFloat2(e,"price","rate"),h=this.safeFloat2(e,"currency1Amount","amount"),p=void 0;void 0!==l&&void 0!==h&&(p=l*h);var m=void 0,v=this.safeString(e,"instrument");if(void 0!==v)if(v in this.markets_by_id)t=this.markets_by_id[v];else{var b=this.safeString(e,"currency1"),g=this.safeString(e,"currency2");m=this.safeCurrencyCode(b)+"/"+this.safeCurrencyCode(g)}void 0===m&&void 0!==t&&(m=t.symbol);var y={info:e,id:r,timestamp:n,datetime:this.iso8601(n),symbol:m,order:i,type:void 0,side:a,takerOrMaker:void 0,price:l,amount:h,cost:p,fee:void 0};return void 0!==s&&(void 0!==u?c===f?(s=this.sum(s,u),y.fee={cost:s,currency:c}):y.fees=[{cost:s,currency:c},{cost:u,currency:f}]:y.fee={cost:s,currency:c}),"fee"in y||"fees"in y||(y.fee=void 0),y}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,a,o,c,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:if(void 0!==(t=s.safeString(i,"walletId"))){e.next=5;break}throw new u(s.id+" fetchMyTrades() requires a walletId parameter");case 5:return a={walletId:t},void 0!==r&&(a.perPage=r),e.next=9,s.privateGetWalletsWalletIdFundingHistory(s.extend(a,i));case 9:for(o=e.sent,c=o.fundingHistory,d=[],f=0;f<c.length;f++)l=c[f],h=s.safeString(l,"time"),p=s.parse8601(h),m=s.safeString(l,"currency"),v=s.safeString(l,"destinationAddress"),b=s.safeString(l,"txnHash"),g=s.safeStringLower(l,"transactionType"),y=s.safeString(l,"status"),w=s.parseTransferStatus(y),d.push({id:s.safeString(l,"withdrawalId"),timestamp:p,datetime:s.iso8601(p),currency:s.safeCurrencyCode(m),address:v,tag:void 0,txid:b,type:g,status:w,amount:s.safeFloat(l,"amount"),fee:void 0,info:l});return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})))()}parseTransferStatus(e){return this.safeString({cancelled:"canceled",completed:"ok"},e,"pending")}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(void 0!==(c=s.safeString(i,"walletId"))){n.next=5;break}throw new o(s.id+" fetchMyTrades() requires a walletId parameter");case 5:return u={walletId:c},void 0!==t&&(u.rangeStart=s.ymdhms(t,"T")),void 0!==r&&(u.perPage=r),n.next=10,s.privateGetWalletsWalletIdTrades(s.extend(u,i));case 10:return d=n.sent,f=s.safeValue(d,"tradingHistory",[]),l=void 0,void 0!==e&&(l=s.market(e)),n.abrupt("return",s.parseTrades(f,l,t,r));case 15:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetMarketsSymbolTrades(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"recentTrades",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.fetchWallets(e);case 4:for(a=r.sent,i=a[0].balances,s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"availableBalance"),f.total=t.safeFloat(c,"totalBalance"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchWallets(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:if(t.uid){r.next=4;break}throw new c(t.id+" fetchWallets() requires uid API credential");case 4:return a={userId:t.uid},r.next=7,t.privateGetWallets(t.extend(a,e));case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()}fetchWallet(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={walletId:e},n.next=5,r.privateGetWalletsWalletId(r.extend(i,t));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"open"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"filled"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(c=void 0,void 0!==e&&(c=s.market(e)),"walletId"in i){n.next=7;break}throw new o(s.id+" fetchOrders() requires a walletId parameter");case 7:return u=i.walletId,d={walletId:u},n.next=11,s.privateGetWalletsWalletIdOrders(s.extend(d,i));case 11:return f=n.sent,n.abrupt("return",s.parseOrders(f,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({submitted:"open",open:"open",filled:"closed",cancelled:"canceled",rejected:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"side"),n=this.safeString(e,"type"),a=this.markets_by_id[e.instrument].symbol,i=this.parse8601(e.createdTime),s=this.safeFloat(e,"amount"),o=this.safeFloat(e,"amountFilled"),c=void 0,u=void 0,d=this.safeFloat(e,"price"),f=this.safeFloat(e,"volumeWeightedAveragePrice");void 0!==o&&(void 0!==s&&(c=s-o),void 0!==f&&(u=o*f));var l=this.safeString(e,"clientOrderIdentifier"),h=this.safeString(e,"id"),p="True"===this.safeString(e,"postOnly");return{id:h,clientOrderId:l,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:this.parseOrderStatus(this.safeString(e,"status")),symbol:a,type:n,timeInForce:void 0,postOnly:p,side:r,price:d,stopPrice:void 0,cost:u,average:f,amount:s,filled:o,remaining:c,fee:void 0,trades:void 0}}nonce(){return this.milliseconds()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("market"!==t){n.next=4;break}throw new o(u.id+" allows limit orders only");case 4:if("walletId"in c){n.next=7;break}throw new o(u.id+" createOrder() requires a walletId parameter");case 7:return i=i.toString(),s=s.toString(),d=u.market(e),f={side:r,type:t,currency:d.id.replace(d.quote,""),amount:i,display:i,price:s,instrument:d.id},n.next=13,u.privatePostWalletsWalletIdOrders(u.extend(f,c));case 13:return l=n.sent,n.abrupt("return",{info:l,id:l.id});case 15:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:if("walletId"in r){t.next=5;break}throw new o(i.id+" fetchOrder() requires a walletId parameter");case 5:return a={id:e},t.next=8,i.privateGetWalletsWalletIdOrdersId(i.extend(a,r));case 8:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 10:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("walletId"in r){t.next=3;break}throw new o(i.id+" cancelOrder() requires a walletId parameter");case 3:return a={id:e},t.next=6,i.privateDeleteWalletsWalletIdOrdersId(i.extend(a,r));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("GET"===r&&Object.keys(o).length&&(s+="?"+this.urlencode(o)),"POST"===r&&Object.keys(o).length&&(i=this.json(o)),"private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=c,d=[r,s,"POST"===r?i:"",c,u],f=c+this.json(d).replace("\\/","/"),l=this.hash(this.encode(f),"sha256","binary"),h=this.stringToBinary(this.encode(s)),p=this.binaryConcat(h,l),m=this.hmac(p,this.encode(this.secret),"sha512","base64");a={Authorization:this.apiKey+":"+m,"Content-Type":"application/json","X-Auth-Timestamp":u,"X-Auth-Nonce":c}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(!("code"in(d=n.sent))){n.next=5;break}throw new o(u.id+" "+u.json(d));case 5:return n.abrupt("return",d);case 6:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.BadSymbol,c=s.ExchangeNotAvailable,u=s.ArgumentsRequired,d=s.PermissionDenied,f=s.AuthenticationError,l=s.ExchangeError,h=s.OrderNotFound,p=s.DDoSProtection,m=s.InvalidNonce,v=s.InsufficientFunds,b=s.CancelPending,g=s.InvalidOrder,y=s.InvalidAddress,w=s.RateLimitExceeded,k=r(16),x=k.TRUNCATE,_=k.DECIMAL_PLACES;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!0,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchLedgerEntry:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:"emulated",fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},marketsByAltname:{},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"4h":240,"1d":1440,"1w":10080,"2w":21600},urls:{logo:"https://user-images.githubusercontent.com/51840849/76173629-fc67fb00-61b1-11ea-84fe-f2de582f58a3.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://kraken.zendesk.com/api/v2/help_center/en-us/articles"},www:"https://www.kraken.com",doc:"https://www.kraken.com/features/api",fees:"https://www.kraken.com/en-us/features/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["360000292886","201893608"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","AddExport","Balance","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","ExportStatus","GetWebSocketsToken","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","RetrieveExport","RemoveExport","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},commonCurrencies:{XBT:"BTC","XBT.M":"BTC.M",XDG:"DOGE",REPV2:"REP",REP:"REPV1"},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{},delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"]},exceptions:{"EQuery:Invalid asset pair":o,"EAPI:Invalid key":f,"EFunding:Unknown withdraw key":l,"EFunding:Invalid amount":v,"EService:Unavailable":c,"EDatabase:Internal error":c,"EService:Busy":c,"EQuery:Unknown asset":l,"EAPI:Rate limit exceeded":p,"EOrder:Rate limit exceeded":p,"EGeneral:Internal error":c,"EGeneral:Temporary lockout":p,"EGeneral:Permission denied":d,"EOrder:Unknown order":g,"EOrder:Order minimum not met":g}})}costToPrecision(e,t){return this.decimalToPrecision(t,x,this.markets[e].precision.price,_)}feeToPrecision(e,t){return this.decimalToPrecision(t,x,this.markets[e].precision.amount,_)}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssetPairs(e);case 2:for(a=r.sent,i=Object.keys(a.result),s=[],o=0;o<i.length;o++)c=i[o],u=a.result[c],d=u.base,f=u.quote,l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=c.indexOf(".d")>=0,m=p?u.altname:l+"/"+h,v=void 0,"fees_maker"in u&&(v=parseFloat(u.fees_maker[0][1])/100),b={amount:u.lot_decimals,price:u.pair_decimals},g=t.safeFloat(u,"ordermin"),s.push({id:c,symbol:m,base:l,quote:h,baseId:d,quoteId:f,darkpool:p,info:u,altname:u.altname,maker:v,taker:parseFloat(u.fees[0][1])/100,active:!0,precision:b,limits:{amount:{min:g,max:Math.pow(10,b.amount)},price:{min:Math.pow(10,-b.price),max:void 0},cost:{min:0,max:void 0}}});return s=t.appendInactiveMarkets(s),t.marketsByAltname=t.indexBy(s,"altname"),r.abrupt("return",s);case 9:case"end":return r.stop()}}),r)})))()}safeCurrency(e,t){if(e.length>3&&(0===e.indexOf("X")||0===e.indexOf("Z"))){if(e.indexOf(".")>0)return super.safeCurrency(e,t);e=e.slice(1)}return super.safeCurrency(e,t)}appendInactiveMarkets(e){for(var t={amount:8,price:8},r={min:0,max:void 0},n={min:Math.pow(10,-t.price),max:void 0},a={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:{amount:{min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},price:n,cost:r}},i=[],s=0;s<i.length;s++)e.push(this.extend(a,i[s]));return e}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i=t.safeValue(a,"result"),s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeCurrencyCode(t.safeString(d,"altname")),l=t.safeInteger(d,"decimals"),h=!t.inArray(f,t.options.inactiveCurrencies),o[f]={id:u,code:f,info:d,name:f,active:h,fee:void 0,precision:l,limits:{amount:{min:Math.pow(10,-l),max:Math.pow(10,l)},price:{min:Math.pow(10,-l),max:Math.pow(10,l)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,l)}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return t.checkRequiredCredentials(),r.next=5,t.privatePostTradeVolume(e);case 5:for(a=r.sent,i=t.safeFloat(a.result,"volume"),s=t.fees.trading.tiers,o=s.taker[1],c=s.maker[1],u=0;u<s.taker.length;u++)i>=s.taker[u][0]&&(o=s.taker[u][1]);for(d=0;d<s.maker.length;d++)i>=s.maker[d][0]&&(c=s.maker[d][1]);return r.abrupt("return",{info:a,maker:c,taker:o});case 13:case"end":return r.stop()}}),r)})))()}parseBidAsk(e,t=0,r=1){return[this.safeFloat(e,t),this.safeFloat(e,r),this.safeInteger(e,2)]}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(!(s=i.market(e)).darkpool){n.next=5;break}throw new l(i.id+" does not provide an order book for darkpool symbol "+e);case 5:return o={pair:s.id},void 0!==t&&(o.count=t),n.next=9,i.publicGetDepth(i.extend(o,r));case 9:return c=n.sent,u=i.safeValue(c,"result",{}),d=i.safeValue(u,s.id),n.abrupt("return",i.parseOrderBook(d));case 13:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var a=parseFloat(e.v[1]),i=parseFloat(e.p[1]),s=void 0;void 0!==a&&void 0!==i&&(s=a*i);var o=parseFloat(e.c[0]);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:i,open:this.safeFloat(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:for(e=void 0===e?r.symbols:e,i=[],s=0;s<e.length;s++)o=e[s],(c=r.markets[o]).active&&!c.darkpool&&i.push(c.id);return u={pair:i.join(",")},n.next=8,r.publicGetTicker(r.extend(u,t));case 8:for(d=n.sent,f=d.result,l=Object.keys(f),h={},p=0;p<l.length;p++)m=l[p],v=r.markets_by_id[m],b=v.symbol,g=f[m],h[b]=r.parseTicker(g,v);return n.abrupt("return",r.filterByArray(h,"symbol",e));case 14:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(!(e.indexOf(".d")>=0)){n.next=5;break}throw new l(r.id+" does not provide a ticker for darkpool symbol "+e);case 5:return i=r.market(e),s={pair:i.id},n.next=9,r.publicGetTicker(r.extend(s,t));case 9:return o=n.sent,c=o.result[i.id],n.abrupt("return",r.parseTicker(c,i));case 12:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,6)]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={pair:c.id,interval:o.timeframes[t]},void 0!==r&&(u.since=parseInt((r-1)/1e3)),n.next=7,o.publicGetOHLC(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"result",{}),l=o.safeValue(f,c.id,[]),n.abrupt("return",o.parseOHLCVs(l,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({trade:"trade",withdrawal:"transaction",deposit:"transaction",transfer:"transfer",margin:"margin"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"id"),n=void 0,a=this.safeString(e,"refid"),i=this.parseLedgerEntryType(this.safeString(e,"type")),s=this.safeCurrencyCode(this.safeString(e,"asset"),t),o=this.safeFloat(e,"amount");o<0?(n="out",o=Math.abs(o)):n="in";var c=this.safeFloat(e,"time"),u=void 0;void 0!==c&&(u=parseInt(1e3*c));var d={cost:this.safeFloat(e,"fee"),currency:s};return{info:e,id:r,direction:n,account:void 0,referenceId:a,referenceAccount:void 0,type:i,currency:s,amount:o,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:u,datetime:this.iso8601(u),fee:d}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.asset=c.id),void 0!==t&&(o.start=parseInt(t/1e3)),n.next=8,s.privatePostLedgers(s.extend(o,i));case 8:for(u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"ledger",{}),l=Object.keys(f),h=[],p=0;p<l.length;p++)m=l[p],(v=f[m]).id=m,h.push(v);return n.abrupt("return",s.parseLedger(h,c,t,r));case 15:case"end":return n.stop()}}),a)})))()}fetchLedgerEntriesByIds(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,f,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return e=e.join(","),a=i.extend({id:e},r),t.next=6,i.privatePostQueryLedgers(a);case 6:for(s=t.sent,o=s.result,c=Object.keys(o),u=[],d=0;d<c.length;d++)f=c[d],(l=o[f]).id=f,u.push(l);return t.abrupt("return",i.parseLedger(u));case 12:case"end":return t.stop()}}),t)})))()}fetchLedgerEntry(e,t,r={}){var i=this;return a(n.mark((function a(){var s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.fetchLedgerEntriesByIds([e],t,r);case 2:return s=n.sent,n.abrupt("return",s[0]);case 4:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,o=void 0,c=void 0,u=void 0,d=void 0,f=void 0;if(Array.isArray(e))r=this.safeTimestamp(e,2),n="s"===e[3]?"sell":"buy",a="l"===e[4]?"limit":"market",i=this.safeFloat(e,0),s=this.safeFloat(e,1),e.length>6&&(c=this.safeString(e,6));else if("string"===typeof e)c=e;else if("ordertxid"in e){var l=this.safeString(e,"pair"),h=this.findMarketByAltnameOrId(l);if(void 0!==h?t=h:void 0!==l&&(t=this.getDelistedMarketById(l)),u=this.safeString(e,"ordertxid"),c=this.safeString2(e,"id","postxid"),r=this.safeTimestamp(e,"time"),n=this.safeString(e,"type"),a=this.safeString(e,"ordertype"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"vol"),"fee"in e){var p=void 0;void 0!==t&&(p=t.quote),d={cost:this.safeFloat(e,"fee"),currency:p}}}return void 0!==t&&(f=t.symbol),void 0!==i&&void 0!==s&&(o=i*s),{id:c,order:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:f,type:a,side:n,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:d}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,h,p,m,v;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:if(o=s.market(e),c=o.id,u={pair:c},void 0!==t&&(u.since=1e6*t,u.since=t.toString()+"000000"),void 0===r||1e3===r){n.next=10;break}if(!s.safeValue(s.options,"fetchTradesWarning",!0)){n.next=10;break}throw new l(s.id+" fetchTrades() cannot serve "+r.toString()+" trades without breaking the pagination, see https://github.com/ccxt/ccxt/issues/5698 for more details. Set exchange.options['fetchTradesWarning'] to acknowledge this warning and silence it.");case 10:return n.next=12,s.publicGetTrades(s.extend(u,i));case 12:if(d=n.sent,f=d.result,h=f[c],!((p=h.length)<=0)){n.next=18;break}return n.abrupt("return",[]);case 18:return m=h[p-1],v=s.safeString(f,"last"),m.push(v),n.abrupt("return",s.parseTrades(h,o,t,r));case 22:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"result",{}),s={info:i},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(i,u),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var d,f,l,h,p,m,v,b,g,y;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(d=c.market(e),f={pair:d.id,type:r,ordertype:t,volume:c.amountToPrecision(e,i)},l=c.safeString2(o,"userref","clientOrderId"),o=c.omit(o,["userref","clientOrderId"]),void 0!==l&&(f.userref=l),"limit"!==t){n.next=11;break}f.price=c.priceToPrecision(e,s),n.next=35;break;case 11:if("stop-loss"!==t&&"take-profit"!==t){n.next=20;break}if(void 0!==(h=c.safeFloat2(o,"price","stopPrice",s))){n.next=17;break}throw new u(c.id+" createOrder() requires a price argument or a price/stopPrice parameter for a "+t+" order");case 17:f.price=c.priceToPrecision(e,h);case 18:n.next=35;break;case 20:if("stop-loss-limit"!==t&&"take-profit-limit"!==t){n.next=35;break}if(p=c.safeFloat2(o,"price","stopPrice"),m=c.safeFloat(o,"price2"),b=void 0!==m,!(v=void 0!==p)||!b){n.next=30;break}f.price=c.priceToPrecision(e,p),f.price2=c.priceToPrecision(e,m),n.next=35;break;case 30:if(void 0!==s&&(v||b)){n.next=34;break}throw new u(c.id+" createOrder() requires a price argument and/or price/stopPrice/price2 parameters for a "+t+" order");case 34:v?(f.price=c.priceToPrecision(e,p),f.price2=c.priceToPrecision(e,s)):b&&(f.price=c.priceToPrecision(e,s),f.price2=c.priceToPrecision(e,m));case 35:return o=c.omit(o,["price","stopPrice","price2"]),n.next=38,c.privatePostAddOrder(c.extend(f,o));case 38:return g=n.sent,y=c.safeValue(g,"result"),n.abrupt("return",c.parseOrder(y));case 41:case"end":return n.stop()}}),a)})))()}findMarketByAltnameOrId(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}getDelistedMarketById(e){if(void 0===e)return e;var t=this.safeValue(this.options.delistedMarketsById,e);if(void 0!==t)return t;var r=3,n=3,a=6;8===e.length?(r=4,n=4,a=8):7===e.length&&(r=4,n=4,a=7);var i=e.slice(0,r),s=e.slice(n,a),o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(s);return t={symbol:o+"/"+c,base:o,quote:c,baseId:i,quoteId:s},this.options.delistedMarketsById[e]=t,t}parseOrderStatus(e){return this.safeString({pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"},e,e)}parseOrder(e,t){var r=this.safeValue(e,"descr",{}),n=this.safeString(r,"order"),a=void 0,i=void 0,s=void 0,o=void 0,c=void 0;if(void 0!==n){var u=n.split(" ");a=this.safeString(u,0),c=this.safeFloat(u,1),s=this.safeString(u,2),i=this.safeString(u,4),o=this.safeFloat(u,5)}a=this.safeString(r,"type",a),i=this.safeString(r,"ordertype",i),s=this.safeString(r,"pair",s);var d=this.findMarketByAltnameOrId(s),f=void 0;void 0!==d?t=d:void 0!==s&&(t=this.getDelistedMarketById(s));var l=this.safeTimestamp(e,"opentm");c=this.safeFloat(e,"vol",c);var h=this.safeFloat(e,"vol_exec"),p=void 0;void 0!==c&&void 0!==h&&(p=c-h);var m=void 0,v=this.safeFloat(e,"cost");void 0!==(o=this.safeFloat(r,"price",o))&&0!==o||(o=this.safeFloat(r,"price2")),void 0!==o&&0!==o||(o=this.safeFloat(e,"price",o));var b=this.safeFloat(e,"price");if(void 0!==t&&(f=t.symbol,"fee"in e)){var g=e.oflags;m={cost:this.safeFloat(e,"fee"),rate:void 0},g.indexOf("fciq")>=0?m.currency=t.quote:g.indexOf("fcib")>=0&&(m.currency=t.base)}var y=this.parseOrderStatus(this.safeString(e,"status")),w=this.safeString(e,"id");if(void 0===w){var k=this.safeValue(e,"txid");w=this.safeString(k,0)}var x=this.safeString(e,"userref"),_=this.safeValue(e,"trades"),S=void 0;void 0!==_&&(S=this.parseTrades(_,t,void 0,void 0,{order:w}));var T=this.safeFloat(e,"stopprice");return{id:w,clientOrderId:x,info:e,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:y,symbol:f,type:i,timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:T,cost:v,amount:c,filled:h,average:b,remaining:p,fee:m,trades:S}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.safeValue2(r,"userref","clientOrderId"),s={trades:!0},o=r,void 0!==a?(s.userref=a,o=i.omit(r,["userref","clientOrderId"])):s.txid=e,t.next=8,i.privatePostQueryOrders(i.extend(s,o));case 8:if(c=t.sent,u=i.safeValue(c,"result",[]),e in u){t.next=12;break}throw new h(i.id+" fetchOrder() could not find order id "+e);case 12:return d=i.parseOrder(i.extend({id:e},u[e])),t.abrupt("return",i.extend({info:c},d));case 14:case"end":return t.stop()}}),t)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function e(){var a,c,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.safeValue(s,"trades"),c=[],void 0!==a){e.next=6;break}throw new u(o.id+" fetchOrderTrades() requires a unified order structure in the params argument or a 'trades' param (an array of trade id strings)");case 6:for(d=0;d<a.length;d++)"string"===typeof(f=a[d])?c.push(f):c.push(f.id);case 7:return e.next=9,o.loadMarkets();case 9:l=o.safeValue(o.options,"fetchOrderTrades",{}),h=o.safeInteger(l,"batchSize",20),p=parseInt(c/h),p=o.sum(p,1),m=c.length,v=[],b=0;case 16:if(!(b<p)){e.next=32;break}for(g=[],y=0;y<h;y++)(w=o.sum(b*h,y))<m&&g.push(c[w]);return k={txid:g.join(",")},e.next=22,o.privatePostQueryTrades(k);case 22:for(x=e.sent,_=o.safeValue(x,"result"),S=Object.keys(_),T=0;T<S.length;T++)_[S[T]].id=S[T];O=o.parseTrades(_,void 0,r,i),A=o.filterBySymbol(O,t),v=o.arrayConcat(v,A);case 29:b++,e.next=16;break;case 32:return e.abrupt("return",v);case 33:case"end":return e.stop()}}),e)})))()}fetchOrdersByIds(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,f,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return t.next=4,i.privatePostQueryOrders(i.extend({trades:!0,txid:e.join(",")},r));case 4:for(a=t.sent,s=i.safeValue(a,"result",{}),o=[],c=Object.keys(s),u=0;u<c.length;u++)d=c[u],f=s[d],l=i.parseOrder(i.extend({id:d},f)),o.push(l);return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.start=parseInt(t/1e3)),n.next=6,s.privatePostTradesHistory(s.extend(o,i));case 6:for(c=n.sent,u=c.result.trades,d=Object.keys(u),f=0;f<d.length;f++)u[d[f]].id=d[f];return l=void 0,void 0!==e&&(l=s.market(e)),n.abrupt("return",s.parseTrades(u,l,t,r));case 13:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=void 0,t.prev=3,t.next=6,i.privatePostCancelOrder(i.extend({txid:e},r));case 6:a=t.sent,t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(3),!i.last_http_response){t.next=14;break}if(!(i.last_http_response.indexOf("EOrder:Unknown order")>=0)){t.next=14;break}throw new h(i.id+" cancelOrder() error "+i.last_http_response);case 14:throw t.t0;case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,null,[[3,9]])})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.start=parseInt(t/1e3)),n.next=6,s.privatePostOpenOrders(s.extend(o,i));case 6:return c=n.sent,u=void 0,void 0!==e&&(u=s.market(e)),d=s.safeValue(c,"result",{}),f=s.safeValue(d,"open",[]),n.abrupt("return",s.parseOrders(f,u,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},void 0!==t&&(o.start=parseInt(t/1e3)),n.next=6,s.privatePostClosedOrders(s.extend(o,i));case 6:return c=n.sent,u=void 0,void 0!==e&&(u=s.market(e)),d=s.safeValue(c,"result",{}),f=s.safeValue(d,"closed",[]),n.abrupt("return",s.parseOrders(f,u,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchDepositMethods(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={asset:i.id},n.next=6,r.privatePostDepositMethods(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.safeValue(o,"result"));case 8:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({Initial:"pending",Pending:"pending",Success:"ok",Settled:"pending",Failure:"failed",Partial:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"refid"),n=this.safeString(e,"txid"),a=this.safeTimestamp(e,"time"),i=this.safeString(e,"asset"),s=this.safeCurrencyCode(i,t),o=this.safeString(e,"info"),c=this.safeFloat(e,"amount"),u=this.parseTransactionStatus(this.safeString(e,"status")),d=this.safeString(e,"type"),f=this.safeFloat(e,"fee");return void 0===f&&"deposit"===d&&(f=0),{info:e,id:r,currency:s,amount:c,address:o,tag:void 0,status:u,type:d,updated:void 0,txid:n,timestamp:a,datetime:this.iso8601(a),fee:{currency:s,cost:f}}}parseTransactionsByType(e,t,r,n,a){for(var i=[],s=0;s<t.length;s++){var o=this.parseTransaction(this.extend({type:e},t[s]));i.push(o)}return this.filterByCurrencySinceLimit(i,r,n,a)}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" fetchDeposits() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={asset:o.id},n.next=8,s.privatePostDepositStatus(s.extend(c,i));case 8:return d=n.sent,n.abrupt("return",s.parseTransactionsByType("deposit",d.result,e,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,i=t.safeValue(a,"result",{}),r.abrupt("return",t.safeTimestamp(i,"unixtime"));case 5:case"end":return r.stop()}}),r)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new u(s.id+" fetchWithdrawals() requires a currency code argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.currency(e),c={asset:o.id},n.next=8,s.privatePostWithdrawStatus(s.extend(c,i));case 8:return d=n.sent,n.abrupt("return",s.parseTransactionsByType("withdrawal",d.result,e,t,r));case 10:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={new:"true"},n.next=3,r.fetchDepositAddress(e,r.extend(i,t));case 3:return s=n.sent,o=r.safeString(s,"address"),r.checkAddress(o),n.abrupt("return",{currency:e,address:o,info:s});case 7:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.currency(e),void 0!==(s=r.safeString(t,"method"))){n.next=14;break}if(!r.options.cacheDepositMethodsOnFetchDepositAddress){n.next=13;break}if(e in r.options.depositMethods){n.next=10;break}return n.next=9,r.fetchDepositMethods(e);case 9:r.options.depositMethods[e]=n.sent;case 10:s=r.options.depositMethods[e][0].method,n.next=14;break;case 13:throw new u(r.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+e+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');case 14:return o={asset:i.id,method:s},n.next=17,r.privatePostDepositAddresses(r.extend(o,t));case 17:if(c=n.sent,d=c.result,!(d.length<1)){n.next=22;break}throw new y(r.id+" privatePostDepositAddresses() returned no addresses");case 22:return f=r.safeString(d[0],"address"),l=r.safeString2(d[0],"tag","memo"),r.checkAddress(f),n.abrupt("return",{currency:e,address:f,tag:l,info:c});case 26:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.checkAddress(r),!("key"in s)){n.next=10;break}return n.next=4,o.loadMarkets();case 4:return i=o.currency(e),c={asset:i.id,amount:t},n.next=8,o.privatePostWithdraw(o.extend(c,s));case 8:return u=n.sent,n.abrupt("return",{info:u,id:u.result});case 10:throw new l(o.id+" withdraw() requires a 'key' parameter (withdrawal key name, as set up on your account)");case 11:case"end":return n.stop()}}),a)})))()}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,r,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return t={},e.next=5,s.privatePostOpenPositions(s.extend(t,i));case 5:return r=e.sent,a=s.safeValue(r,"result"),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else if("private"===t){this.checkRequiredCredentials();var o=this.nonce().toString();i=this.urlencode(this.extend({nonce:o},n));var c=this.encode(o+i),u=this.hash(c,"sha256","binary"),d=this.stringToBinary(this.encode(s)),f=this.binaryConcat(d,u),l=this.base64ToBinary(this.secret),h=this.hmac(f,l,"sha512","base64");a={"API-Key":this.apiKey,"API-Sign":h,"Content-Type":"application/x-www-form-urlencoded"}}else s="/"+e;return{url:s=this.urls.api[t]+s,method:r,body:i,headers:a}}nonce(){return this.milliseconds()}handleErrors(e,t,r,n,a,i,s,o,u){if(520===e)throw new c(this.id+" "+e.toString()+" "+t);if(i.indexOf("Invalid order")>=0)throw new g(this.id+" "+i);if(i.indexOf("Invalid nonce")>=0)throw new m(this.id+" "+i);if(i.indexOf("Insufficient funds")>=0)throw new v(this.id+" "+i);if(i.indexOf("Cancel pending")>=0)throw new b(this.id+" "+i);if(i.indexOf("Invalid arguments:volume")>=0)throw new g(this.id+" "+i);if(i.indexOf("Rate limit exceeded")>=0)throw new w(this.id+" "+i);if("{"===i[0]&&("string"!==typeof s&&"error"in s&&s.error.length)){for(var d=this.id+" "+i,f=0;f<s.error.length;f++){var h=s.error[f];this.throwExactlyMatchedException(this.exceptions,h,d)}throw new l(d)}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ArgumentsRequired,d=o.ExchangeNotAvailable,f=o.InsufficientFunds,l=o.OrderNotFound,h=o.InvalidOrder,p=o.AccountSuspended,m=o.InvalidNonce,v=o.NotSupported,b=o.BadRequest,g=o.AuthenticationError,y=o.BadSymbol,w=o.RateLimitExceeded,k=o.PermissionDenied;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"kucoin",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!1,pro:!0,comment:"Platform 2.0",has:{CORS:!1,fetchStatus:!0,fetchTime:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrder:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,createDepositAddress:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchBalance:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,fetchAccounts:!0,fetchFundingFee:!0,fetchOHLCV:!0,fetchLedger:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295558-132aaf80-c50e-11ea-9801-a2fb0c57c799.jpg",referral:"https://www.kucoin.com/?rcode=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","status","symbols","markets","market/allTickers","market/orderbook/level{level}","market/orderbook/level2","market/orderbook/level2_20","market/orderbook/level2_100","market/orderbook/level3","market/histories","market/candles","market/stats","currencies","currencies/{currency}","prices","mark-price/{symbol}/current","margin/config"],post:["bullet-public"]},private:{get:["accounts","accounts/{accountId}","accounts/{accountId}/ledgers","accounts/{accountId}/holds","accounts/transferable","sub/user","sub-accounts","sub-accounts/{subUserId}","deposit-addresses","deposits","hist-deposits","hist-orders","hist-withdrawals","withdrawals","withdrawals/quotas","orders","orders/{orderId}","limit/orders","fills","limit/fills","margin/account","margin/borrow","margin/borrow/outstanding","margin/borrow/borrow/repaid","margin/lend/active","margin/lend/done","margin/lend/trade/unsettled","margin/lend/trade/settled","margin/lend/assets","margin/market","margin/trade/last"],post:["accounts","accounts/inner-transfer","accounts/sub-transfer","deposit-addresses","withdrawals","orders","orders/multi","margin/borrow","margin/repay/all","margin/repay/single","margin/lend","margin/toggle-auto-lend","bullet-private"],delete:["withdrawals/{withdrawalId}","orders","orders/{orderId}","margin/lend/{orderId}"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{exact:{"order not exist":l,"order not exist.":l,order_not_exist:l,order_not_exist_or_not_allow_to_cancel:h,"Order size below the minimum requirement.":h,"The withdrawal amount is below the minimum requirement.":c,400:b,401:g,403:v,404:v,405:v,429:w,500:d,503:d,101030:k,200004:f,230003:f,260100:f,3e5:h,4e5:y,400001:g,400002:m,400003:g,400004:g,400005:g,400006:g,400007:g,400008:v,400100:b,411100:p,415e3:b,5e5:c},broad:{"Exceeded the access frequency":w,"require more permission":k}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{HOT:"HOTNOW",EDGE:"DADI",WAX:"WAXP",TRY:"Trias"},options:{version:"v1",symbolSeparator:"-",fetchMyTradesMethod:"private_get_fills",fetchBalance:{type:"trade"},versions:{public:{GET:{status:"v1","market/orderbook/level{level}":"v2","market/orderbook/level2":"v2","market/orderbook/level2_20":"v2","market/orderbook/level2_100":"v2"}},private:{POST:{"accounts/inner-transfer":"v2","accounts/sub-transfer":"v2"}}}}})}nonce(){return this.milliseconds()}loadTimeDifference(e={}){var t=this;return i(a.mark((function r(){var n,i,s;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTimestamp(e);case 2:return n=r.sent,i=t.milliseconds(),s=t.safeInteger(n,"data"),t.options.timeDifference=parseInt(i-s),r.abrupt("return",t.options.timeDifference);case 7:case"end":return r.stop()}}),r)})))()}fetchTime(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTimestamp(e);case 2:return n=r.sent,r.abrupt("return",t.safeInteger(n,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchStatus(e={}){var t=this;return i(a.mark((function r(){var n,i,s;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetStatus(e);case 2:return n=r.sent,i=t.safeValue(n,"data",{}),void 0!==(s=t.safeValue(i,"status"))&&(s="open"===s?"ok":"maintenance",t.status=t.extend(t.status,{status:s,updated:t.milliseconds()})),r.abrupt("return",t.status);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetSymbols(e);case 2:for(i=r.sent,s=i.data,o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"symbol"),f=d.split("-"),l=n(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g=t.safeValue(u,"enableTrading"),y=t.safeFloat(u,"baseMaxSize"),w=t.safeFloat(u,"baseMinSize"),k=t.safeFloat(u,"quoteMaxSize"),x=t.safeFloat(u,"quoteMinSize"),_={amount:t.precisionFromString(t.safeString(u,"baseIncrement")),price:t.precisionFromString(t.safeString(u,"priceIncrement"))},S={amount:{min:w,max:y},price:{min:t.safeFloat(u,"priceIncrement"),max:k/w},cost:{min:x,max:k}},o.push({id:d,symbol:b,baseId:h,quoteId:p,base:m,quote:v,active:g,precision:_,limits:S,info:u});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m,v;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(n=r.sent,i=t.safeValue(n,"data",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeString(c,"fullName"),f=t.safeCurrencyCode(u),l=t.safeInteger(c,"precision"),h=t.safeValue(c,"isWithdrawEnabled",!1),p=t.safeValue(c,"isDepositEnabled",!1),m=t.safeFloat(c,"withdrawalMinFee"),v=h&&p,s[f]={id:u,name:d,code:f,precision:l,info:c,active:v,fee:m,limits:t.limits};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchAccounts(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetAccounts(e);case 2:for(n=r.sent,i=t.safeValue(n,"data"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeString(c,"currency"),f=t.safeCurrencyCode(d),l=t.safeString(c,"type"),s.push({id:u,type:l,currency:f,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchFundingFee(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.currencyId(e),s={currency:i},n.next=4,r.privateGetWithdrawalsQuotas(r.extend(s,t));case 4:return o=n.sent,c=o.data,(u={})[e]=r.safeFloat(c,"withdrawMinFee"),n.abrupt("return",{info:o,withdraw:u,deposit:{}});case 9:case"end":return n.stop()}}),n)})))()}parseTicker(e,t){var r=this.safeFloat(e,"changeRate");void 0!==r&&(r*=100);var n=this.safeFloat2(e,"last","lastTradedPrice"),a=this.safeString(e,"symbol"),i=this.safeSymbol(a,t,"-"),s=this.safeFloat(e,"vol"),o=this.safeFloat(e,"volValue"),c=this.vwap(s,o),u=this.safeInteger2(e,"time","datetime");return{symbol:i,timestamp:u,datetime:this.iso8601(u),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:c,open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"changePrice"),percentage:r,average:this.safeFloat(e,"averagePrice"),baseVolume:s,quoteVolume:o,info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketAllTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"data",{}),o=r.safeValue(s,"ticker",[]),c={},u=0;u<o.length;u++)d=r.parseTicker(o[u]),void 0!==(f=r.safeString(d,"symbol"))&&(c[f]=d);return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetMarketStats(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o.data,i));case 8:case"end":return n.stop()}}),n)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,5)]}fetchOHLCV(e,t="15m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u=c.id,d={symbol:u,type:o.timeframes[t]},f=1e3*o.parseTimeframe(t),l=o.milliseconds(),void 0!==r?(d.startAt=parseInt(Math.floor(r/1e3)),void 0===n&&(n=o.safeInteger(o.options,"fetchOHLCVLimit",1500)),l=o.sum(r,n*f)):void 0!==n&&(r=l-n*f,d.startAt=parseInt(Math.floor(r/1e3))),d.endAt=parseInt(Math.floor(l/1e3)),a.next=11,o.publicGetMarketCandles(o.extend(d,s));case 11:return h=a.sent,p=o.safeValue(h,"data",[]),a.abrupt("return",o.parseOHLCVs(p,c,t,r,n));case 14:case"end":return a.stop()}}),i)})))()}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currencyId(e),s={currency:i},n.next=6,r.privatePostDepositAddresses(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),void 0!==(u=r.safeString(c,"address"))&&(u=u.replace("bitcoincash:","")),d=r.safeString(c,"memo"),"NIM"!==e&&r.checkAddress(u),n.abrupt("return",{info:o,currency:e,address:u,tag:d});case 13:case"end":return n.stop()}}),n)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currencyId(e),s={currency:i},n.next=6,r.privateGetDepositAddresses(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),u=r.safeString(c,"address"),d=r.safeString(c,"memo"),"NIM"!==e&&r.checkAddress(u),n.abrupt("return",{info:o,currency:e,address:u,tag:d});case 12:case"end":return n.stop()}}),n)})))()}fetchL3OrderBook(e,t,r={}){var n=this;return i(a.mark((function r(){return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchOrderBook(e,t,{level:3});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=n.safeInteger(r,"level",2),"2"!==(o=s.toString())){a.next=7;break}if(void 0===t){a.next=7;break}if(20===t||100===t){a.next=6;break}throw new c(n.id+" fetchOrderBook limit argument must be undefined, 20 or 100");case 6:o+="_"+t.toString();case 7:return a.next=9,n.loadMarkets();case 9:return u=n.marketId(e),d={symbol:u,level:o},a.next=13,n.publicGetMarketOrderbookLevelLevel(n.extend(d,r));case 13:return f=a.sent,l=n.safeValue(f,"data",{}),h=n.safeInteger(l,"time"),(p=n.parseOrderBook(l,h,"bids","asks",s-2,s-1)).nonce=n.safeInteger(l,"sequence"),a.abrupt("return",p);case 19:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.marketId(e),d=c.safeString2(o,"clientOid","clientOrderId",c.uuid()),o=c.omit(o,["clientOid","clientOrderId"]),f={clientOid:d,side:r,symbol:u,type:t},"market"!==t?(f.price=c.priceToPrecision(e,s),f.size=c.amountToPrecision(e,n)):c.safeValue(o,"quoteAmount")?f.funds=c.amountToPrecision(e,n):f.size=c.amountToPrecision(e,n),a.next=9,c.privatePostOrders(c.extend(f,o));case 9:return l=a.sent,h=c.safeValue(l,"data",{}),p=c.milliseconds(),m=c.safeString(h,"orderId"),v={id:m,clientOrderId:d,info:h,timestamp:p,datetime:c.iso8601(p),lastTradeTimestamp:void 0,symbol:e,type:t,side:r,price:s,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0},c.safeValue(o,"quoteAmount")||(v.amount=n),a.abrupt("return",v);case 16:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={orderId:e},t.next=3,n.privateDeleteOrdersOrderId(n.extend(i,r));case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()}fetchOrdersByStatus(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={status:e},u=void 0,void 0!==t&&(u=o.market(t),c.symbol=u.id),void 0!==r&&(c.startAt=r),void 0!==n&&(c.pageSize=n),a.next=9,o.privateGetOrders(o.extend(c,s));case 9:return d=a.sent,f=o.safeValue(d,"data",{}),l=o.safeValue(f,"items",[]),a.abrupt("return",o.parseOrders(l,u,r,n));case 13:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByStatus("done",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByStatus("active",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(void 0!==e){a.next=4;break}throw new h(n.id+" fetchOrder() requires an order id");case 4:return s={orderId:e},o=void 0,void 0!==t&&(o=n.market(t)),a.next=9,n.privateGetOrdersOrderId(n.extend(s,r));case 9:return c=a.sent,u=n.safeValue(c,"data"),a.abrupt("return",n.parseOrder(u,o));case 12:case"end":return a.stop()}}),i)})))()}parseOrder(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t,"-"),a=this.safeString(e,"id"),i=this.safeString(e,"type"),s=this.safeInteger(e,"createdAt"),o=this.iso8601(s),c=this.safeFloat(e,"price"),u=this.safeString(e,"side"),d=this.safeString(e,"feeCurrency"),f=this.safeCurrencyCode(d),l=this.safeFloat(e,"fee"),h=this.safeFloat(e,"size"),p=this.safeFloat(e,"dealSize"),m=this.safeFloat(e,"dealFunds"),v=h-p,b=this.safeValue(e,"isActive",!1)?"open":"closed";b=this.safeValue(e,"cancelExist",!1)?"canceled":b;var g={currency:f,cost:l};"market"===i&&0===c&&void 0!==m&&void 0!==p&&m>0&&p>0&&(c=m/p);var y=this.safeString(e,"clientOid"),w=this.safeString(e,"timeInForce"),k=this.safeFloat(e,"stopPrice");return{id:a,clientOrderId:y,symbol:n,type:i,timeInForce:w,postOnly:this.safeValue(e,"postOnly"),side:u,amount:h,price:c,stopPrice:k,cost:m,filled:p,remaining:v,timestamp:s,datetime:o,fee:g,status:b,info:e,lastTradeTimestamp:void 0,average:void 0,trades:void 0}}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:if(o={},u=void 0,void 0!==e&&(u=s.market(e),o.symbol=u.id),void 0!==r&&(o.pageSize=r),d=s.options.fetchMyTradesMethod,f=!1,"private_get_fills"!==d){a.next=12;break}void 0!==t&&(o.startAt=t),a.next=21;break;case 12:if("private_get_limit_fills"!==d){a.next=16;break}f=!0,a.next=21;break;case 16:if("private_get_hist_orders"!==d){a.next=20;break}void 0!==t&&(o.startAt=parseInt(t/1e3)),a.next=21;break;case 20:throw new c(s.id+" invalid fetchClosedOrder method");case 21:return a.next=23,s[d](s.extend(o,n));case 23:return l=a.sent,h=s.safeValue(l,"data",{}),p=void 0,p=f?h:s.safeValue(h,"items",[]),a.abrupt("return",s.parseTrades(p,u,t,r));case 28:case"end":return a.stop()}}),i)})))()}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==t&&(c.startAt=Math.floor(t/1e3)),void 0!==r&&(c.pageSize=r),a.next=8,s.publicGetMarketHistories(s.extend(c,n));case 8:return u=a.sent,d=s.safeValue(u,"data",[]),a.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return a.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t,"-"),a=this.safeString2(e,"tradeId","id"),i=this.safeString(e,"orderId"),s=this.safeString(e,"liquidity"),o=this.safeFloat2(e,"size","amount"),c=this.safeInteger(e,"time");void 0!==c?c=parseInt(c/1e6):(c=this.safeInteger(e,"createdAt"),"dealValue"in e&&void 0!==c&&(c*=1e3));var u=this.safeFloat2(e,"price","dealPrice"),d=this.safeString(e,"side"),f=void 0,l=this.safeFloat(e,"fee");if(void 0!==l){var h=this.safeString(e,"feeCurrency"),p=this.safeCurrencyCode(h);void 0===p&&void 0!==t&&(p="sell"===d?t.quote:t.base),f={cost:l,currency:p,rate:this.safeFloat(e,"feeRate")}}var m=this.safeString(e,"type");"match"===m&&(m=void 0);var v=this.safeFloat2(e,"funds","dealValue");return void 0===v&&void 0!==o&&void 0!==u&&(v=o*u),{info:e,id:a,order:i,timestamp:c,datetime:this.iso8601(c),symbol:n,type:m,takerOrMaker:s,side:d,price:u,amount:o,cost:v,fee:f}}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return o.checkAddress(r),c=o.currencyId(e),u={currency:c,address:r,amount:t},void 0!==n&&(u.memo=n),a.next=8,o.privatePostWithdrawals(o.extend(u,s));case 8:return d=a.sent,f=o.safeValue(d,"data",{}),a.abrupt("return",{id:o.safeString(f,"withdrawalId"),info:d});case 11:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"},e)}parseTransaction(e,t){var r=this.safeString(e,"currency"),n=this.safeCurrencyCode(r,t),a=this.safeString(e,"address"),i=this.safeFloat(e,"amount"),s=this.safeString(e,"walletTxId");if(void 0!==s){var o=s.split("@");o.length>1&&void 0===a&&o[1].length>1&&(a=o[1]),s=o[0]}var c=void 0===s?"withdrawal":"deposit",u=this.safeString(e,"status"),d=this.parseTransactionStatus(u),f=void 0,l=this.safeFloat(e,"fee");if(void 0!==l){var h=void 0;void 0!==i&&(h=l/i),f={cost:l,rate:h,currency:n}}var p=this.safeString(e,"memo"),m=this.safeInteger2(e,"createdAt","createAt"),v=this.safeString(e,"id"),b=this.safeInteger(e,"updatedAt");return!("createdAt"in e)&&(c="address"in e?"withdrawal":"deposit",void 0!==m&&(m*=1e3),void 0!==b&&(b*=1e3)),{id:v,address:a,tag:p,currency:n,amount:i,txid:s,type:c,status:d,fee:f,timestamp:m,datetime:this.iso8601(m),updated:b,info:e}}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.pageSize=r),u="privateGetDeposits",void 0!==t&&(t<1550448e6?(o.startAt=parseInt(t/1e3),u="privateGetHistDeposits"):o.startAt=t),a.next=10,s[u](s.extend(o,n));case 10:return d=a.sent,f=d.data.items,a.abrupt("return",s.parseTransactions(f,c,t,r,{type:"deposit"}));case 13:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.pageSize=r),u="privateGetWithdrawals",void 0!==t&&(t<1550448e6?(o.startAt=parseInt(t/1e3),u="privateGetHistWithdrawals"):o.startAt=t),a.next=10,s[u](s.extend(o,n));case 10:return d=a.sent,f=d.data.items,a.abrupt("return",s.parseTransactions(f,c,t,r,{type:"withdrawal"}));case 13:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return n=void 0,i={},"type"in e?(void 0!==(n=e.type)&&(i.type=n),e=t.omit(e,"type")):(s=t.safeValue(t.options,"fetchBalance",{}),n=t.safeString(s,"type","trade")),r.next=7,t.privateGetAccounts(t.extend(i,e));case 7:for(o=r.sent,c=t.safeValue(o,"data",[]),u={info:o},d=0;d<c.length;d++)f=c[d],t.safeString(f,"type")===n&&(l=t.safeString(f,"currency"),h=t.safeCurrencyCode(l),(p=t.account()).total=t.safeFloat(f,"balance"),p.free=t.safeFloat(f,"available"),p.used=t.safeFloat(f,"holds"),u[h]=p);return r.abrupt("return",t.parseBalance(u));case 12:case"end":return r.stop()}}),r)})))()}fetchLedger(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new u(s.id+" fetchLedger() requires a code param");case 2:return a.next=4,s.loadMarkets();case 4:return a.next=6,s.loadAccounts();case 6:if(o=s.currency(e),void 0!==(d=s.safeString(n,"accountId"))){a.next=18;break}f=0;case 10:if(!(f<s.accounts.length)){a.next=18;break}if((l=s.accounts[f]).currency!==e||"main"!==l.type){a.next=15;break}return d=l.id,a.abrupt("break",18);case 15:f++,a.next=10;break;case 18:if(void 0!==d){a.next=20;break}throw new c(s.id+" "+e+"main account is not loaded in loadAccounts");case 20:return h={accountId:d},void 0!==t&&(h.startAt=Math.floor(t/1e3)),a.next=24,s.privateGetAccountsAccountIdLedgers(s.extend(h,n));case 24:return p=a.sent,m=p.data.items,a.abrupt("return",s.parseLedger(m,o,t,r));case 27:case"end":return a.stop()}}),i)})))()}parseLedgerEntry(e,t){var r=this.safeString(e,"currency"),n=this.safeCurrencyCode(r,t),a={cost:this.safeFloat(e,"fee"),code:n},i=this.safeFloat(e,"amount"),s=this.safeFloat(e,"balance"),o=this.safeString(e,"direction"),c=void 0;if(void 0!==s&&void 0!==i){var u="out"===o?i:-i;c=this.sum(s,u)}var d=this.safeInteger(e,"createdAt"),f=this.parseLedgerEntryType(this.safeString(e,"bizType")),l=this.safeString(e,"context"),h=void 0,p=void 0;if(this.isJsonEncodedObject(l)){var m=this.parseJson(l);h=this.safeString(m,"orderId"),"trade"===f?p=this.safeString(m,"tradeId"):"transaction"===f&&(p=this.safeString(m,"txId"))}return{id:h,currency:n,account:void 0,referenceAccount:void 0,referenceId:p,status:void 0,amount:i,before:c,after:s,fee:a,direction:o,timestamp:d,datetime:this.iso8601(d),type:f,info:e}}parseLedgerEntryType(e){return this.safeString({Exchange:"trade",Withdrawal:"transaction",Deposit:"transaction",Transfer:"transfer"},e,e)}sign(e,t="public",r="GET",n={},a,i){var s=this.safeValue(this.options,"versions",{}),o=this.safeValue(s,t),c=this.safeValue(o,r,{}),u=this.safeString(c,e,this.options.version),d=this.safeString(n,"version",u);n=this.omit(n,"version");var f="/api/"+d+"/"+this.implodeParams(e,n),l=this.omit(n,this.extractParams(e)),h="";a=void 0!==a?a:{},Object.keys(l).length&&("GET"!==r?(h=i=this.json(l),a["Content-Type"]="application/json"):f+="?"+this.urlencode(l));var p=this.urls.api[t]+f;if("private"===t){this.checkRequiredCredentials();var m=this.nonce().toString();if(a=this.extend({"KC-API-KEY-VERSION":"2","KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":m},a),"2"===this.safeString(a,"KC-API-KEY-VERSION")){var v=this.hmac(this.encode(this.password),this.encode(this.secret),"sha256","base64");a["KC-API-PASSPHRASE"]=v}else a["KC-API-PASSPHRASE"]=this.password;var b=m+r+f+h,g=this.hmac(this.encode(b),this.encode(this.secret),"sha256","base64");a["KC-API-SIGN"]=g;var y=this.safeValue(this.options,"partner",{}),w=this.safeString(y,"id"),k=this.safeString(y,"secret");if(void 0!==w&&void 0!==k){var x=m+w+this.apiKey,_=this.hmac(this.encode(x),this.encode(k),"sha256","base64");a["KC-API-PARTNER-SIGN"]=_,a["KC-API-PARTNER"]=w}}return{url:p,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(s){var u=this.safeString(s,"code"),d=this.safeString(s,"msg");this.throwExactlyMatchedException(this.exceptions.exact,d,d),this.throwExactlyMatchedException(this.exceptions.exact,u,d)}else this.throwBroadlyMatchedException(this.exceptions.broad,i,i)}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(200),s=r(6).ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!1},timeframes:void 0,urls:{referral:"https://kuna.io?r=kunaid-gvfihe8az7o4",logo:"https://user-images.githubusercontent.com/51840849/87153927-f0578b80-c2c0-11ea-84b6-74612568e9e1.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},fees:{trading:{taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=["btc","eth","eurs","rub","uah","usd","usdt","gol"],i={UAH:0},s=[],r.next=5,t.publicGetTickers(e);case 5:o=r.sent,c=Object.keys(o),u=0;case 8:if(!(u<c.length)){r.next=29;break}d=c[u],f=0;case 11:if(!(f<a.length)){r.next=26;break}if(l=a[f],h=d.indexOf(l),p=d.slice(h),!(h>0&&p===l)){r.next=23;break}return m=d.replace(l,""),v=t.safeCurrencyCode(m),b=t.safeCurrencyCode(l),g=v+"/"+b,y={amount:6,price:t.safeInteger(i,b,6)},s.push({id:d,symbol:g,base:v,quote:b,baseId:m,quoteId:l,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:Math.pow(10,y.amount)},price:{min:Math.pow(10,-y.price),max:Math.pow(10,y.price)},cost:{min:void 0,max:void 0}},active:void 0,info:void 0}),r.abrupt("break",26);case 23:f++,r.next=11;break;case 26:u++,r.next=8;break;case 29:return r.abrupt("return",s);case 30:case"end":return r.stop()}}),r)})))()}fetchL3OrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.fetchOrderBook(e,t,r);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new s(o.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(e),u={market:c.id},n.next=8,o.privateGetOrders(o.extend(u,i));case 8:return d=n.sent,n.abrupt("return",o.parseOrders(d,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=void 0;t&&(n=t.symbol);var a=this.safeString2(e,"side","trend");if(void 0!==a){a=this.safeString({ask:"sell",bid:"buy"},a,a)}var i=this.safeFloat(e,"price"),s=this.safeFloat(e,"volume"),o=this.safeFloat(e,"funds"),c=this.safeString(e,"order_id");return{id:this.safeString(e,"id"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:a,order:c,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new s(o.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.market(e),u={market:c.id},n.next=8,o.privateGetTradesMy(o.extend(u,i));case 8:return d=n.sent,n.abrupt("return",o.parseTrades(d,c,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return n.next=4,o.fetchTrades(e,r,i,s);case 4:for(c=n.sent,u=o.buildOHLCVC(c,t,r,i),d=[],f=0;f<u.length;f++)l=u[f],d.push([l[0],l[1],l[2],l[3],l[4],l[5]]);return n.abrupt("return",d);case 9:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.AuthenticationError,u=s.BadSymbol,d=s.InvalidOrder,f=s.InsufficientFunds;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"lakebtc",name:"LakeBTC",countries:["US"],version:"api_v2",rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28074120-72b7c38a-6660-11e7-92d9-d9027502281d.jpg",api:"https://api.lakebtc.com",www:"https://www.lakebtc.com",doc:["https://www.lakebtc.com/s/api_v2","https://www.lakebtc.com/s/api"]},api:{public:{get:["bcorderbook","bctrades","ticker"]},private:{post:["buyOrder","cancelOrders","getAccountInfo","getExternalAccounts","getOrders","getTrades","openOrders","sellOrder"]}},fees:{trading:{maker:.0015,taker:.002}},exceptions:{broad:{Signature:c,"invalid symbol":u,"Volume doit":d,insufficient_balance:f}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTicker(e);case 2:for(a=r.sent,i=[],s=Object.keys(a),o=0;o<s.length;o++)c=s[o],u=a[c],d=c.slice(0,3),f=c.slice(3,6),l=d.toUpperCase(),h=f.toUpperCase(),p=l+"/"+h,i.push({id:c,symbol:p,base:l,quote:h,baseId:d,quoteId:f,info:u,active:void 0,precision:t.precision,limits:t.limits});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetAccountInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"balance",{}),s={info:a},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(i,u),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={symbol:i.marketId(e)},t.next=5,i.publicGetBcorderbook(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=i[u],f=r.safeMarket(u),l=f.symbol,o[l]=r.parseTicker(d,f);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.publicGetTicker(t);case 5:return s=n.sent,n.abrupt("return",r.parseTicker(s[i.id],i));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==a&&void 0!==i&&(s=a*i);var o=void 0;return void 0!==t&&(o=t.symbol),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetBctrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("market"!==t){n.next=4;break}throw new o(u.id+" allows limit orders only");case 4:return d="privatePost"+u.capitalize(r)+"Order",f=u.market(e),l={params:[s,i,f.id]},n.next=9,u[d](u.extend(l,c));case 9:return h=n.sent,n.abrupt("return",{info:h,id:u.safeString(h,"id")});case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={params:[e]},t.next=5,i.privatePostCancelOrder(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}nonce(){return this.microseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version;if("public"===t)s+="/"+e,Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString(),c=this.seconds(),u="";if("params"in n){for(var d=n.params,f=[],l=0;l<d.length;l++){var h=d[l];"string"!==typeof d&&(h=h.toString()),f.push(h)}u=f.join(","),i={method:e,params:n.params,id:c}}else i={method:e,params:"",id:c};i=this.json(i);var p=["tonce="+o,"accesskey="+this.apiKey,"requestmethod="+r.toLowerCase(),"id="+c.toString(),"method="+e,"params="+u];p=p.join("&");var m=this.hmac(this.encode(p),this.encode(this.secret),"sha1"),v=this.apiKey+":"+m;a={"Json-Rpc-Tonce":o,Authorization:"Basic "+this.decode(this.stringToBase64(v)),"Content-Type":"application/json"}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.id+" "+i,f=this.safeString(s,"error");if(void 0!==f)throw this.throwBroadlyMatchedException(this.exceptions.broad,f,d),new o(d)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.InvalidNonce,d=s.OrderNotFound,f=s.InvalidOrder,l=s.DDoSProtection,h=s.BadRequest,p=s.AuthenticationError,m=r(16).ROUND;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"latoken",name:"Latoken",countries:["KY"],version:"v1",rateLimit:2e3,certified:!1,userAgent:this.userAgents.chrome,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelAllOrders:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrdersByStatus:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"]},api:{public:{get:["ExchangeInfo/time","ExchangeInfo/limits","ExchangeInfo/pairs","ExchangeInfo/pairs/{currency}","ExchangeInfo/pair","ExchangeInfo/currencies","ExchangeInfo/currencies/{symbol}","MarketData/tickers","MarketData/ticker/{symbol}","MarketData/orderBook/{symbol}","MarketData/orderBook/{symbol}/{limit}","MarketData/trades/{symbol}","MarketData/trades/{symbol}/{limit}"]},private:{get:["Account/balances","Account/balances/{currency}","Order/status","Order/active","Order/get_order","Order/trades"],post:["Order/new","Order/test-order","Order/cancel","Order/cancel_all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{MT:"Monarch",TSL:"Treasure SL"},options:{createOrderMethod:"private_post_order_new"},exceptions:{exact:{"Signature or ApiKey is not valid":p,"Request is out of time":u,"Symbol must be specified":h},broad:{"Request limit reached":l,Pair:h,"Price needs to be greater than":f,"Amount needs to be greater than":f,"The Symbol field is required":f,"OrderType is not valid":f,"Side is not valid":f,"Cancelable order whit":d,Order:d}}})}nonce(){return this.milliseconds()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeInfoTime(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"unixTimeMiliseconds"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeInfoPairs(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeString(o,"baseCurrency"),d=t.safeString(o,"quotedCurrency"),f=t.safeInteger(o,"pairId"),l=t.safeCurrencyCode(u),h=t.safeCurrencyCode(d),p=l+"/"+h,m={price:t.safeInteger(o,"pricePrecision"),amount:t.safeInteger(o,"amountPrecision")},v={amount:{min:t.safeFloat(o,"minQty"),max:void 0},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:void 0,max:void 0}},i.push({id:c,numericId:f,info:o,symbol:p,base:l,quote:h,baseId:u,quoteId:d,active:void 0,precision:m,limits:v});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeInfoCurrencies(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeInteger(o,"currencyId"),d=t.safeCurrencyCode(c),f=t.safeInteger(o,"precission"),l=t.safeFloat(o,"fee"),void 0,i[d]={id:c,numericId:u,code:d,info:o,name:d,active:void 0,fee:l,precision:f,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=n*u,f=o.precision.price;return"sell"===r?d*=a:(c="base",f=o.precision.amount),d=this.decimalToPrecision(d,m,f,this.precisionMode),{type:i,currency:o[c],rate:u,cost:parseFloat(d)}}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountBalances(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),d=t.safeFloat(o,"frozen"),f=t.safeFloat(o,"pending"),l=t.sum(d,f),h={free:t.safeFloat(o,"available"),used:l,total:t.safeFloat(o,"amount")},i[u]=h;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={symbol:s.id,limit:10},void 0!==t&&(o.limit=t),n.next=7,i.publicGetMarketDataOrderBookSymbolLimit(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrderBook(c,void 0,"bids","asks","price","quantity"));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.safeFloat(e,"open"),i=this.safeFloat(e,"close"),s=void 0;void 0!==a&&void 0!==i&&(s=i-a);var o=this.safeFloat(e,"priceChange"),c=this.nonce();return{symbol:n,timestamp:c,datetime:this.iso8601(c),low:this.safeFloat(e,"low"),high:this.safeFloat(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:a,close:i,last:i,previousClose:void 0,change:s,percentage:o,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetMarketDataTickerSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketDataTickers(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger2(e,"timestamp","time");void 0!==r&&r<12309408e5&&(r*=1e3);var n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),i=this.safeString(e,"side"),s=void 0;void 0!==a&&void 0!==n&&(s=a*n);var o=void 0;void 0!==t&&(o=t.symbol);var c=this.safeString(e,"id"),u=this.safeString(e,"orderId"),d=this.safeFloat(e,"commission"),f=void 0;return void 0!==d&&(f={cost:d,currency:void 0}),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:c,order:u,type:void 0,takerOrMaker:void 0,side:i,price:n,amount:a,cost:s,fee:f}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetMarketDataTradesSymbol(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"trades",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={symbol:o.id},n.next=8,s.privateGetOrderTrades(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,"trades",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({active:"open",partiallyFilled:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeTimestamp(e,"timeCreated"),a=this.safeString(e,"symbol"),i=this.safeSymbol(a,t),s=this.safeString(e,"side"),o=this.safeString(e,"orderType"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"executedAmount"),f=void 0;void 0!==u&&void 0!==d&&(f=u-d);var l=this.parseOrderStatus(this.safeString(e,"orderStatus")),h=void 0;void 0!==d&&void 0!==c&&(h=d*c);var p=this.safeTimestamp(e,"timeFilled"),m=void 0;return void 0!==p&&p>0&&(m=p),{id:r,clientOrderId:this.safeString(e,"cliOrdId"),info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:m,status:l,symbol:i,type:o,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,cost:h,amount:u,filled:d,average:void 0,remaining:f,fee:void 0,trades:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s.fetchOrdersWithMethod("private_get_order_active",e,t,r,i));case 1:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s.fetchOrdersByStatus("filled",e,t,r,i));case 1:case"end":return n.stop()}}),a)})))()}fetchCanceledOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s.fetchOrdersByStatus("cancelled",e,t,r,i));case 1:case"end":return n.stop()}}),a)})))()}fetchOrdersByStatus(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={status:e},n.abrupt("return",o.fetchOrdersWithMethod("private_get_order_status",t,r,i,o.extend(c,s)));case 2:case"end":return n.stop()}}),a)})))()}fetchOrdersWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(o.id+" fetchOrdersWithMethod() requires a symbol argument");case 2:return n.next=4,o.loadMarkets();case 4:return u=o.market(t),d={symbol:u.id},void 0!==i&&(d.limit=i),n.next=9,o[e](o.extend(d,s));case 9:return f=n.sent,n.abrupt("return",o.parseOrders(f,u,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderId:e},t.next=5,i.privateGetOrderGetOrder(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("limit"===t){n.next=4;break}throw new o(u.id+" allows limit orders only");case 4:return d={symbol:u.marketId(e),side:r,price:u.priceToPrecision(e,s),amount:u.amountToPrecision(e,i),orderType:t},f=u.safeString(u.options,"createOrderMethod","private_post_order_new"),n.next=8,u[f](u.extend(d,c));case 8:return l=n.sent,n.abrupt("return",u.parseOrder(l));case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderId:e},t.next=5,i.privatePostOrderCancel(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(r.id+" cancelAllOrders() requires a symbol argument");case 2:return n.next=4,r.loadMarkets();case 4:return i=r.marketId(e),s={symbol:i},n.next=8,r.privatePostOrderCancelAll(r.extend(s,t));case 8:for(o=n.sent,u=[],d=r.safeValue(o,"cancelledOrders",[]),f=0;f<d.length;f++)l=r.parseOrder({symbol:i,orderId:d[f],orderStatus:"canceled"}),u.push(l);return n.abrupt("return",u);case 13:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n,a,i){var s="/api/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){var c=this.nonce();o=this.extend({timestamp:c},o)}var u=this.urlencode(o);if(Object.keys(o).length&&(s+="?"+u),"private"===t){this.checkRequiredCredentials();var d=this.hmac(this.encode(s),this.encode(this.secret));a={"X-LA-KEY":this.apiKey,"X-LA-SIGNATURE":d},"POST"===r&&(a["Content-Type"]="application/x-www-form-urlencoded",i=u)}return{url:this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(s){var d=this.safeString(s,"message"),f=this.id+" "+i;void 0!==d&&(this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f));var l=this.safeValue(s,"error",{}),h=this.safeString(l,"message");if(void 0!==h)throw this.throwExactlyMatchedException(this.exceptions.exact,h,f),this.throwBroadlyMatchedException(this.exceptions.broad,h,f),new o(f)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.DDoSProtection,u=s.AuthenticationError,d=s.InvalidOrder,f=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/en-gb/articles/360012072873-Trading-Fees",referral:"https://www.lbex.io/invite?icode=7QCY"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}},commonCurrencies:{VET_ERC20:"VEN",PNT:"Penta"},options:{cacheSecretAsPem:!0}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAccuracy(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=o.symbol,u=c.split("_"),d=void 0,f=void 0,u.length>2?(d=u[0]+"_"+u[1],f=u[2]):(d=u[0],f=u[1]),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={amount:t.safeInteger(o,"quantityAccuracy"),price:t.safeInteger(o,"priceAccuracy")},i.push({id:c,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:!0,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:void 0},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)},cost:{min:void 0,max:void 0}},info:c});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=void 0;if(void 0===t){var n=this.safeString(e,"symbol");if(n in this.markets_by_id){r=this.marketsById[n].symbol}else{var a=n.split("_"),i=void 0,s=void 0;a.length>2?(i=a[0]+"_"+a[1],s=a[2]):(i=a[0],s=a[1]),r=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}}var o=this.safeInteger(e,"timestamp"),c=e;e=c.ticker;var u=this.safeFloat(e,"latest"),d=this.safeFloat(e,"change"),f=void 0;if(void 0!==d){var l=this.sum(1,d/100);l>0&&(f=u/this.sum(1,l))}var h=void 0,p=void 0;return void 0!==u&&void 0!==f&&(h=u-f,p=this.sum(u,f)/2),void 0!==t&&(r=t.symbol),{symbol:r,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:h,percentage:d,average:p,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"turnover"),info:c}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={symbol:"all"},n.next=5,r.publicGetTicker(r.extend(i,t));case 5:for(s=n.sent,o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,o[d]=u;return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t=60,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=60,void 0!==t&&(s=Math.min(t,s)),o={symbol:i.marketId(e),size:s},n.next=7,i.publicGetDepth(i.extend(o,r));case 7:return c=n.sent,n.abrupt("return",i.parseOrderBook(c));case 9:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"date_ms"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==a&&void 0!==i&&(s=parseFloat(this.costToPrecision(r,a*i)));var o=this.safeString(e,"tid"),c=this.safeString(e,"type");return{id:o,info:this.safeValue(e,"info",e),timestamp:n,datetime:this.iso8601(n),symbol:r,order:void 0,type:void 0,side:c,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id,size:100},void 0!==t&&(c.time=parseInt(t)),void 0!==r&&(c.size=r),n.next=8,s.publicGetTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="5m",r,i=1e3,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),void 0!==r){n.next=5;break}throw new f(o.id+" fetchOHLCV() requires a `since` argument");case 5:if(void 0!==i){n.next=7;break}throw new f(o.id+" fetchOHLCV() requires a `limit` argument");case 7:return u={symbol:c.id,type:o.timeframes[t],size:i,time:parseInt(r/1e3)},n.next=10,o.publicGetKline(o.extend(u,s));case 10:return d=n.sent,n.abrupt("return",o.parseOHLCVs(d,c,t,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostUserInfo(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"info",{}),o=t.safeValue(s,"free",{}),c=t.safeValue(s,"freeze",{}),u=t.safeValue(s,"asset",{}),d=Object.keys(o),f=0;f<d.length;f++)l=d[f],h=t.safeCurrencyCode(l),(p=t.account()).free=t.safeFloat(o,l),p.used=t.safeFloat(c,l),p.total=t.safeFloat(u,l),i[h]=p;return r.abrupt("return",t.parseBalance(i));case 13:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"},e)}parseOrder(e,t){var r=void 0,n=this.safeValue(this.marketsById,e.symbol);void 0!==n?r=n.symbol:void 0!==t&&(r=t.symbol);var a=this.safeInteger(e,"create_time"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount",0),o=this.safeFloat(e,"deal_amount",0),c=this.safeFloat(e,"avg_price"),u=void 0;void 0!==c&&(u=o*c);var d=this.parseOrderStatus(this.safeString(e,"status")),f=this.safeString(e,"order_id"),l=this.safeString(e,"order_type"),h=this.safeString(e,"type"),p=void 0;return void 0!==s&&void 0!==o&&(p=s-o),{id:f,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:d,symbol:r,type:l,timeInForce:void 0,postOnly:void 0,side:h,price:i,stopPrice:void 0,cost:u,amount:s,filled:o,remaining:p,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e),average:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={symbol:u.id,type:r,amount:i},"market"===t?d.type+="_market":d.price=s,n.next=7,c.privatePostCreateOrder(c.extend(d,o));case 7:return f=n.sent,(d=c.omit(d,"type")).order_id=f.order_id,d.type=r,d.order_type=t,d.create_time=c.milliseconds(),d.info=f,n.abrupt("return",c.parseOrder(d,u));case 15:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={symbol:s.id,order_id:e},n.next=6,i.privatePostCancelOrder(i.extend(o,r));case 6:return c=n.sent,n.abrupt("return",c);case 8:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(t),o={symbol:s.id,order_id:e},n.next=6,i.privatePostOrdersInfo(i.extend(o,r));case 6:if(c=n.sent,u=i.safeValue(c,"orders",[]),d=i.parseOrders(u,s),1!==d.length){n.next=14;break}return n.abrupt("return",d[0]);case 14:return n.abrupt("return",d);case 15:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return void 0===r&&(r=100),o=s.market(e),c={symbol:o.id,current_page:1,page_length:r},n.next=7,s.privatePostOrdersInfoHistory(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"orders",[]),n.abrupt("return",s.parseOrders(d,void 0,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrders(e,t,r,i);case 2:return o=n.sent,c=s.filterBy(o,"status","closed"),u=s.filterBy(o,"status","cancelled"),d=s.arrayConcat(c,u),n.abrupt("return",s.filterBySymbolSinceLimit(d,e,t,r));case 7:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={assetCode:c.id,amount:t,account:r},void 0!==i&&(u.memo=i),d=o.privatePostWithdraw(o.extend(u,s)),n.abrupt("return",{id:o.safeString(d,"id"),info:d});case 8:case"end":return n.stop()}}),a)})))()}convertSecretToPem(e){var t=e.length-0,r=parseInt(t/64);r=this.sum(r,1);for(var n="-----BEGIN PRIVATE KEY-----\n",a=0;a<r;a++){var i=64*a,s=this.sum(i,64);n+=this.secret.slice(i,s)+"\n"}return n+"-----END PRIVATE KEY-----"}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n);if(o+=".do","public"===t)Object.keys(s).length&&(o+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.keysort(this.extend({api_key:this.apiKey},n)),u=this.rawencode(c),d=this.hash(this.encode(u)).toUpperCase(),f=void 0;this.safeValue(this.options,"cacheSecretAsPem",!0)?void 0===(f=this.safeValue(this.options,"pem"))&&(f=this.convertSecretToPem(this.secret),this.options.pem=f):f=this.convertSecretToPem(this.secret);var l=this.binaryToBase64(this.rsa(d,this.encode(f),"RS256"));c.sign=l,i=this.urlencode(c),a={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,f){var l=this;return a(n.mark((function a(){var h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.fetch2(e,t,r,i,s,f);case 2:if(h=n.sent,"false"!==l.safeString(h,"result")){n.next=9;break}throw p=l.safeString(h,"error_code"),m=l.safeString({1e4:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},p,l.json(h)),new(l.safeValue({10002:u,10004:c,10005:u,10006:u,10007:u,10009:d,10010:d,10011:d,10012:d,10013:d,10014:d,10015:d,10016:d,10022:u},p,o))(m);case 9:return n.abrupt("return",h);case 10:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(16).TICK_SIZE,o=r(6),c=o.ExchangeError,u=o.ArgumentsRequired,d=o.InvalidNonce,f=o.OrderNotFound,l=o.InvalidOrder,h=o.InsufficientFunds,p=o.AuthenticationError,m=o.DDoSProtection,v=o.NotSupported;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.liquid.com"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com/sign-up/?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}","fees"]},private:{get:["accounts","accounts/balance","accounts/main_asset","accounts/{id}","accounts/{currency}/reserved_balance_details","crypto_accounts","crypto_withdrawals","executions/me","fiat_accounts","fund_infos","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions","withdrawals"],post:["crypto_withdrawals","fund_infos","fiat_accounts","loan_bids","orders","withdrawals"],put:["crypto_withdrawal/{id}/cancel","loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/adjust_margin","trades/{id}/close","trades/close_all","trading_accounts/{id}","withdrawals/{id}/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:0,tiers:{perpetual:{maker:[[0,0],[25e3,0],[5e4,-25e-5],[1e5,-25e-5],[1e6,-25e-5],[1e7,-25e-5],[25e6,-25e-5],[5e7,-25e-5],[75e6,-25e-5],[1e8,-25e-5],[2e8,-25e-5],[3e8,-25e-5]],taker:[[0,6e-4],[25e3,575e-6],[5e4,55e-5],[1e5,525e-6],[1e6,5e-4],[1e7,475e-6],[25e6,45e-5],[5e7,425e-6],[75e6,4e-4],[1e8,375e-6],[2e8,35e-5],[3e8,325e-6]]},spot:{taker:[[0,.0015],[1e4,.0015],[2e4,.0014],[5e4,.0013],[1e5,.001],[1e6,8e-4],[5e6,6e-4],[1e7,5e-4],[25e6,5e-4],[5e7,45e-5],[1e8,4e-4],[2e8,3e-4]],maker:[[0,0],[1e4,.0015],[2e4,.14],[5e4,.13],[1e5,.08],[1e6,4e-4],[5e6,35e-5],[1e7,25e-5],[25e6,0],[5e7,0],[1e8,0],[2e8,0]]}}}},precisionMode:s,exceptions:{"API rate limit exceeded. Please retry after 300s":m,"API Authentication failed":p,"Nonce is too small":d,"Order not found":f,"Can not update partially filled order":l,"Can not update non-live order":f,not_enough_free_balance:h,must_be_positive:l,less_than_order_size:l,price_too_high:l,price_too_small:l},commonCurrencies:{WIN:"WCOIN",HOT:"HOT Token",MIOTA:"IOTA"},options:{cancelOrderException:!0}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i={},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),d=o.depositable&&o.withdrawable,f=t.safeInteger(o,"display_precision"),l=t.safeInteger(o,"quoting_precision"),h=Math.max(f,l),p=1/Math.pow(10,h),i[u]={id:c,code:u,info:o,name:u,active:d,fee:t.safeFloat(o,"withdrawal_fee"),precision:p,limits:{amount:{min:Math.pow(10,-f),max:Math.pow(10,f)},price:{min:Math.pow(10,-l),max:Math.pow(10,l)},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"minimum_withdrawal"),max:void 0}}};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetProducts(e);case 2:return a=r.sent,r.next=5,t.publicGetProducts({perpetual:"1"});case 5:return i=r.sent,r.next=8,t.fetchCurrencies();case 8:for(s=r.sent,o=t.indexBy(s,"code"),c=[],u=t.arrayConcat(a,i),d=0;d<u.length;d++)f=u[d],l=t.safeString(f,"id"),h=t.safeString(f,"base_currency"),p=t.safeString(f,"quoted_currency"),m=t.safeString(f,"product_type"),v="spot",b=!0,g=!1,"Perpetual"===m&&(b=!1,g=!0,v="swap"),y=t.safeCurrencyCode(h),w=t.safeCurrencyCode(p),k=void 0,k=g?t.safeString(f,"currency_pair_code"):y+"/"+w,x=t.fees.trading.maker,_=t.fees.trading.taker,"swap"===v&&(x=t.safeFloat(f,"maker_fee",t.fees.trading.maker),_=t.safeFloat(f,"taker_fee",t.fees.trading.taker)),S=t.safeValue(f,"disabled",!1),T=!S,O=t.safeValue(o,y),A={amount:1e-8,price:t.safeFloat(f,"tick_size")},M=void 0,void 0!==O&&(M=t.safeFloat(O.info,"minimum_order_quantity")),E={amount:{min:M,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},c.push({id:l,symbol:k,base:y,quote:w,baseId:h,quoteId:p,type:v,spot:b,swap:g,maker:x,taker:_,limits:E,precision:A,active:T,info:f});return r.abrupt("return",c);case 14:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccounts(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"crypto_accounts",[]),o=t.safeValue(a,"fiat_accounts",[]),c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"currency"),f=t.safeCurrencyCode(d),(l=t.account()).total=t.safeFloat(u,"balance"),l.used=t.safeFloat(u,"reserved_balance"),i[f]=l;for(h=0;h<o.length;h++)p=o[h],m=t.safeString(p,"currency"),v=t.safeCurrencyCode(m),(b=t.account()).total=t.safeFloat(p,"balance"),b.used=t.safeFloat(p,"reserved_balance"),i[v]=b;return r.abrupt("return",t.parseBalance(i));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.publicGetProductsIdPriceLevels(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s,void 0,"buy_price_levels","sell_price_levels"));case 7:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;"last_traded_price"in e&&(e.last_traded_price&&e.last_traded_price.length>0&&(n=this.safeFloat(e,"last_traded_price")));var a=void 0;if(void 0===t){var i=this.safeString(e,"id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{var s=this.safeString(e,"base_currency"),o=this.safeString(e,"quoted_currency");a in this.markets?t=this.markets[a]:a=this.safeCurrencyCode(s)+"/"+this.safeCurrencyCode(o)}}void 0!==t&&(a=t.symbol);var c=void 0,u=void 0,d=void 0,f=this.safeFloat(e,"last_price_24h");return void 0!==f&&void 0!==n&&(c=n-f,d=this.sum(n,f)/2,f>0&&(u=c/f*100)),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_market_ask"),low:this.safeFloat(e,"low_market_bid"),bid:this.safeFloat(e,"market_bid"),bidVolume:void 0,ask:this.safeFloat(e,"market_ask"),askVolume:void 0,vwap:void 0,open:f,close:n,last:n,previousClose:void 0,change:c,percentage:u,average:d,baseVolume:this.safeFloat(e,"volume_24h"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetProducts(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={id:i.id},n.next=6,r.publicGetProductsId(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"created_at"),n=this.safeString(e,"order_id"),a=this.safeString(e,"taker_side"),i=this.safeString(e,"my_side"),s=void 0!==i?i:a,o=void 0;void 0!==i&&(o=a===i?"taker":"maker");var c=void 0,u=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity");void 0!==u&&void 0!==d&&(c=u*d);var f=this.safeString(e,"id"),l=void 0;return void 0!==t&&(l=t.symbol),{info:e,id:f,order:n,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,side:s,takerOrMaker:o,price:u,amount:d,cost:c,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={product_id:o.id},void 0!==r&&(c.limit=r),void 0!==t&&(c.timestamp=parseInt(t/1e3)),n.next=8,s.publicGetExecutions(s.extend(c,i));case 8:return u=n.sent,d=void 0!==t?u:u.models,n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={product_id:o.id,with_details:!0},void 0!==r&&(c.limit=r),n.next=7,s.privateGetExecutionsMe(s.extend(c,i));case 7:return u=n.sent,n.abrupt("return",s.parseTrades(u.models,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.safeString2(o,"clientOrderId","client_order_id"),o=c.omit(o,["clientOrderId","client_order_id"]),d={order_type:t,product_id:c.marketId(e),side:r,quantity:c.amountToPrecision(e,i)},void 0!==u&&(d.client_order_id=u),"limit"!==t&&"limit_post_only"!==t&&"market_with_range"!==t&&"stop"!==t||(d.price=c.priceToPrecision(e,s)),n.next=9,c.privatePostOrders(c.extend(d,o));case 9:return f=n.sent,n.abrupt("return",c.parseOrder(f));case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePutOrdersIdCancel(i.extend(a,r));case 5:if(s=t.sent,"closed"!==(o=i.parseOrder(s)).status){t.next=10;break}if(!i.options.cancelOrderException){t.next=10;break}throw new f(i.id+" order closed already: "+i.json(s));case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()}editOrder(e,t,r,i,s,o,c={}){var d=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.loadMarkets();case 2:if(void 0!==o){r.next=4;break}throw new u(d.id+" editOrder() requires the price argument");case 4:return a={order:{quantity:d.amountToPrecision(t,s),price:d.priceToPrecision(t,o)},id:e},r.next=7,d.privatePutOrdersId(d.extend(a,c));case 7:return i=r.sent,r.abrupt("return",d.parseOrder(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({live:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeTimestamp(e,"created_at"),a=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,a);var i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeFloat(e,"quantity"),o=this.safeFloat(e,"filled_quantity"),c=this.safeFloat(e,"price"),u=void 0,d=void 0;void 0!==t&&(u=t.symbol,d=t.quote);for(var f=this.safeString(e,"order_type"),l=0,h=0,p=this.safeFloat(e,"average_price"),m=this.parseTrades(this.safeValue(e,"executions",[]),t,void 0,void 0,{order:r,type:f}),v=m.length,b=0;b<v;b++){var g=m[b];g.order=r,g.type=f,h=this.sum(h,g.amount),l=this.sum(l,g.cost)}var y=void 0,w=void 0;v>0&&(w=m[v-1].timestamp,!p&&h>0&&(p=l/h),void 0===y&&(y=l),void 0===o&&(o=h));var k=void 0;void 0!==s&&void 0!==o&&(k=s-o);var x=this.safeString(e,"side");return{id:r,clientOrderId:this.safeString(e,"client_order_id"),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:w,type:f,timeInForce:void 0,postOnly:void 0,status:i,symbol:u,side:x,price:c,stopPrice:void 0,amount:s,filled:o,cost:y,remaining:k,average:p,trades:m,fee:{currency:d,cost:this.safeFloat(e,"order_fee")},info:e}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrdersId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={with_details:1},void 0!==e&&(o=s.market(e),c.product_id=o.id),void 0!==r&&(c.limit=r),n.next=8,s.privateGetOrders(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"models",[]),n.abrupt("return",s.parseOrders(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"live"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"filled"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(c=o.currency(e),u={currency:c.id,address:r,amount:o.currencyToPrecision(e,t)},void 0===i){n.next=16;break}if("XRP"!==e){n.next=10;break}u.payment_id=i,n.next=16;break;case 10:if("XLM"!==e){n.next=15;break}u.memo_type="text",u.memo_value=i,n.next=16;break;case 15:throw new v(o.id+" withdraw() only supports a tag along the address for XRP or XLM");case 16:return n.next=18,o.privatePostCryptoWithdrawals(o.extend(u,s));case 18:return d=n.sent,n.abrupt("return",o.parseTransaction(d,c));case 20:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({pending:"pending",cancelled:"canceled",approved:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString2(e,"payment_id","memo_value"),i=this.safeString(e,"asset"),s=this.safeCurrencyCode(i,t),o=this.safeTimestamp(e,"created_at"),c=this.safeTimestamp(e,"updated_at"),u=this.parseTransactionStatus(this.safeString(e,"state")),d=this.safeFloat(e,"amount");return{info:e,id:r,txid:void 0,timestamp:o,datetime:this.iso8601(o),address:n,tag:a,type:"withdrawal",amount:d,currency:s,status:u,updated:c,fee:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(a={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o));var c=this.nonce(),u={path:s,token_id:this.apiKey,iat:Math.floor(c/1e3)};"client_order_id"in o||(u.nonce=c),a["X-Quoine-Auth"]=this.jwt(u,this.encode(this.secret))}else Object.keys(o).length&&(s+="?"+this.urlencode(o));return{url:s=this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(!(e>=200&&e<300))if(401!==e){if(429===e)throw new m(this.id+" "+i);if(void 0!==s){var d=this.id+" "+i,f=this.safeString(s,"message"),l=this.safeValue(s,"errors");if(void 0!==f)this.throwExactlyMatchedException(this.exceptions,f,d);else{if(void 0===l)throw new c(d);for(var h=Object.keys(l),p=0;p<h.length;p++)for(var v=l[h[p]],b=0;b<v.length;b++){var g=v[b];this.throwExactlyMatchedException(this.exceptions,g,d)}}}}else this.throwExactlyMatchedException(this.exceptions,i,i)}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0},urls:{referral:"https://www.luno.com/invite/44893A",logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:{public:"https://api.luno.com/api",private:"https://api.luno.com/api",exchange:"https://api.luno.com/api/exchange"},www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{exchange:{get:["markets"]},public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","beneficiaries","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}"],post:["accounts","accounts/{id}/name","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["accounts/{id}/name","quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.exchangeGetMarkets(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"markets",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"market_id"),d=t.safeString(c,"base_currency"),f=t.safeString(c,"counter_currency"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m=t.safeString(c,"trading_status"),v="ACTIVE"===m,b={amount:t.safeInteger(c,"volume_scale"),price:t.safeInteger(c,"price_scale")},i.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:v,precision:b,limits:{amount:{min:t.safeFloat(c,"min_volume"),max:t.safeFloat(c,"max_volume")},price:{min:t.safeFloat(c,"min_price"),max:t.safeFloat(c,"max_price")},cost:{min:void 0,max:void 0}},info:c});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetBalance(e);case 2:for(a=r.sent,i=t.safeValue(a,"balance",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"account_id"),d=t.safeString(c,"asset"),f=t.safeCurrencyCode(d),s.push({id:u,type:void 0,currency:f,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"balance",[]),s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"asset"),d=t.safeCurrencyCode(u),f=t.safeFloat(c,"reserved"),l=t.safeFloat(c,"unconfirmed"),h=t.safeFloat(c,"balance"),d in s?(s[d].used=t.sum(s[d].used,f,l),s[d].total=t.sum(s[d].total,h,l)):((p=t.account()).used=t.sum(f,l),p.total=t.sum(h,l),s[d]=p);return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s="publicGetOrderbook",void 0!==t&&t<=100&&(s+="Top"),o={pair:i.marketId(e)},n.next=7,i[s](i.extend(o,r));case 7:return c=n.sent,u=i.safeInteger(c,"timestamp"),n.abrupt("return",i.parseOrderBook(c,u,"bids","asks","price","volume"));case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({PENDING:"open"},e,e)}parseOrder(e,t){var r=this.safeInteger(e,"creation_timestamp"),n=this.parseOrderStatus(this.safeString(e,"state"));n=n;var a="ASK"===e.type?"sell":"buy",i=this.safeString(e,"pair"),s=this.safeSymbol(i,t),o=this.safeFloat(e,"limit_price"),c=this.safeFloat(e,"limit_volume"),u=this.safeFloat(e,"fee_counter"),d=this.safeFloat(e,"fee_base"),f=this.safeFloat(e,"base"),l=this.safeFloat(e,"counter"),h=void 0;void 0!==c&&void 0!==f&&(h=Math.max(0,c-f));var p={currency:void 0};return u?(p.cost=u,void 0!==t&&(p.currency=t.quote)):(p.cost=d,void 0!==t&&(p.currency=t.base)),{id:this.safeString(e,"order_id"),clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:n,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,amount:c,filled:f,cost:l,remaining:h,trades:void 0,fee:p,info:e,average:void 0}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrdersId(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOrdersByState(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={},u=void 0,void 0!==e&&(c.state=e),void 0!==t&&(u=o.market(t),c.pair=u.id),n.next=8,o.privateGetListorders(o.extend(c,s));case 8:return d=n.sent,f=o.safeValue(d,"orders",[]),n.abrupt("return",o.parseOrders(f,u,r,i));case 11:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByState(void 0,e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByState("PENDING",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersByState("COMPLETE",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"timestamp"),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s=r.indexBy(i.tickers,"pair"),o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=r.safeMarket(d),l=f.symbol,h=s[d],c[l]=r.parseTicker(h,f);return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"order_id"),n=void 0,a=void 0;void 0!==r?n="sell"===(a="ASK"===e.type?"sell":"buy")&&e.is_buy?"maker":"buy"!==a||e.is_buy?"taker":"maker":a=e.is_buy?"buy":"sell";var i=this.safeFloat(e,"fee_base"),s=this.safeFloat(e,"fee_counter"),o=void 0,c=void 0;void 0!==i?0!==i&&(o=t.base,c=i):void 0!==s&&0!==s&&(o=t.quote,c=s);var u=this.safeInteger(e,"timestamp");return{info:e,id:void 0,timestamp:u,datetime:this.iso8601(u),symbol:t.symbol,order:r,type:void 0,side:a,takerOrMaker:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"counter"),fee:{cost:c,currency:o}}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},void 0!==t&&(c.since=t),n.next=7,s.publicGetTrades(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"trades",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={pair:o.id},void 0!==t&&(u.since=t),void 0!==r&&(u.limit=r),n.next=10,s.privateGetListtrades(s.extend(u,i));case 10:return d=n.sent,f=s.safeValue(d,"trades",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetFeeInfo(e);case 4:return a=r.sent,r.abrupt("return",{info:a,maker:t.safeFloat(a,"maker_fee"),taker:t.safeFloat(a,"taker_fee")});case 6:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u="privatePost",d={pair:c.marketId(e)},"market"===t?(u+="Marketorder",d.type=r.toUpperCase(),"buy"===r?d.counter_volume=i:d.base_volume=i):(u+="Postorder",d.volume=i,d.price=s,d.type="buy"===r?"BID":"ASK"),n.next=7,c[u](c.extend(d,o));case 7:return f=n.sent,n.abrupt("return",{info:f,id:f.order_id});case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privatePostStoporder(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}fetchLedgerByEntries(e,t=-1,r=1,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0,o={min_row:t,max_row:s.sum(t,r)},n.next=4,s.fetchLedger(e,void 0,r,s.extend(o,i));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),a)})))()}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var u,d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:if(u=void 0,d=s.safeString(i,"id"),f=s.safeValue(i,"min_row"),l=s.safeValue(i,"max_row"),void 0!==d){n.next=17;break}if(void 0!==e){n.next=11;break}throw new c(s.id+" fetchLedger() requires a currency code argument if no account id specified in params");case 11:if(u=s.currency(e),h=s.indexBy(s.accounts,"currency"),void 0!==(p=s.safeValue(h,e))){n.next=16;break}throw new o(s.id+" fetchLedger() could not find account id for "+e);case 16:d=p.id;case 17:if(void 0!==f||void 0!==l){n.next=22;break}l=0,f=-1e3,n.next=24;break;case 22:if(void 0!==f&&void 0!==l){n.next=24;break}throw new o(s.id+" fetchLedger() require both params 'max_row' and 'min_row' or neither to be defined");case 24:if(void 0!==r&&l-f>r&&(l<=0?f=l-r:f>0&&(l=f+r)),!(l-f>1e3)){n.next=27;break}throw new o(s.id+" fetchLedger() requires the params 'max_row' - 'min_row' <= 1000");case 27:return m={id:d,min_row:f,max_row:l},n.next=30,s.privateGetAccountsIdTransactions(s.extend(i,m));case 30:return v=n.sent,b=s.safeValue(v,"transactions",[]),n.abrupt("return",s.parseLedger(b,u,t,r));case 33:case"end":return n.stop()}}),a)})))()}parseLedgerComment(e){var t=e.split(" "),r=void 0,n=this.safeString(t,0),a=this.safeString(t,2),i=this.safeString(t,3),s=this.safeString({Withdrawal:"fee",Trading:"fee",Payment:"transaction",Sent:"transaction",Deposit:"transaction",Received:"transaction",Released:"released",Reserved:"reserved",Sold:"trade",Bought:"trade",Failure:"failed"},n,void 0);return void 0===s&&"fee"===a&&(s="fee"),"reserved"===s&&"order"===i&&(r=this.safeString(t,4)),{type:s,referenceId:r}}parseLedgerEntry(e,t){var r=this.safeString(e,"row_index"),n=this.safeString(e,"account_id"),a=this.safeValue(e,"timestamp"),i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),o=this.safeFloat(e,"available_delta"),c=this.safeFloat(e,"balance_delta"),u=this.safeFloat(e,"balance"),d=this.safeString(e,"description"),f=u,l=0,h=this.parseLedgerComment(d),p=h.type,m=h.referenceId,v=void 0,b=void 0;return 0!==c?(f=u-c,b="ok",l=Math.abs(c)):o<0?(b="pending",l=Math.abs(o)):o>0&&(b="canceled",l=Math.abs(o)),c>0||o>0?v="in":(c<0||o<0)&&(v="out"),{id:r,direction:v,account:n,referenceId:m,referenceAccount:void 0,type:p,currency:s,amount:l,timestamp:a,datetime:this.iso8601(a),before:f,after:u,status:b,fee:void 0,info:e}}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(Object.keys(o).length&&(s+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var c=this.stringToBase64(this.apiKey+":"+this.secret);a={Authorization:"Basic "+this.decode(c)}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(!("error"in(d=n.sent))){n.next=5;break}throw new o(u.id+" "+u.json(d));case 5:return n.abrupt("return",d);case 6:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7);e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0},timeframes:{"1m":"Minute","5m":"Min5","15m":"Min15","30m":"Min30","1h":"Hour","4h":"Hour4","6h":"Hour6","12h":"Hour12","1d":"Day","1w":"Week","1M":"Month"},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api"},test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["AssetPairs/rate","AssetPairs/rate/{assetPairId}","AssetPairs/dictionary/{market}","Assets/dictionary","Candles/history/{market}/available","Candles/history/{market}/{assetPair}/{period}/{type}/{from}/{to}","Company/ownershipStructure","Company/registrationsCount","IsAlive","Market","Market/{market}","Market/capitalization/{market}","OrderBook","OrderBook/{assetPairId}","Trades/{AssetPairId}","Trades/Last/{assetPair}/{n}"],post:["AssetPairs/rate/history","AssetPairs/rate/history/{assetPairId}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets","History/trades"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel","Orders/v2/market","Orders/v2/limit","Orders/stoplimit","Orders/bulk"],delete:["Orders","Orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}},commonCurrencies:{XPD:"Lykke XPD"}})}parseTrade(e,t){var r=this.safeString(e,"AssetPairId"),n=this.safeSymbol(r,t),a=this.safeString2(e,"id","Id"),i=this.safeString(e,"OrderId"),s=this.parse8601(this.safeString2(e,"dateTime","DateTime")),o=this.safeFloat2(e,"price","Price"),c=this.safeFloat2(e,"volume","Amount"),u=this.safeStringLower(e,"action");void 0===u&&(u=c<0?"sell":"buy");var d=o*(c=Math.abs(c)),f={cost:0,currency:t.quote};return{id:a,info:e,timestamp:s,datetime:this.iso8601(s),symbol:n,type:void 0,order:i,side:u,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:f}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),void 0===r&&(r=100),c={AssetPairId:o.id,skip:0,take:r},a.next=7,s.mobileGetTradesAssetPairId(s.extend(c,n));case 7:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==r&&(o.take=r),void 0!==e&&(c=s.market(e),o.assetPairId=c.id),a.next=8,s.privateGetHistoryTrades(s.extend(o,n));case 8:return u=a.sent,a.abrupt("return",s.parseTrades(u,c,t,r));case 10:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetWallets(e);case 4:for(n=r.sent,i={info:n},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"AssetId"),u=t.safeCurrencyCode(c),(d=t.account()).total=t.safeFloat(o,"Balance"),d.used=t.safeFloat(o,"Reserved"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={id:e},t.next=3,n.privateDeleteOrdersId(n.extend(i,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.assetPairId=s.id),n.next=7,r.privateDeleteOrders(r.extend(i,t));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u=c.market(e),d={AssetPairId:u.id,OrderAction:c.capitalize(r),Volume:n,Asset:u.baseId},"limit"===t&&(d.Price=s),f="privatePostOrdersV2"+c.capitalize(t),a.next=8,c[f](c.extend(d,o));case 8:return l=a.sent,h=c.safeString(l,"Id"),s=c.safeFloat(l,"Price"),a.abrupt("return",{id:h,info:l,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:r,price:s,amount:n,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0});case 12:case"end":return a.stop()}}),i)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function e(){var r,i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.publicGetAssetPairs();case 2:for(r=e.sent,i=[],s=0;s<r.length;s++)o=r[s],c=t.safeString(o,"Id"),u=t.safeString(o,"Name"),d=u.split("/"),f=n(d,2),l=f[0],h=f[1],p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=p+"/"+m,b={price:t.safeInteger(o,"Accuracy"),amount:t.safeInteger(o,"InvertedAccuracy")},i.push({id:c,symbol:v,base:p,quote:m,active:!0,info:o,precision:b,limits:{amount:{min:Math.pow(10,-b.amount),max:Math.pow(10,b.amount)},price:{min:Math.pow(10,-b.price),max:Math.pow(10,b.price)},cost:{min:void 0,max:void 0}},baseId:void 0,quoteId:void 0});return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"lastPrice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume24H"),info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.mobileGetMarketMarket(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}parseOrderStatus(e){return this.safeString({Open:"open",Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled",Rejected:"rejected",Replaced:"canceled",Placed:"open"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"Status")),n=this.safeString(e,"AssetPairId"),a=this.safeSymbol(n,t),i=this.parse8601(this.safeString(e,"LastMatchTime")),s=void 0;"Registered"in e&&e.Registered?s=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(s=this.parse8601(e.CreatedAt));var o=this.safeFloat(e,"Price"),c=void 0,u=this.safeFloat(e,"Volume");u<0?(c="sell",u=Math.abs(u)):c="buy";var d=Math.abs(this.safeFloat(e,"RemainingVolume")),f=u-d,l=f*o;return{info:e,id:this.safeString(e,"Id"),clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:i,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:void 0,cost:l,average:void 0,amount:u,filled:f,remaining:d,status:r,fee:void 0,trades:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={id:e},t.next=5,n.privateGetOrdersId(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.privateGetOrders(n);case 4:return o=a.sent,c=void 0,void 0!==e&&(c=s.market(e)),a.abrupt("return",s.parseOrders(o,c,t,r));case 8:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={status:"InOrderBook"},a.next=3,s.fetchOrders(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={status:"Matched"},a.next=3,s.fetchOrders(e,t,r,s.extend(o,n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),i)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c,u,d;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return t.next=4,n.publicGetOrderBooksAssetPairId(n.extend({AssetPairId:n.marketId(e)},r));case 4:for(i=t.sent,s={timestamp:void 0,bids:[],asks:[]},o=void 0,c=0;c<i.length;c++)(u=i[c]).IsBuy?s.bids=n.arrayConcat(s.bids,u.Prices):s.asks=n.arrayConcat(s.asks,u.Prices),d=n.parse8601(u.Timestamp),o=void 0===o?d:Math.max(o,d);return t.abrupt("return",n.parseOrderBook(s,o,"bids","asks","Price","Volume"));case 9:case"end":return t.stop()}}),t)})))()}parseBidAsk(e,t=0,r=1){var n=this.safeFloat(e,t),a=this.safeFloat(e,r);return a<0&&(a=-a),[n,a]}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return"mobile"===t||"public"===t?Object.keys(o).length&&(s+="?"+this.urlencode(o)):"private"===t&&("GET"!==r&&"DELETE"!==r||Object.keys(o).length&&(s+="?"+this.urlencode(o)),this.checkRequiredCredentials(),a={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===r&&Object.keys(n).length&&(i=this.json(n))),{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.InvalidOrder;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","2w":"2w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi",v4Public:"https://www.mercadobitcoin.com.br/v4"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["coins","{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","place_market_buy_order","place_market_sell_order","withdraw_coin"]},v4Public:{get:["{coin}/candle/"]}},fees:{trading:{maker:.003,taker:.007}},options:{limits:{BTC:.001,BCH:.001,ETH:.01,LTC:.01,XRP:.1}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCoins(e);case 2:for(a=r.sent,i=[],s=t.safeValue(t.options,"limits",{}),o=0;o<a.length;o++)c=a[o],u=c,"BRL",d=t.safeCurrencyCode(u),f=t.safeCurrencyCode("BRL"),l=d+"/"+f,h=f+d,p={amount:8,price:5},i.push({id:h,symbol:l,base:d,quote:f,baseId:u,quoteId:"BRL",active:void 0,info:c,precision:p,limits:{amount:{min:t.safeFloat(s,u),max:void 0},price:{min:1/Math.pow(10,p.price),max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={coin:a.base},t.next=6,i.publicGetCoinOrderbook(i.extend(s,r));case 6:return o=t.sent,t.abrupt("return",i.parseOrderBook(o));case 8:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={coin:i.base},n.next=6,r.publicGetCoinTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"ticker",{}),u=r.safeTimestamp(c,"date"),d=r.safeFloat(c,"last"),n.abrupt("return",{symbol:e,timestamp:u,datetime:r.iso8601(u),high:r.safeFloat(c,"high"),low:r.safeFloat(c,"low"),bid:r.safeFloat(c,"buy"),bidVolume:void 0,ask:r.safeFloat(c,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(c,"vol"),quoteVolume:void 0,info:c});case 11:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp2(e,"date","executed_timestamp"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeString2(e,"tid","operation_id"),i=this.safeString(e,"type"),s=this.safeFloat(e,"price"),o=this.safeFloat2(e,"amount","quantity"),c=void 0;void 0!==s&&void 0!==o&&(c=s*o);var u=this.safeFloat(e,"fee_rate"),d=void 0;return void 0!==u&&(d={cost:u,currency:void 0}),{id:a,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:void 0,type:void 0,side:i,takerOrMaker:void 0,price:s,amount:o,cost:c,fee:d}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c="publicGetCoinTrades",u={coin:o.base},void 0!==t&&(c+="From",u.from=parseInt(t/1e3)),void 0!==s.safeInteger(i,"to")&&(c+="To"),n.next=10,s[c](s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetAccountInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"response_data",{}),s=t.safeValue(i,"balance",{}),o={info:a},c=Object.keys(s),u=0;u<c.length;u++)d=c[u],f=t.safeCurrencyCode(d),d in s&&(l=t.safeValue(s,d,{}),(h=t.account()).free=t.safeFloat(l,"available"),h.total=t.safeFloat(l,"total"),o[f]=h);return r.abrupt("return",t.parseBalance(o));case 11:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(d={coin_pair:c.marketId(e)},f=c.capitalize(r)+"Order","limit"!==t){n.next=10;break}f="privatePostPlace"+f,d.limit_price=c.priceToPrecision(e,s),d.quantity=c.amountToPrecision(e,i),n.next=18;break;case 10:if(f="privatePostPlaceMarket"+f,"buy"!==r){n.next=17;break}if(void 0!==s){n.next=14;break}throw new u(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount");case 14:d.cost=c.priceToPrecision(e,i*s),n.next=18;break;case 17:d.quantity=c.amountToPrecision(e,i);case 18:return n.next=20,c[f](c.extend(d,o));case 20:return l=n.sent,n.abrupt("return",{info:l,id:l.response_data.order.order_id.toString()});case 22:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder () requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={coin_pair:s.id,order_id:e},n.next=8,i.privatePostCancelOrder(i.extend(o,r));case 8:return u=n.sent,d=i.safeValue(u,"response_data",{}),f=i.safeValue(d,"order",{}),n.abrupt("return",i.parseOrder(f,s));case 12:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({2:"open",3:"canceled",4:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=void 0;"order_type"in e&&(n=1===e.order_type?"buy":"sell");var a=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"coin_pair");t=this.safeMarket(i,t);var s=this.safeTimestamp(e,"created_timestamp"),o={cost:this.safeFloat(e,"fee"),currency:t.quote},c=this.safeFloat(e,"limit_price"),u=this.safeFloat(e,"executed_price_avg"),d=this.safeFloat(e,"quantity"),f=this.safeFloat(e,"executed_quantity"),l=d-f,h=f*u,p=this.safeTimestamp(e,"updated_timestamp"),m=this.safeValue(e,"operations",[]),v=this.parseTrades(m,t,void 0,void 0,{side:n,order:r});return{info:e,id:r,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:p,symbol:t.symbol,type:"limit",timeInForce:void 0,postOnly:void 0,side:n,price:c,stopPrice:void 0,cost:h,average:u,amount:d,filled:f,remaining:l,status:a,fee:o,trades:v}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" fetchOrder () requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={coin_pair:s.id,order_id:parseInt(e)},n.next=8,i.privatePostGetOrder(i.extend(o,r));case 8:return u=n.sent,d=i.safeValue(u,"response_data",{}),f=i.safeValue(d,"order"),n.abrupt("return",i.parseOrder(f,s));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(u=o.currency(e),d={coin:u.id,quantity:t.toFixed(10),address:r},"BRL"!==e){n.next=11;break}if("account_ref"in s){n.next=9;break}throw new c(o.id+" withdraw() requires account_ref parameter to withdraw "+e);case 9:n.next=22;break;case 11:if("LTC"===e){n.next=22;break}if("tx_fee"in s){n.next=15;break}throw new c(o.id+" withdraw() requires tx_fee parameter to withdraw "+e);case 15:if("XRP"!==e){n.next=22;break}if(void 0!==i){n.next=21;break}if("destination_tag"in s){n.next=19;break}throw new c(o.id+" withdraw() requires a tag argument or destination_tag parameter to withdraw "+e);case 19:n.next=22;break;case 21:d.destination_tag=i;case 22:return n.next=24,o.privatePostWithdrawCoin(o.extend(d,s));case 24:return f=n.sent,n.abrupt("return",{info:f,id:f.response_data.withdrawal.id});case 26:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={precision:o.timeframes[t],coin:c.id.toLowerCase()},void 0!==i&&void 0!==r?(u.from=parseInt(r/1e3),u.to=o.sum(u.from,i*o.parseTimeframe(t))):void 0!==r?(u.from=parseInt(r/1e3),u.to=o.sum(o.seconds(),1)):void 0!==i&&(u.to=o.seconds(),u.from=u.to-i*o.parseTimeframe(t)),n.next=7,o.v4PublicGetCoinCandle(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"candles",[]),n.abrupt("return",o.parseOHLCVs(f,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders () requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={coin_pair:o.id},n.next=8,s.privatePostListOrders(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,"response_data",{}),l=s.safeValue(f,"orders",[]),n.abrupt("return",s.parseOrders(l,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOpenOrders () requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={coin_pair:o.id,status_list:"[2]"},n.next=8,s.privatePostListOrders(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,"response_data",{}),l=s.safeValue(f,"orders",[]),n.abrupt("return",s.parseOrders(l,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades () requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={coin_pair:o.id,has_fills:!0},n.next=8,s.privatePostListOrders(s.extend(u,i));case 8:return d=n.sent,f=s.safeValue(d,"response_data",{}),l=s.safeValue(f,"orders",[]),h=s.parseOrders(l,o,t,r),p=s.ordersToTrades(h),n.abrupt("return",s.filterBySymbolSinceLimit(p,e,t,r));case 14:case"end":return n.stop()}}),a)})))()}ordersToTrades(e){for(var t=[],r=0;r<e.length;r++)for(var n=this.safeValue(e[r],"trades",[]),a=0;a<n.length;a++)t.push(n[a]);return t}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/",o=this.omit(n,this.extractParams(e));if("public"===t||"v4Public"===t)s+=this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),s+=this.version+"/";var c=this.nonce();i=this.urlencode(this.extend({tapi_method:e,tapi_nonce:c},n));var u="/tapi/"+this.version+"/?"+i;a={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(u),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},s,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,s,c);case 2:if(!("error_message"in(d=n.sent))){n.next=5;break}throw new o(u.id+" "+u.json(d));case 5:return n.abrupt("return",d);case 6:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",userAgent:this.userAgents.chrome,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460810-1dd06c00-c616-11ea-9276-956f400d6ffa.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker/","trades/","depth/"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USDT":{id:"btc_usdt",symbol:"BTC/USDT",base:"BTC",quote:"USDT",baseId:"btc",quoteId:"usdt",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"lsk",quoteId:"btc",maker:.0015,taker:.0025},"BCH/USDT":{id:"bch_usdt",symbol:"BCH/USDT",base:"BCH",quote:"USDT",baseId:"bch",quoteId:"usdt",maker:.001,taker:.0015},"ETH/USDT":{id:"eth_usdt",symbol:"ETH/USDT",base:"ETH",quote:"USDT",baseId:"eth",quoteId:"usdt",maker:.001,taker:.0015}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostInfo(e);case 4:for(a=r.sent,i=t.safeValue(a.result,"wallet"),s={info:a},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.safeValue(i,u,{}),(l=t.account()).free=t.safeFloat(f,"avail"),l.used=t.safeFloat(f,"lock"),s[d]=l;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={market:i.marketId(e)},t.next=5,i.publicGetDepth(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s.result));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={market:r.marketId(e)},n.next=5,r.publicGetTicker(r.extend(i,t));case 5:return s=n.sent,o=r.safeValue(s,"result"),c=r.milliseconds(),u=r.safeFloat(o,"last"),n.abrupt("return",{symbol:e,timestamp:c,datetime:r.iso8601(c),high:r.safeFloat(o,"high"),low:r.safeFloat(o,"low"),bid:r.safeFloat(o,"buy"),bidVolume:void 0,ask:r.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r.safeFloat(o,"vol"),quoteVolume:void 0,info:o});case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"date"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeString(e,"id"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;return void 0!==i&&void 0!==s&&(o=i*s),{id:a,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},n.next=6,s.publicGetTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u.result,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={market:c.marketId(e),op:r,amount:i},"market"===t?(u.order_type=1,u.price=s):u.order_type=0,n.next=6,c.privatePostTrade(c.extend(u,o));case 6:return d=n.sent,n.abrupt("return",{info:d,id:d.result.id.toString()});case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostCancel(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(s+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce();i=this.urlencode(this.extend({nonce:o},n)),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.secret,"sha512")}}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},o,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,o,c);case 2:if(!("status"in(d=n.sent))){n.next=6;break}if(200!==d.status){n.next=6;break}return n.abrupt("return",d);case 6:throw new s(u.id+" "+u.json(d));case 7:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeError,u=s.PermissionDenied,d=s.BadRequest,f=s.CancelPending,l=s.OrderNotFound,h=s.InsufficientFunds,p=s.RateLimitExceeded,m=s.InvalidOrder,v=s.AccountSuspended,b=s.BadSymbol,g=s.OnMaintenance,y=r(16).TRUNCATE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"novadax",name:"NovaDAX",countries:["BR"],rateLimit:50,version:"v1",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"ONE_MIN","5m":"FIVE_MIN","15m":"FIFTEEN_MIN","30m":"HALF_HOU","1h":"ONE_HOU","1d":"ONE_DAY","1w":"ONE_WEE","1M":"ONE_MON"},urls:{logo:"https://user-images.githubusercontent.com/1294454/92337550-2b085500-f0b3-11ea-98e7-5794fb07dd3b.jpg",api:{public:"https://api.novadax.com",private:"https://api.novadax.com"},www:"https://www.novadax.com.br",doc:["https://doc.novadax.com/pt-BR/"],fees:"https://www.novadax.com.br/fees-and-limits",referral:"https://www.novadax.com.br/?s=ccxt"},api:{public:{get:["common/symbol","common/symbols","common/timestamp","market/tickers","market/ticker","market/depth","market/trades","market/kline/history"]},private:{get:["orders/get","orders/list","orders/fill","orders/fills","account/getBalance","account/subs","account/subs/balance","account/subs/transfer/record","wallet/query/deposit-withdraw"],post:["orders/create","orders/cancel","account/withdraw/coin","account/subs/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.005,maker:.003}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{A99999:c,A10001:d,A10002:c,A10003:o,A10004:p,A10005:u,A10006:v,A10007:d,A10011:b,A10012:b,A10013:g,A30001:l,A30002:m,A30003:m,A30004:m,A30005:m,A30006:m,A30007:h,A30008:m,A30009:m,A30010:f,A30011:m,A30012:m},broad:{}},options:{fetchOHLCV:{volume:"amount"}}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCommonTimestamp(e);case 2:return a=r.sent,r.abrupt("return",t.safeInteger(a,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCommonSymbols(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"data",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"baseCurrency"),d=t.safeString(c,"quoteCurrency"),f=t.safeString(c,"symbol"),l=t.safeCurrencyCode(u),h=t.safeCurrencyCode(d),p=l+"/"+h,m={amount:t.safeInteger(c,"amountPrecision"),price:t.safeInteger(c,"pricePrecision"),cost:t.safeInteger(c,"valuePrecision")},v={amount:{min:t.safeFloat(c,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(c,"minOrderValue"),max:void 0}},b=t.safeString(c,"status"),g="ONLINE"===b,i.push({id:f,symbol:p,base:l,quote:h,baseId:u,quoteId:d,precision:m,limits:v,info:c,active:g});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t,"_"),i=this.safeFloat(e,"open24h"),s=this.safeFloat(e,"lastPrice"),o=void 0,c=void 0,u=void 0;void 0!==s&&void 0!==i&&(o=(c=s-i)/i*100,u=this.sum(s,i)/2);var d=this.safeFloat(e,"baseVolume24h"),f=this.safeFloat(e,"quoteVolume24h"),l=this.vwap(d,f);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24h"),low:this.safeFloat(e,"low24h"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:l,open:i,close:s,last:s,previousClose:void 0,change:c,percentage:o,average:u,baseVolume:d,quoteVolume:f,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetMarketTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"data",[]),o={},c=0;c<s.length;c++)u=r.parseTicker(s[c]),d=u.symbol,o[d]=u;return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.limit=t),n.next=6,i.publicGetMarketDepth(i.extend(s,r));case 6:return o=n.sent,c=i.safeValue(o,"data",{}),u=i.safeInteger(c,"timestamp"),n.abrupt("return",i.parseOrderBook(c,u,"bids","asks"));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"orderId"),a=this.safeInteger(e,"timestamp"),i=this.safeStringLower(e,"side"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"volume");void 0===c&&void 0!==o&&void 0!==s&&(c=o*s);var u=this.safeString(e,"symbol"),d=this.safeSymbol(u,t,"_"),f=this.safeStringLower(e,"role"),l=this.safeString(e,"fee"),h=void 0;if(void 0!==l){var p=l.split(" "),m=this.safeString(p,1),v=this.safeCurrencyCode(m);h={cost:this.safeFloat(p,0),currency:v}}return{id:r,order:n,timestamp:a,datetime:this.iso8601(a),symbol:d,type:void 0,side:i,price:s,amount:o,cost:c,takerOrMaker:f,fee:h,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetMarketTrades(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,unit:o.timeframes[t]},d=o.parseTimeframe(t),f=o.seconds(),void 0===i&&(i=3e3),void 0===r?(u.from=f-i*d,u.to=f):(l=parseInt(r/1e3),u.from=l,u.to=o.sum(l,i*d)),n.next=10,o.publicGetMarketKlineHistory(o.extend(u,s));case 10:return h=n.sent,p=o.safeValue(h,"data",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 13:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){var r=this.safeValue(this.options,"fetchOHLCV",{}),n=this.safeString(r,"volume","amount");return[this.safeTimestamp(e,"score"),this.safeFloat(e,"openPrice"),this.safeFloat(e,"highPrice"),this.safeFloat(e,"lowPrice"),this.safeFloat(e,"closePrice"),this.safeFloat(e,n)]}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccountGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"data",[]),s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(c,"available"),f.free=t.safeFloat(c,"balance"),f.used=t.safeFloat(c,"hold"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h,p,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d=t.toUpperCase(),f=r.toUpperCase(),l={symbol:u.id,type:d,side:f},"LIMIT"!==d){n.next=11;break}l.price=c.priceToPrecision(e,s),l.amount=c.amountToPrecision(e,i),n.next=31;break;case 11:if("MARKET"!==d){n.next=31;break}if("SELL"!==f){n.next=16;break}l.amount=c.amountToPrecision(e,i),n.next=31;break;case 16:if("BUY"!==f){n.next=31;break}if(h=c.safeFloat(o,"value"),!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){n.next=28;break}if(void 0===s){n.next=24;break}void 0===h&&(h=i*s),n.next=26;break;case 24:if(void 0!==h){n.next=26;break}throw new m(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'value' extra parameter (the exchange-specific behaviour)");case 26:n.next=29;break;case 28:h=void 0===h?i:h;case 29:p=u.precision.price,l.value=c.decimalToPrecision(h,y,p,c.precisionMode);case 31:return n.next=33,c.privatePostOrdersCreate(c.extend(l,o));case 33:return v=n.sent,b=c.safeValue(v,"data",{}),n.abrupt("return",c.parseOrder(b,u));case 36:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostOrdersCancel(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privateGetOrdersGet(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.symbol=c.id),void 0!==r&&(o.limit=r),void 0!==t&&(o.fromTimestamp=t),n.next=9,s.privateGetOrdersList(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseOrders(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"SUBMITTED,PROCESSING,PARTIAL_FILLED,CANCELING"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"FILLED,CANCELED,REJECTED"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={id:e},n.next=5,o.privateGetOrdersFill(o.extend(c,s));case 5:return u=n.sent,d=void 0,void 0!==t&&(d=o.market(t)),f=o.safeValue(u,"data",[]),n.abrupt("return",o.parseTrades(f,d,r,i));case 10:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({SUBMITTED:"open",PROCESSING:"open",PARTIAL_FILLED:"open",CANCELING:"open",FILLED:"closed",CANCELED:"canceled",REJECTED:"rejected"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeFloat(e,"amount"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"filledValue"),s=this.safeStringLower(e,"type"),o=this.safeStringLower(e,"side"),c=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeInteger(e,"timestamp"),d=this.safeFloat(e,"averagePrice"),f=this.safeFloat(e,"filledAmount"),l=void 0;void 0!==n&&void 0!==f&&(l=Math.max(0,n-f));var h=void 0,p=this.safeFloat(e,"filledFee");void 0!==p&&(h={cost:p,currency:void 0});var m=this.safeString(e,"symbol"),v=this.safeSymbol(m,t,"_");return{id:r,clientOrderId:void 0,info:e,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:v,type:s,timeInForce:void 0,postOnly:void 0,side:o,price:a,stopPrice:void 0,amount:n,cost:i,average:d,filled:f,remaining:l,status:c,fee:h,trades:void 0}}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.currency(e),u={code:c.id,amount:o.currencyToPrecision(e,t),wallet:r},void 0!==i&&(u.tag=i),n.next=7,o.privatePostAccountWithdrawCoin(o.extend(u,s));case 7:return d=n.sent,n.abrupt("return",o.parseTransaction(d,c));case 9:case"end":return n.stop()}}),a)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetAccountSubs(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"subId"),d=t.safeString(c,"subAccount"),s.push({id:u,type:d,currency:void 0,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"coin_in"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"coin_out"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.size=r),n.next=8,s.privateGetWalletQueryDepositWithdraw(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){var t=e.split(" ");e=this.safeString(t,1,e);return this.safeString({Pending:"pending",confirming:"pending",SUCCESS:"ok",FAIL:"failed"},e,e)}parseTransaction(e,t){var r=this.safeString2(e,"id","data"),n=this.safeString(e,"type");"COIN_IN"===n?n="deposit":"COIN_OUT"===n&&(n="withdraw");var a=this.safeFloat(e,"amount"),i=this.safeString(e,"address"),s=this.safeString(e,"addressTag"),o=this.safeString(e,"txHash"),c=this.safeInteger(e,"createdAt"),u=this.safeInteger(e,"updatedAt"),d=this.safeString(e,"currency");return{info:e,id:r,currency:this.safeCurrencyCode(d,t),amount:a,address:i,addressTo:i,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,status:this.parseTransactionStatus(this.safeString(e,"state")),type:n,updated:u,txid:o,timestamp:c,datetime:this.iso8601(c),fee:void 0}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.symbol=c.id),void 0!==r&&(o.limit=r),void 0!==t&&(o.fromTimestamp=t),n.next=9,s.privateGetOrdersFills(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.urls.api[t]+s,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();var u=this.milliseconds().toString();a={"X-Nova-Access-Key":this.apiKey,"X-Nova-Timestamp":u};var d=void 0;"POST"===r?(i=this.json(c),d=this.hash(i,"md5"),a["Content-Type"]="application/json"):(Object.keys(c).length&&(o+="?"+this.urlencode(c)),d=this.urlencode(this.keysort(c)));var f=r+"\n"+s+"\n"+d+"\n"+u;a["X-Nova-Signature"]=this.hmac(this.encode(f),this.encode(this.secret))}return{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"code");if("A10000"!==d){var f=this.safeString(s,"message"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwBroadlyMatchedException(this.exceptions.broad,f,l),new c(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.AuthenticationError,d=o.ArgumentsRequired,f=o.BadRequest,l=o.InvalidOrder,h=o.InsufficientFunds,p=o.OrderNotFound,m=o.PermissionDenied;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"oceanex",name:"OceanEx",countries:["US"],version:"v1",rateLimit:3e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/58385970-794e2d80-8001-11e9-889c-0567cd79b78e.jpg",api:"https://api.oceanex.pro",www:"https://www.oceanex.pro.com",doc:"https://api.oceanex.pro/doc/v1",referral:"https://oceanex.pro/signup?referral=VE24QX"},has:{fetchMarkets:!0,fetchCurrencies:!1,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTrades:!0,fetchTradingLimits:!1,fetchTradingFees:!1,fetchAllTradingFees:!0,fetchFundingFees:!1,fetchTime:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchBalance:!0,createMarketOrder:!0,createOrder:!0,cancelOrder:!0,cancelOrders:!0,cancelAllOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["markets","tickers/{pair}","tickers_multi","order_book","order_book/multi","fees/trading","trades","timestamp"]},private:{get:["key","members/me","orders","orders/filter"],post:["orders","orders/multi","order/delete","order/delete/multi","orders/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{PLA:"Plair"},exceptions:{codes:{"-1":f,"-2":f,1001:f,1004:d,1006:u,1008:u,1010:u,1011:m,2001:u,2002:l,2004:p,9003:m},exact:{"market does not have a valid value":f,"side does not have a valid value":f,"Account::AccountError: Cannot lock funds":h,"The account does not exist":u}}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={show_details:!0},r.next=3,t.publicGetMarkets(t.extend(i,e));case 3:for(s=r.sent,o=[],c=t.safeValue(s,"data"),u=0;u<c.length;u++)d=c[u],f=t.safeValue(d,"id"),l=t.safeValue(d,"name"),h=l.split("/"),p=a(h,2),m=p[0],v=p[1],b=t.safeCurrencyCode(m),g=t.safeCurrencyCode(v),m=m.toLowerCase(),v=v.toLowerCase(),y=b+"/"+g,o.push({id:f,symbol:y,base:b,quote:g,baseId:m,quoteId:v,active:!0,info:d,precision:{amount:t.safeValue(d,"amount_precision"),price:t.safeValue(d,"price_precision"),base:t.safeValue(d,"ask_precision"),quote:t.safeValue(d,"bid_precision")},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeValue(d,"minimum_trading_amount"),max:void 0}}});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetTickersPair(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return void 0===e&&(e=r.symbols),i=r.marketIds(e),s={markets:i},n.next=7,r.publicGetTickersMulti(r.extend(s,t));case 7:for(o=n.sent,c=r.safeValue(o,"data"),u={},d=0;d<c.length;d++)f=c[d],l=r.safeString(f,"market"),h=r.safeMarket(l),p=h.symbol,u[p]=r.parseTicker(f,h);return n.abrupt("return",r.filterByArray(u,"symbol",e));case 12:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeValue(e,"ticker",{}),n=this.safeTimestamp(e,"at");return{symbol:t.symbol,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"buy"),bidVolume:void 0,ask:this.safeFloat(r,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(r,"last"),last:this.safeFloat(r,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,"volume"),quoteVolume:void 0,info:r}}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(e),o={market:s.id},void 0!==t&&(o.limit=t),n.next=7,a.publicGetOrderBook(a.extend(o,r));case 7:return c=n.sent,u=a.safeValue(c,"data",{}),d=a.safeTimestamp(u,"timestamp"),n.abrupt("return",a.parseOrderBook(u,d));case 11:case"end":return n.stop()}}),i)})))()}fetchOrderBooks(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u,d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return void 0===e&&(e=a.symbols),s=a.marketIds(e),o={markets:s},void 0!==t&&(o.limit=t),n.next=8,a.publicGetOrderBookMulti(a.extend(o,r));case 8:for(c=n.sent,u=a.safeValue(c,"data",[]),d={},f=0;f<u.length;f++)l=u[f],h=a.safeString(l,"market"),p=a.safeSymbol(h),m=a.safeTimestamp(l,"timestamp"),d[p]=a.parseOrderBook(l,m);return n.abrupt("return",d);case 13:case"end":return n.stop()}}),i)})))()}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicGetTrades(s.extend(c,a));case 7:return u=n.sent,d=s.safeValue(u,"data"),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeValue(e,"side");"bid"===r?r="buy":"ask"===r&&(r="sell");var n=this.safeValue(e,"market"),a=this.safeSymbol(n,t),i=this.safeTimestamp(e,"created_on");return void 0===i&&(i=this.parse8601(this.safeString(e,"created_at"))),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,id:this.safeString(e,"id"),order:void 0,type:"limit",takerOrMaker:void 0,side:r,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:void 0,fee:void 0}}fetchTime(e={}){var t=this;return i(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTimestamp(e);case 2:return a=r.sent,r.abrupt("return",t.safeTimestamp(a,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchAllTradingFees(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetFeesTrading(e);case 2:for(a=r.sent,i=t.safeValue(a,"data"),s={},o=0;o<i.length;o++)c=i[o],u=t.safeValue(c,"ask_fee",{}),d=t.safeValue(c,"bid_fee",{}),f=t.safeString(c,"market"),l=t.safeSymbol(f),s[l]={info:c,symbol:l,maker:t.safeFloat(u,"value"),taker:t.safeFloat(d,"value")};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchKey(e={}){var t=this;return i(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetKey(e);case 2:return a=r.sent,r.abrupt("return",t.safeValue(a,"data"));case 4:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetMembersMe(e);case 4:for(a=r.sent,i=t.safeValue(a,"data"),s=t.safeValue(i,"accounts"),o={info:a},c=0;c<s.length;c++)u=s[c],d=t.safeValue(u,"currency"),f=t.safeCurrencyCode(d),(l=t.account()).free=t.safeFloat(u,"balance"),l.used=t.safeFloat(u,"locked"),o[f]=l;return r.abrupt("return",t.parseBalance(o));case 10:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,a,s,o={}){var c=this;return i(n.mark((function i(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={market:u.id,side:r,ord_type:t,volume:c.amountToPrecision(e,a)},"limit"===t&&(d.price=c.priceToPrecision(e,s)),n.next=7,c.privatePostOrders(c.extend(d,o));case 7:return f=n.sent,l=c.safeValue(f,"data"),n.abrupt("return",c.parseOrder(l,u));case 10:case"end":return n.stop()}}),i)})))()}fetchOrder(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e,Array.isArray(e)||(s=[e]),n.next=4,a.loadMarkets();case 4:return o=void 0,void 0!==t&&(o=a.market(t)),c={ids:s},n.next=9,a.privateGetOrders(a.extend(c,r));case 9:if(u=n.sent,d=a.safeValue(u,"data"),f=d.length,void 0!==d){n.next=14;break}throw new p(a.id+" could not found matching order");case 14:if(!Array.isArray(e)){n.next=16;break}return n.abrupt("return",a.parseOrders(d,o));case 16:if(0!==f){n.next=18;break}throw new p(a.id+" could not found matching order");case 18:return n.abrupt("return",a.parseOrder(d[0],o));case 19:case"end":return n.stop()}}),i)})))()}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={states:["wait"]},n.next=3,s.fetchOrders(e,t,r,s.extend(o,a));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),i)})))()}fetchClosedOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={states:["done","cancel"]},n.next=3,s.fetchOrders(e,t,r,s.extend(o,a));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),i)})))()}fetchOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,f,l,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new d(s.id+" fetchOrders() requires a `symbol` argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=s.safeValue(a,"states",["wait","done","cancel"]),u=s.omit(a,"states"),f={market:o.id,states:c,need_price:"True"},void 0!==r&&(f.limit=r),n.next=11,s.privateGetOrdersFilter(s.extend(f,u));case 11:for(l=n.sent,h=s.safeValue(l,"data",[]),p=[],m=0;m<h.length;m++)v=s.safeValue(h[m],"orders",[]),b=s.parseOrderStatus(s.safeValue(h[m],"state")),g=s.parseOrders(v,o,t,r,{status:b}),p=s.arrayConcat(p,g);return n.abrupt("return",p);case 16:case"end":return n.stop()}}),i)})))()}parseOrder(e,t){var r=this.parseOrderStatus(this.safeValue(e,"state")),n=this.safeString2(e,"market","market_id"),a=this.safeSymbol(n),i=this.safeTimestamp(e,"created_on");return void 0===i&&(i=this.parse8601(this.safeString(e,"created_at"))),{info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:a,type:this.safeValue(e,"ord_type"),timeInForce:void 0,postOnly:void 0,side:this.safeValue(e,"side"),price:this.safeFloat(e,"price"),stopPrice:void 0,average:this.safeFloat(e,"avg_price"),amount:this.safeFloat(e,"volume"),remaining:this.safeFloat(e,"remaining_volume"),filled:this.safeFloat(e,"executed_volume"),status:r,cost:void 0,trades:void 0,fee:void 0}}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}createOrders(e,t,r={}){var a=this;return i(n.mark((function i(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.loadMarkets();case 2:return s=a.market(e),o={market:s.id,orders:t},n.next=6,a.privatePostOrdersMulti(a.extend(o,r));case 6:return c=n.sent,u=c.data,n.abrupt("return",a.parseOrders(u));case 9:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return t.next=4,a.privatePostOrderDelete(a.extend({id:e},r));case 4:return i=t.sent,s=a.safeValue(i,"data"),t.abrupt("return",a.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}cancelOrders(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return t.next=4,a.privatePostOrderDeleteMulti(a.extend({ids:e},r));case 4:return i=t.sent,s=a.safeValue(i,"data"),t.abrupt("return",a.parseOrders(s));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(n.mark((function e(){var a,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadMarkets();case 2:return e.next=4,r.privatePostOrdersClear(t);case 4:return a=e.sent,i=r.safeValue(a,"data"),e.abrupt("return",r.parseOrders(i));case 7:case"end":return e.stop()}}),e)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)if("tickers_multi"===e||"order_book/multi"===e){for(var c="?",u=this.safeValue(n,"markets"),d=0;d<u.length;d++)c+="markets[]="+u[d]+"&";var f=this.safeValue(n,"limit");void 0!==f&&(c+="limit="+f),s+=c}else Object.keys(o).length&&(s+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();var l={uid:this.apiKey,data:o};s+="?user_jwt="+this.jwt(l,this.encode(this.secret),"RS256")}return{url:s,method:r,body:i,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"code"),f=this.safeString(s,"message");if(void 0!==d&&"0"!==d){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.codes,d,l),this.throwExactlyMatchedException(this.exceptions.exact,f,l),new c(s)}}}}},function(e,t,r){"use strict";var n=r(206);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"okcoin",name:"OKCoin",countries:["CN","US"],hostname:"okcoin.com",pro:!0,urls:{logo:"https://user-images.githubusercontent.com/51840849/87295551-102fbf00-c50e-11ea-90a9-462eebba5829.jpg",www:"https://www.okcoin.com",doc:"https://www.okcoin.com/docs/en/",fees:"https://www.okcoin.com/coin-fees",referral:"https://www.okcoin.com/account/register?flag=activity&channelId=600001513"},fees:{trading:{taker:.002,maker:.001}},options:{fetchMarkets:["spot"]}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ExchangeError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0,fetchBalance:!0,fetchTicker:!0,fetchTrades:!0,fetchOrderBook:!0,createOrder:!0,cancelOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153930-f0f02200-c2c0-11ea-9c0a-40337375ae89.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",fees:"https://www.paymium.com/page/help/fees",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"],referral:"https://www.paymium.com/page/sign-up?referral=eDAzPoRQFMvaAB8sf-qj"},api:{public:{get:["countries","data/{currency}/ticker","data/{currency}/trades","data/{currency}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["user","user/addresses","user/addresses/{address}","user/orders","user/orders/{uuid}","user/price_alerts","merchant/get_payment/{uuid}"],post:["user/addresses","user/orders","user/withdrawals","user/email_transfers","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{uuid}","user/orders/{uuid}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur"}},fees:{trading:{maker:.002,taker:.002}}})}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetUser(e);case 4:for(a=r.sent,i={info:a},s=Object.keys(t.currencies),o=0;o<s.length;o++)c=s[o],u=t.currencyId(c),(d="balance_"+u)in a&&(f=t.account(),l="locked_"+u,f.free=t.safeFloat(a,d),f.used=t.safeFloat(a,l),i[c]=f);return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={currency:i.marketId(e)},t.next=5,i.publicGetDataCurrencyDepth(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s,void 0,"bids","asks","price","amount"));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={currency:r.marketId(e)},n.next=5,r.publicGetDataCurrencyTicker(r.extend(i,t));case 5:return s=n.sent,o=r.safeTimestamp(s,"at"),c=r.safeFloat(s,"vwap"),u=r.safeFloat(s,"volume"),d=void 0,void 0!==u&&void 0!==c&&(d=u*c),f=r.safeFloat(s,"price"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:r.safeFloat(s,"high"),low:r.safeFloat(s,"low"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:c,open:r.safeFloat(s,"open"),close:f,last:f,previousClose:void 0,change:void 0,percentage:r.safeFloat(s,"variation"),average:void 0,baseVolume:u,quoteVolume:d,info:s});case 13:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"created_at_int"),n=this.safeString(e,"uuid"),a=void 0;void 0!==t&&(a=t.symbol);var i=this.safeString(e,"side"),s=this.safeFloat(e,"price"),o="traded_"+t.base.toLowerCase(),c=this.safeFloat(e,o),u=void 0;return void 0!==s&&void 0!==c&&(u=c*s),{info:e,id:n,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:i,takerOrMaker:void 0,price:s,amount:c,cost:u,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currency:o.id},n.next=6,s.publicGetDataCurrencyTrades(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u={type:c.capitalize(t)+"Order",currency:c.marketId(e),direction:r,amount:i},"market"!==t&&(u.price=s),n.next=6,c.privatePostUserOrders(c.extend(u,o));case 6:return d=n.sent,n.abrupt("return",{info:d,id:d.uuid});case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={uuid:e},t.next=3,i.privateDeleteUserOrdersUuidCancel(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+s;if(a={"Api-Key":this.apiKey,"Api-Nonce":c},"POST"===r)Object.keys(o).length&&(u+=i=this.json(o),a["Content-Type"]="application/json");else if(Object.keys(o).length){var d=this.urlencode(o);u+=d,s+="?"+d}a["Api-Signature"]=this.hmac(this.encode(u),this.encode(this.secret))}return{url:s,method:r,body:i,headers:a}}request(e,t="public",r="GET",i={},o,c){var u=this;return a(n.mark((function a(){var d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.fetch2(e,t,r,i,o,c);case 2:if(!("errors"in(d=n.sent))){n.next=5;break}throw new s(u.id+" "+u.json(d));case 5:return n.abrupt("return",d);case 6:case"end":return n.stop()}}),a)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.BadSymbol,u=s.AuthenticationError,d=s.InsufficientFunds,f=s.InvalidOrder,l=s.ArgumentsRequired,h=s.OrderNotFound,p=s.BadRequest,m=s.PermissionDenied,v=s.AccountSuspended,b=s.CancelPending,g=s.DDoSProtection,y=s.DuplicateOrderId,w=s.NotSupported,k=r(16),x=k.TICK_SIZE,_=k.ROUND,S=k.DECIMAL_PLACES;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"phemex",name:"Phemex",countries:["CN"],rateLimit:100,version:"v1",certified:!1,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/85225056-221eb600-b3d7-11ea-930d-564d2690e3f6.jpg",test:{v1:"https://testnet-api.phemex.com/v1",public:"https://testnet-api.phemex.com/exchange/public",private:"https://testnet-api.phemex.com"},api:{v1:"https://api.phemex.com/v1",public:"https://api.phemex.com/exchange/public",private:"https://api.phemex.com"},www:"https://phemex.com",doc:"https://github.com/phemex/phemex-api-docs",fees:"https://phemex.com/fees-conditions",referral:"https://phemex.com/register?referralCode=EDNVJ"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","3h":"10800","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2592000"},api:{public:{get:["cfg/v2/products","products","nomics/trades","md/kline"]},v1:{get:["md/orderbook","md/trade","md/ticker/24hr","md/ticker/24hr/all","md/spot/ticker/24hr","md/spot/ticker/24hr/all","exchange/public/products"]},private:{get:["spot/orders/active","spot/orders","spot/wallets","exchange/spot/order","exchange/spot/order/trades","accounts/accountPositions","accounts/positions","orders/activeList","exchange/order/list","exchange/order","exchange/order/trade","phemex-user/users/children","phemex-user/wallets/v2/depositAddress","exchange/margins/transfer","exchange/wallets/confirm/withdraw","exchange/wallets/withdrawList","exchange/wallets/depositList","exchange/wallets/v2/depositAddress"],post:["spot/orders","orders","positions/assign","exchange/wallets/transferOut","exchange/wallets/transferIn","exchange/margins","exchange/wallets/createWithdraw","exchange/wallets/cancelWithdraw","exchange/wallets/createWithdrawAddress"],put:["spot/orders","orders/replace","positions/leverage","positions/riskLimit"],delete:["spot/orders","orders/cancel","orders","orders/all"]}},precisionMode:x,fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{412:p,6001:p,19999:p,10001:y,10002:h,10003:b,10004:b,10005:b,11001:d,11002:f,11003:d,11004:f,11005:d,11006:o,11007:o,11008:o,11009:o,11010:d,11011:f,11012:f,11013:f,11014:f,11015:f,11016:p,11017:o,11018:o,11019:o,11020:o,11021:o,11022:v,11023:o,11024:o,11025:p,11026:o,11027:c,11028:c,11029:o,11030:o,11031:g,11032:g,11033:y,11034:f,11035:f,11036:f,11037:f,11038:f,11039:f,11040:f,11041:f,11042:f,11043:f,11044:f,11045:f,11046:f,11047:f,11048:f,11049:f,11050:f,11051:f,11052:f,11053:f,11054:f,11055:f,11056:f,11057:f,11058:f,11059:f,11060:f,11061:b,11062:f,11063:f,11064:f,11065:f,11066:f,11067:f,11068:f,11069:o,11070:c,11071:f,11072:f,11073:f,11074:f,11075:f,11076:f,11077:f,11078:f,11079:f,11080:f,11081:f,11082:d,11083:f,11084:f,11085:y,11086:f,11087:f,11088:f,11089:f,11090:f,11091:f,11092:f,11093:f,11094:f,11095:f,11096:f,11097:p,11098:p,11099:o,11100:d,11101:d,11102:p,11103:p,11104:p,11105:d,11106:d,11107:o,11108:f,11109:f,11110:f,11111:f,11112:f,11113:p,11114:f,11115:f,30018:p,39996:m},broad:{"Failed to find api-key":u,"Missing required parameter":p,"API Signature verification failed":u}},options:{"x-phemex-request-expiry":60,createOrderByQuoteRequiresPrice:!0}})}parseSafeFloat(e){if(void 0===e)return e;var t=(e=e.replace(",","")).split(" ");return this.safeFloat(t,0)}parseSwapMarket(e){var t=this.safeString(e,"symbol"),r=this.safeString(e,"baseCurrency","contractUnderlyingAssets"),n=this.safeString(e,"quoteCurrency"),a=this.safeCurrencyCode(r),i=this.safeCurrencyCode(n),s=a+"/"+i,o=this.safeStringLower(e,"type"),c=void 0,u=void 0,d=!1;this.safeString(e,"settlementCurrency")!==n&&(d=!0);var f=!d,l={amount:this.safeFloat(e,"lotSize"),price:this.safeFloat(e,"tickSize")},h=this.safeInteger(e,"priceScale"),p=this.safeInteger(e,"ratioScale"),m=this.safeInteger(e,"valueScale"),v=this.safeFloat(e,"minPriceEp"),b=this.safeFloat(e,"maxPriceEp"),g=this.safeFloat(e,"makerFeeRateEr"),y=this.safeFloat(e,"takerFeeRateEr");void 0!==g&&(u=this.fromEn(g,p,1e-8)),void 0!==y&&(c=this.fromEn(y,p,1e-8));return{id:t,symbol:s,base:a,quote:i,baseId:r,quoteId:n,info:e,type:o,spot:!1,swap:!0,linear:f,inverse:d,active:void 0,taker:c,maker:u,priceScale:h,valueScale:m,ratioScale:p,precision:l,limits:{amount:{min:l.amount,max:void 0},price:{min:this.fromEn(v,h,l.price),max:this.fromEn(b,h,l.price)},cost:{min:void 0,max:this.parseSafeFloat(this.safeString(e,"maxOrderQty"))}}}}parseSpotMarket(e){var t=this.safeStringLower(e,"type"),r=this.safeString(e,"symbol"),n=this.safeString(e,"quoteCurrency"),a=this.safeString(e,"baseCurrency"),i=this.safeFloat(e,"defaultTakerFee"),s=this.safeFloat(e,"defaultMakerFee"),o={amount:this.parseSafeFloat(this.safeString(e,"baseTickSize")),price:this.parseSafeFloat(this.safeString(e,"quoteTickSize"))},c={amount:{min:o.amount,max:this.parseSafeFloat(this.safeString(e,"maxBaseOrderSize"))},price:{min:o.price,max:void 0},cost:{min:this.parseSafeFloat(this.safeString(e,"minOrderValue")),max:this.parseSafeFloat(this.safeString(e,"maxOrderValue"))}},u=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n);return{id:r,symbol:u+"/"+d,base:u,quote:d,baseId:a,quoteId:n,info:e,type:t,spot:!0,swap:!1,linear:void 0,inverse:void 0,active:void 0,taker:i,maker:s,precision:o,priceScale:8,valueScale:8,ratioScale:8,limits:c}}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCfgV2Products(e);case 2:return a=r.sent,r.next=5,t.v1GetExchangePublicProducts(e);case 5:for(i=r.sent,s=t.safeValue(i,"data",[]),o=t.safeValue(a,"data",{}),c=t.safeValue(o,"products",[]),u=t.safeValue(o,"riskLimits",[]),d=t.indexBy(u,"symbol"),f=t.indexBy(s,"symbol"),l=[],h=0;h<c.length;h++)p=c[h],"perpetual"===t.safeStringLower(p,"type")?(m=t.safeString(p,"symbol"),v=t.safeValue(d,m,{}),p=t.extend(p,v),b=t.safeValue(f,m,{}),p=t.extend(p,b),p=t.parseSwapMarket(p)):p=t.parseSpotMarket(p),l.push(p);return r.abrupt("return",l);case 15:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCfgV2Products(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"currencies",[]),o={},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"currency"),f=t.safeString(u,"name"),l=t.safeCurrencyCode(d),h=t.safeInteger(u,"valueScale"),p=t.safeFloat(u,"minValueEv"),m=t.safeFloat(u,"maxValueEv"),v=void 0,b=void 0,g=void 0,void 0!==h&&(g=Math.pow(10,-h),g=parseFloat(t.decimalToPrecision(g,_,1e-8,t.precisionMode)),void 0!==p&&(v=parseFloat(t.decimalToPrecision(p*g,_,1e-8,t.precisionMode))),void 0!==m&&(b=parseFloat(t.decimalToPrecision(m*g,_,1e-8,t.precisionMode)))),o[l]={id:d,info:u,code:l,name:f,active:void 0,fee:void 0,precision:g,limits:{amount:{min:v,max:b},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}},valueScale:h};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}parseBidAsk(e,t=0,r=1,n){if(void 0===n)throw new l(this.id+" parseBidAsk() requires a market argument");var a=this.safeFloat(e,r);return n.spot&&(a=this.fromEv(a,n)),[this.fromEp(this.safeFloat(e,t),n),a]}parseOrderBook(e,t,r="bids",n="asks",a=0,i=1,s){for(var o={timestamp:t,datetime:this.iso8601(t),nonce:void 0},c=[r,n],u=0;u<c.length;u++){for(var d=c[u],f=[],l=this.safeValue(e,d),h=0;h<l.length;h++)f.push(this.parseBidAsk(l[h],a,i,s));o[d]=f}return o[r]=this.sortBy(o[r],0,!0),o[n]=this.sortBy(o[n],0),o}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={symbol:a.id},t.next=6,i.v1GetMdOrderbook(i.extend(s,r));case 6:return o=t.sent,c=i.safeValue(o,"result",{}),u=i.safeValue(c,"book",{}),d=i.safeIntegerProduct(c,"timestamp",1e-6),(f=i.parseOrderBook(u,d,"bids","asks",0,1,a)).nonce=i.safeInteger(c,"sequence"),t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})))()}toEn(e,t,r){return parseInt(this.decimalToPrecision(e*Math.pow(10,t),_,r,S))}toEv(e,t){return void 0===e||void 0===t?e:this.toEn(e,t.valueScale,0)}toEp(e,t){return void 0===e||void 0===t?e:this.toEn(e,t.priceScale,0)}fromEn(e,t,r,n){return void 0===e?e:(n=void 0===n?this.precisionMode:n,parseFloat(this.decimalToPrecision(e*Math.pow(10,-t),_,r,n)))}fromEp(e,t){return void 0===e||void 0===t?e:this.fromEn(e,t.priceScale,t.precision.price)}fromEv(e,t){return void 0===e||void 0===t?e:t.spot?this.fromEn(e,t.valueScale,t.precision.amount):this.fromEn(e,t.valueScale,1/Math.pow(10,t.valueScale))}fromEr(e,t){return void 0===e||void 0===t?e:this.fromEn(e,t.ratioScale,1e-8)}parseOHLCV(e,t){var r=void 0;return r=void 0!==t&&t.spot?this.fromEv(this.safeFloat(e,7),t):this.safeInteger(e,7),[this.safeTimestamp(e,0),this.fromEp(this.safeFloat(e,3),t),this.fromEp(this.safeFloat(e,4),t),this.fromEp(this.safeFloat(e,5),t),this.fromEp(this.safeFloat(e,6),t),r]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c={resolution:o.timeframes[t]},u=o.parseTimeframe(t),d=o.seconds(),void 0===r){n.next=10;break}void 0===i&&(i=2e3),r=parseInt(r/1e3),c.from=r,c.to=Math.min(d,o.sum(r,u*i)),n.next=17;break;case 10:if(void 0===i){n.next=16;break}i=Math.min(i,2e3),c.from=d-u*o.sum(i,1),c.to=d,n.next=17;break;case 16:throw new l(o.id+" fetchOHLCV() requires a since argument, or a limit argument, or both");case 17:return n.next=19,o.loadMarkets();case 19:return f=o.market(e),c.symbol=f.id,n.next=23,o.publicGetMdKline(o.extend(c,s));case 23:return h=n.sent,p=o.safeValue(h,"data",{}),m=o.safeValue(p,"rows",[]),n.abrupt("return",o.parseOHLCVs(m,f,t,r,i));case 27:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.safeIntegerProduct(e,"timestamp",1e-6),i=this.fromEp(this.safeFloat(e,"lastEp"),t),s=this.fromEp(this.safeFloat(e,"turnoverEv"),t),o=this.safeFloat(e,"volume");void 0===o&&(o=this.fromEv(this.safeFloat(e,"volumeEv")));var c=void 0;void 0!==t&&t.spot&&(c=this.vwap(o,s));var u=void 0,d=void 0,f=void 0,l=this.fromEp(this.safeFloat(e,"openEp"),t);return void 0!==l&&void 0!==i&&(u=i-l,l>0&&(d=u/l*100),f=this.sum(l,i)/2),{symbol:n,timestamp:a,datetime:this.iso8601(a),high:this.fromEp(this.safeFloat(e,"highEp"),t),low:this.fromEp(this.safeFloat(e,"lowEp"),t),bid:this.fromEp(this.safeFloat(e,"bidEp"),t),bidVolume:void 0,ask:this.fromEp(this.safeFloat(e,"askEp"),t),askVolume:void 0,vwap:c,open:l,close:i,last:i,previousClose:void 0,change:u,percentage:d,average:f,baseVolume:o,quoteVolume:s,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},o=i.spot?"v1GetMdSpotTicker24hr":"v1GetMdTicker24hr",n.next=7,r[o](r.extend(s,t));case 7:return c=n.sent,u=r.safeValue(c,"result",{}),n.abrupt("return",r.parseTicker(u,i));case 10:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.v1GetMdTrade(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"result",{}),f=s.safeValue(d,"trades",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,o=void 0,c=void 0,u=void 0,d=this.safeString(e,"symbol"),f=(t=this.safeMarket(d,t)).symbol,l=void 0,h=void 0;if(Array.isArray(e)){var p=e.length;a=this.safeIntegerProduct(e,0,1e-6),p>4&&(i=this.safeString(e,p-4)),s=this.safeStringLower(e,p-3),r=this.fromEp(this.safeFloat(e,p-2),t),n=this.fromEv(this.safeFloat(e,p-1),t),t.spot&&void 0!==r&&void 0!==n&&(o=r*n)}else{a=this.safeIntegerProduct(e,"transactTimeNs",1e-6),i=this.safeString2(e,"execId","execID"),l=this.safeString(e,"orderID"),s=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"ordType")),"MakerFill"===this.safeString(e,"execStatus")&&(h="maker"),r=this.fromEp(this.safeFloat(e,"execPriceEp"),t),n=this.fromEv(this.safeFloat(e,"execBaseQtyEv"),t),n=this.safeFloat(e,"execQty",n),o=this.fromEv(this.safeFloat2(e,"execQuoteQtyEv","execValueEv"),t);var m=this.fromEv(this.safeFloat(e,"execFeeEv"),t);if(void 0!==m){var v=void 0,b=this.safeFloat(e,"feeRateEr");b<0?(b=Math.abs(b),v=-(v=this.fromEr(b,t))):v=this.fromEr(b,t);var g=void 0;if(t.spot)g="buy"===s?t.base:t.quote;else{var y=this.safeValue(t,"info");if(void 0!==y){var w=this.safeString(y,"settlementCurrency");g=this.safeCurrencyCode(w)}}u={cost:m,rate:v,currency:g}}}return{info:e,id:i,symbol:f,timestamp:a,datetime:this.iso8601(a),order:l,type:c,side:s,takerOrMaker:h,price:r,amount:n,cost:o,fee:u}}parseSpotBalance(e){for(var t={info:e},r=this.safeValue(e,"data",[]),n=0;n<r.length;n++){var a=r[n],i=this.safeString(a,"currency"),s=this.safeCurrencyCode(i),o=this.safeValue(this.currencies,s,{}),c=this.safeInteger(o,"valueScale",8),u=this.account(),d=this.safeFloat(a,"balanceEv"),f=this.safeFloat(a,"lockedTradingBalanceEv"),l=this.safeFloat(a,"lockedWithdrawEv"),h=this.fromEn(d,c,c,S),p=this.fromEn(f,c,c,S),m=this.fromEn(l,c,c,S),v=this.sum(p,m);u.total=h,u.used=v,t[s]=u}return this.parseBalance(t)}parseSwapBalance(e){var t={info:e},r=this.safeValue(e,"data",{}),n=this.safeValue(r,"account",{}),a=this.safeString(n,"currency"),i=this.safeCurrencyCode(a),s=this.currency(i),o=this.account(),c=this.safeFloat(n,"accountBalanceEv"),u=this.safeFloat(n,"totalUsedBalanceEv"),d=this.safeInteger(s,"valueScale",8);return o.total=this.fromEn(c,d,d,S),o.used=this.fromEn(u,d,d,S),t[i]=o,this.parseBalance(t)}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:if(a=t.safeString2(t.options,"defaultType","fetchBalance","spot"),i=t.safeString(e,"type",a),s="privateGetSpotWallets",o={},"swap"!==i){r.next=18;break}if(void 0===(c=t.safeString(e,"code"))){r.next=14;break}u=t.currency(c),o.currency=u.id,e=t.omit(e,"code"),r.next=17;break;case 14:if(void 0!==t.safeString(e,"currency")){r.next=17;break}throw new l(t.id+" fetchBalance() requires a code parameter or a currency parameter for "+i+" type");case 17:s="privateGetAccountsAccountPositions";case 18:return e=t.omit(e,"type"),r.next=21,t[s](t.extend(o,e));case 21:return d=r.sent,f="swap"===i?t.parseSwapBalance(d):t.parseSpotBalance(d),r.abrupt("return",f);case 24:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({Created:"open",Untriggered:"open",Deactivated:"closed",Triggered:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled"},e,e)}parseOrderType(e){return this.safeString({Limit:"limit",Market:"market"},e,e)}parseTimeInForce(e){return this.safeString({GoodTillCancel:"GTC",PostOnly:"PO",ImmediateOrCancel:"IOC",FillOrKill:"FOK"},e,e)}parseSpotOrder(e,t){var r=this.safeString(e,"orderID"),n=this.safeString(e,"clOrdID");void 0!==n&&n.length<1&&(n=void 0);var a=this.safeString(e,"symbol"),i=this.safeSymbol(a,t),s=this.fromEp(this.safeFloat(e,"priceEp"),t);0===s&&(s=void 0);var o=this.fromEv(this.safeFloat(e,"baseQtyEv"),t),c=this.fromEv(this.safeFloat(e,"leavesBaseQtyEv"),t),u=this.fromEv(this.safeFloat(e,"cumBaseQtyEv"),t),d=this.fromEv(this.safeFloat(e,"quoteQtyEv"),t),f=this.fromEp(this.safeFloat(e,"avgPriceEp"),t),l=this.parseOrderStatus(this.safeString(e,"ordStatus")),h=this.safeStringLower(e,"side"),p=this.parseOrderType(this.safeString(e,"ordType")),m=this.safeIntegerProduct2(e,"actionTimeNs","createTimeNs",1e-6),v=void 0,b=this.fromEv(this.safeFloat(e,"cumFeeEv"),t);void 0!==b&&(v={cost:b,currency:void 0}),void 0===u&&void 0!==o&&void 0!==c&&(u=Math.min(0,o-c));var g=this.parseTimeInForce(this.safeString(e,"timeInForce")),y=this.fromEp(this.safeFloat(e,"stopPxEp",t)),w="PO"===g;return{info:e,id:r,clientOrderId:n,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,symbol:i,type:p,timeInForce:g,postOnly:w,side:h,price:s,stopPrice:y,amount:o,cost:d,average:f,filled:u,remaining:c,status:l,fee:v,trades:void 0}}parseSwapOrder(e,t){var r=this.safeString(e,"orderID"),n=this.safeString(e,"clOrdID");void 0!==n&&n.length<1&&(n=void 0);var a=this.safeString(e,"symbol"),i=this.safeSymbol(a,t),s=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"orderType")),u=this.fromEp(this.safeFloat(e,"priceEp"),t),d=this.safeFloat(e,"orderQty"),f=this.safeFloat(e,"cumQty"),l=this.safeFloat(e,"leavesQty"),h=this.safeIntegerProduct(e,"actionTimeNs",1e-6),p=this.safeFloat(e,"cumValue"),m=this.safeIntegerProduct(e,"transactTimeNs",1e-6);0===m&&(m=void 0);var v=this.parseTimeInForce(this.safeString(e,"timeInForce")),b=this.safeFloat(e,"stopPx"),g="PO"===v;return{info:e,id:r,clientOrderId:n,datetime:this.iso8601(h),timestamp:h,lastTradeTimestamp:m,symbol:i,type:c,timeInForce:v,postOnly:g,side:o,price:u,stopPrice:b,amount:d,filled:f,remaining:l,cost:p,average:void 0,status:s,fee:void 0,trades:void 0}}parseOrder(e,t){return"closedPnl"in e?this.parseSwapOrder(e,t):this.parseSpotOrder(e,t)}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),r=c.capitalize(r),t=c.capitalize(t),d={symbol:u.id,side:r,ordType:t},!u.spot){n.next=27;break}if(f=c.safeValue(o,"qtyType","ByBase"),"Market"!==t&&"Stop"!==t&&"MarketIfTouched"!==t||void 0!==s&&(f="ByQuote"),d.qtyType=f,"ByQuote"!==f){n.next=24;break}if(h=c.safeFloat(o,"cost"),o=c.omit(o,"cost"),!c.options.createOrderByQuoteRequiresPrice){n.next=20;break}if(void 0===s){n.next=18;break}h=i*s,n.next=20;break;case 18:if(void 0!==h){n.next=20;break}throw new l(c.id+" createOrder() "+f+" requires a price argument or a cost parameter");case 20:h=void 0===h?i:h,d.quoteQtyEv=c.toEp(h,u),n.next=25;break;case 24:d.baseQtyEv=c.toEv(i,u);case 25:n.next=28;break;case 27:u.swap&&(d.orderQty=parseInt(i));case 28:return"Limit"===t&&(d.priceEp=c.toEp(s,u)),void 0!==(p=c.safeFloat2(o,"stopPx","stopPrice"))&&(d.stopPxEp=c.toEp(p,u)),o=c.omit(o,["stopPx","stopPrice"]),m=u.spot?"privatePostSpotOrders":"privatePostOrders",n.next=35,c[m](c.extend(d,o));case 35:return v=n.sent,b=c.safeValue(v,"data",{}),n.abrupt("return",c.parseOrder(b,u));case 38:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={symbol:s.id},c=i.safeString2(r,"clientOrderId","clOrdID"),r=i.omit(r,["clientOrderId","clOrdID"]),void 0!==c?o.clOrdID=c:o.orderID=e,u=s.spot?"privateDeleteSpotOrders":"privateDeleteOrdersCancel",n.next=12,i[u](i.extend(o,r));case 12:return d=n.sent,f=i.safeValue(d,"data",{}),n.abrupt("return",i.parseOrder(f,s));case 15:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i={},s=void 0,void 0===e){n.next=9;break}if((s=r.market(e)).swap){n.next=8;break}throw new w(r.id+" cancelAllOrders() supports swap market type orders only");case 8:i.symbol=s.id;case 9:return n.next=11,r.privateDeleteOrdersAll(r.extend(i,t));case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o=s.spot?"privateGetSpotOrdersActive":"privateGetExchangeOrder",c={symbol:s.id},u=i.safeString2(r,"clientOrderId","clOrdID"),r=i.omit(r,["clientOrderId","clOrdID"]),void 0!==u?c.clOrdID=u:c.orderID=e,n.next=12,i[o](i.extend(c,r));case 12:if(d=n.sent,f=i.safeValue(d,"data",{}),p=f,!Array.isArray(f)){n.next=24;break}if(!(f.length<1)){n.next=23;break}if(void 0===u){n.next=22;break}throw new h(i.id+" fetchOrder "+t+" order with clientOrderId "+u+" not found");case 22:throw new h(i.id+" fetchOrder "+t+" order with id "+e+" not found");case 23:p=i.safeValue(f,0,{});case 24:return n.abrupt("return",i.parseOrder(p,s));case 25:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=o.spot?"privateGetSpotOrders":"privateGetExchangeOrderList",u={symbol:o.id},void 0!==t&&(u.start=t),void 0!==r&&(u.limit=r),n.next=11,s[c](s.extend(u,i));case 11:return d=n.sent,f=s.safeValue(d,"data",{}),h=s.safeValue(f,"rows",[]),n.abrupt("return",s.parseOrders(h,o,t,r));case 15:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=o.spot?"privateGetSpotOrders":"privateGetOrdersActiveList",u={symbol:o.id},n.prev=7,n.next=10,s[c](s.extend(u,i));case 10:if(d=n.sent,f=s.safeValue(d,"data",{}),!Array.isArray(f)){n.next=16;break}return n.abrupt("return",s.parseOrders(f,o,t,r));case 16:return h=s.safeValue(f,"rows",[]),n.abrupt("return",s.parseOrders(h,o,t,r));case 18:n.next=23;break;case 20:return n.prev=20,n.t0=n.catch(7),n.abrupt("return",[]);case 23:case"end":return n.stop()}}),a,null,[[7,20]])})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchClosedOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=o.spot?"privateGetExchangeSpotOrder":"privateGetExchangeOrderList",u={symbol:o.id},void 0!==t&&(u.start=t),void 0!==r&&(u.limit=r),n.next=11,s[c](s.extend(u,i));case 11:if(d=n.sent,f=s.safeValue(d,"data",{}),!Array.isArray(f)){n.next=17;break}return n.abrupt("return",s.parseOrders(f,o,t,r));case 17:return h=s.safeValue(f,"rows",[]),n.abrupt("return",s.parseOrders(h,o,t,r));case 19:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchClosedOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c=o.spot?"privateGetExchangeSpotOrderTrades":"privateGetExchangeOrderTrade",u={symbol:o.id},void 0!==t&&(u.start=t),o.swap&&void 0!==r&&(u.limit=r),n.next=11,s[c](s.extend(u,i));case 11:return d=n.sent,f=s.safeValue(d,"data",{}),h=s.safeValue(f,"rows",[]),n.abrupt("return",s.parseTrades(h,o,t,r));case 15:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetPhemexUserWalletsV2DepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),u=r.safeString(c,"address"),d=r.safeString(c,"tag"),r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:d,info:o});case 12:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),n.next=6,s.privateGetExchangeWalletsDepositList(i);case 6:return c=n.sent,u=s.safeValue(c,"data",{}),n.abrupt("return",s.parseTransactions(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),n.next=6,s.privateGetExchangeWalletsWithdrawList(i);case 6:return c=n.sent,u=s.safeValue(c,"data",{}),n.abrupt("return",s.parseTransactions(u,o,t,r));case 9:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({Success:"ok",Succeed:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"address"),a=this.safeString(e,"txHash"),i=this.safeString(e,"currency"),s=(t=this.safeCurrency(i,t)).code,o=this.safeInteger2(e,"createdAt","submitedAt"),c=this.safeStringLower(e,"type"),u=this.fromEn(this.safeFloat(e,"feeEv"),t.valueScale,t.precision),d=void 0;void 0!==u&&(c="withdrawal",d={cost:u,currency:s});var f=this.parseTransactionStatus(this.safeString(e,"status")),l=this.fromEn(this.safeFloat(e,"amountEv"),t.valueScale,t.precision);return{info:e,id:r,txid:a,timestamp:o,datetime:this.iso8601(o),address:n,addressTo:n,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:c,amount:l,currency:s,status:f,updated:void 0,fee:d}}fetchPositions(e,t,r,i={}){var s=this;return a(n.mark((function e(){var t,r,a,o,c,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:if(t=s.safeString(i,"code"),r={},void 0!==t){e.next=10;break}if(void 0!==s.safeString(i,"currency")){e.next=8;break}throw new l(s.id+" fetchPositions() requires a currency parameter or a code parameter");case 8:e.next=13;break;case 10:a=s.currency(t),i=s.omit(i,"code"),r.currency=a.id;case 13:return e.next=15,s.privateGetAccountsAccountPositions(s.extend(r,i));case 15:return o=e.sent,c=s.safeValue(o,"data",{}),u=s.safeValue(c,"positions",[]),e.abrupt("return",u);case 19:case"end":return e.stop()}}),e)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o="/"+this.implodeParams(e,n),c=o,u="";if("GET"!==r&&"DELETE"!==r&&"PUT"!==r||Object.keys(s).length&&(c+="?"+(u=this.urlencodeWithArrayRepeat(s))),"private"===t){this.checkRequiredCredentials();var d=this.seconds(),f=this.safeInteger(this.options,"x-phemex-request-expiry",60),l=this.sum(d,f).toString();a={"x-phemex-access-token":this.apiKey,"x-phemex-request-expiry":l};var h="";"POST"===r&&(i=h=this.json(n),a["Content-Type"]="application/json");var p=o+u+l+h;a["x-phemex-request-signature"]=this.hmac(this.encode(p),this.encode(this.secret))}return{url:c=this.urls.api[t]+c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeValue(s,"error",s),f=this.safeString(d,"code"),l=this.safeString(d,"msg");if(void 0!==f&&"0"!==f){var h=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h),new o(h)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ExchangeNotAvailable,d=o.RequestTimeout,f=o.AuthenticationError,l=o.PermissionDenied,h=o.DDoSProtection,p=o.InsufficientFunds,m=o.OrderNotFound,v=o.InvalidOrder,b=o.AccountSuspended,g=o.CancelPending,y=o.InvalidNonce,w=o.OnMaintenance,k=o.BadSymbol;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,certified:!1,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,cancelAllOrders:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://www.poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees",referral:"https://poloniex.com/signup?c=UBFZJRPJ"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","cancelAllOrders","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnOrderStatus","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{maker:9e-4,taker:9e-4},funding:{}},limits:{amount:{min:1e-6,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",KEY:"KEYCoin",PLX:"ParallaxCoin",REPV2:"REP",STR:"XLM",SOC:"SOCC",XAP:"API Coin",USDTTRON:"USDT",USDTETH:"USDT"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,XMR:1e-4,USDT:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":v,"Invalid order number, or you are not the person who placed the order.":m,"Permission denied":l,"Connection timed out. Please try again.":d,"Internal error. Please try again.":u,"Currently in maintenance mode.":w,"Order not found, or you are not the person who placed it.":m,"Invalid API key/secret pair.":f,"Please do not make more than 8 API calls per second.":h,"Rate must be greater than zero.":v,"Invalid currency pair.":k,"Invalid currencyPair parameter.":k},broad:{"Total must be at least":v,"This account is frozen.":b,"Not enough":p,"Nonce must be greater":y,"You have already called cancelOrder or moveOrder on this order.":g,"Amount must be at least":v,"is either completed or does not exist":v,"Error pulling ":c}},orders:{}})}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?d*=a:c="base",{type:i,currency:o[c],rate:u,cost:parseFloat(this.feeToPrecision(e,d))}}parseOHLCV(e,t){return[this.safeTimestamp(e,"date"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"quoteVolume")]}fetchOHLCV(e,t="5m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={currencyPair:c.id,period:o.timeframes[t]},void 0===r?(u.end=o.seconds(),u.start=void 0===n?u.end-o.parseTimeframe("1w"):u.end-n*o.parseTimeframe(t)):(u.start=parseInt(r/1e3),void 0!==n&&(d=o.sum(u.start,n*o.parseTimeframe(t)),u.end=d)),a.next=7,o.publicGetReturnChartData(o.extend(u,s));case 7:return f=a.sent,a.abrupt("return",o.parseOHLCVs(f,c,t,r,n));case 9:case"end":return a.stop()}}),i)})))()}loadMarkets(e=!1,t={}){var r=()=>super.loadMarkets,n=this;return i(a.mark((function i(){var s;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r().call(n,e,t);case 2:return s=a.sent,(void 0===n.safeValue(n.options,"currenciesByNumericId")||e)&&(n.options.currenciesByNumericId=n.indexBy(n.currencies,"numericId")),a.abrupt("return",s);case 6:case"end":return a.stop()}}),i)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetReturnTicker(e);case 2:for(i=r.sent,s=Object.keys(i),o=[],c=0;c<s.length;c++)u=s[c],d=i[u],f=u.split("_"),l=n(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(p),v=t.safeCurrencyCode(h),b=m+"/"+v,g=t.extend(t.limits,{cost:{min:t.safeValue(t.options.limits.cost.min,v)}}),y=t.safeString(d,"isFrozen"),w="1"!==y,k=t.safeInteger(d,"id"),o.push({id:u,numericId:k,symbol:b,baseId:p,quoteId:h,base:m,quote:v,active:w,limits:g,info:d});return r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return n={account:"all"},r.next=5,t.privatePostReturnCompleteBalances(t.extend(n,e));case 5:for(i=r.sent,s={info:i},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeValue(i,u,{}),f=t.safeCurrencyCode(u),(l=t.account()).free=t.safeFloat(d,"available"),l.used=t.safeFloat(d,"onOrders"),s[f]=l;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return i(a.mark((function r(){var n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostReturnFeeInfo(e);case 4:return n=r.sent,r.abrupt("return",{info:n,maker:t.safeFloat(n,"makerFee"),taker:t.safeFloat(n,"takerFee"),withdraw:{},deposit:{}});case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s={currencyPair:n.marketId(e)},void 0!==t&&(s.depth=t),a.next=6,n.publicGetReturnOrderBook(n.extend(s,r));case 6:return o=a.sent,(c=n.parseOrderBook(o)).nonce=n.safeInteger(o,"seq"),a.abrupt("return",c);case 10:case"end":return a.stop()}}),i)})))()}fetchOrderBooks(e,t,r={}){var s=this;return i(a.mark((function e(){var i,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return i={currencyPair:"all"},void 0!==t&&(i.depth=t),e.next=6,s.publicGetReturnOrderBook(s.extend(i,r));case 6:for(o=e.sent,c=Object.keys(o),u={},d=0;d<c.length;d++)f=c[d],l=void 0,f in s.markets_by_id?l=s.markets_by_id[f].symbol:(h=f.split("_"),p=n(h,2),m=p[0],v=p[1],b=s.safeCurrencyCode(v),g=s.safeCurrencyCode(m),l=b+"/"+g),(y=s.parseOrderBook(o[f])).nonce=s.safeInteger(o[f],"seq"),u[l]=y;return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var a=void 0,i=void 0,s=void 0,o=this.safeFloat(e,"last"),c=this.safeFloat(e,"percentChange");return-1!==c&&(i=o-(a=o/this.sum(1,c)),s=this.sum(o,a)/2),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:a,close:o,last:o,previousClose:void 0,change:i,percentage:100*c,average:s,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function i(){var s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.loadMarkets();case 2:return a.next=4,r.publicGetReturnTicker(t);case 4:for(s=a.sent,o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=void 0,l=void 0,d in r.markets_by_id?(l=r.markets_by_id[d],f=l.symbol):(h=d.split("_"),p=n(h,2),m=p[0],v=p[1],b=r.safeCurrencyCode(v),g=r.safeCurrencyCode(m),l={symbol:f=b+"/"+g}),y=s[d],c[f]=r.parseTicker(y,l);return a.abrupt("return",r.filterByArray(c,"symbol",e));case 9:case"end":return a.stop()}}),i)})))()}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetReturnCurrencies(e);case 2:for(n=r.sent,i=Object.keys(n),s={},o=0;o<i.length;o++)c=i[o],u=n[c],8,d=t.safeCurrencyCode(c),f=0===u.delisted&&!u.disabled,l=t.safeInteger(u,"id"),h=t.safeFloat(u,"txFee"),s[d]={id:c,numericId:l,code:d,info:u,name:u.name,active:f,fee:h,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:h,max:Math.pow(10,8)}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.publicGetReturnTicker(t);case 5:return s=n.sent,o=s[i.id],n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeString2(e,"globalTradeID","tradeID"),a=this.safeString(e,"orderNumber"),i=this.parse8601(this.safeString(e,"date")),s=void 0;if(!t&&"currencyPair"in e){var o=this.safeString(e,"currencyPair");if(o in this.markets_by_id)t=this.markets_by_id[o];else{var c=o.split("_"),u=n(c,2),d=u[0],f=u[1];s=this.safeCurrencyCode(f)+"/"+this.safeCurrencyCode(d)}}void 0===s&&void 0!==t&&(s=t.symbol);var l=this.safeString(e,"type"),h=void 0,p=this.safeFloat(e,"rate"),m=this.safeFloat(e,"total"),v=this.safeFloat(e,"amount"),b=this.safeString(e,"feeDisplay");if(void 0!==b){var g=b.split(" "),y=this.safeFloat(g,0);if(void 0!==y){var w=this.safeString(g,1),k=this.safeCurrencyCode(w),x=this.safeString(g,2);if(void 0!==x){var _=(x=x.replace("(","")).split("%");x=this.safeString(_,0),x=parseFloat(x)/100}h={cost:y,currency:k,rate:x}}}var S=void 0;return void 0!==this.safeFloat(e,"takerAdjustment")&&(S="taker"),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:a,type:"limit",side:l,takerOrMaker:S,price:p,amount:v,cost:m,fee:h}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currencyPair:o.id},void 0!==t&&(c.start=parseInt(t/1e3),c.end=s.seconds()),a.next=7,s.publicGetReturnTradeHistory(s.extend(c,n));case 7:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=void 0,void 0!==e&&(c=o.market(e)),u=c?c.id:"all",d={currencyPair:u},void 0!==t&&(d.start=parseInt(t/1e3),d.end=o.sum(o.seconds(),1)),void 0!==r&&(d.limit=parseInt(r)),a.next=10,o.privatePostReturnTradeHistory(o.extend(d,s));case 10:if(f=a.sent,l=[],void 0!==c)l=o.parseTrades(f,c);else if(f)for(h=Object.keys(f),p=0;p<h.length;p++)if(m=h[p],v=void 0,m in o.markets_by_id)for(v=o.markets_by_id[m],b=o.parseTrades(f[m],v),g=0;g<b.length;g++)l.push(b[g]);else for(y=m.split("_"),w=n(y,2),k=w[0],x=w[1],_=o.safeCurrencyCode(x),S=o.safeCurrencyCode(k),T=_+"/"+S,O=f[m],A=0;A<O.length;A++)M={symbol:T,base:_,quote:S},l.push(o.parseTrade(O[A],M));return a.abrupt("return",o.filterBySinceLimit(l,t,r));case 14:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({Open:"open","Partially filled":"open"},e,e)}parseOrder(e,t){var r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"date")));var a=void 0,i=this.safeString(e,"currencyPair");if(void 0!==i)if(i in this.markets_by_id)t=this.markets_by_id[i];else{var s=i.split("_"),o=n(s,2),c=o[0],u=o[1];a=this.safeCurrencyCode(u)+"/"+this.safeCurrencyCode(c)}void 0===a&&void 0!==t&&(a=t.symbol);var d=void 0,f=this.safeValue(e,"resultingTrades");Array.isArray(f)||(f=this.safeValue(f,this.safeString(t,"id",i))),void 0!==f&&(d=this.parseTrades(f,t));var l=this.safeFloat2(e,"price","rate"),h=this.safeFloat(e,"amount"),p=this.safeFloat(e,"startingAmount"),m=void 0,v=0;void 0!==p?void 0!==h&&(m=p-h,void 0!==l&&(v=m*l)):p=h;var b=this.parseOrderStatus(this.safeString(e,"status")),g=void 0,y=void 0;if(void 0===m&&void 0!==d){m=0,v=0;var w=d.length;if(w>0){y=d[0].timestamp;for(var k=0;k<w;k++){var x=d[k],_=x.amount,S=x.price;m=this.sum(m,_),v=this.sum(v,S*_),y=Math.max(y,x.timestamp)}}void 0!==p&&(h=Math.max(p-m,0),m>=p&&(b="closed"))}void 0!==m&&void 0!==v&&m>0&&(g=v/m);var T=this.safeString(e,"type"),O=this.safeString(e,"side",T);T===O&&(T=void 0);var A=this.safeString(e,"orderNumber"),M=void 0,E=this.safeFloat(e,"fee");if(void 0!==E){var C=void 0;void 0!==t&&(C="buy"===O?t.base:t.quote),M={cost:E,currency:C}}return{info:e,id:A,clientOrderId:this.safeString(e,"clientOrderId"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:y,status:b,symbol:a,type:T,timeInForce:void 0,postOnly:void 0,side:O,price:l,stopPrice:void 0,cost:v,average:g,amount:p,filled:m,remaining:h,trades:d,fee:M}}parseOpenOrders(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],i=this.extend(a,{status:"open",type:"limit",side:a.type,price:a.rate});r.push(this.parseOrder(i,t))}return r}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),c=o?o.id:"all",u={currencyPair:c},a.next=8,s.privatePostReturnOpenOrders(s.extend(u,n));case 8:if(d=a.sent,f={status:"open"},void 0!==o){a.next=17;break}for(l=Object.keys(d),h=[],p=0;p<l.length;p++)m=l[p],v=d[m],b=s.markets_by_id[m],h=s.arrayConcat(h,s.parseOrders(v,b,void 0,void 0,f));return a.abrupt("return",s.filterBySinceLimit(h,t,r));case 17:return a.abrupt("return",s.parseOrders(d,o,t,r,f));case 18:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var u=this;return i(a.mark((function i(){var d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("market"!==t){a.next=2;break}throw new c(u.id+" createOrder() does not accept market orders");case 2:return a.next=4,u.loadMarkets();case 4:return d="privatePost"+u.capitalize(r),f=u.market(e),n=u.amountToPrecision(e,n),l={currencyPair:f.id,rate:u.priceToPrecision(e,s),amount:n},void 0!==(h=u.safeString(o,"clientOrderId"))&&(l.clientOrderId=h,o=u.omit(o,"clientOrderId")),p=u.milliseconds(),a.next=13,u[d](u.extend(l,o));case 13:return m=a.sent,a.abrupt("return",u.parseOrder(u.extend({timestamp:p,status:"open",type:t,side:r,price:s,amount:n},m),f));case 15:case"end":return a.stop()}}),i)})))()}editOrder(e,t,r,n,s,o,c={}){var u=this;return i(a.mark((function r(){var n,i;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return o=parseFloat(o),n={orderNumber:e,rate:u.priceToPrecision(t,o)},void 0!==s&&(n.amount=u.amountToPrecision(t,s)),r.next=7,u.privatePostMoveOrder(u.extend(n,c));case 7:return i=r.sent,r.abrupt("return",u.parseOrder(i));case 9:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={},void 0===(s=n.safeValue(r,"clientOrderId"))?i.orderNumber=e:i.clientOrderId=s,r=n.omit(r,"clientOrderId"),t.next=8,n.privatePostCancelOrder(n.extend(i,r));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},s=void 0,void 0!==e&&(s=r.market(e),i.currencyPair=s.id),n.next=5,r.privatePostCancelAllOrders(r.extend(i,t));case 5:return o=n.sent,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))()}fetchOpenOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return e=e.toString(),i={orderNumber:e},t.next=6,n.privatePostReturnOrderStatus(n.extend(i,r));case 6:if(s=t.sent,void 0!==(o=n.safeValue(s.result,e))){t.next=10;break}throw new m(n.id+" order id "+e+" not found");case 10:return t.abrupt("return",n.parseOrder(o));case 11:case"end":return t.stop()}}),t)})))()}fetchOrderStatus(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return a.next=4,n.fetchOpenOrders(t,void 0,void 0,r);case 4:return s=a.sent,o=n.indexBy(s,"id"),a.abrupt("return",e in o?"open":"closed");case 7:case"end":return a.stop()}}),i)})))()}fetchOrderTrades(e,t,r,n,s={}){var o=this;return i(a.mark((function t(){var r,n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.loadMarkets();case 2:return r={orderNumber:e},t.next=5,o.privatePostReturnOrderTrades(o.extend(r,s));case 5:return n=t.sent,t.abrupt("return",o.parseTrades(n));case 7:case"end":return t.stop()}}),t)})))()}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=void 0,s=void 0,e in r.currencies?(s=r.currency(e),i=s.id):i=e,o={currency:i},n.next=8,r.privatePostGenerateNewAddress(r.extend(o,t));case 8:return c=n.sent,u=void 0,d=void 0,1===c.success&&(u=r.safeString(c,"response")),r.checkAddress(u),void 0!==s&&void 0!==(f=r.safeString(s.info,"depositAddress"))&&(d=u,u=f),n.abrupt("return",{currency:e,address:u,tag:d,info:c});case 15:case"end":return n.stop()}}),n)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.privatePostReturnDepositAddresses(t);case 4:return i=n.sent,s=void 0,o=void 0,e in r.currencies?(o=r.currency(e),s=o.id):s=e,c=r.safeString(i,s),u=void 0,r.checkAddress(c),void 0!==o&&void 0!==(d=r.safeString(o.info,"depositAddress"))&&(u=c,c=d),n.abrupt("return",{currency:e,address:c,tag:u,info:i});case 13:case"end":return n.stop()}}),n)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency:c.id,amount:t,address:r},void 0!==n&&(u.paymentId=n),a.next=8,o.privatePostWithdraw(o.extend(u,s));case 8:return d=a.sent,a.abrupt("return",{info:d,id:o.safeString(d,"withdrawalNumber")});case 10:case"end":return a.stop()}}),i)})))()}fetchTransactionsHelper(e,t,r,n={}){var s=this;return i(a.mark((function e(){var i,o,c,u;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return 31104e3,i=s.seconds(),o=void 0!==t?parseInt(t/1e3):i-31104e4,c={start:o,end:i},void 0!==r&&(c.limit=r),e.next=9,s.privatePostReturnDepositsWithdrawals(s.extend(c,n));case 9:return u=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})))()}fetchTransactions(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return a.next=4,s.fetchTransactionsHelper(e,t,r,n);case 4:return o=a.sent,c=void 0,void 0!==e&&(c=s.currency(e)),u=s.safeValue(o,"withdrawals",[]),d=s.safeValue(o,"deposits",[]),f=s.parseTransactions(u,c,t,r),l=s.parseTransactions(d,c,t,r),h=s.arrayConcat(l,f),a.abrupt("return",s.filterByCurrencySinceLimit(s.sortBy(h,"timestamp"),e,t,r));case 13:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsHelper(e,t,r,n);case 2:return o=a.sent,c=void 0,void 0!==e&&(c=s.currency(e)),u=s.safeValue(o,"withdrawals",[]),d=s.parseTransactions(u,c,t,r),a.abrupt("return",s.filterByCurrencySinceLimit(d,e,t,r));case 8:case"end":return a.stop()}}),i)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchTransactionsHelper(e,t,r,n);case 2:return o=a.sent,c=void 0,void 0!==e&&(c=s.currency(e)),u=s.safeValue(o,"deposits",[]),d=s.parseTransactions(u,c,t,r),a.abrupt("return",s.filterByCurrencySinceLimit(d,e,t,r));case 8:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({COMPLETE:"ok"},e,e)}parseTransaction(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n),i=this.safeString(e,"status","pending"),s=this.safeString(e,"txid");if(void 0!==i){var o=i.split(": "),c=o.length;i=o[0],c>1&&void 0===s&&(s=o[1]),i=this.parseTransactionStatus(i)}var u="withdrawalNumber"in e?"withdrawal":"deposit",d=this.safeString(e,"type",u),f=this.safeString2(e,"withdrawalNumber","depositNumber"),l=this.safeFloat(e,"amount"),h=this.safeString(e,"address"),p=this.safeString(e,"paymentID"),m=this.safeFloat(e,"fee",0);return"withdrawal"===d&&(l-=m),{info:e,id:f,currency:a,amount:l,address:h,tag:p,status:i,type:d,updated:void 0,txid:s,timestamp:r,datetime:this.iso8601(r),fee:{currency:a,cost:m}}}fetchPosition(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currencyPair:i.id},n.next=6,r.privatePostGetMarginPosition(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t],o=this.extend({command:e},n);return"public"===t?s+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o.nonce=this.nonce(),i=this.urlencode(o),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}),{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&"error"in s){var d=s.error,f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new c(f)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ExchangeNotAvailable,u=s.BadResponse,d=s.BadRequest,f=s.InvalidOrder,l=s.InsufficientFunds,h=s.AuthenticationError,p=s.ArgumentsRequired,m=s.InvalidAddress,v=s.RateLimitExceeded,b=s.DDoSProtection,g=s.BadSymbol,y=r(16),w=y.TRUNCATE,k=y.TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"probit",name:"ProBit",countries:["SC","KR"],rateLimit:250,has:{CORS:!0,fetchTime:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchTickers:!0,fetchTicker:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTrades:!0,fetchBalance:!0,createOrder:!0,createMarketOrder:!0,cancelOrder:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0,signIn:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"1W","1M":"1M"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/79268032-c4379480-7ea2-11ea-80b3-dd96bb29fd0d.jpg",api:{accounts:"https://accounts.probit.com",public:"https://api.probit.com/api/exchange",private:"https://api.probit.com/api/exchange"},www:"https://www.probit.com",doc:["https://docs-en.probit.com","https://docs-ko.probit.com"],fees:"https://support.probit.com/hc/en-us/articles/360020968611-Trading-Fees",referral:"https://www.probit.com/r/34608773"},api:{public:{get:["market","currency","currency_with_platform","time","ticker","order_book","trade","candle"]},private:{post:["new_order","cancel_order","withdrawal"],get:["balance","order","open_order","order_history","trade_history","deposit_address"]},accounts:{post:["token"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{UNAUTHORIZED:h,INVALID_ARGUMENT:d,TRADING_UNAVAILABLE:c,NOT_ENOUGH_BALANCE:l,NOT_ALLOWED_COMBINATION:d,INVALID_ORDER:f,RATE_LIMIT_EXCEEDED:v,MARKET_UNAVAILABLE:c,INVALID_MARKET:g,INVALID_CURRENCY:d,TOO_MANY_OPEN_ORDERS:b,DUPLICATE_ADDRESS:m}},requiredCredentials:{apiKey:!0,secret:!0},precisionMode:k,options:{createMarketBuyOrderRequiresPrice:!0,timeInForce:{limit:"gtc",market:"ioc"}},commonCurrencies:{BTCBEAR:"BEAR",BTCBULL:"BULL",CBC:"CryptoBharatCoin",HBC:"Hybrid Bank Cash",UNI:"UNICORN Token"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarket(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",[]),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeString(c,"base_currency_id"),f=t.safeString(c,"quote_currency_id"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m=t.safeValue(c,"closed",!1),v=!m,b=t.safeInteger(c,"quantity_precision"),g=t.safeInteger(c,"cost_precision"),y={amount:1/Math.pow(10,b),price:t.safeFloat(c,"price_increment"),cost:1/Math.pow(10,g)},w=t.safeFloat(c,"taker_fee_rate"),k=t.safeFloat(c,"maker_fee_rate"),s.push({id:u,info:c,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:v,precision:y,taker:w/100,maker:k/100,limits:{amount:{min:t.safeFloat(c,"min_quantity"),max:t.safeFloat(c,"max_quantity")},price:{min:t.safeFloat(c,"min_price"),max:t.safeFloat(c,"max_price")},cost:{min:t.safeFloat(c,"min_cost"),max:t.safeFloat(c,"max_cost")}}});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencyWithPlatform(e);case 2:for(a=r.sent,i=t.safeValue(a,"data"),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeCurrencyCode(u),f=t.safeValue(c,"display_name"),l=t.safeString(f,"en-us"),h=t.safeValue(c,"platform",[]),p=t.sortBy(h,"priority"),m=t.safeValue(p,0,{}),v=t.safeInteger(m,"precision"),b=t.safeValue(m,"deposit_suspended"),g=t.safeValue(m,"withdrawal_suspended"),y=!(b&&g),w=t.safeValue(m,"withdrawal_fee",{}),k=t.sortBy(w,"priority"),x=t.safeValue(k,0,{}),_=t.safeFloat(x,"amount"),s[d]={id:u,code:d,info:c,name:l,active:y,fee:_,precision:v,limits:{amount:{min:Math.pow(10,-v),max:Math.pow(10,v)},price:{min:Math.pow(10,-v),max:Math.pow(10,v)},cost:{min:void 0,max:void 0},deposit:{min:t.safeFloat(m,"min_deposit_amount"),max:void 0},withdraw:{min:t.safeFloat(m,"min_withdrawal_amount"),max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"data"),s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency_id"),d=t.safeCurrencyCode(u),(f=t.account()).total=t.safeFloat(c,"total"),f.free=t.safeFloat(c,"available"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={market_id:a.id},t.next=6,i.publicGetOrderBook(i.extend(s,r));case 6:return o=t.sent,c=i.safeValue(o,"data",[]),u=i.groupBy(c,"side"),t.abrupt("return",i.parseOrderBook(u,void 0,"buy","sell","price","quantity"));case 10:case"end":return t.stop()}}),t)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},void 0!==e&&(s=r.marketIds(e),i.market_ids=s.join(",")),n.next=6,r.publicGetTicker(r.extend(i,t));case 6:return o=n.sent,c=r.safeValue(o,"data",[]),n.abrupt("return",r.parseTickers(c,e));case 9:case"end":return n.stop()}}),a)})))()}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market_ids:i.id},n.next=6,r.publicGetTicker(r.extend(s,t));case 6:if(o=n.sent,c=r.safeValue(o,"data",[]),void 0!==(d=r.safeValue(c,0))){n.next=11;break}throw new u(r.id+" fetchTicker() returned an empty response");case 11:return n.abrupt("return",r.parseTicker(d,i));case 12:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"market_id"),a=this.safeSymbol(n,t,"-"),i=this.safeFloat(e,"last"),s=this.safeFloat(e,"change"),o=void 0,c=void 0;void 0!==s&&void 0!==i&&(o=s/(c=i-s)*100);var u=this.safeFloat(e,"base_volume"),d=this.safeFloat(e,"quote_volume"),f=this.vwap(u,d);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:f,open:c,close:i,last:i,previousClose:void 0,change:s,percentage:o,average:void 0,baseVolume:u,quoteVolume:d,info:e}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={limit:100,start_time:s.iso8601(0),end_time:s.iso8601(s.milliseconds())},void 0!==e&&(o=s.market(e),c.market_id=o.id),void 0!==t&&(c.start_time=s.iso8601(t)),void 0!==r&&(c.limit=r),n.next=9,s.privateGetTradeHistory(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market_id:o.id,limit:100,start_time:"1970-01-01T00:00:00.000Z",end_time:s.iso8601(s.milliseconds())},void 0!==t&&(c.start_time=s.iso8601(t)),void 0!==r&&(c.limit=r),n.next=8,s.publicGetTrade(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"id"),a=void 0;if(void 0!==n){var i=n.split(":");a=this.safeString(i,0)}a=this.safeString(e,"market_id",a);var s=this.safeSymbol(a,t,"-"),o=this.safeString(e,"side"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"quantity"),d=void 0;void 0!==c&&void 0!==u&&(d=c*u);var f=this.safeString(e,"order_id"),l=this.safeFloat(e,"fee_amount"),h=void 0;if(void 0!==l){var p=this.safeString(e,"fee_currency_id");h={cost:l,currency:this.safeCurrencyCode(p)}}return{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,order:f,type:void 0,side:o,takerOrMaker:void 0,price:c,amount:u,cost:d,fee:h}}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTime(e);case 2:return a=r.sent,i=t.parse8601(t.safeString(a,"data")),r.abrupt("return",i);case 5:case"end":return r.stop()}}),r)})))()}normalizeOHLCVTimestamp(e,t,r=!1){var n=this.parseTimeframe(t);if("1M"===t){var a=this.iso8601(e).split("-"),i=this.safeString(a,0),s=this.safeInteger(a,1);return r&&(s=this.sum(s,1)),i+"-"+(s=s<10?"0"+s.toString():s.toString())+"-01T00:00:00.000Z"}if("1w"===t){var o=(e=parseInt(e/1e3))-259200,c=this.integerDivide(o,n),u=this.sum(259200,c*n);return r&&(u=this.sum(u,n)),this.iso8601(1e3*u)}return e=parseInt(e/1e3),e=n*parseInt(e/n),r&&(e=this.sum(e,n)),this.iso8601(1e3*e)}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,m,v,b,g,y,w;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:if(c=o.market(e),u=o.timeframes[t],i=void 0===i?100:i,d=o.sum(i,1),d=Math.min(1e3,d),f={market_ids:c.id,interval:u,sort:"asc",limit:d},l=o.milliseconds(),h=o.parseTimeframe(t),m=r,v=l,void 0!==r){n.next=20;break}if(void 0!==i){n.next=17;break}throw new p(o.id+" fetchOHLCV() requires either a since argument or a limit argument");case 17:m=l-i*h*1e3;case 18:n.next=21;break;case 20:v=void 0===i?l:o.sum(r,o.sum(i,1)*h*1e3);case 21:return b=o.normalizeOHLCVTimestamp(m,t),g=o.normalizeOHLCVTimestamp(v,t,!0),f.start_time=b,f.end_time=g,n.next=27,o.publicGetCandle(o.extend(f,s));case 27:return y=n.sent,w=o.safeValue(y,"data",[]),n.abrupt("return",o.parseOHLCVs(w,c,t,r,i));case 30:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"start_time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"base_volume")]}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return t=s.parse8601(t),o={},c=void 0,void 0!==e&&(c=s.market(e),o.market_id=c.id),n.next=8,s.privateGetOpenOrder(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"data"),n.abrupt("return",s.parseOrders(d,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={start_time:s.iso8601(0),end_time:s.iso8601(s.milliseconds()),limit:100},c=void 0,void 0!==e&&(c=s.market(e),o.market_id=c.id),t&&(o.start_time=s.iso8601(t)),r&&(o.limit=r),n.next=9,s.privateGetOrderHistory(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data"),n.abrupt("return",s.parseOrders(d,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={market_id:s.id},void 0!==(c=i.safeString2(r,"clientOrderId","client_order_id"))?o.client_order_id=c:o.order_id=e,u=i.omit(r,["clientOrderId","client_order_id"]),n.next=11,i.privateGetOrder(i.extend(o,u));case 11:return d=n.sent,f=i.safeValue(d,"data",[]),l=i.safeValue(f,0),n.abrupt("return",i.parseOrder(l,s));case 15:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({open:"open",cancelled:"canceled",filled:"closed"},e,e)}parseOrder(e,t){var r=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"id"),a=this.safeString(e,"type"),i=this.safeString(e,"side"),s=this.safeString(e,"market_id"),o=this.safeSymbol(s,t,"-"),c=this.parse8601(this.safeString(e,"time")),u=this.safeFloat(e,"limit_price"),d=this.safeFloat(e,"filled_quantity"),f=this.safeFloat(e,"open_quantity"),l=this.safeFloat(e,"cancelled_quantity");void 0!==l&&(f=this.sum(f,l));var h=this.safeFloat(e,"quantity",this.sum(d,f)),p=this.safeFloat2(e,"filled_cost","cost");"market"===a&&(u=void 0);var m=void 0;void 0!==d&&(void 0===p&&void 0!==u&&(p=u*d),void 0!==p&&d>0&&(m=p/d));var v=this.safeString(e,"client_order_id");""===v&&(v=void 0);var b=this.safeStringUpper(e,"time_in_force");return{id:n,info:e,clientOrderId:v,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:a,timeInForce:b,side:i,status:r,price:u,stopPrice:void 0,amount:h,filled:d,remaining:f,average:m,cost:p,fee:void 0,trades:void 0}}costToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.cost,this.precisionMode)}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d=c.safeValue(c.options,"timeInForce"),l=c.safeValue(d,t),h=c.safeString2(o,"timeInForce","time_in_force",l),p={market_id:u.id,type:t,side:r,time_in_force:h},void 0!==(m=c.safeString2(o,"clientOrderId","client_order_id"))&&(p.client_order_id=m),v=void 0,"limit"!==t){n.next=15;break}p.limit_price=c.priceToPrecision(e,s),p.quantity=c.amountToPrecision(e,i),n.next=34;break;case 15:if("market"!==t){n.next=34;break}if("buy"!==r){n.next=33;break}if(b=c.safeFloat(o,"cost"),!c.safeValue(c.options,"createMarketBuyOrderRequiresPrice",!0)){n.next=28;break}if(void 0===s){n.next=24;break}void 0===b&&(b=i*s),n.next=26;break;case 24:if(void 0!==b){n.next=26;break}throw new f(c.id+" createOrder() requires the price argument for market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'cost' extra parameter (the exchange-specific behaviour)");case 26:n.next=29;break;case 28:b=void 0===b?i:b;case 29:v=c.costToPrecision(e,b),p.cost=v,n.next=34;break;case 33:p.quantity=c.amountToPrecision(e,i);case 34:return g=c.omit(o,["timeInForce","time_in_force","clientOrderId","client_order_id"]),n.next=37,c.privatePostNewOrder(c.extend(p,g));case 37:return y=n.sent,w=c.safeValue(y,"data"),k=c.parseOrder(w,u),"market"===t&&"buy"===r&&(k.amount=void 0,k.cost=parseFloat(v),k.remaining=void 0),n.abrupt("return",k);case 42:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new p(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={market_id:s.id,order_id:e},n.next=8,i.privatePostCancelOrder(i.extend(o,r));case 8:return c=n.sent,u=i.safeValue(c,"data"),n.abrupt("return",i.parseOrder(u));case 11:case"end":return n.stop()}}),a)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"address"),n=this.safeString(e,"destination_tag"),a=this.safeString(e,"currency_id"),i=this.safeCurrencyCode(a);return this.checkAddress(r),{currency:i,address:r,tag:n,info:e}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency_id:i.id},n.next=6,r.privateGetDepositAddress(r.extend(s,t));case 6:if(o=n.sent,c=r.safeValue(o,"data",[]),void 0!==(u=r.safeValue(c,0))){n.next=11;break}throw new m(r.id+" fetchDepositAddress returned an empty response");case 11:return n.abrupt("return",r.parseDepositAddress(u,i));case 12:case"end":return n.stop()}}),a)})))()}fetchDepositAddresses(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i={},e){for(s=[],o=0;o<e.length;o++)c=r.currency(e[o]),s.push(c.id);i.currency_id=e.join(",")}return n.next=6,r.privateGetDepositAddress(r.extend(i,t));case 6:return u=n.sent,d=r.safeValue(u,"data",[]),n.abrupt("return",r.parseDepositAddresses(d));case 9:case"end":return n.stop()}}),a)})))()}parseDepositAddresses(e){for(var t={},r=0;r<e.length;r++){var n=this.parseDepositAddress(e[r]);t[n.currency]=n}return t}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),void 0===i&&(i=""),u={currency_id:c.id,address:r,destination_tag:i,amount:o.currencyToPrecision(e,t)},n.next=8,o.privatePostWithdrawal(o.extend(u,s));case 8:return d=n.sent,f=o.safeValue(d,"data"),n.abrupt("return",o.parseTransaction(f,c));case 11:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeFloat(e,"amount"),a=this.safeString(e,"address"),i=this.safeString(e,"destination_tag"),s=this.safeString(e,"hash"),o=this.parse8601(this.safeString(e,"time")),c=this.safeString(e,"type"),u=this.safeString(e,"currency_id"),d=this.safeCurrencyCode(u),f=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"fee"),h=void 0;return void 0!==l&&0!==l&&(h={currency:d,cost:l}),{id:r,currency:d,amount:n,addressFrom:void 0,address:a,addressTo:a,tagFrom:void 0,tag:i,tagTo:i,status:f,type:c,txid:s,timestamp:o,datetime:this.iso8601(o),fee:h,info:e}}parseTransactionStatus(e){return this.safeString({requested:"pending",pending:"pending",confirming:"pending",confirmed:"pending",applying:"pending",done:"ok",cancelled:"canceled",cancelling:"canceled"},e,e)}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/",o=this.omit(n,this.extractParams(e));if("accounts"===t){this.checkRequiredCredentials(),s+=this.implodeParams(e,n);var c=this.apiKey+":"+this.secret,u=this.stringToBase64(c);a={Authorization:"Basic "+this.decode(u),"Content-Type":"application/json"},Object.keys(o).length&&(i=this.json(o))}else if(s+=this.version+"/","public"===t)s+=this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o));else if("private"===t){var d=this.milliseconds();this.checkRequiredCredentials();var f=this.safeInteger(this.options,"expires");if(void 0===f||f<d)throw new h(this.id+" access token expired, call signIn() method");a={Authorization:"Bearer "+this.safeString(this.options,"accessToken")},s+=this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o),a["Content-Type"]="application/json")}return{url:s,method:r,body:i,headers:a}}signIn(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.checkRequiredCredentials(),a={grant_type:"client_credentials"},r.next=4,t.accountsPostToken(t.extend(a,e));case 4:return i=r.sent,s=t.safeInteger(i,"expires_in"),o=t.safeString(i,"access_token"),t.options.accessToken=o,t.options.expires=t.sum(t.milliseconds(),1e3*s),r.abrupt("return",i);case 10:case"end":return r.stop()}}),r)})))()}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&"errorCode"in s){var d=this.safeString(s,"errorCode"),f=this.safeString(s,"message");if(void 0!==d){var l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,l),this.throwBroadlyMatchedException(this.exceptions.exact,d,l),new o(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.InvalidOrder,u=s.InsufficientFunds,d=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"qtrade",name:"qTrade",countries:["US"],rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/80491487-74a99c00-896b-11ea-821e-d307e832f13e.jpg",api:"https://api.qtrade.io",www:"https://qtrade.io",doc:"https://qtrade-exchange.github.io/qtrade-docs",referral:"https://qtrade.io/?ref=BKOQWVFGRH2C"},has:{CORS:!1,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchBalance:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchMyTrades:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,createOrder:!0,cancelOrder:!0,createMarketOrder:!1,withdraw:!0,fetchDepositAddress:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchDeposit:!0,fetchWithdrawal:!0},timeframes:{"5m":"fivemin","15m":"fifteenmin","30m":"thirtymin","1h":"onehour","2h":"twohour","4h":"fourhour","1d":"oneday"},api:{public:{get:["ticker/{market_string}","tickers","currency/{code}","currencies","common","market/{market_string}","markets","market/{market_string}/trades","orderbook/{market_string}","market/{market_string}/ohlcv/{interval}"]},private:{get:["me","balances","balances_all","market/{market_string}","orders","order/{order_id}","trades","withdraw/{withdraw_id}","withdraws","deposit/{deposit_id}","deposits","transfers"],post:["cancel_order","withdraw","deposit_address/{currency}","sell_limit","buy_limit"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:0},funding:{withdraw:{}}},exceptions:{exact:{invalid_auth:d,insuff_funds:u}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"markets",[]),o=[],c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"market_string"),f=t.safeInteger(u,"id"),l=t.safeString(u,"market_currency"),h=t.safeString(u,"base_currency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=p+"/"+m,b={amount:t.safeInteger(u,"market_precision"),price:t.safeInteger(u,"base_precision")},g=t.safeValue(u,"can_view",!1),y=t.safeValue(u,"can_trade",!1),w=y&&g,o.push({symbol:v,id:d,numericId:f,baseId:l,quoteId:h,base:p,quote:m,active:w,precision:b,taker:t.safeFloat(u,"taker_fee"),maker:t.safeFloat(u,"maker_fee"),limits:{amount:{min:t.safeFloat(u,"minimum_buy_value"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:u});return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"currencies",[]),o={},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"code"),f=t.safeCurrencyCode(d),l=t.safeString(u,"long_name"),h=t.safeString(u,"type"),p=t.safeValue(u,"can_withdraw",!0),m=t.safeValue(u,"deposit_disabled",!1),v=t.safeValue(u,"config",{}),b=t.safeString(u,"status"),g=p&&"ok"===b&&!m,o[f]={id:d,code:f,info:u,type:h,name:l,fee:t.safeFloat(v,"withdraw_fee"),precision:t.safeInteger(u,"precision"),active:g,limits:{amount:{min:t.safeFloat(u,"minimum_order"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"market_volume")]}fetchOHLCV(e,t="5m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market_string:c.id,interval:o.timeframes[t]},n.next=6,o.publicGetMarketMarketStringOhlcvInterval(o.extend(u,s));case 6:return d=n.sent,f=o.safeValue(d,"data",{}),l=o.safeValue(f,"slices",[]),n.abrupt("return",o.parseOHLCVs(l,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.marketId(e),s={market_string:a},t.next=6,i.publicGetOrderbookMarketString(i.extend(s,r));case 6:for(o=t.sent,c=i.safeValue(o,"data",{}),u={},d={buy:"bids",sell:"asks"},f=Object.keys(d),l=0;l<f.length;l++){for(h=f[l],p=d[h],m=i.safeValue(c,h,{}),v=Object.keys(m),b=[],g=0;g<v.length;g++)y=v[g],w=i.safeFloat(v,g),k=i.safeFloat(m,y),b.push([w,k]);u[p]=b}return x=i.safeIntegerProduct(c,"last_change",.001),t.abrupt("return",i.parseOrderBook(u,x));case 14:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.safeString(e,"id_hr"),n=this.safeSymbol(r,t,"_"),a=this.safeIntegerProduct(e,"last_change",.001),i=this.safeFloat(e,"day_open"),s=this.safeFloat(e,"last"),o=this.safeFloat(e,"day_change"),c=void 0,u=void 0,d=this.safeFloat(e,"day_avg_price");void 0!==o&&(c=100*o,void 0!==i&&(u=o*i)),void 0===d&&void 0!==s&&void 0!==i&&(d=this.sum(s,i)/2);var f=this.safeFloat(e,"day_volume_market"),l=this.safeFloat(e,"day_volume_base"),h=this.vwap(f,l);return{symbol:n,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"day_high"),low:this.safeFloat(e,"day_low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:h,open:i,close:s,last:s,previousClose:void 0,change:u,percentage:c,average:d,baseVolume:f,quoteVolume:l,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"data",{}),o=r.safeValue(s,"markets",[]),c={},u=0;u<o.length;u++)d=r.parseTicker(o[u]),f=d.symbol,c[f]=d;return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market_string:i.id},n.next=6,r.publicGetTickerMarketString(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market_string:o.id},n.next=6,s.publicGetMarketMarketStringTrades(s.extend(c,i));case 6:return u=n.sent,d=s.safeValue(u,"data",{}),f=s.safeValue(d,"trades",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={desc:!0},c=void 0,void 0!==(u=s.safeValue(i,"market_id"))?o.market_id=u:void 0!==e&&(c=s.market(e),o.market_string=c.id),n.next=8,s.privateGetTrades(s.extend(o,i));case 8:return d=n.sent,f=s.safeValue(d,"data",{}),l=s.safeValue(f,"trades",[]),n.abrupt("return",s.parseTrades(l,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeIntegerProduct(e,"created_at_ts",.001);void 0===n&&(n=this.parse8601(this.safeString(e,"created_at")));var a=this.safeString(e,"side"),i=this.safeString(e,"market_string"),s=this.safeSymbol(i,t,"_"),o=this.safeFloat2(e,"base_volume","base_amount"),c=this.safeFloat(e,"price"),u=this.safeFloat2(e,"market_amount","amount");void 0===o&&void 0!==u&&void 0!==c&&void 0!==c&&(o=c*u);var d=void 0,f=this.safeFloat(e,"base_fee");void 0!==f&&(d={currency:void 0===t?void 0:t.quote,cost:f});var l=this.safeValue(e,"taker",!0)?"taker":"maker",h=this.safeString(e,"order_id");return{id:r,info:e,timestamp:n,datetime:this.iso8601(n),symbol:s,order:h,type:void 0,side:a,takerOrMaker:l,price:c,amount:u,cost:o,fee:d}}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalancesAll(e);case 4:for(a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"balances",[]),o={info:a},c=0;c<s.length;c++)u=s[c],d=t.safeString(u,"currency"),f=t.safeCurrencyCode(d),(l=f in o?o[f]:t.account()).free=t.safeFloat(u,"balance"),l.used=0,o[f]=l;for(s=t.safeValue(i,"order_balances",[]),h=0;h<s.length;h++)p=s[h],m=t.safeString(p,"currency"),v=t.safeCurrencyCode(m),(b=v in o?o[v]:t.account()).used=t.safeFloat(p,"balance"),o[v]=b;return r.abrupt("return",t.parseBalance(o));case 12:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var u=this;return a(n.mark((function a(){var d,f,l,h,p,m;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("limit"===t){n.next=2;break}throw new c(u.id+" createOrder() allows limit orders only");case 2:return n.next=4,u.loadMarkets();case 4:return d=u.market(e),f={amount:u.amountToPrecision(e,i),market_id:d.numericId,price:u.priceToPrecision(e,s)},l="sell"===r?"privatePostSellLimit":"privatePostBuyLimit",n.next=9,u[l](u.extend(f,o));case 9:return h=n.sent,p=u.safeValue(h,"data",{}),m=u.safeValue(p,"order",{}),n.abrupt("return",u.parseOrder(m,d));case 13:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"order_type"),i=void 0,s=void 0;if(void 0!==a){var o=a.split("_");s=this.safeString(o,0),i=this.safeString(o,1)}var c=this.safeFloat(e,"price"),u=this.safeFloat(e,"market_amount"),d=this.safeFloat(e,"market_amount_remaining"),f=void 0,l=this.safeValue(e,"open",!1),h=this.safeString(e,"close_reason"),p=void 0;p=l?"open":"canceled"===h?"canceled":"closed";var m=this.safeString(e,"market_string"),v=this.safeSymbol(m,t,"_"),b=this.safeValue(e,"trades",[]),g=this.parseTrades(b,t,void 0,void 0,{order:r,side:s,type:i}),y=void 0,w=void 0,k=void 0;if(g.length>0){w=0,k=0,f=0,d=u;for(var x=0;x<g.length;x++){var _=g[x];w=this.sum(_.fee.cost,w),y=this.safeInteger(_,"timestamp"),k=this.sum(_.cost,k),f=this.sum(_.amount,f),d=Math.max(0,d-_.amount)}}var S=void 0;void 0!==w&&(S={currency:void 0===t?void 0:t.quote,cost:w});void 0!==u&&void 0!==d&&(f=Math.max(0,u-d));var T=void 0;return void 0!==f&&(void 0!==c&&void 0===k&&(k=f*c),void 0!==k&&f>0&&(T=k/f)),{info:e,id:r,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:y,symbol:v,type:i,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,average:T,amount:u,remaining:d,filled:f,status:p,fee:S,cost:k,trades:g}}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:parseInt(e)},t.next=3,i.privatePostCancelOrder(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetOrderOrderId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),c=i.safeValue(o,"order",{}),t.abrupt("return",i.parseOrder(c));case 9:case"end":return t.stop()}}),t)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==(u=s.safeValue(i,"market_id"))?o.market_id=u:void 0!==e&&(c=s.market(e),o.market_string=c.id),n.next=8,s.privateGetOrders(s.extend(o,i));case 8:return d=n.sent,f=s.safeValue(d,"data",{}),l=s.safeValue(f,"orders",[]),n.abrupt("return",s.parseOrders(l,c,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={open:!0},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={open:!1},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}parseDepositAddress(e,t){var r=void 0===t?void 0:t.code,n=this.safeString(e,"address"),a=void 0;if(void 0!==n){var i=n.split(":");n=this.safeString(i,0),a=this.safeString(i,1)}return this.checkAddress(n),{currency:r,address:n,tag:a,info:e}}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostDepositAddressCurrency(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseDepositAddress(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchDeposit(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={deposit_id:e},t.next=5,i.privateGetDepositDepositId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),c=i.safeValue(o,"deposit",{}),t.abrupt("return",i.parseTransaction(c));case 9:case"end":return t.stop()}}),t)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),n.next=6,s.privateGetDeposits(i);case 6:return c=n.sent,u=s.safeValue(c,"data",{}),d=s.safeValue(u,"deposits",[]),n.abrupt("return",s.parseTransactions(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchWithdrawal(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={withdraw_id:e},t.next=5,i.privateGetWithdrawWithdrawId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data",{}),c=i.safeValue(o,"withdraw",{}),t.abrupt("return",i.parseTransaction(c));case 9:case"end":return t.stop()}}),t)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.currency(e)),n.next=6,s.privateGetWithdraws(i);case 6:return c=n.sent,u=s.safeValue(c,"data",{}),d=s.safeValue(u,"withdraws",[]),n.abrupt("return",s.parseTransactions(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"id"),a=this.safeValue(e,"network_data",{}),i=this.safeValue(a,"unsigned_tx",{}),s=this.safeString(i,"from"),o=this.safeString(a,"txid"),c=this.safeString(e,"address"),u=void 0;if(void 0!==c){var d=c.split(":");d.length>1&&(c=this.safeString(d,0),u=this.safeString(d,1))}var f=c,l=u,h=this.safeValue(e,"cancel_requested"),p=void 0===h?"deposit":"withdrawal",m=this.safeFloat(e,"amount"),v=this.safeString(e,"currency"),b=this.safeCurrencyCode(v),g=this.parseTransactionStatus(this.safeString(e,"status")),y=this.safeString(e,"code");h?g="canceled":void 0===g&&(g=this.parseTransactionStatus(y));return{info:e,id:n,txid:o,timestamp:r,datetime:this.iso8601(r),addressFrom:s,addressTo:f,address:c,tagFrom:void 0,tagTo:l,tag:u,type:p,amount:m,currency:b,status:g,updated:void 0,fee:void 0}}parseTransactionStatus(e){return this.safeString({initiated:"pending",needs_create:"pending",credited:"ok",confirmed:"ok"},e,e)}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.currency(e),u={address:r,amount:t,currency:c.id},void 0!==i&&(u.address+=":"+i),n.next=7,o.privatePostWithdraw(o.extend(u,s));case 7:return d=n.sent,f=o.safeValue(d,"data",{}),l=o.parseTransaction(f),n.abrupt("return",o.extend(l,{currency:e,address:r,addressTo:r,tag:i,tagTo:i,amount:t}));case 11:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/";"private"===t&&(s+="user/"),s+=this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("POST"===r?i=this.json(o):Object.keys(o).length&&(s+="?"+this.urlencode(o)),"private"===t){var c=this.milliseconds().toString(),u=[r,s,c,"POST"===r?i:"",this.secret].join("\n"),d=this.hash(this.encode(u),"sha256","base64"),f=this.apiKey;"string"!==typeof f&&(f=f.toString()),a={Authorization:"HMAC-SHA256 "+f+":"+d,"HMAC-Timestamp":c},"POST"===r&&(a["Content-Type"]="application/json")}return{url:s=this.urls.api+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeValue(s,"errors",[]);if(!(d.length<1)){for(var f=this.id+" "+i,l=0;l<d.length;l++){var h=d[l],p=this.safeString(h,"code");this.throwExactlyMatchedException(this.exceptions.exact,p,f)}throw new o(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(16).ROUND,c=r(6),u=c.ExchangeError,d=c.ArgumentsRequired,f=c.AuthenticationError,l=c.InsufficientFunds,h=c.InvalidOrder,p=c.OrderNotFound;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"rightbtc",name:"RightBTC",countries:["AE"],has:{cancelOrder:!0,createOrder:!0,privateAPI:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hr1","1d":"day1","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182092-1f372700-c2ec-11ea-8f9e-01b4d3ff8941.jpg",api:"https://www.rightbtc.com/api",www:"https://www.rightbtc.com",doc:["https://docs.rightbtc.com/api/"]},api:{public:{get:["trading_pairs","ticker/{trading_pair}","tickers","depth/{trading_pair}","depth/{trading_pair}/{count}","trades/{trading_pair}","trades/{trading_pair}/{count}","candlestick/latest/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}/{count}"]},trader:{get:["balance/{symbol}","balances","deposits/{asset}/{page}","withdrawals/{asset}/{page}","orderpage/{trading_pair}/{cursor}","orders/{trading_pair}/{ids}","history/{trading_pair}/{ids}","historys/{trading_pair}/{page}","trading_pairs"],post:["order"],delete:["order/{trading_pair}/{ids}"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{ETP:.01,BTC:5e-4,ETH:.005,ETC:.01,STORJ:3,LTC:.01,ZEC:.001,BCC:.001,XRB:0,NXS:.1}}},commonCurrencies:{XRB:"NANO"},exceptions:{ERR_USERTOKEN_NOT_FOUND:f,ERR_ASSET_NOT_EXISTS:u,ERR_ASSET_NOT_AVAILABLE:u,ERR_BALANCE_NOT_ENOUGH:l,ERR_CREATE_ORDER:h,ERR_CANDLESTICK_DATA:u}})}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p,m;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetTradingPairs(e);case 2:for(n=r.sent,i=Object.keys(n),s=[],o=0;o<i.length;o++)c=i[o],u=n[c],d=t.safeString(u,"bid_asset_symbol"),f=t.safeString(u,"ask_asset_symbol"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m={amount:t.safeInteger(u,"bid_asset_decimals"),price:t.safeInteger(u,"ask_asset_decimals")},s.push({id:c,symbol:p,base:l,quote:h,baseId:d,quoteId:f,active:!0,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:Math.pow(10,m.price)},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)},cost:{min:void 0,max:void 0}},info:u});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}divideSafeFloat(e,t,r){var n=this.safeFloat(e,t);return void 0!==n?n/r:n}parseTicker(e,t){var r=t.symbol,n=this.safeInteger(e,"date"),a=this.divideSafeFloat(e,"last",1e8),i=this.divideSafeFloat(e,"high",1e8),s=this.divideSafeFloat(e,"low",1e8),o=this.divideSafeFloat(e,"buy",1e8),c=this.divideSafeFloat(e,"sell",1e8),u=this.divideSafeFloat(e,"vol24h",1e8);return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:i,low:s,bid:o,bidVolume:void 0,ask:c,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={trading_pair:i.id},n.next=6,r.publicGetTickerTradingPair(r.extend(s,t));case 6:if(o=n.sent,void 0!==(c=r.safeValue(o,"result"))){n.next=10;break}throw new u(r.id+" fetchTicker returned an empty response for symbol "+e);case 10:return n.abrupt("return",r.parseTicker(c,i));case 11:case"end":return n.stop()}}),n)})))()}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:i=n.sent,s=i.result,o={},c=0;case 8:if(!(c<s.length)){n.next=19;break}if(u=s[c],(d=u.market)in r.marketsById){n.next=13;break}return n.abrupt("continue",16);case 13:f=r.marketsById[d],l=f.symbol,o[l]=r.parseTicker(u,f);case 16:c++,n.next=8;break;case 19:return n.abrupt("return",r.filterByArray(o,"symbol",e));case 20:case"end":return n.stop()}}),n)})))()}fetchOrderBook(e,t,r={}){var s=this;return i(a.mark((function i(){var o,c,u,d,f,l,h,p,m,v,b,g;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={trading_pair:s.marketId(e)},c="publicGetDepthTradingPair",void 0!==t&&(c+="Count",o.count=t),a.next=7,s[c](s.extend(o,r));case 7:for(u=a.sent,d={},f=["bid","ask"],l=0;l<f.length;l++)for(d[h=f[l]]=[],p=0;p<u.result[h].length;p++)m=n(u.result[h][p],3),v=m[0],b=m[1],g=m[2],d[h].push([v/1e8,b/1e8,g/1e8]);return a.abrupt("return",s.parseOrderBook(d,void 0,"bid","ask"));case 12:case"end":return a.stop()}}),i)})))()}parseTrade(e,t){var r=this.safeInteger(e,"date");void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));var n=this.safeString(e,"tid");n=this.safeString(e,"trade_id",n);var a=this.safeString(e,"order_id"),i=this.divideSafeFloat(e,"price",1e8),s=this.safeFloat(e,"amount");void 0!==(s=this.safeFloat(e,"quantity",s))&&(s/=1e8);var o=this.safeString(e,"trading_pair"),c=this.safeSymbol(o,t),u=this.costToPrecision(c,i*s);u=parseFloat(u);var d=this.safeStringLower(e,"side");return"b"===d?d="buy":"s"===d&&(d="sell"),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,order:a,type:"limit",side:d,takerOrMaker:void 0,price:i,amount:s,cost:u,fee:void 0}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={trading_pair:o.id},a.next=6,s.publicGetTradesTradingPair(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u.result,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeInteger(e,0),parseFloat(e[2])/1e8,parseFloat(e[3])/1e8,parseFloat(e[4])/1e8,parseFloat(e[5])/1e8,parseFloat(e[1])/1e8]}fetchOHLCV(e,t="5m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={trading_pair:c.id,timeSymbol:o.timeframes[t]},a.next=6,o.publicGetCandlestickTimeSymbolTradingPair(o.extend(u,s));case 6:return d=a.sent,f=o.safeValue(d,"result",[]),a.abrupt("return",o.parseOHLCVs(f,c,t,r,n));case 9:case"end":return a.stop()}}),i)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.traderGetBalances(e);case 4:for(n=r.sent,i={info:n},s=t.safeValue(n,"result",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"asset"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.divideSafeFloat(c,"balance",1e8),f.used=t.divideSafeFloat(c,"frozen",1e8),i[d]=f;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,n,s,c={}){var u=this;return i(a.mark((function i(){var d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.loadMarkets();case 2:return d=u.market(e),f={trading_pair:d.id,quantity:parseInt(u.decimalToPrecision(1e8*n,o,0,u.precisionMode)),limit:parseInt(u.decimalToPrecision(1e8*s,o,0,u.precisionMode)),type:t.toUpperCase(),side:r.toUpperCase()},a.next=6,u.traderPostOrder(u.extend(f,c));case 6:return l=a.sent,a.abrupt("return",u.parseOrder(l));case 8:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new d(n.id+" cancelOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:return s=n.market(t),o={trading_pair:s.id,ids:e},a.next=8,n.traderDeleteOrderTradingPairIds(n.extend(o,r));case 8:return c=a.sent,a.abrupt("return",c);case 10:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({NEW:"open",TRADE:"closed",CANCEL:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeString(e,"trading_pair"),i=this.safeSymbol(a,t),s=this.safeInteger(e,"created");void 0===s&&(s=this.parse8601(this.safeString(e,"created_at"))),"time"in e?s=e.time:"transactTime"in e&&(s=e.transactTime);var o=this.safeFloat2(e,"limit","price");void 0!==o&&(o/=1e8);var c=this.divideSafeFloat(e,"quantity",1e8),u=this.divideSafeFloat(e,"filled_quantity",1e8),d=this.divideSafeFloat(e,"rest",1e8),f=this.divideSafeFloat(e,"cost",1e8);void 0!==c&&(void 0===d&&void 0!==u&&(d=Math.max(0,c-u)),void 0===u&&void 0!==d&&(u=Math.max(0,c-d)));var l=this.safeStringLower(e,"side"),h=this.divideSafeFloat(e,"min_fee",1e8),p=void 0;if(void 0!==h){var m=void 0;void 0!==t&&(m=t.quote),p={rate:this.safeFloat(e,"fee"),cost:h,currency:m}}return{info:e,id:r,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:l,price:o,stopPrice:void 0,amount:c,cost:f,filled:u,remaining:d,status:n,fee:p,trades:void 0,average:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}throw new d(n.id+" fetchOrder() requires a symbol argument");case 2:return a.next=4,n.loadMarkets();case 4:return s=n.market(t),o={trading_pair:s.id,ids:e},a.next=8,n.traderGetOrdersTradingPairIds(n.extend(o,r));case 8:if(c=a.sent,u=n.parseOrders(c.result,s),f=n.indexBy(u,"id"),e in f){a.next=13;break}throw new p(n.id+" fetchOrder could not find order "+e.toString()+" in open orders.");case 13:return a.abrupt("return",f[e]);case 14:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new d(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.market(e),c={trading_pair:o.id,cursor:0},a.next=8,s.traderGetOrderpageTradingPairCursor(s.extend(c,n));case 8:return u=a.sent,a.abrupt("return",s.parseOrders(u.result.orders,o,t,r));case 10:case"end":return a.stop()}}),i)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=s.safeString(n,"ids"),void 0!==e&&void 0!==o){a.next=3;break}throw new d(s.id+" fetchOrders() requires a 'symbol' argument and an extra 'ids' parameter. The 'ids' should be an array or a string of one or more order ids separated with slashes.");case 3:return Array.isArray(o)&&(o=o.join("/")),a.next=6,s.loadMarkets();case 6:return c=s.market(e),u={trading_pair:c.id,ids:o},a.next=10,s.traderGetHistoryTradingPairIds(s.extend(u,n));case 10:return f=a.sent,a.abrupt("return",s.parseOrders(f.result,void 0,t,r));case 12:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new d(s.id+" fetchMyTrades() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.market(e),c={trading_pair:o.id,page:0},a.next=8,s.traderGetHistorysTradingPairPage(s.extend(c,n));case 8:return u=a.sent,a.abrupt("return",s.parseTrades(u.result,void 0,t,r));case 10:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o=this.urls.api+"/"+t+"/"+this.implodeParams(e,n);return"public"===t?Object.keys(s).length&&(o+="?"+this.urlencode(s)):(this.checkRequiredCredentials(),a={apikey:this.apiKey,signature:this.secret},"GET"===r?Object.keys(s).length&&(o+="?"+this.urlencode(s)):(i=this.json(s),a["Content-Type"]="application/json")),{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s){var d=this.safeValue(s,"status");if(void 0!==d)if("1"!==this.safeString(d,"success")){var f=this.safeString(d,"message"),l=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions,f,l),new u(l)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.AuthenticationError,c=s.ExchangeError,u=s.BadSymbol,d=s.BadRequest,f=s.InvalidOrder,l=s.ArgumentsRequired,h=s.OrderNotFound,p=s.InsufficientFunds,m=s.DDoSProtection,v=r(16).TICK_SIZE;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"ripio",name:"Ripio",countries:["AR","BR"],rateLimit:50,version:"v1",pro:!0,has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/94507548-a83d6a80-0218-11eb-9998-28b9cec54165.jpg",api:{public:"https://api.exchange.ripio.com/api",private:"https://api.exchange.ripio.com/api"},www:"https://exchange.ripio.com",doc:["https://exchange.ripio.com/en/api/"],fees:"https://exchange.ripio.com/en/fee"},api:{public:{get:["rate/all/","rate/{pair}/","orderbook/{pair}/","tradehistory/{pair}/","pair/","currency/","orderbook/{pair}/depth/"]},private:{get:["balances/exchange_balances/","order/{pair}/{order_id}/","order/{pair}/","trade/{pair}/"],post:["order/{pair}/","order/{pair}/{order_id}/cancel/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:0,maker:0}},precisionMode:v,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{},broad:{"Authentication credentials were not provided":o,"Disabled pair":u,"Invalid order type":f,"Your balance is not enough":p,"Order couldn't be created":c,"not found":h,"Invalid pair":u,"amount must be a number":d,"Total must be at least":f,"Account not found":d,"Wrong password provided":o,"User tokens limit":m,"Something unexpected ocurred":c,account_balance:d}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPair(e);case 2:for(a=r.sent,i=[],s=t.safeValue(a,"results",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"base"),d=t.safeString(c,"quote"),f=t.safeString(c,"symbol"),l=t.safeCurrencyCode(u),h=t.safeCurrencyCode(d),p=l+"/"+h,m={amount:t.safeFloat(c,"min_amount"),price:t.safeFloat(c,"price_tick")},v={amount:{min:t.safeFloat(c,"min_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(c,"min_value"),max:void 0}},b=t.safeValue(c,"enabled",!0),g=t.safeValue(c,"fees",[]),y=t.safeValue(g,0,{}),w=t.safeFloat(y,"maker_fee",0),k=t.safeFloat(y,"taker_fee",0),i.push({id:f,symbol:p,base:l,quote:h,baseId:u,quoteId:d,precision:m,maker:w,taker:k,limits:v,info:c,active:b});return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrency(e);case 2:for(a=r.sent,i=t.safeValue(a,"results",[]),s={},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),f=t.safeString(c,"name"),l=t.safeValue(c,"enabled",!0),h=t.safeInteger(c,"decimal_places"),s[d]={id:u,code:d,name:f,info:c,active:l,fee:void 0,precision:h,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"pair"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"last_price"),s=this.safeFloat(e,"avg");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:this.safeFloat(e,"bid_volume"),ask:this.safeFloat(e,"ask"),askVolume:this.safeFloat(e,"ask_volume"),vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:s,baseVolume:void 0,quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pair:i.id},n.next=6,r.publicGetRatePair(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetRateAll(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={pair:i.marketId(e)},t.next=5,i.publicGetOrderbookPair(i.extend(a,r));case 5:return s=t.sent,(o=i.parseOrderBook(s,void 0,"buy","sell","price","amount")).nonce=i.safeInteger(s,"updated_id"),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeInteger(e,"timestamp");n=this.safeTimestamp(e,"created_at",n);var a=this.safeString(e,"side"),i=this.safeString(e,"taker_side")===a?"taker":"maker";void 0!==a&&(a=a.toLowerCase());var s=this.safeFloat2(e,"price","match_price"),o=this.safeFloat2(e,"amount","exchanged"),c=void 0;void 0!==o&&void 0!==s&&(c=o*s);var u=this.safeString(e,"pair");t=this.safeMarket(u,t);var d=this.safeFloat(e,i+"_fee"),f=this.safeString(e,i),l=void 0;return void 0!==d&&(l={cost:d,currency:"buy"===a?t.base:t.quote}),{id:r,order:f,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,type:void 0,side:a,price:s,amount:o,cost:c,takerOrMaker:i,fee:l,info:e}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},n.next=6,s.publicGetTradehistoryPair(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalancesExchangeBalances(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"symbol"),u=t.safeCurrencyCode(c),(d=t.account()).free=t.safeFloat(o,"available"),d.used=t.safeFloat(o,"locked"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d=t.toUpperCase(),f=r.toUpperCase(),l={pair:u.id,order_type:d,side:f,amount:c.amountToPrecision(e,i)},"LIMIT"===d&&(l.limit_price=c.priceToPrecision(e,s)),n.next=9,c.privatePostOrderPair(c.extend(l,o));case 9:return h=n.sent,n.abrupt("return",c.parseOrder(h,u));case 11:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={pair:s.id,order_id:e},n.next=8,i.privatePostOrderPairOrderIdCancel(i.extend(o,r));case 8:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 10:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new l(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={pair:s.id,order_id:e},n.next=8,i.privateGetOrderPairOrderId(i.extend(o,r));case 8:return c=n.sent,n.abrupt("return",i.parseOrder(c,s));case 10:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.offset=r),n.next=9,s.privateGetOrderPair(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"results",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"OPEN,PART"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"CLOS,CANC,COMP"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({OPEN:"open",PART:"open",CLOS:"canceled",CANC:"canceled",COMP:"closed"},e,e)}parseOrder(e,t){var r=this.safeString(e,"order_id"),n=this.safeFloat(e,"amount"),a=this.safeFloat(e,"notional"),i=this.safeStringLower(e,"order_type"),s="market"===i?"fill_price":"limit_price",o=this.safeFloat(e,s),c=this.safeStringLower(e,"side"),u=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeTimestamp(e,"created_at"),f=this.safeValue(e,"fill_price"),l=this.safeFloat(e,"filled"),h=void 0,p=this.safeValue(e,"fills"),m=void 0,v=void 0;if(void 0!==p&&p.length>0){l=0,a=0,m=this.parseTrades(p,t,void 0,void 0,{order:r,side:c});for(var b=0;b<m.length;b++){var g=m[b];l=this.sum(g.amount,l),a=this.sum(g.cost,a),v=g.timestamp}void 0===f&&l>0&&(f=a/l)}void 0!==l&&(void 0===a&&void 0!==o&&(a=o*l),void 0!==n&&(h=Math.max(0,n-l)));var y=this.safeString(e,"pair"),w=this.safeSymbol(y,t,"_"),k=this.safeFloat(e,"stop_price");return{id:r,clientOrderId:void 0,info:e,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:v,symbol:w,type:i,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:k,amount:n,cost:a,average:f,filled:l,remaining:h,status:u,fee:void 0,trades:m}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new l(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.limit=r),n.next=9,s.privateGetTradePair(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"results",{}),f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,o,t,r));case 13:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s="/"+this.version+"/"+this.implodeParams(e,n),o=this.urls.api[t]+s,c=this.omit(n,this.extractParams(e));return"public"===t?Object.keys(c).length&&(o+="?"+this.urlencode(c)):"private"===t&&(this.checkRequiredCredentials(),"POST"===r?i=this.json(c):Object.keys(c).length&&(o+="?"+this.urlencode(c)),a={"Content-Type":"application/json",Authorization:"Bearer "+this.apiKey}),{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeString(s,"detail");if(void 0!==d){var f=this.id+" "+i;this.throwBroadlyMatchedException(this.exceptions.broad,d,f)}var l=this.safeValue(s,"errors");if(void 0!==l){for(var h=this.id+" "+i,p=Object.keys(l),m=0;m<p.length;m++){var v=p[m],b=this.safeValue(l,v,[]),g=this.safeString(b,0);this.throwBroadlyMatchedException(this.exceptions.broad,g,h)}throw new c(h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6).ArgumentsRequired;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"southxchange",name:"SouthXchange",countries:["AR"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg",api:"https://www.southxchange.com/api",www:"https://www.southxchange.com",doc:"https://www.southxchange.com/Home/Api"},api:{public:{get:["markets","price/{symbol}","prices","book/{symbol}","trades/{symbol}"]},private:{post:["cancelMarketOrders","cancelOrder","getOrder","generatenewaddress","listOrders","listBalances","listTransactions","placeOrder","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.003}},commonCurrencies:{BHD:"Bithold",GHOST:"GHOSTPRISM",MTC:"Marinecoin",SMT:"SmartNode"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=o[0],u=o[1],d=t.safeCurrencyCode(c),f=t.safeCurrencyCode(u),l=d+"/"+f,h=c+"/"+u,i.push({id:h,symbol:l,base:d,quote:f,baseId:c,quoteId:u,active:void 0,info:o,precision:t.precision,limits:t.limits});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostListBalances(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"Currency"),u=t.safeCurrencyCode(c),d=t.safeFloat(o,"Deposited"),f=t.safeFloat(o,"Unconfirmed"),(l=t.account()).free=t.safeFloat(o,"Available"),l.total=t.sum(d,f),i[u]=l;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={symbol:i.marketId(e)},t.next=5,i.publicGetBookSymbol(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrderBook(s,void 0,"BuyOrders","SellOrders","Price","Amount"));case 7:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"Last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"Variation24Hr"),average:void 0,baseVolume:this.safeFloat(e,"Volume24Hr"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetPrices(t);case 4:for(i=n.sent,s=r.indexBy(i,"Market"),o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=r.safeMarket(d),l=f.symbol,h=s[d],c[l]=r.parseTicker(h,f);return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={symbol:i.id},n.next=6,r.publicGetPriceSymbol(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"At"),n=this.safeFloat(e,"Price"),a=this.safeFloat(e,"Amount"),i=void 0;void 0!==n&&void 0!==a&&(i=n*a);var s=this.safeString(e,"Type"),o=void 0;return void 0!==t&&(o=t.symbol),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:void 0,order:void 0,type:void 0,side:s,price:n,takerOrMaker:void 0,amount:a,cost:i,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},n.next=6,s.publicGetTradesSymbol(s.extend(c,i));case 6:return u=n.sent,n.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}parseOrder(e,t){var r=this.safeString(e,"ListingCurrency"),n=this.safeString(e,"ReferenceCurrency"),a=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(n),i=this.safeFloat(e,"LimitPrice"),s=this.safeFloat(e,"OriginalAmount"),o=this.safeFloat(e,"Amount"),c=void 0,u=void 0;void 0!==s&&(u=i*s,void 0!==o&&(c=s-o));var d=this.safeStringLower(e,"Type");return{info:e,id:this.safeString(e,"Code"),clientOrderId:void 0,timestamp:void 0,datetime:this.iso8601(void 0),lastTradeTimestamp:void 0,symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:d,price:i,stopPrice:void 0,amount:s,cost:u,filled:c,remaining:o,status:"open",fee:void 0,average:void 0,trades:void 0}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,void 0!==e&&(o=s.market(e)),n.next=6,s.privatePostListOrders(i);case 6:return c=n.sent,n.abrupt("return",s.parseOrders(c,o,t,r));case 8:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d={listingCurrency:u.base,referenceCurrency:u.quote,type:r,amount:i},"limit"===t&&(d.limitPrice=s),n.next=7,c.privatePostPlaceOrder(c.extend(d,o));case 7:return f=n.sent,l=JSON.parse(f),n.abrupt("return",{info:f,id:l});case 10:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderCode:e},t.next=5,i.privatePostCancelOrder(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostGeneratenewaddress(r.extend(s,t));case 6:return o=n.sent,'"'===(c=o)[0]&&'"'===(c=JSON.parse(c))[0]&&(c=JSON.parse(c)),u=c.split("|"),d=u.length,c=u[0],r.checkAddress(c),f=void 0,d>1&&(f=u[1]),n.abrupt("return",{currency:e,address:c,tag:f,info:o});case 16:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency:c.id,address:r,amount:t},void 0!==i&&(u.address=r+"|"+i),n.next=8,o.privatePostWithdraw(o.extend(u,s));case 8:return d=n.sent,n.abrupt("return",{info:d,id:void 0});case 10:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({trade:"trade",tradefee:"fee",withdraw:"transaction",deposit:"transaction"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"MovementId"),n=void 0,a=this.safeString2(e,"TradeId","OrderCode");a=this.safeString(e,"Hash",a);var i=this.safeString(e,"Address"),s=this.safeString(e,"Type"),o=this.parseLedgerEntryType(s),c=this.safeCurrencyCode(this.safeString(e,"CurrencyCode"),t),u=this.safeFloat(e,"Amount"),d=this.safeFloat(e,"TotalBalance"),f=void 0;void 0!==u&&(void 0!==d&&(f=d-u),"withdrawal"===s?n="out":"deposit"===s?n="in":"trade"!==s&&"tradefee"!==s||(n=u<0?"out":"in",u=Math.abs(u)));var l=this.parse8601(this.safeString(e,"Date"));return{info:e,id:r,direction:n,account:void 0,referenceId:a,referenceAccount:i,type:o,currency:c,amount:u,before:f,after:d,status:this.safeString(e,"Status"),timestamp:l,datetime:this.iso8601(l),fee:void 0}}fetchLedger(e,t,r,i={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new s(o.id+" fetchLedger() requires a code argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.currency(e),r=void 0===r?50:r,u={Currency:c.id,PageSize:r,SortField:"Date"},void 0===o.safeInteger(i,"PageIndex")&&(u.Descending=!0),n.next=11,o.privatePostListTransactions(o.extend(u,i));case 11:return d=n.sent,f=o.safeValue(d,"Result",[]),n.abrupt("return",o.parseLedger(f,c,t,r));case 14:case"end":return n.stop()}}),a)})))()}parseTransactionStatus(e){return this.safeString({pending:"pending",processed:"pending",confirmed:"ok"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"MovementId"),n=this.safeFloat(e,"Amount"),a=this.safeString(e,"Address"),i=a,s=this.safeString(e,"Hash"),o=this.safeString(e,"Type"),c=this.parse8601(this.safeString(e,"Date")),u=this.parseTransactionStatus(this.safeString(e,"Status")),d=this.safeString(e,"CurrencyCode");return{info:e,id:r,currency:this.safeCurrencyCode(d,t),amount:n,address:a,addressTo:i,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,status:u,type:o,updated:void 0,txid:s,timestamp:c,datetime:this.iso8601(c),fee:void 0}}fetchTransactions(e,t,r,i={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new s(o.id+" fetchTransactions() requires a code argument");case 2:return n.next=4,o.loadMarkets();case 4:return c=o.currency(e),r=void 0===r?50:r,u={Currency:c.id,TransactionType:"depositswithdrawals",PageSize:r,SortField:"Date"},void 0===o.safeInteger(i,"PageIndex")&&(u.Descending=!0),n.next=11,o.privatePostListTransactions(o.extend(u,i));case 11:return d=n.sent,f=o.safeValue(d,"Result",[]),n.abrupt("return",o.parseTransactions(f,c,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={TransactionType:"deposits"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={TransactionType:"withdrawals"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce();o=this.extend({key:this.apiKey,nonce:c},o),i=this.json(o),a={"Content-Type":"application/json",Hash:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ArgumentsRequired,c=s.AuthenticationError,u=s.ExchangeError,d=s.InsufficientFunds,f=s.OrderNotFound,l=s.PermissionDenied,h=s.BadRequest,p=s.DDoSProtection;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"stex",name:"STEX",countries:["EE"],rateLimit:500,certified:!1,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},version:"v3",urls:{logo:"https://user-images.githubusercontent.com/1294454/69680782-03fd0b80-10bd-11ea-909e-7f603500e9cc.jpg",api:"https://api3.stex.com",www:"https://www.stex.com",doc:["https://help.stex.com/en/collections/1593608-api-v3-documentation"],fees:"https://app.stex.com/en/pairs-specification",referral:"https://app.stex.com?ref=36416021"},requiredCredentials:{apiKey:!1,secret:!1,token:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D"},api:{public:{get:["currencies","currencies/{currencyId}","markets","pairs-groups","currency_pairs/list/{code}","currency_pairs/group/{currencyPairGroupId}","currency_pairs/{currencyPairId}","ticker","ticker/{currencyPairId}","trades/{currencyPairId}","orderbook/{currencyPairId}","chart/{currencyPairId}/{candlesType}","deposit-statuses","deposit-statuses/{statusId}","withdrawal-statuses","withdrawal-statuses/{statusId}","ping","mobile-versions"]},trading:{get:["fees/{currencyPairId}","orders","orders/{currencyPairId}","order/{orderId}"],post:["orders/{currencyPairId}"],delete:["orders","orders/{currencyPairId}","order/{orderId}"]},reports:{get:["orders","orders/{orderId}","trades/{currencyPairId}","background/{listMode}","background/{id}","background/download/{id}"],post:["background/create"],delete:["background/{id}"]},profile:{get:["info","wallets","wallets/{walletId}","wallets/address/{walletId}","deposits","deposits/{id}","withdrawals","withdrawals/{id}","notifications","favorite/currency_pairs","token-scopes"],post:["wallets/burn/{walletId}","wallets/{currencyId}","wallets/address/{walletId}","withdraw","referral/program","referral/insert/{code}","referral/bonus_transfer/{currencyId}"],put:["profile/favorite/currency_pairs/set"],delete:["profile/withdraw/{withdrawalId}"]},verification:{get:["verification/countries","verification/stex"],post:["verification/stex"]},settings:{get:["notifications/{event}","notifications"],put:["notifications","notifications/set"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},commonCurrencies:{BC:"Bitcoin Confidential",BITS:"Bitcoinus",BITSW:"BITS",BHD:"Bithold",BTH:"Bithereum",SBTC:"SBTCT"},options:{parseOrderToPrecision:!1},exceptions:{exact:{"Wrong parameters":h,"Unauthenticated.":c,"Server Error":u,"This feature is only enabled for users verifies by Cryptonomica":l,"Too Many Attempts.":p},broad:{"Not enough":d}}})}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i={},s=t.safeValue(a,"data",[]),o=0;o<s.length;o++)c=s[o],u=t.safeString(c,"id"),d=t.safeInteger(c,"id"),f=t.safeCurrencyCode(t.safeString(c,"code")),l=t.safeInteger(c,"precision"),h=t.safeFloat(c,"withdrawal_fee_const"),p=t.safeValue(c,"active",!0),i[f]={id:u,numericId:d,code:f,info:c,type:void 0,name:t.safeString(c,"name"),active:p,fee:h,precision:l,limits:{amount:{min:Math.pow(10,-l),max:void 0},price:{min:Math.pow(10,-l),max:void 0},cost:{min:void 0,max:void 0},deposit:{min:t.safeFloat(c,"minimum_deposit_amount"),max:void 0},withdraw:{min:t.safeFloat(c,"minimum_withdrawal_amount"),max:void 0}}};return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={code:"ALL"},r.next=3,t.publicGetCurrencyPairsListCode(t.extend(a,e));case 3:for(i=r.sent,s=[],o=t.safeValue(i,"data",[]),c=0;c<o.length;c++)u=o[c],d=t.safeString(u,"id"),f=t.safeInteger(u,"id"),l=t.safeString(u,"currency_id"),h=t.safeString(u,"market_currency_id"),p=t.safeInteger(u,"currency_id"),m=t.safeInteger(u,"market_currency_id"),v=t.safeCurrencyCode(t.safeString(u,"currency_code")),b=t.safeCurrencyCode(t.safeString(u,"market_code")),g=v+"/"+b,y={amount:t.safeInteger(u,"currency_precision"),price:t.safeInteger(u,"market_precision")},w=t.safeValue(u,"active"),k=t.safeFloat(u,"min_buy_price"),x=t.safeFloat(u,"min_sell_price"),_=Math.max(k,x),S=t.safeFloat(u,"buy_fee_percent")/100,T=t.safeFloat(u,"sell_fee_percent")/100,O=Math.max(S,T),s.push({id:d,numericId:f,symbol:g,base:v,quote:b,baseId:l,quoteId:h,baseNumericId:p,quoteNumericId:m,info:u,active:w,maker:O,taker:O,precision:y,limits:{amount:{min:t.safeFloat(u,"min_order_amount"),max:void 0},price:{min:_,max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={currencyPairId:i.id},n.next=6,r.publicGetTickerCurrencyPairId(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetPing(e);case 2:return a=r.sent,i=t.safeValue(a,"data",{}),s=t.safeValue(i,"server_datetime",{}),r.abrupt("return",t.parse8601(t.safeString(s,"date")));case 6:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={currencyPairId:s.id},void 0!==t&&(o.limit_bids=t,o.limit_asks=t),n.next=7,i.publicGetOrderbookCurrencyPairId(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"data",{}),n.abrupt("return",i.parseOrderBook(u,void 0,"bid","ask","price","amount"));case 10:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeString2(e,"id","symbol"),a=this.safeSymbol(n,t,"_"),i=this.safeFloat(e,"last"),s=this.safeFloat(e,"open"),o=void 0,c=void 0;return void 0!==i&&void 0!==s&&s>0&&(o=i-s,c=100/s*i-100),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:s,close:i,last:i,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"volumeQuote"),quoteVolume:this.safeFloat(e,"volume"),info:e}}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:return i=n.sent,s=r.safeValue(i,"data",[]),n.abrupt("return",r.parseTickers(s,e));case 7:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1d",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={currencyPairId:c.id,candlesType:o.timeframes[t]},void 0===i?i=100:u.limit=i,d=o.parseTimeframe(t),f=i*d,void 0===r?(u.timeEnd=o.seconds(),u.timeStart=u.timeEnd-f):(u.timeStart=parseInt(r/1e3),u.timeEnd=o.sum(u.timeStart,f)),n.next=10,o.publicGetChartCurrencyPairIdCandlesType(o.extend(u,s));case 10:return l=n.sent,h=o.safeValue(l,"data",[]),n.abrupt("return",o.parseOHLCVs(h,c,t,r,i));case 13:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"id"),n=this.safeTimestamp(e,"timestamp"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=void 0;void 0!==a&&void 0!==i&&(s=a*i);var o=void 0;void 0===o&&void 0!==t&&(o=t.symbol);var c=this.safeStringLower2(e,"type","trade_type");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:o,id:r,order:void 0,type:void 0,takerOrMaker:void 0,side:c,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={currencyPairId:o.id},void 0!==r&&(c.limit=r),void 0!==t&&(c.sort="ASC",c.from=parseInt(t/1e3)),n.next=8,s.publicGetTradesCurrencyPairId(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.profileGetWallets(e);case 4:for(a=r.sent,i={info:a},s=t.safeValue(a,"data",[]),o=0;o<s.length;o++)c=s[o],u=t.safeCurrencyCode(t.safeString(c,"currency_id")),(d=t.account()).free=t.safeFloat(c,"balance"),d.used=t.safeFloat(c,"frozen_balance"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 9:case"end":return r.stop()}}),r)})))()}parseOrderStatus(e){return this.safeString({PROCESSING:"open",PENDING:"open",PARTIAL:"open",FINISHED:"closed",CANCELLED:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeString2(e,"currency_pair_id","currency_pair_name"),i=this.safeSymbol(a,t,"_"),s=this.safeTimestamp(e,"timestamp"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"initial_amount"),u=this.safeFloat(e,"processed_amount"),d=void 0,f=void 0;void 0!==u&&(void 0!==c&&(d=c-u,this.options.parseOrderToPrecision&&(d=parseFloat(this.amountToPrecision(i,d))),d=Math.max(d,0)),void 0!==o&&void 0===f&&(f=o*u));var l=this.safeString(e,"original_type");"BUY"!==l&&"SELL"!==l||(l=void 0);var h=this.safeStringLower(e,"type"),p=this.safeValue(e,"trades"),m=void 0;void 0!==p&&(m=this.parseTrades(p,t,void 0,void 0,{symbol:i,order:r}));var v=this.safeFloat(e,"trigger_price"),b={info:e,id:r,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:l,timeInForce:void 0,postOnly:void 0,side:h,price:o,stopPrice:v,amount:c,cost:f,average:void 0,filled:u,remaining:d,status:n,trades:m},g=this.safeValue(e,"fees");if(void 0===g)b.fee=void 0;else if(g.length>0){b.fees=[];for(var y=0;y<g.length;y++){var w=this.safeFloat(g[y],"amount");if(void 0!==w){var k=this.safeString(g[y],"currency_id"),x=this.safeCurrencyCode(k);b.fees.push({cost:w,currency:x})}}}else b.fee=void 0;return b}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("market"!==t){n.next=2;break}throw new u(c.id+" createOrder allows limit orders only");case 2:return n.next=4,c.loadMarkets();case 4:return d=c.market(e),"limit"===t&&(t=r),f={currencyPairId:d.id,type:t.toUpperCase(),amount:parseFloat(c.amountToPrecision(e,i)),price:parseFloat(c.priceToPrecision(e,s))},n.next=9,c.tradingPostOrdersCurrencyPairId(c.extend(f,o));case 9:return l=n.sent,h=c.safeValue(l,"data",{}),n.abrupt("return",c.parseOrder(h,d));case 12:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderId:e},n.next=5,i.tradingGetOrderOrderId(i.extend(s,r));case 5:return o=n.sent,c=i.safeValue(o,"data",{}),u=void 0,void 0!==t&&(u=i.market(t)),n.abrupt("return",i.parseOrder(c,u));case 10:case"end":return n.stop()}}),a)})))()}fetchClosedOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={orderId:e},n.next=5,i.reportsGetOrdersOrderId(i.extend(s,r));case 5:return o=n.sent,c=i.safeValue(o,"data",{}),u=void 0,void 0!==t&&(u=i.market(t)),n.abrupt("return",i.parseOrder(c,u));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderTrades(e,t,r,i,s={}){var o=this;return a(n.mark((function r(){var a;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.fetchClosedOrder(e,t,s);case 2:return a=r.sent,r.abrupt("return",a.trades);case 4:case"end":return r.stop()}}),r)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c="tradingGetOrders",u={},void 0!==e&&(c="tradingGetOrdersCurrencyPairId",o=s.market(e),u.currencyPairId=o.id),void 0!==r&&(u.limit=r),n.next=9,s[c](s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u,d,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={orderId:e},t.next=5,i.tradingDeleteOrderOrderId(i.extend(a,r));case 5:if(s=t.sent,o=i.safeValue(s,"data",{}),c=i.safeValue(o,"put_into_processing_queue",[]),u=i.safeValue(o,"not_put_into_processing_queue",[]),d=c.length,l=u.length,!(d<1)){t.next=19;break}if(!(l<1)){t.next=16;break}throw new f(i.id+" cancelOrder received an empty response: "+i.json(s));case 16:return t.abrupt("return",i.parseOrder(u[0]));case 17:t.next=24;break;case 19:if(!(l<1)){t.next=23;break}return t.abrupt("return",i.parseOrder(c[0]));case 23:throw new f(i.id+" cancelOrder received an empty response: "+i.json(s));case 24:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={},s="tradingDeleteOrders",void 0!==e&&(o=r.market(e),i.currencyPairId=o.id,s="tradingDeleteOrdersCurrencyPairId"),n.next=7,r[s](r.extend(i,t));case 7:return c=n.sent,n.abrupt("return",c);case 9:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new o(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return c=s.market(e),u={currencyPairId:c.id},void 0!==t&&(u.timeStart=s.iso8601(t)),void 0!==r&&(u.limit=r),n.next=10,s.reportsGetTradesCurrencyPairId(s.extend(u,i));case 10:return d=n.sent,f=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(f,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currencyId:i.id},n.next=6,r.profilePostWalletsCurrencyId(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",{}),u=r.safeValue(c,"deposit_address",{}),d=r.safeString(u,"address"),f=r.safeString(u,"additional_address_parameter"),r.checkAddress(d),n.abrupt("return",{currency:e,address:d,tag:f,info:o});case 13:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.fetchBalance();case 4:if(i=n.sent,s=r.safeValue(i.info,"data",[]),o=r.indexBy(s,"currency_id"),c=r.currency(e),void 0!==(d=r.safeValue(o,c.id))){n.next=11;break}throw new u(r.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");case 11:if(void 0!==(f=r.safeInteger(d,"id"))){n.next=14;break}throw new u(r.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");case 14:return l={walletId:f},n.next=17,r.profileGetWalletsWalletId(r.extend(l,t));case 17:return h=n.sent,p=r.safeValue(h,"data",[]),m=r.safeValue(p,"deposit_address",{}),v=r.safeString(m,"address"),b=r.safeString(m,"additional_address_parameter"),r.checkAddress(v),n.abrupt("return",{currency:e,address:v,tag:b,info:h});case 24:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+t+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return"public"===t?Object.keys(o).length&&(s+="?"+this.urlencode(o)):(this.checkRequiredCredentials(),a={Authorization:"Bearer "+this.token},"GET"===r||"DELETE"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):(i=this.json(o),Object.keys(o).length&&(a["Content-Type"]="application/json"))),{url:s,method:r,body:i,headers:a}}parseTransactionStatus(e){return this.safeString({processing:"pending","checking by system":"pending",hodl:"pending","amount too low":"failed","not confirmed":"pending","cancelled by User":"canceled",approved:"pending",finished:"ok","withdrawal error":"failed","deposit error":"failed","cancelled by admin":"canceled",awaiting:"pending"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeValue(e,"withdrawal_address",{}),a=this.safeString(n,"address"),i=this.safeString(n,"additional_address_parameter"),s=this.safeString(e,"currency_id"),o=void 0;s in this.currencies_by_id?t=this.currencies_by_id[s]:o=this.commonCurrencyCode(this.safeString(e,"currency_code")),void 0===o&&void 0!==t&&(o=t.code);var c="deposit_status_id"in e?"deposit":"withdrawal",u=this.safeFloat(e,"amount"),d=this.parseTransactionStatus(this.safeStringLower(e,"status")),f=this.safeTimestamp2(e,"timestamp","created_ts"),l=this.safeTimestamp(e,"updated_ts"),h=this.safeString(e,"txid"),p=void 0,m=this.safeFloat(e,"fee");if(void 0!==m){var v=this.safeString(e,"fee_currency_id","deposit_fee_currency_id");p={cost:m,currency:this.safeCurrencyCode(v)}}return{info:e,id:r,txid:h,timestamp:f,datetime:this.iso8601(f),addressFrom:void 0,address:a,addressTo:a,tagFrom:void 0,tag:i,tagTo:i,type:c,amount:u,currency:o,status:d,updated:l,fee:p}}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.currencyId=o.id),void 0!==r&&(c.limit=r),void 0!==t&&(c.timeStart=t),n.next=9,s.profileGetDeposits(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,e,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.currency(e),c.currencyId=o.id),void 0!==r&&(c.limit=r),void 0!==t&&(c.timeStart=t),n.next=9,s.profileGetWithdrawals(s.extend(c,i));case 9:return u=n.sent,d=s.safeValue(u,"data",[]),n.abrupt("return",s.parseTransactions(d,e,t,r));case 12:case"end":return n.stop()}}),a)})))()}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={currency_id:c.id,amount:parseFloat(o.currencyToPrecision(e,t)),address:r},void 0!==i&&(u.additional_address_parameter=i),n.next=8,o.profilePostWithdraw(o.extend(u,s));case 8:return d=n.sent,f=o.safeValue(d,"data",{}),n.abrupt("return",o.parseTransaction(f,c));case 11:case"end":return n.stop()}}),a)})))()}fetchFundingFees(e,t={}){var r=this;return a(n.mark((function e(){var a,i,s,o,c,u,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.publicGetCurrencies(t);case 2:for(a=e.sent,i=r.safeValue(a,"data",[]),s={},o={},c=0;c<i.length;c++)u=r.safeString(i[c],"id"),d=r.safeCurrencyCode(u),s[d]=r.safeFloat(i[c],"withdrawal_fee_const"),o[d]=r.safeFloat(i[c],"deposit_fee_const");return e.abrupt("return",{withdraw:s,deposit:o,info:a});case 8:case"end":return e.stop()}}),e)})))()}handleErrors(e,t,r,n,a,i,s,o,c){if(void 0!==s&&!this.safeValue(s,"success",!1)){var d=this.safeString(s,"message"),f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,d,f),new u(f)}}}},function(e,t,r){"use strict";var n=r(87);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"surbitcoin",name:"SurBitcoin",countries:["VE"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991511-f0a50194-6481-11e7-99b5-8f02932424cc.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://surbitcoin.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"1"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.BadRequest,d=s.OrderNotFound,f=s.InvalidAddress;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}},exceptions:{exact:{"Request already running":u,"cannot specify multiple address types":u,"Currency is not included in the list":u,"Record not found":d},broad:{"before must be greater than after param":u,"must be shorter than 60 days":u,"must be a multiple of (period param) in minutes":u,"Address allocation limit reached for currency":f,"is not a valid value for param currency":u," is invalid":f}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,c,u,d,f,l,h,p,m,v,b,g,y;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetFunds(e);case 2:if(a=r.sent,i=t.safeValue(a,"funds"),s=[],void 0!==i){r.next=9;break}throw new o(t.id+" fetchMarkets got an unexpected response");case 9:for(c=0;c<i.length;c++)u=i[c],d=t.safeString(u,"id"),f=t.safeString(u,"trade_currency"),l=t.safeString(u,"base_currency"),h=t.safeCurrencyCode(f),p=t.safeCurrencyCode(l),m=h+"/"+p,v=t.safeFloat(u,"buy_fee"),b=t.safeFloat(u,"sell_fee"),g=Math.max(v,b),y=g/=100,s.push({id:d,symbol:m,base:h,quote:p,baseId:f,quoteId:l,info:u,active:!0,maker:y,taker:g,precision:{amount:t.safeInteger(u,"trade_currency_decimals"),price:t.safeInteger(u,"base_currency_decimals")},limits:{amount:{min:t.safeFloat(u,"minimum_quantity_offer"),max:void 0},price:{min:t.safeFloat(u,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}});case 10:return r.abrupt("return",s);case 11:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalances(e);case 4:for(a=r.sent,i=t.safeValue(a,"balances",[]),s={info:a},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"trading_balance"),f.total=t.safeFloat(c,"balance"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:i.marketId(e)},t.next=5,i.publicGetFundsIdOrderbook(i.extend(a,r));case 5:return s=t.sent,o=i.parse8601(i.safeString(s,"date")),t.abrupt("return",i.parseOrderBook(s,o,"bids","asks","price","amount"));case 8:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.parse8601(e.date),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:this.safeFloat(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_traded"),quoteVolume:this.safeFloat(e,"volume"),info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetFundsTickers(t);case 4:for(i=n.sent,s=r.indexBy(i.tickers,"fund_id"),o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=r.safeMarket(d),l=f.symbol,h=s[d],c[l]=r.parseTicker(h,f);return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.publicGetFundsIdTicker(r.extend({id:i.id},t));case 5:return s=n.sent,n.abrupt("return",r.parseTicker(s,i));case 7:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"fund_id"),n=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"date")),i=this.safeString(e,"id"),s=this.safeString(e,"order_id"),o=this.safeString(e,"side"),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"amount"),d=void 0;void 0!==c&&void 0!==u&&(d=c*u);for(var f=void 0,l=void 0,h=this.safeValue(e,"transactions",[]),p=this.groupBy(h,"type"),m=this.safeValue(p,"paid_commission",[]),v=0;v<m.length;v++)void 0===l&&(l=0),l=this.sum(l,this.safeFloat(m[v],"price"));return void 0!==l&&(f={cost:l,currency:t.quote}),{info:e,id:i,order:s,timestamp:a,datetime:this.iso8601(a),symbol:n,type:void 0,side:o,takerOrMaker:void 0,price:c,amount:u,cost:d,fee:f}}parseLedgerEntryDirection(e){return this.safeString({affiliate_earnings:"in",atm_payment:"in",bought_currency_from_fund:"out",bought_shares:"out",paid_commission:"out",paypal_payment:"in",pos_payment:"in",released_currency_to_fund:"out",rollover_commission:"out",sold_currency_to_fund:"in",sold_shares:"in",transfer_received:"in",transfer_sent:"out",withdraw:"out"},e,e)}parseLedgerEntryType(e){return this.safeString({affiliate_earnings:"referral",atm_payment:"transaction",bought_currency_from_fund:"trade",bought_shares:"trade",paid_commission:"fee",paypal_payment:"transaction",pos_payment:"transaction",released_currency_to_fund:"trade",rollover_commission:"fee",sold_currency_to_fund:"trade",sold_shares:"trade",transfer_received:"transfer",transfer_sent:"transfer",withdraw:"transaction"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"id"),n=void 0,a=this.safeString(e,"type"),i=this.parseLedgerEntryDirection(a);"trade"!==(a=this.parseLedgerEntryType(a))&&"fee"!==a||(n=this.safeString(e,"trade_id"));var s=this.safeString(e,"currency"),o=this.safeCurrencyCode(s),c=this.safeFloat(e,"price"),u=this.parse8601(this.safeString(e,"date"));return{info:e,id:r,direction:i,account:void 0,referenceId:n,referenceAccount:void 0,type:a,currency:o,amount:c,before:void 0,after:void 0,status:"ok",timestamp:u,datetime:this.iso8601(u),fee:void 0}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==t&&(o.after=s.iso8601(t)),n.next=8,s.privateGetTransactions(s.extend(o,i));case 8:return u=n.sent,d=s.safeValue(u,"transactions",[]),n.abrupt("return",s.parseLedger(d,c,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseTransactionType(e){return this.safeString({withdraw:"withdrawal",atm_payment:"deposit"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.parseTransactionType(this.safeString(e,"type")),a=this.safeValue(e,"transfer_detail",{}),i=this.safeString(a,"method"),s=void 0,o=void 0;void 0!==i&&"wire_transfer"!==i&&(s=this.safeString(a,"id"),o=this.safeString(a,"recipient"));var c=this.safeString(e,"currency"),u=this.safeCurrencyCode(c),d=this.safeFloat(e,"price"),f=this.parse8601(this.safeString(e,"date"));return{info:e,id:r,currency:u,amount:d,addressFrom:void 0,addressTo:o,address:o,tagFrom:void 0,tagTo:void 0,tag:void 0,status:"ok",type:n,updated:void 0,txid:s,timestamp:f,datetime:this.iso8601(f),fee:void 0}}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"withdraw"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"atm_payment"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==t&&(o.after=s.iso8601(t)),i=s.extend(o,i),n.next=9,s.privateGetTransactions(i);case 9:return u=n.sent,d=s.safeValue(u,"transactions",[]),f=["withdraw","atm_payment"],l=s.filterByArray(d,"type",f,!1),n.abrupt("return",s.parseTransactions(l,c,t,r));case 14:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({active:"open",executed:"closed",deleted:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeString(e,"fund_id"),a=this.safeSymbol(n,t),i=this.parseOrderStatus(this.safeString(e,"status")),s=this.parse8601(this.safeString(e,"date")),o=this.safeString(e,"type"),c=this.safeString(e,"side"),u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"amount_unfilled"),f=void 0;void 0!==u&&void 0!==d&&(f=u-d);var l=this.safeFloat(e,"price"),h=this.safeValue(e,"trades"),p=void 0,m=void 0,v=void 0;if(void 0!==h){var b=h.length;if(b>0){h=this.parseTrades(h,t,void 0,void 0,{orderId:r}),p=0,f=0;for(var g=0;g<b;g++){var y=h[g];p=this.sum(p,y.cost),f=this.sum(f,y.amount)}f>0&&(m=p/f),v=h[b-1].timestamp}else p=0}var w=this.safeFloat(e,"conditional_price");return{id:r,clientOrderId:void 0,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:v,status:i,symbol:a,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:l,stopPrice:w,cost:p,amount:u,filled:f,average:m,remaining:d,fee:void 0,trades:h}}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"active"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={status:"executed"},n.next=3,s.fetchOrders(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchOrders() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={fund_id:o.id},void 0!==t&&(u.after=s.iso8601(t)),n.next=9,s.privateGetFundsFundIdOrders(s.extend(u,i));case 9:return d=n.sent,f=s.safeValue(d,"orders",[]),n.abrupt("return",s.parseOrders(f,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" fetchOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return s=i.market(t),o={id:e,fund_id:s.id},n.next=8,i.privatePostFundsFundIdOrdersId(i.extend(o,r));case 8:return u=n.sent,n.abrupt("return",i.parseOrder(u));case 10:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return"market"===t&&(s=0),u={fund_id:c.marketId(e),side:r,amount:i,price:s},n.next=6,c.privatePostFundsFundIdOrders(c.extend(u,o));case 6:return d=n.sent,n.abrupt("return",c.parseOrder(d));case 8:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={id:e,fund_id:i.marketId(t)},n.next=5,i.privateDeleteFundsFundIdOrdersId(i.extend(s,r));case 5:return o=n.sent,n.abrupt("return",i.parseOrder(o));case 7:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new c(s.id+" fetchMyTrades() requires a symbol argument");case 2:return n.next=4,s.loadMarkets();case 4:return o=s.market(e),u={id:o.id},void 0!==r&&(u.per_page=r),void 0!==t&&(u.after=s.iso8601(t)),n.next=10,s.privateGetFundsIdTrades(s.extend(u,i));case 10:return d=n.sent,n.abrupt("return",s.parseTrades(d.trades,o,t,r));case 12:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={id:o.id},void 0!==r&&(c.per_page=r),void 0!==t&&(c.after=s.iso8601(t)),n.next=8,s.publicGetFundsIdTrades(s.extend(c,i));case 8:return u=n.sent,n.abrupt("return",s.parseTrades(u.trades,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(a=void 0===a?{}:a,"private"===t){if(this.checkRequiredCredentials(),Object.keys(o).length)if("POST"===r)i=this.json(o),a["Content-Type"]="application/json";else{var c=this.rawencode(o);c.length&&(s+="?"+c)}var u=this.nonce().toString(),d=u+s;a["X-TRT-KEY"]=this.apiKey,a["X-TRT-NONCE"]=u,a["X-TRT-SIGN"]=this.hmac(this.encode(d),this.encode(this.secret),"sha512")}else"public"===t&&Object.keys(o).length&&(s+="?"+this.rawencode(o));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeValue(s,"errors",[]),f=d.length;if(f>0){for(var l=this.id+" "+i,h=0;h<f;h++){var p=d[h],m=this.safeString(p,"message");this.throwExactlyMatchedException(this.exceptions.exact,m,l),this.throwBroadlyMatchedException(this.exceptions.broad,m,l)}throw new o(l)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.InsufficientFunds,d=o.OrderNotFound,f=o.ArgumentsRequired;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460811-1e690280-c616-11ea-8652-69f187305add.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"],referral:"http://bit.ly/2IX0LrM"},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.003,taker:.003},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:u,2003:d}})}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetDepositAddress(r.extend(s,t));case 6:if(!("success"in(o=n.sent))){n.next=12;break}if(!o.success){n.next=12;break}return c=r.safeString(o,"address"),u=r.safeString(o,"addressTag"),n.abrupt("return",{currency:e,address:r.checkAddress(c),tag:u,info:o});case 12:case"end":return n.stop()}}),n)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(i=r.sent,s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeString(c,"name"),f=d.split("/"),l=n(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),s.push({id:u,symbol:d,base:m,quote:v,baseId:h,quoteId:p,info:c,active:void 0,precision:t.precision,limits:t.limits});return r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetMembersMe(e);case 4:for(n=r.sent,i=t.safeValue(n,"accounts"),s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"balance"),f.used=t.safeFloat(c,"locked"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={market:s.id},void 0!==t&&(o.limit=t),o.market=s.id,a.next=8,n.publicGetDepth(n.extend(o,r));case 8:return c=a.sent,u=n.safeTimestamp(c,"timestamp"),a.abrupt("return",n.parseOrderBook(c,u));case 11:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"at");e=this.safeValue(e,"ticker",{});var n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTickers(t);case 4:for(i=n.sent,s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=r.safeMarket(u),f=d.symbol,l=i[u],o[f]=r.parseTicker(l,d);return n.abrupt("return",r.filterByArray(o,"symbol",e));case 9:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicGetTickersMarket(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTicker(o,i));case 8:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"id"),a=this.safeFloat(e,"price"),i=this.safeFloat(e,"volume"),s=this.safeFloat(e,"funds"),o=void 0;return void 0!==t&&(o=t.symbol),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},a.next=6,s.publicGetTrades(s.extend(c,n));case 6:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 8:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,2),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,5)]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),void 0===n&&(n=30),(u={market:c.id,period:o.timeframes[t],limit:n}).timestamp=void 0!==r?parseInt(r/1e3):18e5,a.next=8,o.publicGetK(o.extend(u,s));case 8:if("null"!==(d=a.sent)){a.next=11;break}return a.abrupt("return",[]);case 11:return a.abrupt("return",o.parseOHLCVs(d,c,t,r,n));case 12:case"end":return a.stop()}}),i)})))()}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"created_at")),i=this.parseOrderStatus(this.safeString(e,"state")),s=this.safeString(e,"id"),o=this.safeString(e,"ord_type"),c=this.safeString(e,"side"),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"volume"),f=this.safeFloat(e,"executed_volume"),l=this.safeFloat(e,"remaining_volume"),h=void 0;void 0!==u&&void 0!==f&&(h=u*f);var p=this.safeFloat(e,"avg_price");return{id:s,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:i,symbol:n,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:u,stopPrice:void 0,amount:d,filled:f,remaining:l,cost:h,trades:void 0,fee:void 0,info:e,average:p}}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.loadMarkets();case 2:return u={market:c.marketId(e),side:r,volume:n.toString(),ord_type:t},"limit"===t&&(u.price=s.toString()),a.next=6,c.privatePostOrders(c.extend(u,o));case 6:return d=a.sent,a.abrupt("return",c.parseOrder(d));case 8:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={id:e},t.next=5,n.privatePostOrderDelete(n.extend(i,r));case 5:if(s=t.sent,o=n.parseOrder(s),"closed"!==(c=n.safeString(o,"status"))&&"canceled"!==c){t.next=10;break}throw new d(n.id+" "+n.json(o));case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:if(c=o.currency(e),void 0!==(u=o.safeString(s,"id"))){a.next=7;break}throw new f(o.id+" withdraw() requires an extra `id` param (withdraw account id according to withdraws/bind_account_list endpoint");case 7:return d={id:u,currency_type:"coin",currency:c.id,body:t},void 0!==n&&(d.memo=n),a.next=11,o.privatePostWithdrawsApply(o.extend(d,s));case 11:return l=a.sent,a.abrupt("return",{info:l,id:void 0});case 13:case"end":return a.stop()}}),i)})))()}nonce(){return this.milliseconds()}encodeParams(e){return this.urlencode(this.keysort(e))}sign(e,t="public",r="GET",n={},a,i){var s="/api/"+this.version+"/"+this.implodeParams(e,n)+".json",o=this.omit(n,this.extractParams(e)),c=this.urls.api+s;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.keysort(this.extend({access_key:this.apiKey,tonce:u},n)),f=this.urlencode(d),l=r+"|"+s+"|"+f,h=f+"&signature="+this.hmac(this.encode(l),this.encode(this.secret));"GET"===r?c+="?"+h:(i=h,a={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(400===e||void 0===s){var d=this.id+" "+i;if(void 0===s)throw new c(d);var f=this.safeValue(s,"error",{}),l=this.safeString(f,"code");this.throwExactlyMatchedException(this.exceptions,l,d)}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ArgumentsRequired,d=o.ExchangeNotAvailable,f=o.InsufficientFunds,l=o.OrderNotFound,h=o.DDoSProtection,p=o.InvalidOrder,m=o.AuthenticationError;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",userAgent:this.userAgents.chrome,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",referral:"https://tidex.com/exchange/?ref=57f5638d9cd7",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]},public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfoExt","getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{DSH:"DASH",EMGO:"MGO",MGO:"WMGO"},exceptions:{exact:{803:p,804:p,805:p,806:p,807:p,831:f,832:f,833:l},broad:{"Invalid pair name":c,"invalid api key":m,"invalid sign":m,"api key dont have trade permission":m,"invalid parameter":p,"invalid order":p,"Requests too often":h,"not available":d,"data unavailable":d,"external service unavailable":d}},options:{fetchTickersMaxLength:2048},orders:{}})}fetchCurrencies(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h,p;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.webGetCurrency(e);case 2:for(n=r.sent,i={},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"symbol"),u=o.amountPoint,d=t.safeCurrencyCode(c),f=!0===o.visible,l=!0===o.withdrawEnable,h=!0===o.depositEnable,l&&h||(f=!1),p=t.safeString(o,"name"),i[d]={id:c,code:d,name:p,active:f,precision:u,funding:{withdraw:{active:l,fee:o.withdrawFee},deposit:{active:h,fee:0}},limits:{amount:{min:void 0,max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(o,"withdrawMinAmount"),max:void 0},deposit:{min:t.safeFloat(o,"depositMinAmount"),max:void 0}},info:o};return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}calculateFee(e,t,r,n,a,i="taker",s={}){var o=this.markets[e],c="quote",u=o[i],d=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?d*=a:c="base",{type:i,currency:o[c],rate:u,cost:d}}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInfo(e);case 2:for(i=r.sent,s=i.pairs,o=Object.keys(s),c=[],u=0;u<o.length;u++)d=o[u],f=s[d],l=d.split("_"),h=n(l,2),p=h[0],m=h[1],v=t.safeCurrencyCode(p),b=t.safeCurrencyCode(m),g=v+"/"+b,y={amount:t.safeInteger(f,"decimal_places"),price:t.safeInteger(f,"decimal_places")},w={amount:{min:t.safeFloat(f,"min_amount"),max:t.safeFloat(f,"max_amount")},price:{min:t.safeFloat(f,"min_price"),max:t.safeFloat(f,"max_price")},cost:{min:t.safeFloat(f,"min_total")}},k=t.safeInteger(f,"hidden"),x=0===k,c.push({id:d,symbol:g,base:v,quote:b,baseId:p,quoteId:m,active:x,taker:f.fee/100,precision:y,limits:w,info:f});return r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetInfoExt(e);case 4:for(n=r.sent,i=t.safeValue(n,"return"),s={info:i},o=t.safeValue(i,"funds",{}),c=Object.keys(o),u=0;u<c.length;u++)d=c[u],f=t.safeCurrencyCode(d),l=t.safeValue(o,d,{}),(h=t.account()).free=t.safeFloat(l,"value"),h.used=t.safeFloat(l,"inOrders"),s[f]=h;return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={pair:s.id},void 0!==t&&(o.limit=t),a.next=7,n.publicGetDepthPair(n.extend(o,r));case 7:if(u=a.sent,s.id in u){a.next=11;break}throw new c(n.id+" "+s.symbol+" order book is empty or not available");case 11:return d=u[s.id],a.abrupt("return",n.parseOrderBook(d));case 13:case"end":return a.stop()}}),i)})))()}fetchOrderBooks(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(s=void 0,void 0!==e){a.next=10;break}if(!((s=n.ids.join("-")).length>2048)){a.next=8;break}throw o=n.ids.length,new c(n.id+" has "+o.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:a.next=12;break;case 10:s=(s=n.marketIds(e)).join("-");case 12:return u={pair:s},void 0!==t&&(u.limit=t),a.next=16,n.publicGetDepthPair(n.extend(u,r));case 16:for(d=a.sent,f={},s=Object.keys(d),l=0;l<s.length;l++)h=s[l],p=n.safeSymbol(h),f[p]=n.parseOrderBook(d[h]);return a.abrupt("return",f);case 21:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"updated"),n=void 0;void 0!==t&&(n=t.symbol,t.active||(r=void 0));var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,d,f,l,h,p,m,v;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.ids,void 0!==e){n.next=11;break}if(s=i.length,!((i=i.join("-")).length>r.options.fetchTickersMaxLength)){n.next=9;break}throw o=r.safeInteger(r.options,"fetchTickersMaxLength",2048),new u(r.id+" has "+s.toString()+" markets exceeding max URL length for this endpoint ("+o.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers");case 9:n.next=13;break;case 11:i=(i=r.marketIds(e)).join("-");case 13:return c={pair:i},n.next=16,r.publicGetTickerPair(r.extend(c,t));case 16:for(d=n.sent,f={},l=Object.keys(d),h=0;h<l.length;h++)p=l[h],m=r.safeMarket(p),v=m.symbol,f[v]=r.parseTicker(d[p],m);return n.abrupt("return",r.filterByArray(f,"symbol",e));case 21:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickers([e],t);case 2:return i=n.sent,n.abrupt("return",i[e]);case 4:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeString(e,"type");"ask"===n?n="sell":"bid"===n&&(n="buy");var a=this.safeFloat2(e,"rate","price"),i=this.safeString2(e,"trade_id","tid"),s=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),u=this.safeFloat(e,"amount"),d=void 0,f=void 0,l=this.safeFloat(e,"commission");if(void 0!==l){var h=this.safeString(e,"commissionCurrency");f={cost:l,currency:this.safeCurrencyCode(h)}}var p=this.safeValue(e,"is_your_order");void 0!==p&&(d="taker",p&&(d="maker"),void 0===f&&(f=this.calculateFee(c,"limit",n,u,a,d)));var m=void 0;return void 0!==u&&void 0!==a&&(m=u*a),{id:i,order:s,timestamp:r,datetime:this.iso8601(r),symbol:c,type:"limit",side:n,takerOrMaker:d,price:a,amount:u,cost:m,fee:f,info:e}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.limit=r),a.next=7,s.publicGetTradesPair(s.extend(c,n));case 7:if(u=a.sent,!Array.isArray(u)){a.next=12;break}if(0!==u.length){a.next=12;break}return a.abrupt("return",[]);case 12:return a.abrupt("return",s.parseTrades(u[o.id],o,t,r));case 13:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var u=this;return i(a.mark((function i(){var d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("market"!==t){a.next=2;break}throw new c(u.id+" allows limit orders only");case 2:return a.next=4,u.loadMarkets();case 4:return d=u.market(e),f={pair:d.id,type:r,amount:u.amountToPrecision(e,n),rate:u.priceToPrecision(e,s)},s=parseFloat(s),n=parseFloat(n),a.next=10,u.privatePostTrade(u.extend(f,o));case 10:return l=a.sent,h=void 0,p="open",m=0,v=n,"return"in l&&("0"===(h=u.safeString(l.return,"order_id"))&&(h=u.safeString(l.return,"init_order_id"),p="closed"),m=u.safeFloat(l.return,"received",0),v=u.safeFloat(l.return,"remains",n)),b=u.milliseconds(),a.abrupt("return",{id:h,timestamp:b,datetime:u.iso8601(b),lastTradeTimestamp:void 0,status:p,symbol:e,type:t,side:r,price:s,cost:s*m,amount:n,remaining:v,filled:m,fee:void 0,info:l,clientOrderId:void 0,average:void 0,trades:void 0});case 18:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:parseInt(e)},t.next=5,n.privatePostCancelOrder(n.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeTimestamp(e,"timestamp_created"),i=this.safeString(e,"pair"),s=this.safeSymbol(i,t),o=void 0,c=void 0,u=this.safeFloat(e,"rate"),d=void 0,f=void 0;"start_amount"in e?(c=this.safeFloat(e,"start_amount"),o=this.safeFloat(e,"amount")):o=this.safeFloat(e,"amount"),void 0!==c&&void 0!==o&&(f=u*(d=c-o));return{info:e,id:r,clientOrderId:void 0,symbol:s,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:u,stopPrice:void 0,cost:f,amount:c,remaining:o,filled:d,status:n,fee:void 0,average:void 0,trades:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,c;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:parseInt(e)},t.next=5,n.privatePostOrderInfo(n.extend(i,r));case 5:return s=t.sent,e=e.toString(),o=n.safeValue(s,"return",{}),c=n.safeValue(o,e),t.abrupt("return",n.parseOrder(n.extend({id:e},c)));case 10:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.pair=c.id),a.next=7,s.privatePostActiveOrders(s.extend(o,n));case 7:return u=a.sent,d=s.safeValue(u,"return",[]),a.abrupt("return",s.parseOrders(d,c,t,r));case 10:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.pair=o.id),void 0!==r&&(c.count=parseInt(r)),void 0!==t&&(c.since=parseInt(t/1e3)),a.next=9,s.privatePostTradeHistory(s.extend(c,n));case 9:return u=a.sent,d=s.safeValue(u,"return",[]),a.abrupt("return",s.parseTrades(d,o,t,r));case 12:case"end":return a.stop()}}),i)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:if(u=o.currency(e),d={coinName:u.id,amount:parseFloat(t),address:r},void 0===n){a.next=7;break}throw new c(o.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");case 7:return a.next=9,o.privatePostWithdrawCoin(o.extend(d,s));case 9:return f=a.sent,a.abrupt("return",{info:f,id:f.return.tId});case 11:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t],o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce();i=this.urlencode(this.extend({nonce:c,method:e},o));var u=this.hmac(this.encode(i),this.encode(this.secret),"sha512");a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:u}}else"public"===t?(s+="/"+this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o))):(s+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o),a={"Content-Type":"application/json"}));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&"success"in s){var d=this.safeValue(s,"success",!1);if("string"===typeof d&&(d="true"===d||"1"===d),!d){var f=this.safeString(s,"code"),l=this.safeString(s,"error"),h=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,h),this.throwExactlyMatchedException(this.exceptions.exact,l,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h),new c(h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.PermissionDenied,u=s.ExchangeNotAvailable,d=s.InsufficientFunds,f=s.OrderNotFound,l=s.InvalidOrder,h=s.RateLimitExceeded,p=s.NotSupported,m=s.BadRequest,v=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"timex",name:"TimeX",countries:["AU"],version:"v1",rateLimit:1500,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"I1","5m":"I5","15m":"I15","30m":"I30","1h":"H1","2h":"H2","4h":"H4","6h":"H6","12h":"H12","1d":"D1","1w":"W1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/70423869-6839ab00-1a7f-11ea-8f94-13ae72c31115.jpg",api:"https://plasma-relay-backend.timex.io",www:"https://timex.io",doc:"https://docs.timex.io",referral:"https://timex.io/?refcode=1x27vNkTbP1uwkCck"},api:{custody:{get:["credentials","credentials/h/{hash}","credentials/k/{key}","credentials/me/address","deposit-addresses","deposit-addresses/h/{hash}"]},history:{get:["orders","orders/details","orders/export/csv","trades","trades/export/csv"]},currencies:{get:["a/{address}","i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},markets:{get:["i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},public:{get:["candles","currencies","markets","orderbook","orderbook/raw","orderbook/v2","tickers","trades"]},statistics:{get:["address"]},trading:{get:["balances","fees","orders"],post:["orders","orders/json"],put:["orders","orders/json"],delete:["orders","orders/json"]},tradingview:{get:["config","history","symbol_info","time"]}},exceptions:{exact:{0:o,1:p,4e3:m,4001:m,4002:d,4003:v,4004:v,4005:m,4006:m,4007:m,4300:c,4100:v,4400:f,5001:l,5002:o,400:m,401:v,403:c,404:f,429:h,500:o,503:u},broad:{Insufficient:d}},options:{fetchTickers:{period:"1d"},fetchTrades:{sort:"timestamp,asc"},fetchMyTrades:{sort:"timestamp,asc"},fetchOpenOrders:{sort:"createdAt,asc"},fetchClosedOrders:{sort:"createdAt,asc"},defaultSort:"timestamp,asc",defaultSortOrders:"createdAt,asc"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarkets(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)i.push(t.parseMarket(a[s]));return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencies(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],i.push(t.parseCurrency(o));return r.abrupt("return",t.indexBy(i,"code"));case 6:case"end":return r.stop()}}),r)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.safeString(r.options.fetchTickers,"period","1d"),s={period:r.timeframes[i]},n.next=6,r.publicGetTickers(r.extend(s,t));case 6:return o=n.sent,n.abrupt("return",r.parseTickers(o,e));case 8:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s=r.safeString(r.options.fetchTickers,"period","1d"),o={market:i.id,period:r.timeframes[s]},n.next=7,r.publicGetTickers(r.extend(o,t));case 7:return c=n.sent,u=r.safeValue(c,0),n.abrupt("return",r.parseTicker(u,i));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={market:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicGetOrderbookV2(i.extend(o,r));case 7:return c=n.sent,u=i.parse8601(i.safeString(c,"timestamp")),n.abrupt("return",i.parseOrderBook(c,u,"bid","ask","price","baseTokenAmount"));case 10:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c=s.safeValue(s.options,"fetchTrades",{}),u=s.safeValue(c,"sort","timestamp,asc"),d=s.safeString(i,"sort",u),f=s.omit(i,"sort"),l={market:o.id,sort:d},void 0!==t&&(l.from=s.iso8601(t)),void 0!==r&&(l.size=r),n.next=12,s.publicGetTrades(s.extend(l,f));case 12:return h=n.sent,n.abrupt("return",s.parseTrades(h,o,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market:c.id,period:o.timeframes[t]},d=o.parseTimeframe(t),void 0!==r?(u.from=o.iso8601(r),void 0!==i&&(u.till=o.iso8601(o.sum(r,o.sum(i,1)*d*1e3)))):void 0!==i?(f=o.milliseconds(),u.till=o.iso8601(f),u.from=o.iso8601(f-i*d*1e3-1)):u.till=o.iso8601(o.milliseconds()),n.next=8,o.publicGetCandles(o.extend(u,s));case 8:return l=n.sent,n.abrupt("return",o.parseOHLCVs(l,c,t,r,i));case 10:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.tradingGetBalances(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),(d=t.account()).total=t.safeFloat(o,"totalBalance"),d.used=t.safeFloat(o,"lockedBalance"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,h,p,m,v,b,g;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(u=c.market(e),d={symbol:u.id,quantity:c.amountToPrecision(e,i),side:r.toUpperCase()},f=o,"limit"!==t){n.next=22;break}if(d.price=c.priceToPrecision(e,s),h=c.safeInteger(c.options,"expireIn"),p=c.safeValue(o,"expireTime"),m=c.safeValue(o,"expireIn",h),void 0===p){n.next=14;break}d.expireTime=p,n.next=19;break;case 14:if(void 0===m){n.next=18;break}d.expireIn=m,n.next=19;break;case 18:throw new l(c.id+" createOrder() method requires a expireTime or expireIn param for a "+t+" order, you can also set the expireIn exchange-wide option");case 19:f=c.omit(o,["expireTime","expireIn"]),n.next=23;break;case 22:d.price=0;case 23:return n.next=25,c.tradingPostOrders(c.extend(d,f));case 25:return v=n.sent,b=c.safeValue(v,"orders",[]),g=c.safeValue(b,0,{}),n.abrupt("return",c.parseOrder(g,u));case 29:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,c={}){var u=this;return a(n.mark((function r(){var a,i,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.loadMarkets();case 2:return a=u.market(t),i={id:e},void 0!==s&&(i.quantity=u.amountToPrecision(t,s)),void 0!==o&&(i.price=u.priceToPrecision(t,o)),r.next=8,u.tradingPutOrders(u.extend(i,c));case 8:if(!("unchangedOrders"in(d=r.sent))){r.next=13;break}return f=u.safeValue(d,"unchangedOrders",[]),l=u.safeString(f,0),r.abrupt("return",{id:l,info:d});case 13:return h=u.safeValue(d,"changedOrders",[]),p=u.safeValue(h,0,{}),m=u.safeValue(p,"newOrder",{}),r.abrupt("return",u.parseOrder(m,a));case 17:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return n.next=4,i.cancelOrders([e],t,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),a)})))()}cancelOrders(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.tradingDeleteOrders(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var r,a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return r={orderHash:e},t.next=5,i.historyGetOrdersDetails(r);case 5:return a=t.sent,s=i.safeValue(a,"order",{}),o=i.safeValue(a,"trades",[]),t.abrupt("return",i.parseOrder(i.extend(s,{trades:o})));case 9:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.safeValue(s.options,"fetchOpenOrders",{}),c=s.safeValue(o,"sort","createdAt,asc"),u=s.safeString(i,"sort",c),d=s.omit(i,"sort"),f={sort:u},l=void 0,void 0!==e&&(l=s.market(e),f.symbol=l.id),void 0!==r&&(f.size=r),n.next=12,s.tradingGetOrders(s.extend(f,d));case 12:return h=n.sent,p=s.safeValue(h,"orders",[]),n.abrupt("return",s.parseOrders(p,l,t,r));case 15:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.safeValue(s.options,"fetchClosedOrders",{}),c=s.safeValue(o,"sort","createdAt,asc"),u=s.safeString(i,"sort",c),d=s.omit(i,"sort"),f={sort:u,side:"BUY"},l=void 0,void 0!==e&&(l=s.market(e),f.symbol=l.id),void 0!==t&&(f.from=s.iso8601(t)),void 0!==r&&(f.size=r),n.next=13,s.historyGetOrders(s.extend(f,d));case 13:return h=n.sent,p=s.safeValue(h,"orders",[]),n.abrupt("return",s.parseOrders(p,l,t,r));case 16:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.safeValue(s.options,"fetchMyTrades",{}),c=s.safeValue(o,"sort","timestamp,asc"),u=s.safeString(i,"sort",c),d=s.omit(i,"sort"),f={sort:u},l=void 0,void 0!==e&&(l=s.market(e),f.symbol=l.id),void 0!==t&&(f.from=s.iso8601(t)),void 0!==r&&(f.size=r),n.next=13,s.historyGetTrades(s.extend(f,d));case 13:return h=n.sent,p=s.safeValue(h,"trades",[]),n.abrupt("return",s.parseTrades(p,l,t,r));case 16:case"end":return n.stop()}}),a)})))()}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={markets:i.id},n.next=6,r.tradingGetFees(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,0,{}),n.abrupt("return",{info:o,maker:r.safeFloat(c,"fee"),taker:void 0});case 9:case"end":return n.stop()}}),a)})))()}parseMarket(e){var t=!this.safeValue(e,"locked"),r=this.safeString(e,"symbol"),n=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),i=this.safeCurrencyCode(n),s=this.safeCurrencyCode(a),o=i+"/"+s,c={amount:this.precisionFromString(this.safeString(e,"quantityIncrement")),price:this.precisionFromString(this.safeString(e,"tickSize"))},u=this.safeFloat(e,"quantityIncrement"),d=this.safeFloat(e,"baseMinSize"),f=Math.max(u,d),l=this.safeFloat(e,"tickSize"),h=this.safeFloat(e,"quoteMinSize");return{id:r,symbol:o,base:i,quote:s,baseId:n,quoteId:a,type:"spot",active:t,precision:c,limits:{amount:{min:f,max:void 0},price:{min:l,max:void 0},cost:{min:Math.max(h,f*l),max:void 0}},taker:this.safeFloat(e,"takerFee"),maker:this.safeFloat(e,"makerFee"),info:e}}parseCurrency(e){var t=this.safeString(e,"symbol"),r=this.safeCurrencyCode(t),n=this.safeString(e,"name"),a=this.safeInteger(e,"decimals"),i=this.safeValue(e,"active"),s=this.safeString(e,"withdrawalFee"),o=this.safeInteger(e,"tradeDecimals"),c=void 0;if(void 0!==s&&void 0!==o){var u=s.length-o;if(u>0){var d=s.slice(0,u),f=s.slice(-u);c=parseFloat(d+"."+f)}else{for(var l=".",h=0;h<-u;h++)l+="0";c=parseFloat(l+s)}}return{id:r,code:r,info:e,type:void 0,name:n,active:i,fee:c,precision:a,limits:{withdraw:{min:c,max:void 0},amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}parseTickers(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}parseTicker(e,t){var r=this.safeString(e,"market"),n=this.safeSymbol(r,t,"/"),a=this.parse8601(this.safeString(e,"timestamp")),i=this.safeFloat(e,"last"),s=this.safeFloat(e,"open"),o=void 0,c=void 0;void 0!==i&&void 0!==s&&(o=i-s,c=this.sum(i,s)/2);var u=void 0;return void 0!==o&&s&&(u=o/s*100),{symbol:n,info:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:s,close:i,last:i,previousClose:void 0,change:o,percentage:u,average:c,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volumeQuote")}}parseTrade(e,t){var r=this.safeString(e,"symbol"),n=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"timestamp")),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"quantity"),o=this.safeString(e,"id"),c=this.safeStringLower2(e,"direction","side"),u=this.safeStringLower(e,"makerOrTaker"),d=void 0;void 0!==u&&(d=this.safeString(e,u+"OrderId"));var f=void 0,l=this.safeFloat(e,"fee");void 0!==l&&(f={cost:l,currency:void 0===t?void 0:t.quote});var h=void 0;return void 0!==i&&void 0!==s&&(h=this.costToPrecision(n,s*i)),{info:e,id:o,timestamp:a,datetime:this.iso8601(a),symbol:n,order:d,type:void 0,side:c,price:i,amount:s,cost:h,takerOrMaker:u,fee:f}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.safeStringLower(e,"type"),a=this.safeStringLower(e,"side"),i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),o=this.parse8601(this.safeString(e,"createdAt")),c=this.safeFloat(e,"price"),u=this.safeFloat(e,"quantity"),d=this.safeFloat(e,"filledQuantity"),f=this.safeFloat(e,"cancelledQuantity"),l=void 0,h=void 0;void 0!==u&&void 0!==d&&(l=Math.max(u-d,0),h=d>=u?"closed":void 0!==f&&f>0?"canceled":"open");var p=parseFloat(this.costToPrecision(s,c*d)),m=void 0,v=void 0,b=this.safeValue(e,"trades");if(void 0!==b&&(v=this.parseTrades(b,t,void 0,void 0,{order:r})),void 0!==v){var g=v.length;g>0&&(m=v[g-1].timestamp)}return{info:e,id:r,clientOrderId:this.safeString(e,"clientOrderId"),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:m,symbol:s,type:n,timeInForce:void 0,postOnly:void 0,side:a,price:c,stopPrice:void 0,amount:u,cost:p,average:void 0,filled:d,remaining:l,status:h,fee:void 0,trades:v}}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/"+t+"/"+e;if(Object.keys(n).length&&(s+="?"+this.urlencodeWithArrayRepeat(n)),"public"!==t){this.checkRequiredCredentials();var o=this.stringToBase64(this.apiKey+":"+this.secret);a={authorization:"Basic "+this.decode(o)}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&e>=400){var d=this.id+" "+i,f=this.safeValue(s,"error");void 0===f&&(f=s);var l=this.safeString2(f,"code","status"),h=this.safeString2(f,"message","debugMessage");throw this.throwBroadlyMatchedException(this.exceptions.broad,h,d),this.throwExactlyMatchedException(this.exceptions.exact,l,d),this.throwExactlyMatchedException(this.exceptions.exact,h,d),new o(d)}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.BadRequest,d=o.AuthenticationError,f=o.InvalidOrder,l=o.InsufficientFunds,h=o.OrderNotFound,p=o.PermissionDenied,m=o.AddressPending;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},hostname:"api.upbit.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:{public:"https://{hostname}",private:"https://{hostname}"},www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"This key has expired.":d,"Missing request parameter error. Check the required parameters!":u,"side is missing, side does not have a valid value":f},broad:{thirdparty_agreement_required:p,out_of_scope:p,order_not_found:h,insufficient_funds:l,invalid_access_key:d,jwt_verification:d,create_ask_error:c,create_bid_error:c,volume_too_large:f,invalid_funds:f}},options:{createMarketBuyOrderRequiresPrice:!0,fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,tradingFeesByQuoteCurrency:{KRW:5e-4}},commonCurrencies:{TON:"Tokamak Network"}})}fetchCurrency(e,t={}){var r=this;return i(a.mark((function n(){var i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),n.next=5,r.fetchCurrencyById(i.id,t);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}fetchCurrencyById(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={currency:e},n.next=3,r.privateGetWithdrawsChance(r.extend(i,t));case 3:return s=n.sent,o=r.safeValue(s,"member_level",{}),c=r.safeValue(s,"currency",{}),u=r.safeValue(s,"withdraw_limit",{}),d=r.safeValue(u,"can_withdraw"),f=r.safeString(c,"wallet_state"),l=r.safeValue(o,"wallet_locked"),h=r.safeValue(o,"locked"),p=!0,void 0===d||d?("working"!==f||void 0!==l&&l||void 0!==h&&h)&&(p=!1):p=!1,m=r.safeFloat(u,"onetime"),v=r.safeFloat(u,"daily",m),b=r.safeFloat(u,"remaining_daily",v),g=void 0,g=b>0?b:v,void 0,y=r.safeString(c,"code"),w=r.safeCurrencyCode(y),n.abrupt("return",{info:s,id:y,code:w,name:w,active:p,fee:r.safeFloat(c,"withdraw_fee"),precision:void 0,limits:{withdraw:{min:r.safeFloat(u,"minimum"),max:g}}});case 22:case"end":return n.stop()}}),n)})))()}fetchMarket(e,t={}){var r=this;return i(a.mark((function n(){var i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.fetchMarketById(i.id,t);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}fetchMarketById(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={market:e},n.next=3,r.privateGetOrdersChance(r.extend(i,t));case 3:return s=n.sent,o=r.safeValue(s,"market"),c=r.safeValue(o,"bid"),u=r.safeValue(o,"ask"),d=r.safeString(o,"id"),f=r.safeString(u,"currency"),l=r.safeString(c,"currency"),h=r.safeCurrencyCode(f),p=r.safeCurrencyCode(l),m=h+"/"+p,v={amount:8,price:8},b=r.safeString(o,"state"),g="active"===b,y=r.safeFloat(s,"bid_fee"),w=r.safeFloat(s,"ask_fee"),k=Math.max(y,w),n.abrupt("return",{info:s,id:d,symbol:m,base:h,quote:p,baseId:f,quoteId:l,active:g,precision:v,maker:k,taker:k,limits:{amount:{min:r.safeFloat(u,"min_total"),max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:r.safeFloat(c,"min_total"),max:r.safeFloat(o,"max_total")}}});case 20:case"end":return n.stop()}}),n)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarketAll(e);case 2:for(i=r.sent,s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"market"),d=u.split("-"),f=n(d,2),l=f[0],h=f[1],p=t.safeCurrencyCode(h),m=t.safeCurrencyCode(l),v=p+"/"+m,b={amount:8,price:8},!0,g=t.safeFloat(t.options.tradingFeesByQuoteCurrency,m,t.fees.trading.maker),y=t.safeFloat(t.options.tradingFeesByQuoteCurrency,m,t.fees.trading.taker),s.push({id:u,symbol:v,base:p,quote:m,baseId:h,quoteId:l,active:!0,info:c,precision:b,maker:g,taker:y,limits:{amount:{min:Math.pow(10,-b.amount),max:void 0},price:{min:Math.pow(10,-b.price),max:void 0},cost:{min:void 0,max:void 0}}});return r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAccounts(e);case 4:for(n=r.sent,i={info:n},s=0;s<n.length;s++)o=n[s],c=t.safeString(o,"currency"),u=t.safeCurrencyCode(c),(d=t.account()).free=t.safeFloat(o,"balance"),d.used=t.safeFloat(o,"locked"),i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBooks(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o,u,d,f,l,h,p,m;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:if(i=void 0,void 0!==e){t.next=10;break}if(!((i=n.ids.join(",")).length>n.options.fetchOrderBooksMaxLength)){t.next=8;break}throw s=n.ids.length,new c(n.id+" has "+s.toString()+" symbols ("+i.length.toString()+" characters) exceeding max URL length ("+n.options.fetchOrderBooksMaxLength.toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:t.next=12;break;case 10:i=(i=n.marketIds(e)).join(",");case 12:return o={markets:i},t.next=15,n.publicGetOrderbook(n.extend(o,r));case 15:for(u=t.sent,d={},f=0;f<u.length;f++)l=u[f],h=n.safeString(l,"market"),p=n.safeSymbol(h,void 0,"-"),m=n.safeInteger(l,"timestamp"),d[p]={bids:n.sortBy(n.parseBidsAsks(l.orderbook_units,"bid_price","bid_size"),0,!0),asks:n.sortBy(n.parseBidsAsks(l.orderbook_units,"ask_price","ask_size"),0),timestamp:m,datetime:n.iso8601(m),nonce:void 0};return t.abrupt("return",d);case 19:case"end":return t.stop()}}),t)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.fetchOrderBooks([e],t,r);case 2:return s=a.sent,a.abrupt("return",n.safeValue(s,e));case 4:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeInteger(e,"trade_timestamp"),n=this.safeString2(e,"market","code"),a=this.safeSymbol(n,t,"-"),i=this.safeFloat(e,"prev_closing_price"),s=this.safeFloat(e,"trade_price"),o=this.safeFloat(e,"signed_change_price"),c=this.safeFloat(e,"signed_change_rate");return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_price"),low:this.safeFloat(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"opening_price"),close:s,last:s,previousClose:i,change:o,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"acc_trade_volume_24h"),quoteVolume:this.safeFloat(e,"acc_trade_price_24h"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,u,d,f,l,h;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=void 0,void 0!==e){n.next=10;break}if(!((i=r.ids.join(",")).length>r.options.fetchTickersMaxLength)){n.next=8;break}throw s=r.ids.length,new c(r.id+" has "+s.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers");case 8:n.next=12;break;case 10:i=(i=r.marketIds(e)).join(",");case 12:return o={markets:i},n.next=15,r.publicGetTicker(r.extend(o,t));case 15:for(u=n.sent,d={},f=0;f<u.length;f++)l=r.parseTicker(u[f]),h=l.symbol,d[h]=l;return n.abrupt("return",r.filterByArray(d,"symbol",e));case 19:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickers([e],t);case 2:return i=n.sent,n.abrupt("return",r.safeValue(i,e));case 4:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeString2(e,"sequential_id","uuid"),a=this.safeInteger(e,"timestamp");void 0===a&&(a=this.parse8601(this.safeString(e,"created_at")));var i=void 0,s=this.safeStringLower2(e,"ask_bid","side");"ask"===s?i="sell":"bid"===s&&(i="buy");var o=this.safeFloat(e,"funds"),c=this.safeFloat2(e,"trade_price","price"),u=this.safeFloat2(e,"trade_volume","volume");void 0===o&&void 0!==u&&void 0!==c&&(o=c*u);var d=this.safeString2(e,"market","code"),f=void 0,l=void 0,h=void 0;if(void 0!==(t=this.safeMarket(d,t)))h=t.symbol,l=t.quote;else{var p=d.split("-"),m=n(p,2),v=m[0],b=m[1],g=this.safeCurrencyCode(v),y=this.safeCurrencyCode(b);h=g+"/"+y,l=y}var w=this.safeString(e,s+"_fee");return void 0!==w&&(f={currency:l,cost:w}),{id:r,info:e,order:void 0,timestamp:a,datetime:this.iso8601(a),symbol:h,type:void 0,side:i,takerOrMaker:void 0,price:c,amount:u,cost:o,fee:f}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),void 0===r&&(r=200),c={market:o.id,count:r},a.next=7,s.publicGetTradesTicks(s.extend(c,n));case 7:return u=a.sent,a.abrupt("return",s.parseTrades(u,o,t,r));case 9:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeFloat(e,"opening_price"),this.safeFloat(e,"high_price"),this.safeFloat(e,"low_price"),this.safeFloat(e,"trade_price"),this.safeFloat(e,"candle_acc_trade_volume")]}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u=o.parseTimeframe(t),d=o.timeframes[t],void 0===n&&(n=200),f={market:c.id,timeframe:d,count:n},l="publicGetCandlesTimeframe","minutes"===d&&(h=Math.round(u/60),f.unit=h,l+="Unit"),void 0!==r&&(f.to=o.iso8601(o.sum(r,u*n*1e3))),a.next=12,o[l](o.extend(f,s));case 12:return p=a.sent,a.abrupt("return",o.parseOHLCVs(p,c,t,r,n));case 14:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function i(){var u,d,l,h;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("market"!==t){a.next=8;break}if("buy"!==r){a.next=8;break}if(!c.options.createMarketBuyOrderRequiresPrice){a.next=8;break}if(void 0!==s){a.next=7;break}throw new f(c.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 7:n*=s;case 8:if(u=void 0,"buy"!==r){a.next=13;break}u="bid",a.next=18;break;case 13:if("sell"!==r){a.next=17;break}u="ask",a.next=18;break;case 17:throw new f(c.id+" createOrder allows buy or sell side only!");case 18:return a.next=20,c.loadMarkets();case 20:return d=c.market(e),l={market:d.id,side:u},"limit"===t?(l.volume=c.amountToPrecision(e,n),l.price=c.priceToPrecision(e,s),l.ord_type=t):"market"===t&&("buy"===r?(l.ord_type="price",l.price=c.priceToPrecision(e,n)):"sell"===r&&(l.ord_type=t,l.volume=c.amountToPrecision(e,n))),a.next=25,c.privatePostOrders(c.extend(l,o));case 25:return h=a.sent,a.abrupt("return",c.parseOrder(h));case 27:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={uuid:e},t.next=5,n.privateDeleteOrder(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}fetchDeposits(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.limit=r),a.next=8,s.privateGetDeposits(s.extend(o,n));case 8:return u=a.sent,a.abrupt("return",s.parseTransactions(u,c,t,r));case 10:case"end":return a.stop()}}),i)})))()}fetchWithdrawals(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.limit=r),a.next=8,s.privateGetWithdraws(s.extend(o,n));case 8:return u=a.sent,a.abrupt("return",s.parseTransactions(u,c,t,r));case 10:case"end":return a.stop()}}),i)})))()}parseTransactionStatus(e){return this.safeString({ACCEPTED:"ok",submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){var r=this.safeString(e,"uuid"),n=this.safeFloat(e,"amount"),a=this.safeString(e,"txid"),i=this.parse8601(this.safeString(e,"done_at")),s=this.parse8601(this.safeString(e,"created_at",i)),o=this.safeString(e,"type");"withdraw"===o&&(o="withdrawal");var c=this.safeString(e,"currency"),u=this.safeCurrencyCode(c),d=this.parseTransactionStatus(this.safeString(e,"state")),f=this.safeFloat(e,"fee");return{info:e,id:r,currency:u,amount:n,address:void 0,tag:void 0,status:d,type:o,updated:i,txid:a,timestamp:s,datetime:this.iso8601(s),fee:{currency:u,cost:f}}}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){var r=this.safeString(e,"uuid"),n=this.safeString(e,"side");n="bid"===n?"buy":"sell";var a=this.safeString(e,"ord_type"),i=this.parse8601(this.safeString(e,"created_at")),s=this.parseOrderStatus(this.safeString(e,"state")),o=void 0,c=this.safeFloat(e,"price"),u=this.safeFloat(e,"volume"),d=this.safeFloat(e,"remaining_volume"),f=this.safeFloat(e,"executed_volume"),l=void 0;"price"===a&&(a="market",l=c,c=void 0);var h=void 0,p=void 0,m=this.safeFloat(e,"paid_fee"),v=this.safeString(e,"market");t=this.safeMarket(v,t);var b=this.safeValue(e,"trades",[]),g=(b=this.parseTrades(b,t,void 0,void 0,{order:r,type:a})).length;if(g>0){o=b[g-1].timestamp;var y=!1;void 0===m&&(y=!0,m=0),l=0;for(var w=0;w<g;w++){var k=b[w];if(l=this.sum(l,k.cost),y){var x=this.safeValue(b[w],"fee",{}),_=this.safeFloat(x,"cost");void 0!==_&&(m=this.sum(m,_))}}h=l/f}return void 0!==m&&(p={currency:t.quote,cost:m}),{info:e,id:r,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:o,symbol:t.symbol,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:c,stopPrice:void 0,cost:l,average:h,amount:u,filled:f,remaining:d,status:s,fee:p,trades:b}}fetchOrdersByState(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c={state:e},u=void 0,void 0!==t&&(u=o.market(t),c.market=u.id),a.next=7,o.privateGetOrders(o.extend(c,s));case 7:return d=a.sent,a.abrupt("return",o.parseOrders(d,u,r,n));case 9:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByState("wait",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByState("done",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchCanceledOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.fetchOrdersByState("cancel",e,t,r,n);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),i)})))()}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={uuid:e},t.next=5,n.privateGetOrder(n.extend(i,r));case 5:return s=t.sent,t.abrupt("return",n.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}parseDepositAddresses(e){for(var t={},r=0;r<e.length;r++){var n=this.parseDepositAddress(e[r]);t[n.currency]=n}return t}fetchDepositAddresses(e,t={}){var r=this;return i(a.mark((function e(){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadMarkets();case 2:return e.next=4,r.privateGetDepositsCoinAddresses(t);case 4:return n=e.sent,e.abrupt("return",r.parseDepositAddresses(n));case 6:case"end":return e.stop()}}),e)})))()}parseDepositAddress(e,t){var r=this.safeString(e,"deposit_address"),n=this.safeString(e,"secondary_address"),a=this.safeString(e,"currency"),i=this.safeCurrencyCode(a);return this.checkAddress(r),{currency:i,address:r,tag:n,info:e}}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),n.next=5,r.privateGetDepositsCoinAddress(r.extend({currency:i.id},t));case 5:return s=n.sent,n.abrupt("return",r.parseDepositAddress(s));case 7:case"end":return n.stop()}}),n)})))()}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privatePostDepositsGenerateCoinAddress(r.extend(s,t));case 6:if(o=n.sent,void 0===r.safeString(o,"message")){n.next=10;break}throw new m(r.id+" is generating "+e+" deposit address, call fetchDepositAddress or createDepositAddress one more time later to retrieve the generated address");case 10:return n.abrupt("return",r.parseDepositAddress(o));case 11:case"end":return n.stop()}}),n)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:return c=o.currency(e),u={amount:t},d="privatePostWithdraws","KRW"!==e?(d+="Coin",u.currency=c.id,u.address=r,void 0!==n&&(u.secondary_address=n)):d+="Krw",a.next=9,o[d](o.extend(u,s));case 9:return f=a.sent,a.abrupt("return",o.parseTransaction(f));case 11:case"end":return a.stop()}}),i)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.implodeParams(this.urls.api[t],{hostname:this.hostname});s+="/"+this.version+"/"+this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("POST"!==r&&Object.keys(o).length&&(s+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var c=this.nonce(),u={access_key:this.apiKey,nonce:c};if(Object.keys(o).length){var d=this.urlencode(o),f=this.hash(this.encode(d),"sha512");u.query_hash=f,u.query_hash_alg="SHA512"}a={Authorization:"Bearer "+this.jwt(u,this.encode(this.secret))},"GET"!==r&&"DELETE"!==r&&(i=this.json(n),a["Content-Type"]="application/json")}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.safeValue(s,"error");if(void 0!==d){var f=this.safeString(d,"message"),l=this.safeString(d,"name"),h=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,h),this.throwExactlyMatchedException(this.exceptions.exact,l,h),this.throwBroadlyMatchedException(this.exceptions.broad,f,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h),new c(h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7);e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"vaultoro",name:"Vaultoro",countries:["CH"],rateLimit:1e3,version:"1",has:{CORS:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,fetchTrades:!0,fetchTicker:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766880-f205e870-5ee9-11e7-8fe2-0d5b15880752.jpg",api:"https://api.vaultoro.com",www:"https://www.vaultoro.com",doc:"https://api.vaultoro.com"},commonCurrencies:{GLD:"Gold"},api:{public:{get:["bidandask","buyorders","latest","latesttrades","markets","orderbook","sellorders","transactions/day","transactions/hour","transactions/month"]},private:{get:["balance","mytrades","orders"],post:["buy/{symbol}/{type}","cancel/{id}","sell/{symbol}/{type}","withdraw"]}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=[],r.next=3,t.publicGetMarkets(e);case 3:return i=r.sent,s=t.safeValue(i,"data"),o=t.safeString(s,"MarketCurrency"),c=t.safeString(s,"BaseCurrency"),u=t.safeCurrencyCode(o),d=t.safeCurrencyCode(c),f=u+"/"+d,l=t.safeString(s,"MarketName"),a.push({id:l,symbol:f,base:u,quote:d,baseId:o,quoteId:c,info:s,active:void 0,precision:t.precision,limits:t.limits}),r.abrupt("return",a);case 13:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"data"),s={info:i},o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency_code"),d=t.safeCurrencyCode(u),(f=t.account()).free=t.safeFloat(c,"cash"),f.used=t.safeFloat(c,"reserved"),s[d]=f;return r.abrupt("return",t.parseBalance(s));case 9:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function e(){var t,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.loadMarkets();case 2:return e.next=4,i.publicGetOrderbook(r);case 4:return t=e.sent,a={bids:t.data[0].b,asks:t.data[1].s},e.abrupt("return",i.parseOrderBook(a,void 0,"bids","asks","Gold_Price","Gold_Amount"));case 7:case"end":return e.stop()}}),e)})))()}parseTrade(e,t){var r=this.parse8601(this.safeString(e,"Time")),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"Gold_Price"),i=this.safeFloat(e,"Gold_Amount"),s=void 0;return void 0!==a&&void 0!==i&&(s=i*a),{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:i,cost:s,fee:void 0}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),n.next=5,s.publicGetTransactionsDay(i);case 5:return c=n.sent,n.abrupt("return",s.parseTrades(c,o,t,r));case 7:case"end":return n.stop()}}),a)})))()}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return u=c.market(e),d="privatePost"+c.capitalize(r)+"SymbolType",f={symbol:u.quoteId.toLowerCase(),type:t,gld:i,price:s||1},n.next=7,c[d](c.extend(f,o));case 7:return l=n.sent,n.abrupt("return",{info:l,id:l.data.Order_ID});case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={id:e},t.next=5,i.privatePostCancelId(i.extend(a,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/";if("public"===t)s+=e;else{this.checkRequiredCredentials();var o=this.nonce();s+=this.version+"/"+this.implodeParams(e,n);var c=this.extend({nonce:o,apikey:this.apiKey},this.omit(n,this.extractParams(e)));s+="?"+this.urlencode(c),a={"Content-Type":"application/json","X-Signature":this.hmac(this.encode(s),this.encode(this.secret))}}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(87);e.exports=class extends n{describe(){return this.deepExtend(super.describe(),{id:"vbtc",name:"VBTC",countries:["VN"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991481-1f53d1d8-6481-11e7-884e-21d17e7939db.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://vbtc.exchange",doc:"https://blinktrade.com/docs"},options:{brokerId:"3"}})}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.OrderNotFound,u=s.InvalidOrder,d=s.BadRequest,f=s.AuthenticationError,l=s.RateLimitExceeded,h=s.RequestTimeout,p=s.BadSymbol,m=s.AddressPending,v=s.PermissionDenied,b=s.InsufficientFunds,g=r(16).ROUND;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"vcc",name:"VCC Exchange",countries:["VN"],rateLimit:1e3,version:"v3",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!1,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0},timeframes:{"1m":"60000","5m":"300000","15m":"900000","30m":"1800000","1h":"3600000","2h":"7200000","4h":"14400000","6h":"21600000","12h":"43200000","1d":"86400000","1w":"604800000"},urls:{logo:"https://user-images.githubusercontent.com/1294454/100545356-8427f500-326c-11eb-9539-7d338242d61b.jpg",api:{public:"https://api.vcc.exchange",private:"https://api.vcc.exchange"},www:"https://vcc.exchange",doc:["https://vcc.exchange/api"],fees:"https://support.vcc.exchange/hc/en-us/articles/360016401754",referral:"https://vcc.exchange?ref=l4xhrH"},api:{public:{get:["summary","exchange_info","assets","ticker","trades/{market_pair}","orderbook/{market_pair}","chart/bars","tick_sizes"]},private:{get:["user","balance","orders/{order_id}","orders/open","orders","orders/trades","deposit-address","transactions"],post:["orders"],put:["orders/{order_id}/cancel","orders/cancel-by-type","orders/cancel-all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{},broad:{"limit may not be greater than":d,"Insufficient balance":b,Unauthenticated:f,"signature is invalid":f,Timeout:h,"Too many requests":l,"quantity field is required":u,"price field is required":u,error_security_level:v,"pair is invalid":p,"type is invalid":u,"Data not found":c}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetExchangeInfo(e);case 2:for(a=r.sent,i=t.safeValue(a,"data"),s=t.safeValue(i,"symbols"),o=[],c=0;c<s.length;c++)u=t.safeValue(s,c),d=t.safeString(u,"symbol"),f=d.replace("/","_"),l=t.safeString(u,"coin"),h=t.safeString(u,"currency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=t.safeValue(u,"active"),b=t.safeValue(u,"precision",{}),g=t.safeValue(u,"limits",{}),y=t.safeValue(g,"amount",{}),w=t.safeValue(g,"price",{}),k=t.safeValue(g,"cost",{}),x={info:u,id:f,symbol:d,base:p,quote:m,baseId:l,quoteId:h,active:v,precision:{price:t.safeInteger(b,"price"),amount:t.safeInteger(b,"amount"),cost:t.safeInteger(b,"cost")},limits:{amount:{min:t.safeFloat(y,"min"),max:void 0},price:{min:t.safeFloat(w,"min"),max:void 0},cost:{min:t.safeFloat(k,"min"),max:void 0}}},o.push(x);return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetAssets(e);case 2:for(a=r.sent,i={},s=t.safeValue(a,"data"),o=Object.keys(s),c=0;c<o.length;c++)u=t.safeStringLower(o,c),d=t.safeValue(s,o[c]),f=t.safeCurrencyCode(u),l=t.safeValue(d,"can_deposit"),h=t.safeValue(d,"can_withdraw"),p=l&&h,i[f]={id:u,code:f,name:t.safeString(d,"name"),active:p,fee:t.safeFloat(d,"withdrawal_fee"),precision:t.safeInteger(d,"decimal"),limits:{withdraw:{min:t.safeFloat(d,"min_withdraw"),max:t.safeFloat(d,"max_withdraw")}}};return r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()}fetchTradingFee(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s=r.extend({symbol:i.id},r.omit(t,"symbol")),n.next=6,r.privateGetTradingFeeSymbol(s);case 6:return o=n.sent,n.abrupt("return",{info:o,maker:r.safeFloat(o,"provideLiquidityRate"),taker:r.safeFloat(o,"takeLiquidityRate")});case 8:case"end":return n.stop()}}),a)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetBalance(e);case 4:for(a=r.sent,i=t.safeValue(a,"data"),s={info:a},o=Object.keys(i),c=0;c<o.length;c++)u=o[c],d=t.safeCurrencyCode(u),f=t.safeValue(i,u),(l=t.account()).free=t.safeFloat(f,"available_balance"),l.total=t.safeFloat(f,"balance"),s[d]=l;return r.abrupt("return",t.parseBalance(s));case 10:case"end":return r.stop()}}),r)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={coin:c.baseId,currency:c.quoteId,resolution:o.timeframes[t]},i=void 0===i?100:i,i=Math.min(100,i),d=o.parseTimeframe(t),void 0===r?(f=o.seconds(),u.to=f,u.from=f-i*d):(l=parseInt(r/1e3),u.from=l,u.to=o.sum(l,i*d)),n.next=10,o.publicGetChartBars(o.extend(u,s));case 10:return h=n.sent,n.abrupt("return",o.parseOHLCVs(h,c,t,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:if(s=i.market(e),o={market_pair:s.id,level:2},void 0===t){n.next=8;break}if(0===t||5===t||10===t||20===t||50===t||100===t||500===t){n.next=7;break}throw new d(i.id+" fetchOrderBook limit must be 0, 5, 10, 20, 50, 100, 500 if specified");case 7:o.depth=t;case 8:return n.next=10,i.publicGetOrderbookMarketPair(i.extend(o,r));case 10:return c=n.sent,u=i.safeValue(c,"data"),f=i.safeValue(u,"timestamp"),n.abrupt("return",i.parseOrderBook(u,f,"bids","asks",0,1));case 14:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.milliseconds(),n=this.safeFloat(e,"base_volume"),a=this.safeFloat(e,"quote_volume"),i=this.safeFloat(e,"open_price"),s=this.safeFloat(e,"last_price"),o=void 0,c=void 0,u=void 0;void 0!==s&&void 0!==i&&(o=s-i,u=this.sum(s,i)/2,i>0&&(c=o/i*100));var d=this.vwap(n,a);return{symbol:void 0===t?void 0:t.symbol,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:d,open:i,close:s,last:s,previousClose:void 0,change:o,percentage:c,average:u,baseVolume:n,quoteVolume:a,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),n.next=5,r.publicGetTicker(t);case 5:return s=n.sent,o=r.safeValue(s,"data"),c=r.safeValue(o,i.id),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s={},o=r.safeValue(i,"data"),c=Object.keys(o),u=0;u<c.length;u++)d=c[u],f=r.safeMarket(d,void 0,"_"),l=f.symbol,s[l]=r.parseTicker(o[d],f);return n.abrupt("return",r.filterByArray(s,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeInteger2(e,"trade_timestamp","created_at"),n=this.safeStringUpper(e,"coin"),a=this.safeStringUpper(e,"currency"),i=void 0;void 0!==n&&void 0!==a&&(i=n+"_"+a);var s=(t=this.safeMarket(i,t,"_")).symbol,o=this.safeFloat(e,"price"),c=this.safeFloat2(e,"base_volume","quantity"),u=this.safeFloat2(e,"quote_volume","amount");void 0===u&&void 0!==o&&void 0!==c&&(u=o*c);var d=this.safeString2(e,"type","trade_type"),f=this.safeString2(e,"trade_id","id"),l=this.safeFloat(e,"fee"),h=void 0;return void 0!==l&&(h={cost:l,currency:t.quote}),{info:e,id:f,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:s,type:void 0,side:d,takerOrMaker:void 0,price:o,amount:c,cost:u,fee:h}}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market_pair:o.id},void 0!==r&&(c.count=Math.min(1e3,r)),n.next=7,s.publicGetTradesMarketPair(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"data"),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTransactions(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.currency(e),o.currency=c.id),void 0!==r&&(o.limit=Math.min(1e3,r)),void 0!==t&&(o.start=t),n.next=9,s.privateGetTransactions(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",{}),d=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTransactions(d,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"deposit"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:"withdraw"},n.next=3,s.fetchTransactions(e,t,r,s.extend(o,i));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"id"),n=this.safeInteger(e,"created_at"),a=this.safeInteger(e,"updated_at"),i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeFloat(e,"amount");void 0!==c&&(c=Math.abs(c));var u=this.safeString(e,"blockchain_address"),d=this.safeString(e,"transaction_id"),f=this.safeString(e,"destination_tag"),l=void 0,h=this.safeFloat(e,"fee");void 0!==h&&(l={cost:h,currency:s});var p=c>0?"deposit":"withdrawal";return{info:e,id:r,txid:d,timestamp:n,datetime:this.iso8601(n),address:u,addressTo:u,addressFrom:void 0,tag:f,tagTo:f,tagFrom:void 0,type:p,amount:c,currency:s,status:o,updated:a,fee:l}}parseTransactionStatus(e){return this.safeString({pending:"pending",error:"failed",success:"ok",cancel:"canceled"},e,e)}parseTransactionType(e){return this.safeString({deposit:"deposit",withdraw:"withdrawal"},e,e)}costToPrecision(e,t){return this.decimalToPrecision(t,g,this.markets[e].precision.cost,this.precisionMode,this.paddingMode)}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:if(d=c.market(e),f={coin:d.baseId,currency:d.quoteId,trade_type:r,type:t},"ceiling_market"!==t){n.next=17;break}if(void 0===(l=c.safeValue(o,"ceiling"))){n.next=10;break}f.ceiling=c.costToPrecision(e,l),n.next=15;break;case 10:if(void 0===s){n.next=14;break}f.ceiling=c.costToPrecision(e,i*s),n.next=15;break;case 14:throw new u(c.id+" createOrder() requires a price argument or a ceiling parameter for "+t+" orders");case 15:n.next=18;break;case 17:f.quantity=c.amountToPrecision(e,i);case 18:return"limit"===t&&(f.price=c.priceToPrecision(e,s)),void 0!==c.safeValue2(o,"stop_price","stopPrice")&&(f.is_stop=1,f.stop_condition="buy"===r?"le":"ge",f.stop_price=c.priceToPrecision(e,s)),o=c.omit(o,["stop_price","stopPrice"]),n.next=24,c.privatePostOrders(c.extend(f,o));case 24:return h=n.sent,p=c.safeValue(h,"data"),n.abrupt("return",c.parseOrder(p,d));case 27:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privatePutOrdersOrderIdCancel(i.extend(a,r));case 5:return s=t.sent,t.abrupt("return",i.parseOrder(s));case 7:case"end":return t.stop()}}),t)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function e(){var a,i,s,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.safeString(t,"type"),i=void 0===a?"privatePutOrdersCancelAll":"privatePutOrdersCancelByType",s={},void 0!==a&&(s.type=a),e.next=6,r.loadMarkets();case 6:return e.next=8,r[i](r.extend(s,t));case 8:return o=e.sent,r.safeValue(o,"data",{}),c=r.safeValue(o,"data",[]),e.abrupt("return",r.parseOrders(c));case 12:case"end":return e.stop()}}),e)})))()}parseOrderStatus(e){return this.safeString({pending:"open",stopping:"open",executing:"open",executed:"closed",canceled:"canceled"},e,e)}parseOrder(e,t){var r=this.safeValue(e,"created_at"),n=this.safeValue(e,"updated_at"),a=this.safeStringUpper(e,"coin")+"_"+this.safeStringUpper(e,"currency"),i=(t=this.safeMarket(a,t,"_")).symbol,s=this.safeFloat(e,"quantity"),o=this.safeFloat(e,"executed_quantity"),c=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeFloat(e,"ceiling"),d=this.safeString(e,"id"),f=void 0,l=this.safeFloat(e,"price");l||(f=l=this.safeFloat(e,"executed_price"));var h=this.safeFloat(e,"remaining");void 0===o&&void 0!==s&&void 0!==h&&(o=Math.max(0,s-h)),void 0!==o&&(void 0!==s&&void 0===h&&(h=Math.max(0,s-o)),void 0!==l&&void 0===u&&(u=o*l),void 0===f&&void 0!==u&&o>0&&(f=u/o));var p=this.safeString(e,"type"),m=this.safeString(e,"trade_type"),v={currency:t.quote,cost:this.safeFloat(e,"fee"),rate:this.safeFloat(e,"fee_rate")},b=void 0;n!==r&&(b=n);var g=this.safeFloat(e,"stopPrice");return{id:d,clientOrderId:d,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:b,status:c,symbol:i,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:l,stopPrice:g,average:f,amount:s,cost:u,filled:o,remaining:h,fee:v,trades:void 0,info:e}}fetchOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a={order_id:e},t.next=5,i.privateGetOrdersOrderId(i.extend(a,r));case 5:return s=t.sent,o=i.safeValue(s,"data"),t.abrupt("return",i.parseOrder(o));case 8:case"end":return t.stop()}}),t)})))()}fetchOrdersWithMethod(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c={},u=void 0,void 0!==t&&(u=o.market(t),c.coin=u.baseId,c.currency=u.quoteId),void 0!==r&&(c.start_date=r),void 0!==i&&(c.limit=Math.min(1e3,i)),n.next=9,o[e](o.extend(c,s));case 9:return d=n.sent,f=o.safeValue(d,"data",{}),f=o.safeValue(f,"data",[]),n.abrupt("return",o.parseOrders(f,u,r,i));case 13:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetOrdersOpen",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchOrdersWithMethod("privateGetOrders",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o={},c=void 0,void 0!==e&&(c=s.market(e),o.coin=c.baseId,o.currency=c.quoteId),void 0!==t&&(o.start_date=t),void 0!==r&&(o.limit=Math.min(1e3,r)),n.next=9,s.privateGetOrdersTrades(s.extend(o,i));case 9:return u=n.sent,d=s.safeValue(u,"data",{}),d=s.safeValue(d,"data",[]),n.abrupt("return",s.parseTrades(d,c,t,r));case 13:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={currency:i.id},n.next=6,r.privateGetDepositAddress(r.extend(s,t));case 6:if(o=n.sent,c=r.safeValue(o,"data"),"REQUESTED"!==r.safeString(c,"status")){n.next=11;break}throw new m(r.id+" is generating "+e+" deposit address, call fetchDepositAddress one more time later to retrieve the generated address");case 11:return u=r.safeString(c,"blockchain_address"),r.checkAddress(u),d=r.safeString(c,"blockchain_tag"),f=r.safeString(c,"currency"),n.abrupt("return",{currency:r.safeCurrencyCode(f),address:u,tag:d,info:c});case 16:case"end":return n.stop()}}),a)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(Object.keys(o).length&&(s+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var c=this.milliseconds().toString();"GET"!==r&&(i=this.json(o));var u=r+" "+s,d=this.hmac(this.encode(u),this.encode(this.secret),"sha256");a={Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json",timestamp:c,signature:d}}return{url:s=this.urls.api[t]+"/"+s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s){var d=this.safeString(s,"message");if(void 0!==d){var f=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,d,f),this.throwBroadlyMatchedException(this.exceptions.broad,i,f),new o(f)}}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ArgumentsRequired,u=o.AuthenticationError,d=o.InsufficientFunds,f=o.InvalidOrder,l=o.AccountSuspended,h=o.ExchangeError,p=o.DuplicateOrderId,m=o.OrderNotFound,v=o.BadSymbol,b=o.ExchangeNotAvailable,g=o.BadRequest;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"wavesexchange",name:"Waves.Exchange",countries:["CH"],rateLimit:500,certified:!0,pro:!1,has:{cancelOrder:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/84547058-5fb27d80-ad0b-11ea-8711-78ac8b3c7f31.jpg",api:{matcher:"http://matcher.waves.exchange",node:"https://nodes.waves.exchange",public:"https://api.wavesplatform.com/v0",private:"https://api.waves.exchange/v1",forward:"https://waves.exchange/api/v1/forward/matcher",market:"https://marketdata.wavesplatform.com/api/v1"},doc:"https://docs.waves.exchange",www:"https://waves.exchange"},api:{matcher:{get:["matcher","matcher/settings","matcher/settings/rates","matcher/balance/reserved/{publicKey}","matcher/debug/allSnashotOffsets","matcher/debug/currentOffset","matcher/debug/lastOffset","matcher/debug/oldestSnapshotOffset","matcher/orderbook","matcher/orderbook/{amountAsset}/{priceAsset}","matcher/orderbook/{baseId}/{quoteId}/publicKey/{publicKey}","matcher/orderbook/{baseId}/{quoteId}/{orderId}","matcher/orderbook/{baseId}/{quoteId}/info","matcher/orderbook/{baseId}/{quoteId}/status","matcher/orderbook/{baseId}/{quoteId}/tradeableBalance/{address}","matcher/orderbook/{publicKey}","matcher/orderbook/{publicKey}/{orderId}","matcher/orders/{address}","matcher/orders/{address}/{orderId}","matcher/transactions/{orderId}"],post:["matcher/orderbook","matcher/orderbook/market","matcher/orderbook/cancel","matcher/orderbook/{baseId}/{quoteId}/cancel","matcher/debug/saveSnapshots","matcher/orders/{address}/cancel","matcher/orders/cancel/{orderId}"],delete:["matcher/orderbook/{baseId}/{quoteId}","matcher/settings/rates/{assetId}"],put:["matcher/settings/rates/{assetId}"]},node:{get:["addresses","addresses/balance/{address}","addresses/balance/{address}/{confirmations}","addresses/balance/details/{address}","addresses/data/{address}","addresses/data/{address}/{key}","addresses/effectiveBalance/{address}","addresses/effectiveBalance/{address}/{confirmations}","addresses/publicKey/{publicKey}","addresses/scriptInfo/{address}","addresses/scriptInfo/{address}/meta","addresses/seed/{address}","addresses/seq/{from}/{to}","addresses/validate/{address}","alias/by-address/{address}","alias/by-alias/{alias}","assets/{assetId}/distribution/{height}/{limit}","assets/balance/{address}","assets/balance/{address}/{assetId}","assets/details/{assetId}","assets/nft/{address}/limit/{limit}","blockchain/rewards","blockchain/rewards/height","blocks/address/{address}/{from}/{to}/","blocks/at/{height}","blocks/delay/{signature}/{blockNum}","blocks/first","blocks/headers/last","blocks/headers/seq/{from}/{to}","blocks/height","blocks/height/{signature}","blocks/last","blocks/seq/{from}/{to}","blocks/signature/{signature}","consensus/algo","consensus/basetarget","consensus/basetarget/{blockId}","consensus/{generatingbalance}/address","consensus/generationsignature","consensus/generationsignature/{blockId}","debug/balances/history/{address}","debug/blocks/{howMany}","debug/configInfo","debug/historyInfo","debug/info","debug/minerInfo","debug/portfolios/{address}","debug/state","debug/stateChanges/address/{address}","debug/stateChanges/info/{id}","debug/stateWaves/{height}","leasing/active/{address}","node/state","node/version","peers/all","peers/blacklisted","peers/connected","peers/suspended","transactions/address/{address}/limit/{limit}","transactions/info/{id}","transactions/status","transactions/unconfirmed","transactions/unconfirmed/info/{id}","transactions/unconfirmed/size","utils/seed","utils/seed/{length}","utils/time","wallet/seed"],post:["addresses","addresses/data/{address}","addresses/sign/{address}","addresses/signText/{address}","addresses/verify/{address}","addresses/verifyText/{address}","debug/blacklist","debug/print","debug/rollback","debug/validate","node/stop","peers/clearblacklist","peers/connect","transactions/broadcast","transactions/calculateFee","tranasctions/sign","transactions/sign/{signerAddress}","tranasctions/status","utils/hash/fast","utils/hash/secure","utils/script/compileCode","utils/script/compileWithImports","utils/script/decompile","utils/script/estimate","utils/sign/{privateKey}","utils/transactionsSerialize"],delete:["addresses/{address}","debug/rollback-to/{signature}"]},public:{get:["pairs","candles/{baseId}/{quoteId}","transactions/exchange"]},private:{get:["deposit/addresses/{code}","deposit/currencies","withdraw/currencies","withdraw/addresses/{currency}/{address}"],post:["oauth2/token"]},forward:{get:["matcher/orders/{address}","matcher/orders/{address}/{orderId}"],post:["matcher/orders/{wavesAddress}/cancel"]},market:{get:["tickers"]}},options:{allowedCandles:1440,accessToken:void 0,matcherPublicKey:void 0,quotes:void 0,createOrderDefaultExpiry:24192e5,wavesAddress:void 0,withdrawFeeUSDN:7420,withdrawFeeWAVES:1e5,wavesPrecision:8},requiresEddsa:!0,exceptions:{3147270:d,112:d,4:h,13:b,14:b,3145733:l,3148040:p,3148801:u,9440512:u,9440771:v,9441026:f,9441282:f,9441286:f,9441295:f,9441540:f,9441542:f,106954752:u,106954769:u,106957828:u,106960131:u,106981137:u,9437193:m,1048577:g,1051904:u}})}getQuotes(){var e=this;return i(a.mark((function t(){var r,n,i,s;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.safeValue(e.options,"quotes"))){t.next=5;break}return t.abrupt("return",r);case 5:return t.next=7,e.matcherGetMatcherSettings();case 7:for(n=t.sent,r={},i=e.safeValue(n,"priceAssets"),s=0;s<i.length;s++)r[i[s]]=!0;return e.options.quotes=r,t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function e(){var r,i,s,o,c,u,d,f,l,h,p,m,v,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.marketGetTickers();case 2:for(r=e.sent,i=[],s=0;s<r.length;s++)o=r[s],c=t.safeString(o,"amountAssetID"),u=t.safeString(o,"priceAssetID"),d=c+"/"+u,f=t.safeString(o,"symbol"),l=f.split("/"),h=n(l,2),p=h[0],m=h[1],v=t.safeCurrencyCode(p)+"/"+t.safeCurrencyCode(m),b={amount:t.safeInteger(o,"amountAssetDecimals"),price:t.safeInteger(o,"priceAssetDecimals")},i.push({symbol:v,id:d,base:p,quote:m,baseId:c,quoteId:u,info:o,precision:b});return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,c,u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o=n.extend({amountAsset:s.baseId,priceAsset:s.quoteId},r),a.next=6,n.matcherGetMatcherOrderbookAmountAssetPriceAsset(o);case 6:return c=a.sent,u=n.safeInteger(c,"timestamp"),d=n.parseOrderBookSide(n.safeValue(c,"bids"),s,t),f=n.parseOrderBookSide(n.safeValue(c,"asks"),s,t),a.abrupt("return",{bids:d,asks:f,timestamp:u,datetime:n.iso8601(u),nonce:void 0});case 11:case"end":return a.stop()}}),i)})))()}parseOrderBookSide(e,t,r){for(var n=t.precision,a=this.safeInteger(this.options,"wavesPrecision",8),i=Math.pow(10,n.amount),s=n.amount-n.price,o=Math.pow(10,a-s),c=[],u=0;u<e.length;u++){var d=e[u],f=this.safeInteger(d,"price",0)/o,l=this.safeInteger(d,"amount",0)/i;if(void 0!==r&&u>r)break;c.push([f,l])}return c}checkRequiredKeys(){if(void 0===this.apiKey)throw new u(this.id+" requires apiKey credential");if(void 0===this.secret)throw new u(this.id+" requires secret credential");var e=void 0,t=void 0;try{e=this.base58ToBinary(this.apiKey)}catch(a){throw new u(this.id+" apiKey must be a base58 encoded public key")}try{t=this.base58ToBinary(this.secret)}catch(a){throw new u(this.id+" secret must be a base58 encoded private key")}var r=this.binaryToBase16(e),n=this.binaryToBase16(t);if(64!==r.length)throw new u(this.id+" apiKey must be a base58 encoded public key");if(64!==n.length)throw new u(this.id+" secret must be a base58 encoded private key")}sign(e,t="public",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o="matcher/orders/{wavesAddress}/cancel"===e;e=this.implodeParams(e,n);var c=this.urls.api[t]+"/"+e,u=this.urlencode(s);if("private"===t||"forward"===t){a={Accept:"application/json"};var d=this.safeString(this.options,"accessToken");d&&(a.Authorization="Bearer "+d),a["content-type"]="POST"===r?"application/json":"application/x-www-form-urlencoded",o&&(i=this.json([s.orderId]),u=""),u.length>0&&(c+="?"+u)}else"matcher"===t?"POST"===r?(a={"content-type":"application/json"},i=this.json(s)):a=s:"POST"===r?(a={"content-type":"application/json"},i=this.json(s)):(a={"content-type":"application/x-www-form-urlencoded"},u.length>0&&(c+="?"+u));return{url:c,method:r,body:i,headers:a}}getAccessToken(){var e=this;return i(a.mark((function t(){var r,n,i,s,o,c,u,d;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.safeString(e.options,"accessToken")){t.next=17;break}return"ffffff01",604800,r=(r=e.sum(e.seconds(),604800)).toString(),"waves.exchange",n="W:waves.exchange:"+r,i=e.binaryToBase16(e.stringToBinary(e.encode(n))),s="ffffff01"+i,o=e.binaryToBase16(e.base58ToBinary(e.secret)),c=e.eddsa(s,o,"ed25519"),u={grant_type:"password",scope:"general",username:e.apiKey,password:r+":"+c,client_id:"waves.exchange"},t.next=14,e.privatePostOauth2Token(u);case 14:return d=t.sent,e.options.accessToken=e.safeString(d,"access_token"),t.abrupt("return",e.options.accessToken);case 17:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=this.safeString(e,"amountAsset"),n=this.safeString(e,"priceAsset"),a=void 0;if(void 0!==r&&void 0!==n){var i=r+"/"+n;if(i in this.markets_by_id)t=this.markets_by_id[i];else a=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(n)}void 0===a&&void 0!==t&&(a=t.symbol);var s=this.safeValue(e,"data",{}),o=this.safeFloat(s,"lastPrice"),c=this.safeFloat(s,"low"),u=this.safeFloat(s,"high"),d=this.safeFloat(s,"weightedAveragePrice"),f=this.safeFloat(s,"volume"),l=this.safeFloat(s,"quoteVolume"),h=this.safeValue(s,"firstPrice"),p=void 0,m=void 0,v=void 0;return void 0!==o&&void 0!==h&&(p=o-h,m=this.sum(o,h)/2,h>0&&(v=p/h*100)),{symbol:a,timestamp:void 0,datetime:this.iso8601(void 0),high:u,low:c,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:d,open:h,close:o,last:o,previousClose:void 0,change:p,percentage:v,average:m,baseVolume:f,quoteVolume:l,info:e}}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={pairs:i.id},n.next=6,r.publicGetPairs(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"data",[]),u=r.safeValue(c,0,{}),n.abrupt("return",r.parseTicker(u,i));case 10:case"end":return n.stop()}}),n)})))()}fetchOHLCV(e,t="1m",r,n,s={}){var o=this;return i(a.mark((function i(){var c,u,d,f,l,h,p,m,v,b,g,y,w,k;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.loadMarkets();case 2:return c=o.market(e),u={baseId:c.baseId,quoteId:c.quoteId,interval:o.timeframes[t]},void 0!==r?u.timeStart=r.toString():(d=o.safeInteger(o.options,"allowedCandles",1440),f=1e3*o.parseTimeframe(t),l=Math.floor(o.milliseconds()/f)*f,h=l-(d-1)*f,u.timeStart=h.toString()),a.next=7,o.publicGetCandlesBaseIdQuoteId(o.extend(u,s));case 7:for(p=a.sent,m=o.safeValue(p,"data",[]),v=o.parseOHLCVs(m,c,t,r,n),b=void 0,g=v.length,y=0;y<v.length;y++)k=v[w=g-y-1],void 0===k[1]&&(k[1]=b,k[2]=b,k[3]=b,k[4]=b,v[w]=k),b=k[4];return a.abrupt("return",v);case 14:case"end":return a.stop()}}),i)})))()}parseOHLCV(e,t){var r=this.safeValue(e,"data",{});return[this.parse8601(this.safeString(r,"time")),this.safeFloat(r,"open"),this.safeFloat(r,"high"),this.safeFloat(r,"low"),this.safeFloat(r,"close"),this.safeFloat(r,"volume",0)]}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,u,d,f,l,p,m,v;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAccessToken();case 2:return n.next=4,r.privateGetDepositCurrencies();case 4:for(i=n.sent,s={},o=r.safeValue(i,"items",[]),c=0;c<o.length;c++)u=o[c],d=r.safeString(u,"id"),s[d]=!0;if(e in s){n.next=11;break}throw f=Object.keys(s),new h(r.id+" fetch "+e+" deposit address not supported. Currency code must be one of "+f.toString());case 11:return l=r.extend({code:e},t),n.next=14,r.privateGetDepositAddressesCode(l);case 14:return p=n.sent,m=r.safeValue(p,"deposit_addresses"),v=r.safeString(m,0),n.abrupt("return",{address:v,code:e,tag:void 0,info:p});case 18:case"end":return n.stop()}}),n)})))()}getMatcherPublicKey(){var e=this;return i(a.mark((function t(){var r,n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.safeString(e.options,"matcherPublicKey"))){t.next=5;break}return t.abrupt("return",r);case 5:return t.next=7,e.matcherGetMatcher();case 7:return n=t.sent,e.options.matcherPublicKey=n.slice(1,n.length-1),t.abrupt("return",e.options.matcherPublicKey);case 10:case"end":return t.stop()}}),t)})))()}getAssetBytes(e){return"WAVES"===e?this.numberToBE(0,1):this.binaryConcat(this.numberToBE(1,1),this.base58ToBinary(e))}getAssetId(e){return"WAVES"===e?"":e}priceToPrecision(e,t){var r=this.markets[e],n=this.safeInteger(this.options,"wavesPrecision",8),a=r.precision.amount-r.precision.price;return parseInt(parseFloat(this.toWei(t,n-a)))}amountToPrecision(e,t){return parseInt(parseFloat(this.toWei(t,this.markets[e].precision.amount)))}currencyToPrecision(e,t){return parseInt(parseFloat(this.toWei(t,this.currencies[e].precision)))}currencyFromPrecision(e,t){return this.fromWei(t,this.currencies[e].precision)}priceFromPrecision(e,t){var r=this.markets[e],n=this.safeInteger(this.options,"wavesPrecision",8),a=r.precision.amount-r.precision.price;return this.fromWei(t,n-a)}getDefaultExpiry(){var e=this.safeInteger(this.options,"createOrderDefaultExpiry");return e||(this.options.createOrderDefaultExpiry=24192e5,this.options.createOrderDefaultExpiry)}createOrder(e,t,r,n,s,o={}){var c=this;return i(a.mark((function t(){var i,u,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.checkRequiredDependencies(),c.checkRequiredKeys(),t.next=4,c.loadMarkets();case 4:return i=c.market(e),t.next=7,c.getMatcherPublicKey();case 7:return u=t.sent,f=c.getAssetId(i.baseId),l=c.getAssetId(i.quoteId),n=c.amountToPrecision(e,n),s=c.priceToPrecision(e,s),h="buy"===r?0:1,p=c.milliseconds(),m=c.sum(p,c.getDefaultExpiry()),t.next=17,c.matcherGetMatcherSettings();case 17:if(v=t.sent,b=c.safeValue(v,"orderFee"),g=c.safeValue(b,"dynamic"),y=c.safeInteger(g,"baseFee"),w=c.currencyFromPrecision("WAVES",y),k=c.safeValue(g,"rates"),x=Object.keys(k),_=void 0,S=void 0,!("feeAssetId"in o)){t.next=30;break}_=o.feeAssetId,t.next=54;break;case 30:if(!("feeAssetId"in c.options)){t.next=34;break}_=c.options.feeAssetId,t.next=54;break;case 34:return t.next=36,c.fetchBalance();case 36:if(!((T=t.sent).WAVES.free>w)){t.next=42;break}_="WAVES",S=y,t.next=54;break;case 42:O=0;case 43:if(!(O<x.length)){t.next=54;break}if(A=x[O],M=c.safeCurrencyCode(A),E=c.safeValue(c.safeValue(T,M,{}),"free"),C=k[A]*w,!(void 0!==E&&E>C)){t.next=51;break}return _=A,t.abrupt("break",54);case 51:O++,t.next=43;break;case 54:if(void 0!==_){t.next=56;break}throw d(c.id+" not enough funds to cover the fee, specify feeAssetId in params or options, or buy some WAVES");case 56:return void 0===S&&(I=c.safeInteger(c.options,"wavesPrecision",8),F=c.safeFloat(k,_),P=c.safeCurrencyCode(_),B=c.currency(P),R=Math.pow(10,I-B.precision),S=Math.ceil(F*y/R)),L=[c.numberToBE(3,1),c.base58ToBinary(c.apiKey),c.base58ToBinary(u),c.getAssetBytes(i.baseId),c.getAssetBytes(i.quoteId),c.numberToBE(h,1),c.numberToBE(s,8),c.numberToBE(n,8),c.numberToBE(p,8),c.numberToBE(m,8),c.numberToBE(S,8),c.getAssetBytes(_)],N=c.binaryConcatArray(L),D=c.eddsa(c.binaryToBase16(N),c.binaryToBase16(c.base58ToBinary(c.secret)),"ed25519"),V={amountAsset:f,priceAsset:l},j={senderPublicKey:c.apiKey,matcherPublicKey:u,assetPair:V,orderType:r,price:s,amount:n,timestamp:p,expiration:m,matcherFee:S,signature:D,version:3},"WAVES"!==_&&(j.matcherFeeAssetId=_),t.next=65,c.matcherPostMatcherOrderbook(j);case 65:return U=t.sent,q=c.safeValue(U,"message"),t.abrupt("return",c.parseOrder(q,i));case 68:case"end":return t.stop()}}),t)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function r(){var i,s,o,c,u,d;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.checkRequiredDependencies(),n.checkRequiredKeys(),r.next=4,n.getAccessToken();case 4:return r.next=6,n.getWavesAddress();case 6:return i=r.sent,r.next=9,n.forwardPostMatcherOrdersWavesAddressCancel({wavesAddress:i,orderId:e});case 9:return s=r.sent,o=n.safeValue(s,"message"),c=n.safeValue(o,0),u=n.safeValue(c,0),d=n.safeString(u,"orderId"),r.abrupt("return",{info:s,id:d,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:t,type:void 0,side:void 0,price:void 0,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0});case 15:case"end":return r.stop()}}),r)})))()}fetchOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,u,d,f,l,h,p,m;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.checkRequiredDependencies(),s.checkRequiredKeys(),void 0!==e){a.next=4;break}throw new c(s.id+" fetchOrders() requires symbol argument");case 4:return a.next=6,s.loadMarkets();case 6:return o=s.market(e),u=s.milliseconds(),d=[s.base58ToBinary(s.apiKey),s.numberToBE(u,8)],f=s.binaryConcatArray(d),l=s.binaryToBase16(s.base58ToBinary(s.secret)),h=s.eddsa(s.binaryToBase16(f),l,"ed25519"),p={Accept:"application/json",Timestamp:u.toString(),Signature:h,publicKey:s.apiKey,baseId:o.baseId,quoteId:o.quoteId},a.next=15,s.matcherGetMatcherOrderbookBaseIdQuoteIdPublicKeyPublicKey(s.extend(p,n));case 15:return m=a.sent,a.abrupt("return",s.parseOrders(m,o,t,r));case 17:case"end":return a.stop()}}),i)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function n(){var i,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.getAccessToken();case 4:return i=void 0,void 0!==e&&(i=s.market(e)),n.next=8,s.getWavesAddress();case 8:return o=n.sent,c={address:o,activeOnly:!0},n.next=12,s.forwardGetMatcherOrdersAddress(c);case 12:return u=n.sent,n.abrupt("return",s.parseOrders(u,i,t,r));case 14:case"end":return n.stop()}}),n)})))()}fetchClosedOrders(e,t,r,n={}){var s=this;return i(a.mark((function n(){var i,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.getAccessToken();case 4:return i=void 0,void 0!==e&&(i=s.market(e)),n.next=8,s.getWavesAddress();case 8:return o=n.sent,c={address:o,closedOnly:!0},n.next=12,s.forwardGetMatcherOrdersAddress(c);case 12:return u=n.sent,n.abrupt("return",s.parseOrders(u,i,t,r));case 14:case"end":return n.stop()}}),n)})))()}parseOrderStatus(e){return this.safeString({Cancelled:"canceled",Accepted:"open",Filled:"closed",PartiallyFilled:"open"},e,e)}getSymbolFromAssetPair(e){var t=this.safeString(e,"amountAsset","WAVES"),r=this.safeString(e,"priceAsset","WAVES");return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(r)}parseOrder(e,t){var r=this.safeInteger(e,"timestamp"),n=this.safeString2(e,"type","orderType"),a="limit";"type"in e&&(a=this.safeString(e,"orderType",a));var i=this.safeString(e,"id"),s=this.safeString(e,"filled"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),u=this.safeValue(e,"assetPair"),d=void 0;void 0!==u?d=this.getSymbolFromAssetPair(u):void 0!==t&&(d=t.symbol);var f=this.safeCurrencyCode(this.safeString(u,"amountAsset","WAVES"));o=this.priceFromPrecision(d,o),c=this.currencyFromPrecision(f,c);var l=void 0;void 0!==o&&void 0!==c&&(l=o*c);var h=void 0;void 0!==(s=this.currencyFromPrecision(f,s))&&void 0!==c&&(h=c-s);var p=this.priceFromPrecision(d,this.safeString(e,"avgWeighedPrice")),m=this.parseOrderStatus(this.safeString(e,"status")),v=void 0;if("type"in e){var b=this.safeCurrencyCode(this.safeString(e,"feeAsset"));v={currency:b,fee:this.currencyFromPrecision(b,this.safeInteger(e,"filledFee"))}}else{var g=this.safeCurrencyCode(this.safeString(e,"matcherFeeAssetId","WAVES"));v={currency:g,fee:this.currencyFromPrecision(g,this.safeInteger(e,"matcherFee"))}}return{info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:d,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:o,stopPrice:void 0,amount:c,cost:l,average:p,filled:s,remaining:h,status:m,fee:v,trades:void 0}}getWavesAddress(){var e=this;return i(a.mark((function t(){var r,n,i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=e.safeString(e.options,"wavesAddress"))){t.next=10;break}return n={publicKey:e.apiKey},t.next=5,e.nodeGetAddressesPublicKeyPublicKey(n);case 5:return i=t.sent,e.options.wavesAddress=e.safeString(i,"address"),t.abrupt("return",e.options.wavesAddress);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))()}fetchBalance(e={}){var t=this;return i(a.mark((function e(){var r,n,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checkRequiredDependencies(),t.checkRequiredKeys(),e.next=4,t.loadMarkets();case 4:return e.next=6,t.getWavesAddress();case 6:return r=e.sent,n={address:r},e.next=10,t.nodeGetAssetsBalanceAddress(n);case 10:for(i=e.sent,s=t.safeValue(i,"balances"),o={},c=0;c<s.length;c++)u=s[c],d=t.safeValue(u,"issueTransaction"),f=t.safeInteger(d,"decimals"),l=t.safeString(u,"assetId"),h=t.safeFloat(u,"balance"),p=void 0,l in t.currencies_by_id&&(p=t.safeCurrencyCode(l),o[p]=t.account(),o[p].total=t.fromWei(h,f));return m=t.milliseconds(),v=[t.base58ToBinary(t.apiKey),t.numberToBE(m,8)],b=t.binaryConcatArray(v),g=t.binaryToBase16(t.base58ToBinary(t.secret)),y=t.eddsa(t.binaryToBase16(b),g,"ed25519"),w={publicKey:t.apiKey,signature:y,timestamp:m.toString()},e.next=22,t.matcherGetMatcherBalanceReservedPublicKey(w);case 22:for(k=e.sent,x=Object.keys(k),_=0;_<x.length;_++)S=x[_],(T=t.safeCurrencyCode(S))in o||(o[T]=t.account()),O=t.safeFloat(k,S),o[T].used=t.currencyFromPrecision(T,O);return A={address:r},e.next=28,t.nodeGetAddressesBalanceAddress(A);case 28:for(M=e.sent,o.WAVES=t.safeValue(o,"WAVES",{}),o.WAVES.total=t.currencyFromPrecision("WAVES",t.safeFloat(M,"balance")),E=Object.keys(o),C=0;C<E.length;C++)I=E[C],void 0===t.safeValue(o[I],"used")&&(o[I].used=0);return e.abrupt("return",t.parseBalance(o));case 34:case"end":return e.stop()}}),e)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function n(){var i,o,c,u,d;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return i=s.market(e),n.next=5,s.getWavesAddress();case 5:return o=n.sent,c={sender:o,amountAsset:i.baseId,priceAsset:i.quoteId},n.next=9,s.publicGetTransactionsExchange(c);case 9:return u=n.sent,d=s.safeValue(u,"data"),n.abrupt("return",s.parseTrades(d,i,t,r));case 12:case"end":return n.stop()}}),n)})))()}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function n(){var i,o,c,u;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return i=s.market(e),o={amountAsset:i.baseId,priceAsset:i.quoteId},void 0!==r&&(o.limit=r),void 0!==t&&(o.timeStart=t),n.next=8,s.publicGetTransactionsExchange(o);case 8:return c=n.sent,u=s.safeValue(c,"data"),n.abrupt("return",s.parseTrades(u,i,t,r));case 11:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeValue(e,"data"),n=this.safeString(r,"timestamp"),a=this.parse8601(n),i=this.safeString(r,"id"),s=this.safeFloat(r,"price"),o=this.safeFloat(r,"amount"),c=this.safeValue(r,"order1"),u=this.safeValue(r,"order2"),d=void 0;d=this.safeString(c,"senderPublicKey")===this.apiKey?c:u;var f=void 0,l=this.safeValue(d,"assetPair");void 0!==l?f=this.getSymbolFromAssetPair(l):void 0!==t&&(f=t.symbol);var h=this.safeString(d,"orderType"),p=void 0;return void 0!==s&&void 0!==o&&(p=s*o),{info:e,timestamp:a,datetime:n,symbol:f,id:i,order:this.safeString(d,"id"),type:void 0,side:h,takerOrMaker:void 0,price:s,amount:o,cost:p,fee:{cost:this.safeFloat(r,"fee"),currency:this.safeCurrencyCode(this.safeString(d,"matcherFeeAssetId","WAVES"))}}}handleErrors(e,t,r,n,a,i,s,o,c){var u=this.safeString(s,"error"),d=this.safeValue(s,"success",!0),f=this.safeValue(this.exceptions,u);if(void 0!==f){var l=this.safeString(s,"message");throw new f(this.id+" "+l)}if("Validation Error"===this.safeString(s,"message"))throw new g(this.id+" "+i);if(!d)throw new h(this.id+" "+i)}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function n(){var i,s,c,u,d,f,l,p,m,v,b,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("WAVES"===e){n.next=10;break}return n.next=3,o.privateGetWithdrawCurrencies();case 3:for(i=n.sent,s={},c=o.safeValue(i,"items",[]),u=0;u<c.length;u++)d=c[u],f=o.safeString(d,"id"),s[f]=!0;if(e in s){n.next=10;break}throw l=Object.keys(s),new h(o.id+" fetch "+e+" withdrawals are not supported. Currency code must be one of "+l.toString());case 10:return n.next=12,o.loadMarkets();case 12:for(p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],m={},v=0;v<p.length;v++)m[p[v]]=!0;b=!0,y=o.remove0xPrefix(r),w=y.toLowerCase(),k=0;case 19:if(!(k<w.length)){n.next=27;break}if(w[k]in m){n.next=24;break}return b=!1,n.abrupt("break",27);case 24:k++,n.next=19;break;case 27:return n.next=29,o.getAccessToken();case 29:if(x=void 0,"WAVES"!==e||b){n.next=34;break}x=r,n.next=45;break;case 34:return _={address:r,currency:e},n.next=37,o.privateGetWithdrawAddressesCurrencyAddress(_);case 37:if(S=n.sent,T=o.safeValue(S,"currency"),O=o.safeValue(T,"allowed_amount"),A=o.safeFloat(O,"min"),!(t<=A)){n.next=43;break}throw new g(o.id+" "+e+" withdraw failed, amount "+t.toString()+" must be greater than the minimum allowed amount of "+A.toString());case 43:M=o.safeValue(S,"proxy_addresses",[]),x=o.safeString(M,0);case 45:return E=o.safeInteger(o.options,"withdrawFeeWAVES",1e5),"WAVES",4,2,C=o.currencyToPrecision(e,t),I=o.currency(e),F=o.milliseconds(),P=[o.numberToBE(4,1),o.numberToBE(2,1),o.base58ToBinary(o.apiKey),o.getAssetBytes(I.id),o.getAssetBytes("WAVES"),o.numberToBE(F,8),o.numberToBE(C,8),o.numberToBE(E,8),o.base58ToBinary(x),o.numberToBE(0,2)],B=o.binaryConcatArray(P),R=o.binaryToBase16(o.base58ToBinary(o.secret)),L=o.eddsa(o.binaryToBase16(B),R,"ed25519"),N={senderPublicKey:o.apiKey,amount:C,fee:E,type:4,version:2,attachment:"",feeAssetId:o.getAssetId("WAVES"),proofs:[L],assetId:o.getAssetId(I.id),recipient:x,timestamp:F,signature:L},n.next=59,o.nodePostTransactionsBroadcast(N);case 59:return n.abrupt("return",n.sent);case 60:case"end":return n.stop()}}),n)})))()}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeNotAvailable,c=s.ExchangeError,u=s.DDoSProtection,d=s.BadSymbol;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"whitebit",name:"WhiteBit",version:"v2",countries:["EE"],rateLimit:500,has:{cancelOrder:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchBalance:!1,fetchBidsAsks:!1,fetchCurrencies:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,privateAPI:!1,publicAPI:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/66732963-8eb7dd00-ee66-11e9-849b-10d9282bb9e0.jpg",api:{web:"https://whitebit.com/",publicV2:"https://whitebit.com/api/v2/public",publicV1:"https://whitebit.com/api/v1/public"},www:"https://www.whitebit.com",doc:"https://documenter.getpostman.com/view/7473075/Szzj8dgv?version=latest",fees:"https://whitebit.com/fee-schedule",referral:"https://whitebit.com/referral/d9bdf40e-28f2-4b52-b2f9-cd1415d82963"},api:{web:{get:["v1/healthcheck"]},publicV1:{get:["markets","tickers","ticker","symbols","depth/result","history","kline"]},publicV2:{get:["markets","ticker","assets","fee","depth/{market}","trades/{market}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},options:{fetchTradesMethod:"fetchTradesV1"},exceptions:{exact:{503:o},broad:{"Market is not available":d}}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicV2GetMarkets(e);case 2:for(a=r.sent,i=t.safeValue(a,"result"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"name"),d=t.safeString(c,"stock"),f=t.safeString(c,"money"),l=t.safeCurrencyCode(d),h=t.safeCurrencyCode(f),p=l+"/"+h,m=t.safeValue(c,"tradesEnabled"),v={id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:f,info:c,active:m,precision:{amount:t.safeInteger(c,"stockPrec"),price:t.safeInteger(c,"moneyPrec")},limits:{amount:{min:t.safeFloat(c,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:t.safeFloat(c,"minTotal"),max:void 0}}},s.push(v);return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicV2GetAssets(e);case 2:for(a=r.sent,i=t.safeValue(a,"result"),s=Object.keys(i),o={},c=0;c<s.length;c++)u=s[c],d=i[u],f=t.safeValue(d,"canDeposit",!0),l=t.safeValue(d,"canWithdraw",!0),h=f&&l,p=t.safeCurrencyCode(u),o[p]={id:u,code:p,info:d,name:void 0,active:h,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(d,"minWithdrawal"),max:t.safeFloat(d,"maxWithdrawal")}}};return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}fetchTradingFees(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicV2GetFee(e);case 2:return a=r.sent,i=t.safeValue(a,"result"),r.abrupt("return",{maker:t.safeFloat(i,"makerFee"),taker:t.safeFloat(i,"takerFee")});case 5:case"end":return r.stop()}}),r)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={market:i.id},n.next=6,r.publicV1GetTicker(r.extend(s,t));case 6:return o=n.sent,c=r.safeValue(o,"result",{}),n.abrupt("return",r.parseTicker(c,i));case 9:case"end":return n.stop()}}),a)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"at",this.milliseconds());e=this.safeValue(e,"ticker",e);var n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last"),i=this.safeFloat(e,"change"),s=void 0;return void 0!==i&&(s=this.numberToString(.01*i)),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:s,percentage:i,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"deal"),info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicV1GetTickers(t);case 4:for(i=n.sent,s=r.safeValue(i,"result"),o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=r.safeMarket(d),l=r.parseTicker(s[d],f),h=l.symbol,c[h]=l;return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s=i.market(e),o={market:s.id},void 0!==t&&(o.limit=t),n.next=7,i.publicV2GetDepthMarket(i.extend(o,r));case 7:return c=n.sent,u=i.safeValue(c,"result",{}),d=i.parse8601(i.safeString(u,"lastUpdateTimestamp")),n.abrupt("return",i.parseOrderBook(u,d));case 11:case"end":return n.stop()}}),a)})))()}fetchTradesV1(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id,lastId:1},void 0!==r&&(c.limit=r),n.next=7,s.publicV1GetHistory(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTradesV2(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={market:o.id},void 0!==r&&(c.limit=r),n.next=7,s.publicV2GetTradesMarket(s.extend(c,i));case 7:return u=n.sent,d=s.safeValue(u,"result",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 10:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.safeString(s.options,"fetchTradesMethod","fetchTradesV2"),n.next=3,s[o](e,t,r,i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeValue(e,"time");r="string"===typeof r?this.parse8601(r):parseInt(1e3*r);var n=this.safeFloat(e,"price"),a=this.safeFloat2(e,"amount","volume"),i=this.safeString2(e,"id","tradeId"),s=this.safeString(e,"type");void 0===s&&(s=this.safeValue(e,"isBuyerMaker")?"buy":"sell");var o=void 0;void 0!==t&&(o=t.symbol);var c=void 0;return void 0!==a&&void 0!==n&&(c=a*n),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:i,order:void 0,type:void 0,takerOrMaker:void 0,side:s,price:n,amount:a,cost:c,fee:void 0}}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={market:c.id,interval:o.timeframes[t]},void 0!==r&&(1440,void 0===i&&(i=1440),i=Math.min(i,1440),d=parseInt(r/1e3),f=o.parseTimeframe(t),l=o.sum(d,f*i),u.start=d,u.end=l),void 0!==i&&(u.limit=i),n.next=8,o.publicV1GetKline(o.extend(u,s));case 8:return h=n.sent,p=o.safeValue(h,"result",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 11:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeFloat(e,1),this.safeFloat(e,3),this.safeFloat(e,4),this.safeFloat(e,2),this.safeFloat(e,5)]}fetchStatus(e={}){var t=this;return a(n.mark((function r(){var a,i,s;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.webGetV1Healthcheck(e);case 2:return a=r.sent,i=t.safeInteger(a,"status"),s="ok",503===i&&(s="maintenance"),t.status=t.extend(t.status,{status:s,updated:t.milliseconds()}),r.abrupt("return",t.status);case 8:case"end":return r.stop()}}),r)})))()}sign(e,t="publicV1",r="GET",n={},a,i){var s=this.omit(n,this.extractParams(e)),o=this.urls.api[t]+"/"+this.implodeParams(e,n);return Object.keys(s).length&&(o+="?"+this.urlencode(s)),{url:o,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,d){if(418===e||429===e)throw new u(this.id+" "+e.toString()+" "+t+" "+i);if(404===e)throw new c(this.id+" "+e.toString()+" endpoint not found");if(void 0!==s&&!this.safeValue(s,"success")){var f=this.id+" "+i,l=this.safeString(s,"status");throw"string"===typeof l&&this.throwExactlyMatchedException(this.exceptions.exact,l,f),this.throwBroadlyMatchedException(this.exceptions.broad,i,f),new c(f)}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.NotSupported,u=s.AuthenticationError;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"xbtce",name:"xBTCe",countries:["RU"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!1,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{referral:"https://xbtce.com/?agent=XX97BTCXXXG687021000B",logo:"https://user-images.githubusercontent.com/1294454/28059414-e235970c-662c-11e7-8c3a-08e31f78684b.jpg",api:"https://cryptottlivewebapi.xbtce.net:8443/api",www:"https://www.xbtce.com",doc:["https://www.xbtce.com/tradeapi","https://support.xbtce.info/Knowledgebase/Article/View/52/25/xbtce-exchange-api"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency","currency/{filter}","level2","level2/{filter}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/level2","quotehistory/{symbol}/ticks","symbol","symbol/{filter}","tick","tick/{filter}","ticker","ticker/{filter}","tradesession"]},private:{get:["tradeserverinfo","tradesession","currency","currency/{filter}","level2","level2/{filter}","symbol","symbol/{filter}","tick","tick/{filter}","account","asset","asset/{id}","position","position/{id}","trade","trade/{id}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/ask/info","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/{periodicity}/bars/bid/info","quotehistory/{symbol}/level2","quotehistory/{symbol}/level2/info","quotehistory/{symbol}/periodicities","quotehistory/{symbol}/ticks","quotehistory/{symbol}/ticks/info","quotehistory/cache/{symbol}/{periodicity}/bars/ask","quotehistory/cache/{symbol}/{periodicity}/bars/bid","quotehistory/cache/{symbol}/level2","quotehistory/cache/{symbol}/ticks","quotehistory/symbols","quotehistory/version"],post:["trade","tradehistory"],put:["trade"],delete:["trade"]}},commonCurrencies:{DSH:"DASH"}})}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetSymbol(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"Symbol"),u=t.safeString(o,"MarginCurrency"),d=t.safeString(o,"ProfitCurrency"),f=t.safeCurrencyCode(u),l=t.safeCurrencyCode(d),h=f+"/"+l,h=o.IsTradeAllowed?h:c,i.push({id:c,symbol:h,base:f,quote:l,baseId:u,quoteId:d,info:o,active:void 0,precision:t.precision,limits:t.limits});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privateGetAsset(e);case 4:for(a=r.sent,i={info:a},s=0;s<a.length;s++)o=a[s],c=t.safeString(o,"Currency"),u=t.safeCurrencyCode(c),d={free:t.safeFloat(o,"FreeAmount"),used:t.safeFloat(o,"LockedAmount"),total:t.safeFloat(o,"Amount")},i[u]=d;return r.abrupt("return",t.parseBalance(i));case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function t(){var a,s,o,c,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.loadMarkets();case 2:return a=i.market(e),s={filter:a.id},t.next=6,i.privateGetLevel2Filter(i.extend(s,r));case 6:return o=t.sent,c=o[0],u=i.safeInteger(c,"Timestamp"),t.abrupt("return",i.parseOrderBook(c,u,"Bids","Asks","Price","Volume"));case 10:case"end":return t.stop()}}),t)})))()}parseTicker(e,t){var r=0,n=void 0;"LastBuyTimestamp"in e&&r<e.LastBuyTimestamp&&(r=e.LastBuyTimestamp,n=e.LastBuyPrice),"LastSellTimestamp"in e&&r<e.LastSellTimestamp&&(r=e.LastSellTimestamp,n=e.LastSellPrice),r||(r=this.milliseconds());var a=void 0;return t&&(a=t.symbol),{symbol:a,timestamp:r,datetime:this.iso8601(r),high:e.DailyBestBuyPrice,low:e.DailyBestSellPrice,bid:e.BestBid,bidVolume:void 0,ask:e.BestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.DailyTradedTotalVolume,quoteVolume:void 0,info:e}}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u,d,f,l,h,p,m,v,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetTicker(t);case 4:for(i=n.sent,s=r.indexBy(i,"Symbol"),o=Object.keys(s),c={},u=0;u<o.length;u++)d=o[u],f=void 0,l=void 0,d in r.markets_by_id?(f=r.markets_by_id[d],l=f.symbol):(h=d.slice(0,3),p=d.slice(3,6),m=r.safeCurrencyCode(h),v=r.safeCurrencyCode(p),l=m+"/"+v),b=s[d],c[l]=r.parseTicker(b,f);return n.abrupt("return",r.filterByArray(c,"symbol",e));case 10:case"end":return n.stop()}}),a)})))()}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i,s,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.market(e),s={filter:i.id},n.next=6,r.publicGetTickerFilter(r.extend(s,t));case 6:if(c=n.sent,!(c.length<1)){n.next=10;break}throw new o(r.id+" fetchTicker returned empty response, xBTCe public API error");case 10:return u=r.indexBy(c,"Symbol"),d=u[i.id],n.abrupt("return",r.parseTicker(d,i));case 13:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadMarkets();case 2:return e.next=4,s.privateGetTrade(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()}parseOHLCV(e,t){return[this.safeInteger(e,"Timestamp"),this.safeFloat(e,"Open"),this.safeFloat(e,"High"),this.safeFloat(e,"Low"),this.safeFloat(e,"Close"),this.safeFloat(e,"Volume")]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new c(o.id+" fetchOHLCV is disabled by the exchange");case 1:case"end":return e.stop()}}),e)})))()}createOrder(e,t,r,i,s,c={}){var u=this;return a(n.mark((function a(){var d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("market"!==t){n.next=4;break}throw new o(u.id+" allows limit orders only");case 4:return d={pair:u.marketId(e),type:r,amount:i,rate:s},n.next=7,u.privatePostTrade(u.extend(d,c));case 7:return f=n.sent,n.abrupt("return",{info:f,id:f.Id.toString()});case 9:case"end":return n.stop()}}),a)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function t(){var a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={Type:"Cancel",Id:e},t.next=3,i.privateDeleteTrade(i.extend(a,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){if(!this.apiKey)throw new u(this.id+" requires apiKey for all requests, their public API is always busy");if(!this.uid)throw new u(this.id+" requires uid property for authentication and trading, their public API is always busy");var s=this.urls.api+"/"+this.version;"public"===t&&(s+="/"+t),s+="/"+this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),a={"Accept-Encoding":"gzip, deflate"};var c=this.nonce().toString();"POST"===r&&(Object.keys(o).length?(a["Content-Type"]="application/json",i=this.json(o)):s+="?"+this.urlencode(o));var d=c+this.uid+this.apiKey+r+s;i&&(d+=i);var f=this.hmac(this.encode(d),this.encode(this.secret),"sha256","base64"),l=this.uid+":"+this.apiKey+":"+c+":"+f;a.Authorization="HMAC "+l}return{url:s,method:r,body:i,headers:a}}}},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(7),s=r(6),o=s.ExchangeError,c=s.ArgumentsRequired,u=s.BadRequest,d=s.InsufficientFunds,f=s.InvalidAddress,l=s.BadSymbol,h=s.InvalidOrder;e.exports=class extends i{describe(){return this.deepExtend(super.describe(),{id:"xena",name:"Xena Exchange",countries:["VC","UK"],rateLimit:100,certified:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87489843-bb469280-c64c-11ea-91aa-69c6326506af.jpg",api:{public:"https://trading.xena.exchange/api",private:"https://api.xena.exchange"},www:"https://xena.exchange",doc:"https://support.xena.exchange/support/solutions/44000808700",fees:"https://trading.xena.exchange/en/platform-specification/fee-schedule"},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["common/currencies","common/instruments","common/features","common/commissions","common/news","market-data/candles/{marketId}/{timeframe}","market-data/market-watch","market-data/dom/{symbol}","market-data/candles/{symbol}/{timeframe}","market-data/trades/{symbol}","market-data/server-time","market-data/v2/candles/{symbol}/{timeframe}","market-data/v2/trades/{symbol}","market-data/v2/dom/{symbol}/","market-data/v2/server-time"]},private:{get:["trading/accounts/{accountId}/order","trading/accounts/{accountId}/active-orders","trading/accounts/{accountId}/last-order-statuses","trading/accounts/{accountId}/positions","trading/accounts/{accountId}/positions-history","trading/accounts/{accountId}/margin-requirements","trading/accounts","trading/accounts/{accountId}/balance","trading/accounts/{accountId}/trade-history","transfers/accounts","transfers/accounts/{accountId}","transfers/accounts/{accountId}/deposit-address/{currency}","transfers/accounts/{accountId}/deposits","transfers/accounts/{accountId}/trusted-addresses","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/balance-history"],post:["trading/order/new","trading/order/heartbeat","trading/order/cancel","trading/order/mass-cancel","trading/order/replace","trading/position/maintenance","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/deposit-address/{currency}"]}},fees:{trading:{maker:5e-4,taker:.001,tierBased:!0,percentage:!0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Validation failed":u,"Unknown derivative symbol":l,"Unknown account":u,"Wrong TransactTime":u,"ClOrdId is empty":u},broad:{"Invalid aggregation ratio or depth":u,address:f,"Money not enough":d,"parse error":u,"Not enough":d}},options:{defaultType:"margin",accountId:void 0}})}fetchTime(e={}){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetMarketDataV2ServerTime(e);case 2:return a=r.sent,i=t.safeInteger(a,"transactTime"),r.abrupt("return",parseInt(i/1e6));case 5:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCommonInstruments(e);case 2:for(a=r.sent,i=[],s=0;s<a.length;s++)o=a[s],c=t.safeStringLower(o,"type"),u=t.safeString(o,"symbol"),d=t.safeString(o,"id"),f=t.safeString(o,"marginType"),l=t.safeString(o,"baseCurrency"),h=t.safeString(o,"quoteCurrency"),p=t.safeCurrencyCode(l),m=t.safeCurrencyCode(h),v=u,"margin"===c&&("XenaFuture"===f?c="future":"XenaListedPerpetual"===f&&(c="swap",v=p+"/"+m)),b="future"===c,g="swap"===c,y=t.safeInteger2(o,"tickSize","pricePrecision"),w={price:y,amount:0},k=t.safeFloat(o,"maxOrderQty"),x=t.safeFloat(o,"minOrderQuantity"),_={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:x,max:k}},S=t.safeValue(o,"enabled",!1),T=t.safeValue(o,"inverse",!1),i.push({id:u,symbol:v,base:p,quote:m,baseId:l,quoteId:h,numericId:d,active:S,type:c,spot:!1,future:b,swap:g,inverse:T,precision:w,limits:_,info:o});return r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()}fetchCurrencies(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCommonCurrencies(e);case 2:for(a=r.sent,i=Object.keys(a),s={},o=0;o<i.length;o++)c=i[o],u=a[c],d=t.safeCurrencyCode(c),f=t.safeString(u,"title"),l=t.safeInteger(u,"precision"),h=t.safeValue(u,"enabled"),p=!0===h,m=t.safeValue(u,"withdraw",{}),s[d]={id:c,code:d,info:u,name:f,active:p,fee:t.safeFloat(m,"commission"),precision:l,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:t.safeFloat(m,"minAmount"),max:void 0}}};return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}parseTicker(e,t){var r=this.milliseconds(),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),i=this.safeFloat(e,"lastPx"),s=this.safeFloat(e,"firstPx"),o=void 0,c=void 0,u=void 0;void 0!==i&&void 0!==s&&(c=i-s,u=this.sum(i,s)/2,s>0&&(o=c/s*100));var d=this.safeFloat(e,"buyVolume"),f=this.safeFloat(e,"sellVolume"),l=this.sum(d,f);return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highPx"),low:this.safeFloat(e,"lowPx"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:s,close:i,last:i,previousClose:void 0,change:c,percentage:o,average:u,baseVolume:l,quoteVolume:void 0,info:e}}fetchTicker(e,t={}){var r=this;return a(n.mark((function a(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.fetchTickers(void 0,t);case 4:if(i=n.sent,!(e in i)){n.next=7;break}return n.abrupt("return",i[e]);case 7:throw new l(r.id+" fetchTicker could not find a ticker with symbol "+e);case 8:case"end":return n.stop()}}),a)})))()}fetchTickers(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.publicGetMarketDataMarketWatch(t);case 4:for(i=n.sent,s={},o=0;o<i.length;o++)c=r.parseTicker(i[o]),u=c.symbol,s[u]=c;return n.abrupt("return",r.filterByArray(s,"symbol",e));case 8:case"end":return n.stop()}}),a)})))()}fetchOrderBook(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.loadMarkets();case 2:return s={symbol:i.marketId(e)},void 0!==t&&(s.depth=t),n.next=6,i.publicGetMarketDataV2DomSymbol(i.extend(s,r));case 6:return o=n.sent,c=i.safeValue(o,"mdEntry",[]),u=i.groupBy(c,"mdEntryType"),d=i.safeInteger(o,"lastUpdateTime"),f=parseInt(d/1e6),n.abrupt("return",i.parseOrderBook(u,f,"0","1","mdEntryPx","mdEntrySize"));case 12:case"end":return n.stop()}}),a)})))()}fetchAccounts(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.privateGetTradingAccounts(e);case 2:for(a=r.sent,i=t.safeValue(a,"accounts"),s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"id"),d=t.safeString(c,"currency"),f=t.safeCurrencyCode(d),l=t.safeStringLower(c,"kind"),s.push({id:u,type:l,currency:f,info:c});return r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})))()}findAccountByType(e){var t=this;return a(n.mark((function r(){var a,i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:if(a=t.groupBy(t.accounts,"type"),void 0!==(i=t.safeValue(a,e))){r.next=8;break}throw new o(t.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");case 8:if(!(i.length>1)){r.next=11;break}throw new o(t.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");case 11:return r.abrupt("return",i[0]);case 12:case"end":return r.stop()}}),r)})))()}getAccountId(e){var t=this;return a(n.mark((function r(){var a,i,s,o,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:if(a=t.safeString(t.options,"accountId"),void 0===(i=t.safeString(e,"accountId",a))){r.next=8;break}return r.abrupt("return",i);case 8:if(s=t.safeString(t.options,"defaultType","margin"),o=t.safeString(e,"type",s),e=t.omit(e,"type"),void 0!==o){r.next=13;break}throw new c(t.id+" requires an 'accountId' parameter or a 'type' parameter ('spot' or 'margin')");case 13:return r.next=15,t.findAccountByType(o);case 15:return u=r.sent,r.abrupt("return",u.id);case 17:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return a(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.loadAccounts();case 4:return r.next=6,t.getAccountId(e);case 6:return a=r.sent,i={accountId:a},r.next=10,t.privateGetTradingAccountsAccountIdBalance(t.extend(i,e));case 10:for(s=r.sent,o={info:s},c=t.safeValue(s,"balances",[]),u=0;u<c.length;u++)d=c[u],f=t.safeString(d,"currency"),l=t.safeCurrencyCode(f),(h=t.account()).free=t.safeFloat(d,"available"),h.used=t.safeFloat(d,"onHold"),o[l]=h;return r.abrupt("return",t.parseBalance(o));case 15:case"end":return r.stop()}}),r)})))()}parseTrade(e,t){var r=this.safeString(e,"tradeId"),n=this.safeInteger(e,"transactTime");void 0!==n&&(n=parseInt(n/1e6));var a=this.safeStringLower2(e,"side","aggressorSide");"1"===a?a="buy":"2"===a&&(a="sell");var i=this.safeString(e,"orderId"),s=this.safeString(e,"symbol"),o=this.safeSymbol(s,t),c=this.safeFloat2(e,"lastPx","mdEntryPx"),u=this.safeFloat2(e,"lastQty","mdEntrySize"),d=void 0;void 0!==c&&void 0!==u&&(d=c*u);var f=void 0,l=this.safeFloat(e,"commission");if(void 0!==l){var h=this.safeString(e,"commCurrency"),p=this.safeCurrencyCode(h);f={cost:l,rate:this.safeFloat(e,"commRate"),currency:p}}return{id:r,info:e,timestamp:n,datetime:this.iso8601(n),symbol:o,type:void 0,order:i,side:a,takerOrMaker:void 0,price:c,amount:u,cost:d,fee:f}}fetchMyTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:return n.next=6,s.getAccountId(i);case 6:return o=n.sent,c={accountId:o},u=void 0,void 0!==e&&(u=s.market(e),c.symbol=u.id),void 0!==t&&(c.from=1e6*t),void 0!==r&&(c.limit=r),n.next=14,s.privateGetTradingAccountsAccountIdTradeHistory(s.extend(c,i));case 14:return d=n.sent,n.abrupt("return",s.parseTrades(d,u,t,r));case 16:case"end":return n.stop()}}),a)})))()}parseOHLCV(e,t){var r=this.safeInteger(e,"transactTime"),n=parseInt(r/1e6),a=this.safeFloat(e,"buyVolume"),i=this.safeFloat(e,"sellVolume"),s=this.sum(a,i);return[n,this.safeFloat(e,"firstPx"),this.safeFloat(e,"highPx"),this.safeFloat(e,"lowPx"),this.safeFloat(e,"lastPx"),s]}fetchOHLCV(e,t="1m",r,i,s={}){var o=this;return a(n.mark((function a(){var c,u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.loadMarkets();case 2:return c=o.market(e),u={symbol:c.id,timeframe:o.timeframes[t]},d=o.parseTimeframe(t),f=1e3*d,void 0!==r?(u.from=1e6*r,void 0!==i&&(u.to=1e6*o.sum(r,i*f))):(l=o.milliseconds(),void 0!==i&&(u.from=1e6*(l-i*f))),n.next=9,o.publicGetMarketDataV2CandlesSymbolTimeframe(o.extend(u,s));case 9:return h=n.sent,p=o.safeValue(h,"mdEntry",[]),n.abrupt("return",o.parseOHLCVs(p,c,t,r,i));case 12:case"end":return n.stop()}}),a)})))()}fetchTrades(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={symbol:o.id},void 0!==t&&(c.from=s.iso8601(t)),void 0!==r&&(c.limit=r),n.next=8,s.publicGetMarketDataV2TradesSymbol(s.extend(c,i));case 8:return u=n.sent,d=s.safeValue(u,"mdEntry",[]),n.abrupt("return",s.parseTrades(d,o,t,r));case 11:case"end":return n.stop()}}),a)})))()}parseOrderStatus(e){return this.safeString({A:"open",0:"open",1:"open",2:"closed",6:"canceled",4:"canceled",E:"open",8:"rejected"},e,e)}parseOrder(e,t){var r=this.safeString(e,"orderId"),n=this.safeString(e,"clOrdId"),a=this.safeInteger(e,"transactTime"),i=parseInt(a/1e6),s=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeString(e,"symbol"),c=this.safeSymbol(o,t),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"orderQty"),f=this.safeFloat(e,"cumQty"),l=this.safeFloat(e,"leavesQty"),h=void 0,p=this.safeStringLower(e,"side");"1"===p?p="buy":"1"===p&&(p="sell");var m=this.safeStringLower(e,"ordType");return"1"===m?m="market":"2"===m?m="limit":"3"===m?m="stop":"4"===m&&(m="stop-limit"),void 0===h&&void 0!==u&&void 0!==f&&(h=u*f),{id:r,clientOrderId:n,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:c,type:m,timeInForce:void 0,postOnly:void 0,side:p,price:u,stopPrice:void 0,amount:d,cost:h,average:void 0,filled:f,remaining:l,status:s,fee:void 0,trades:void 0}}createOrder(e,t,r,i,s,o={}){var c=this;return a(n.mark((function a(){var u,d,f,l,p,m,v,b,g,y;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.loadMarkets();case 2:return n.next=4,c.loadAccounts();case 4:return n.next=6,c.getAccountId(o);case 6:if(u=n.sent,d={market:"1",limit:"2",stop:"3","stop-limit":"4"},void 0!==(f=c.safeString(d,t))){n.next=11;break}throw new h(c.id+" createOrder does not support order type "+t+", supported order types are market, limit, stop, stop-limit");case 11:if(l={buy:"1",sell:"2"},void 0!==(p=c.safeString(l,r))){n.next=15;break}throw new h(c.id+" createOrder does not support order side "+r+", supported order sides are buy, sell");case 15:if(m=c.market(e),v={account:parseInt(u),symbol:m.id,ordType:f,side:p,orderQty:c.amountToPrecision(e,i),transactTime:1e6*c.milliseconds()},"limit"!==t&&"stop-limit"!==t){n.next=21;break}if(void 0!==s){n.next=20;break}throw new h(c.id+" createOrder() requires a price argument for order type "+t);case 20:v.price=c.priceToPrecision(e,s);case 21:if("stop"!==t&&"stop-limit"!==t){n.next=27;break}if(void 0!==(b=c.safeFloat(o,"stopPx"))){n.next=25;break}throw new h(c.id+" createOrder() requires a stopPx param for order type "+t);case 25:v.stopPx=c.priceToPrecision(e,b),o=c.omit(o,"stopPx");case 27:return void 0!==(g=c.safeString2(o,"clientOrderId","clOrdId",c.uuid()))&&(v.clOrdId=g,o=c.omit(o,["clientOrderId","clOrdId"])),n.next=31,c.privatePostTradingOrderNew(c.extend(v,o));case 31:return y=n.sent,n.abrupt("return",c.parseOrder(y,m));case 33:case"end":return n.stop()}}),a)})))()}editOrder(e,t,r,i,s,o,u={}){var d=this;return a(n.mark((function r(){var a,i,f,l,h,p,m;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new c(d.id+" cancelOrder() requires a symbol argument");case 2:return r.next=4,d.loadMarkets();case 4:return r.next=6,d.loadAccounts();case 6:return r.next=8,d.getAccountId(u);case 8:return a=r.sent,i=d.market(t),f={account:parseInt(a),clOrdId:d.uuid(),symbol:i.id,transactTime:1e6*d.milliseconds()},void 0!==(l=d.safeString2(u,"clientOrderId","origClOrdId"))?(f.origClOrdId=l,u=d.omit(u,["clientOrderId","origClOrdId"])):f.orderId=e,void 0!==s&&(f.orderQty=d.amountToPrecision(t,s)),void 0!==o&&(f.price=d.priceToPrecision(t,o)),void 0!==(h=d.safeFloat(u,"stopPx"))&&(f.stopPx=d.priceToPrecision(t,h),u=d.omit(u,"stopPx")),void 0!==(p=d.safeFloat(u,"capPrice"))&&(f.capPrice=d.priceToPrecision(t,p),u=d.omit(u,"capPrice")),r.next=21,d.privatePostTradingOrderReplace(d.extend(f,u));case 21:return m=r.sent,r.abrupt("return",d.parseOrder(m,i));case 23:case"end":return r.stop()}}),r)})))()}cancelOrder(e,t,r={}){var i=this;return a(n.mark((function a(){var s,o,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(i.id+" cancelOrder() requires a symbol argument");case 2:return n.next=4,i.loadMarkets();case 4:return n.next=6,i.loadAccounts();case 6:return n.next=8,i.getAccountId(r);case 8:return s=n.sent,o=i.safeString2(r,"clientOrderId","origClOrdId"),r=i.omit(r,["clientOrderId","origClOrdId"]),u=i.market(t),d={account:parseInt(s),symbol:u.id,clOrdId:i.uuid(),transactTime:1e6*i.milliseconds()},void 0!==o?d.origClOrdId=o:d.orderId=e,n.next=16,i.privatePostTradingOrderCancel(i.extend(d,r));case 16:return f=n.sent,n.abrupt("return",i.parseOrder(f,u));case 18:case"end":return n.stop()}}),a)})))()}cancelAllOrders(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.loadAccounts();case 4:return n.next=6,r.getAccountId(t);case 6:return i=n.sent,s={account:parseInt(i),clOrdId:r.uuid()},void 0!==e?(o=r.market(e),s.symbol=o.id,s.massCancelRequestType="1"):s.massCancelRequestType="7",n.next=11,r.privatePostTradingOrderMassCancel(r.extend(s,t));case 11:return c=n.sent,n.abrupt("return",c);case 13:case"end":return n.stop()}}),a)})))()}fetchOpenOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:return n.next=6,s.getAccountId(i);case 6:return o=n.sent,c={accountId:o},u=void 0,void 0!==e&&(u=s.market(e),c.symbol=u.id),n.next=12,s.privateGetTradingAccountsAccountIdActiveOrders(s.extend(c,i));case 12:return d=n.sent,n.abrupt("return",s.parseOrders(d,u,t,r));case 14:case"end":return n.stop()}}),a)})))()}fetchClosedOrders(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:return n.next=6,s.getAccountId(i);case 6:return o=n.sent,c={accountId:o},u=void 0,void 0!==e&&(u=s.market(e),c.symbol=u.id),void 0!==t&&(c.from=1e6*s.iso8601(t)),void 0!==r&&(c.limit=r),n.next=14,s.privateGetTradingAccountsAccountIdLastOrderStatuses(s.extend(c,i));case 14:return d=n.sent,n.abrupt("return",s.parseOrders(d,u,t,r));case 16:case"end":return n.stop()}}),a)})))()}createDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.loadAccounts();case 4:return n.next=6,r.getAccountId(t);case 6:return i=n.sent,s=r.currency(e),o={accountId:i,currency:s.id},n.next=11,r.privatePostTransfersAccountsAccountIdDepositAddressCurrency(r.extend(o,t));case 11:return c=n.sent,u=r.safeValue(c,"address"),void 0,r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:c});case 16:case"end":return n.stop()}}),a)})))()}fetchDepositAddress(e,t={}){var r=this;return a(n.mark((function a(){var i,s,o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return n.next=4,r.loadAccounts();case 4:return n.next=6,r.getAccountId(t);case 6:return i=n.sent,s=r.currency(e),o={accountId:i,currency:s.id},n.next=11,r.privateGetTransfersAccountsAccountIdDepositAddressCurrency(r.extend(o,t));case 11:return c=n.sent,u=r.safeValue(c,"address"),void 0,r.checkAddress(u),n.abrupt("return",{currency:e,address:u,tag:void 0,info:c});case 16:case"end":return n.stop()}}),a)})))()}fetchTransactionsByType(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var u,d,f,l,h,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=2;break}throw new c(o.id+" fetchTransactions() requires a currency `code` argument");case 2:return n.next=4,o.loadMarkets();case 4:return n.next=6,o.loadAccounts();case 6:return n.next=8,o.getAccountId(s);case 8:return u=n.sent,d=o.currency(t),f={currency:d.id,accountId:u},void 0!==r&&(f.since=parseInt(r/1e3)),l="privateGetTransfersAccountsAccountId"+o.capitalize(e),n.next=15,o[l](o.extend(f,s));case 15:return h=n.sent,p=o.safeValue(h,e,[]),n.abrupt("return",o.parseTransactions(p,d,r,i));case 18:case"end":return n.stop()}}),a)})))()}fetchWithdrawals(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("withdrawals",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}fetchDeposits(e,t,r,i={}){var s=this;return a(n.mark((function a(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.fetchTransactionsByType("deposits",e,t,r,i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),a)})))()}parseTransaction(e,t){var r=this.safeString(e,"withdrawalRequestId"),n=void 0===r?"deposit":"withdrawal",a=this.safeInteger(e,"lastUpdated");void 0!==a&&(a=parseInt(a/1e6));var i=this.safeString(e,"txId"),s=this.safeString(e,"currency"),o=this.safeCurrencyCode(s,t),c=this.safeString(e,"address"),u=c,d=this.safeFloat(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:r,txid:i,timestamp:void 0,datetime:this.iso8601(void 0),addressFrom:void 0,addressTo:u,address:c,tagFrom:void 0,tagTo:void 0,tag:void 0,type:n,amount:d,currency:o,status:f,updated:a,fee:void 0}}parseTransactionStatus(e){return this.safeString({1:"pending",2:"ok",3:"failed",4:"failed",5:"pending",100:"pending",101:"pending",102:"pending",103:"pending"},e,e)}withdraw(e,t,r,i,s={}){var o=this;return a(n.mark((function a(){var i,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:return n.next=5,o.loadAccounts();case 5:return n.next=7,o.getAccountId(s);case 7:return i=n.sent,c=o.currency(e),u=(u=(u=o.uuid()).split("-")).join(""),d={currency:c.id,accountId:i,amount:o.currencyToPrecision(e,t),address:r,id:u},n.next=15,o.privatePostTransfersAccountsAccountIdWithdrawals(o.extend(d,s));case 15:return f=n.sent,n.abrupt("return",o.parseTransaction(f,c));case 17:case"end":return n.stop()}}),a)})))()}parseLedgerEntryType(e){return this.safeString({deposit:"transaction",withdrawal:"transaction","internal deposit":"transfer","internal withdrawal":"transfer",rebate:"rebate",reward:"reward"},e,e)}parseLedgerEntry(e,t){var r=this.safeString(e,"id"),n=void 0,a=this.safeString(e,"accountId"),i=this.parseLedgerEntryType(this.safeString(e,"kind")),s=this.safeCurrencyCode(this.safeString(e,"currency"),t),o=this.safeFloat(e,"amount");o<0?(n="out",o=Math.abs(o)):n="in";var c=this.safeInteger(e,"ts");void 0!==c&&(c=parseInt(c/1e6));var u={cost:this.safeFloat(e,"commission"),currency:s};return{info:e,id:r,direction:n,account:a,referenceId:void 0,referenceAccount:void 0,type:i,currency:s,amount:o,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:c,datetime:this.iso8601(c),fee:u}}fetchLedger(e,t,r,i={}){var s=this;return a(n.mark((function a(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return n.next=4,s.loadAccounts();case 4:return n.next=6,s.getAccountId(i);case 6:return o=n.sent,c={accountId:o},u=void 0,void 0!==e&&(u=s.currency(e),c.symbol=u.id),void 0!==t&&(c.from=1e6*t),void 0!==r&&(c.limit=r),n.next=14,s.privateGetTransfersAccountsAccountIdBalanceHistory(s.extend(c,i));case 14:return d=n.sent,n.abrupt("return",s.parseLedger(d,u,t,r));case 16:case"end":return n.stop()}}),a)})))()}nonce(){return this.milliseconds()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t]+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(s+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();var c=this.nonce();c=c.toString();var u="AUTH"+(c+="000000"),d=this.secret.slice(14,78),f=this.ecdsa(u,d,"p256","sha256"),l=f.r+f.s;a={"X-AUTH-API-KEY":this.apiKey,"X-AUTH-API-PAYLOAD":u,"X-AUTH-API-SIGNATURE":l,"X-AUTH-API-NONCE":c},"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):"POST"===r&&(i=this.json(o),a["Content-Type"]="application/json")}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,c,u){if(void 0!==s&&e>=400){var d=this.id+" "+this.json(s),f=this.safeString(s,"error"),l=this.exceptions.exact;if(f in l)throw new l[f](d);var h=this.exceptions.broad,p=this.findBroadlyMatchedKey(h,i);if(void 0!==p)throw new h[p](d);throw new o(d)}}}},function(e,t,r){"use strict";var n=r(17),a=r(0),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.ArgumentsRequired,d=o.ExchangeNotAvailable,f=o.InvalidNonce,l=o.InsufficientFunds,h=o.OrderNotFound,p=o.DDoSProtection,m=o.InvalidOrder,v=o.AuthenticationError,b=o.RateLimitExceeded;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BITS:"Bitstar",BLN:"Bulleon",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BTS:"Bitshares2",CAT:"BitClave",CBC:"CryptoBossCoin",CMT:"CometCoin",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CREDIT:"Creditbit",CS:"CryptoSpots",DCT:"Discount",DFT:"DraftCoin",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",DSH:"DASH",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",MDT:"Midnight",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PutinCoin",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",SBTC:"Super Bitcoin",TTC:"TittieCoin",UNI:"Universe",UST:"Uservice",VOL:"VolumeCoin",XIN:"XINCoin",XRA:"Ratecoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512},exceptions:{exact:{803:m,804:m,805:m,806:m,807:m,831:l,832:l,833:h},broad:{"Invalid pair name":c,"invalid api key":v,"invalid sign":v,"api key dont have trade permission":v,"invalid parameter":m,"invalid order":m,"The given order has already been cancelled":m,"Requests too often":p,"not available":d,"data unavailable":d,"external service unavailable":d,"Total transaction amount":m,"The given order has already been closed and cannot be cancelled":m,"Insufficient funds":l,"invalid key":v,"invalid nonce":f,"Total order amount is less than minimal amount":m,"Rate Limited":b}},orders:{}})}fetchBalance(e={}){var t=this;return i(a.mark((function r(){var n,i,s,o,c,u,d,f,l,h;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetInfo(e);case 4:for(n=r.sent,i=t.safeValue(n,"return",{}),s={info:n},o=t.safeValue(i,"funds",{}),c=t.safeValue(i,"funds_incl_orders",{}),u=Object.keys(t.extend(o,c)),d=0;d<u.length;d++)f=u[d],l=t.safeCurrencyCode(f),(h=t.account()).free=t.safeFloat(o,f),h.total=t.safeFloat(c,f),s[l]=h;return r.abrupt("return",t.parseBalance(s));case 12:case"end":return r.stop()}}),r)})))()}fetchMarkets(e={}){var t=this;return i(a.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetInfo(e);case 2:for(i=r.sent,s=t.safeValue(i,"pairs"),o=Object.keys(s),c=[],u=0;u<o.length;u++)d=o[u],f=s[d],l=d.split("_"),h=n(l,2),p=h[0],m=h[1],v=p.toUpperCase(),b=m.toUpperCase(),v=t.safeCurrencyCode(v),b=t.safeCurrencyCode(b),g=v+"/"+b,y={amount:t.safeInteger(f,"decimal_places"),price:t.safeInteger(f,"decimal_places")},w={min:t.safeFloat(f,"min_amount"),max:t.safeFloat(f,"max_amount")},k={min:t.safeFloat(f,"min_price"),max:t.safeFloat(f,"max_price")},x={min:t.safeFloat(f,"min_total")},_={amount:w,price:k,cost:x},S=t.safeInteger(f,"hidden"),T=0===S,c.push({id:d,symbol:g,base:v,quote:b,baseId:p,quoteId:m,active:T,taker:f.fee/100,precision:y,limits:_,info:f});return r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:return s=n.market(e),o={pair:s.id},void 0!==t&&(o.limit=t),a.next=7,n.publicGetDepthPair(n.extend(o,r));case 7:if(u=a.sent,s.id in u){a.next=11;break}throw new c(n.id+" "+s.symbol+" order book is empty or not available");case 11:return d=u[s.id],a.abrupt("return",n.parseOrderBook(d));case 13:case"end":return a.stop()}}),i)})))()}fetchOrderBooks(e,t,r={}){var n=this;return i(a.mark((function i(){var s,o,u,d,f,l,h,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.loadMarkets();case 2:if(s=void 0,void 0!==e){a.next=10;break}if(!((s=n.ids.join("-")).length>2048)){a.next=8;break}throw o=n.ids.length,new c(n.id+" has "+o.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:a.next=12;break;case 10:s=(s=n.marketIds(e)).join("-");case 12:return u={pair:s},void 0!==t&&(u.limit=t),a.next=16,n.publicGetDepthPair(n.extend(u,r));case 16:for(d=a.sent,f={},s=Object.keys(d),l=0;l<s.length;l++)h=s[l],p=n.safeSymbol(h),f[p]=n.parseOrderBook(d[h]);return a.abrupt("return",f);case 21:case"end":return a.stop()}}),i)})))()}parseTicker(e,t){var r=this.safeTimestamp(e,"updated"),n=void 0;void 0!==t&&(n=t.symbol);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}fetchTickers(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c,d,f,l,h,p,m,v,b;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:if(i=r.ids,void 0!==e){n.next=11;break}if(s=i.length,i=i.join("-"),o=r.safeInteger(r.options,"fetchTickersMaxLength",2048),!(i.length>r.options.fetchTickersMaxLength)){n.next=9;break}throw new u(r.id+" has "+s.toString()+" markets exceeding max URL length for this endpoint ("+o.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers");case 9:n.next=13;break;case 11:i=(i=r.marketIds(e)).join("-");case 13:return c={pair:i},n.next=16,r.publicGetTickerPair(r.extend(c,t));case 16:for(d=n.sent,f={},l=Object.keys(d),h=0;h<l.length;h++)p=l[h],m=d[p],v=r.safeMarket(p),b=v.symbol,f[b]=r.parseTicker(m,v);return n.abrupt("return",r.filterByArray(f,"symbol",e));case 21:case"end":return n.stop()}}),n)})))()}fetchTicker(e,t={}){var r=this;return i(a.mark((function n(){var i;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTickers([e],t);case 2:return i=n.sent,n.abrupt("return",i[e]);case 4:case"end":return n.stop()}}),n)})))()}parseTrade(e,t){var r=this.safeTimestamp(e,"timestamp"),n=this.safeString(e,"type");"ask"===n?n="sell":"bid"===n&&(n="buy");var a=this.safeFloat2(e,"rate","price"),i=this.safeString2(e,"trade_id","tid"),s=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),u=this.safeFloat(e,"amount"),d=void 0,f=this.safeFloat(e,"commission");if(void 0!==f){var l=this.safeString(e,"commissionCurrency");d={cost:f,currency:this.safeCurrencyCode(l)}}void 0!==this.safeValue(e,"is_your_order")&&void 0===d&&(d=this.calculateFee(c,"limit",n,u,a,"taker"));var h=void 0;return void 0!==u&&void 0!==a&&(h=u*a),{id:i,order:s,timestamp:r,datetime:this.iso8601(r),symbol:c,type:"limit",side:n,takerOrMaker:void 0,price:a,amount:u,cost:h,fee:d,info:e}}fetchTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.limit=r),a.next=7,s.publicGetTradesPair(s.extend(c,n));case 7:if(u=a.sent,!Array.isArray(u)){a.next=12;break}if(0!==u.length){a.next=12;break}return a.abrupt("return",[]);case 12:return a.abrupt("return",s.parseTrades(u[o.id],o,t,r));case 13:case"end":return a.stop()}}),i)})))()}createOrder(e,t,r,n,s,o={}){var u=this;return i(a.mark((function i(){var d,f,l,h,p,m,v,b;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("market"!==t){a.next=2;break}throw new c(u.id+" allows limit orders only");case 2:return a.next=4,u.loadMarkets();case 4:return d=u.market(e),f={pair:d.id,type:r,amount:u.amountToPrecision(e,n),rate:u.priceToPrecision(e,s)},s=parseFloat(s),n=parseFloat(n),a.next=10,u.privatePostTrade(u.extend(f,o));case 10:return l=a.sent,h=void 0,p="open",m=0,v=n,"return"in l&&("0"===(h=u.safeString(l.return,"order_id"))&&(h=u.safeString(l.return,"init_order_id"),p="closed"),m=u.safeFloat(l.return,"received",0),v=u.safeFloat(l.return,"remains",n)),b=u.milliseconds(),a.abrupt("return",{id:h,timestamp:b,datetime:u.iso8601(b),lastTradeTimestamp:void 0,status:p,symbol:e,type:t,side:r,price:s,cost:s*m,amount:n,remaining:v,filled:m,fee:void 0,info:l,clientOrderId:void 0,average:void 0,trades:void 0});case 18:case"end":return a.stop()}}),i)})))()}cancelOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:parseInt(e)},t.next=5,n.privatePostCancelOrder(n.extend(i,r));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"open"},e,e)}parseOrder(e,t){var r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeTimestamp(e,"timestamp_created"),i=this.safeString(e,"pair"),s=this.safeSymbol(i,t),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"start_amount"),u=this.safeFloat(e,"rate"),d=void 0,f=void 0;void 0!==c&&void 0!==o&&(f=u*(d=Math.max(0,c-o)));var l=this.safeString(e,"type");return{info:e,id:r,clientOrderId:void 0,symbol:s,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:l,price:u,stopPrice:void 0,cost:f,amount:c,remaining:o,filled:d,status:n,fee:void 0,average:void 0,trades:void 0}}fetchOrder(e,t,r={}){var n=this;return i(a.mark((function t(){var i,s,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadMarkets();case 2:return i={order_id:parseInt(e)},t.next=5,n.privatePostOrderInfo(n.extend(i,r));case 5:return s=t.sent,e=e.toString(),o=n.safeValue(s,"return",{}),t.abrupt("return",n.parseOrder(n.extend({id:e},o[e])));case 9:case"end":return t.stop()}}),t)})))()}fetchOpenOrders(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,d,f,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new u(s.id+" fetchOpenOrders() requires a symbol argument");case 2:return a.next=4,s.loadMarkets();case 4:return o={},c=void 0,void 0!==e&&(d=s.market(e),o.pair=d.id),a.next=9,s.privatePostActiveOrders(s.extend(o,n));case 9:return f=a.sent,l=s.safeValue(f,"return",[]),a.abrupt("return",s.parseOrders(l,c,t,r));case 12:case"end":return a.stop()}}),i)})))()}fetchMyTrades(e,t,r,n={}){var s=this;return i(a.mark((function i(){var o,c,d,f,l,h,p,m,v;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}throw new u(s.id+" fetchMyTrades() requires a `symbol` argument");case 2:return a.next=4,s.loadMarkets();case 4:return o=s.market(e),c={pair:o.id},void 0!==r&&(c.count=parseInt(r)),void 0!==t&&(c.since=parseInt(t/1e3)),a.next=10,s.privatePostTradeHistory(s.extend(c,n));case 10:for(d=a.sent,f=s.safeValue(d,"return",{}),l=Object.keys(f),h=[],p=0;p<l.length;p++)m=l[p],v=s.parseTrade(s.extend(f[m],{trade_id:m}),o),h.push(v);return a.abrupt("return",s.filterBySymbolSinceLimit(h,e,t,r));case 16:case"end":return a.stop()}}),i)})))()}createDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={need_new:1},n.next=3,r.fetchDepositAddress(e,r.extend(i,t));case 3:return s=n.sent,o=r.safeString(s,"address"),r.checkAddress(o),n.abrupt("return",{currency:e,address:o,tag:void 0,info:s.info});case 7:case"end":return n.stop()}}),n)})))()}fetchDepositAddress(e,t={}){var r=this;return i(a.mark((function n(){var i,s,o,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i=r.currency(e),s={coinName:i.id,need_new:0},n.next=6,r.privatePostGetDepositAddress(r.extend(s,t));case 6:return o=n.sent,c=r.safeString(o.return,"address"),r.checkAddress(c),n.abrupt("return",{currency:e,address:c,tag:void 0,info:o});case 10:case"end":return n.stop()}}),n)})))()}withdraw(e,t,r,n,s={}){var o=this;return i(a.mark((function i(){var u,d,f;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o.checkAddress(r),a.next=3,o.loadMarkets();case 3:if(u=o.currency(e),d={coinName:u.id,amount:t,address:r},void 0===n){a.next=7;break}throw new c(o.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");case 7:return a.next=9,o.privatePostWithdrawCoinsToAddress(o.extend(d,s));case 9:return f=a.sent,a.abrupt("return",{info:f,id:void 0});case 11:case"end":return a.stop()}}),i)})))()}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api[t],o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce();i=this.urlencode(this.extend({nonce:c,method:e},o));var u=this.hmac(this.encode(i),this.encode(this.secret),"sha512");a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:u}}else"public"===t?(s+="/"+this.version+"/"+this.implodeParams(e,n),Object.keys(o).length&&(s+="?"+this.urlencode(o))):(s+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(s+="?"+this.urlencode(o)):Object.keys(o).length&&(i=this.json(o),a={"Content-Type":"application/json"}));return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s&&"success"in s){var d=this.safeValue(s,"success",!1);if("string"===typeof d&&(d="true"===d||"1"===d),!d){var f=this.safeString(s,"code"),l=this.safeString(s,"error"),h=this.id+" "+i;throw this.throwExactlyMatchedException(this.exceptions.exact,f,h),this.throwExactlyMatchedException(this.exceptions.exact,l,h),this.throwBroadlyMatchedException(this.exceptions.broad,l,h),new c(h)}}}}},function(e,t,r){"use strict";var n=r(0),a=r(17),i=r(5),s=r(7),o=r(6),c=o.ExchangeError,u=o.BadRequest;e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:.001,maker:0}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},options:{fees:{"BTC/JPY":{maker:0,taker:0},"BCH/JPY":{maker:0,taker:.003},"BCH/BTC":{maker:0,taker:.003},"PEPECASH/JPY":{maker:0,taker:1e-4},"PEPECASH/BT":{maker:0,taker:1e-4}}},exceptions:{exact:{"unsupported currency_pair":u},broad:{}}})}fetchMarkets(e={}){var t=this;return i(n.mark((function r(){var i,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.publicGetCurrencyPairsAll(e);case 2:for(i=r.sent,s=[],o=0;o<i.length;o++)c=i[o],u=t.safeString(c,"currency_pair"),d=t.safeString(c,"name"),f=d.split("/"),l=a(f,2),h=l[0],p=l[1],m=t.safeCurrencyCode(h),v=t.safeCurrencyCode(p),b=m+"/"+v,g={amount:-Math.log10(c.item_unit_step),price:c.aux_unit_point},y=t.safeValue(t.options.fees,b,t.fees.trading),w=y.taker,k=y.maker,s.push({id:u,symbol:b,base:m,quote:v,baseId:h,quoteId:p,active:!0,precision:g,taker:w,maker:k,limits:{amount:{min:t.safeFloat(c,"item_unit_min"),max:void 0},price:{min:t.safeFloat(c,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:c});return r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}fetchBalance(e={}){var t=this;return i(n.mark((function r(){var a,i,s,o,c,u,d,f,l,h;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadMarkets();case 2:return r.next=4,t.privatePostGetInfo(e);case 4:for(a=r.sent,i=t.safeValue(a,"return",{}),s={info:a},o=t.safeValue(i,"funds",{}),c=Object.keys(o),u=0;u<c.length;u++)d=c[u],f=t.safeCurrencyCode(d),l=t.safeValue(o,d),h={free:l,used:0,total:l},"deposit"in i&&d in i.deposit&&(h.total=t.safeFloat(i.deposit,d),h.used=h.total-h.free),s[f]=h;return r.abrupt("return",t.parseBalance(s));case 11:case"end":return r.stop()}}),r)})))()}fetchOrderBook(e,t,r={}){var a=this;return i(n.mark((function t(){var i,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.loadMarkets();case 2:return i={pair:a.marketId(e)},t.next=5,a.publicGetDepthPair(a.extend(i,r));case 5:return s=t.sent,t.abrupt("return",a.parseOrderBook(s));case 7:case"end":return t.stop()}}),t)})))()}fetchTicker(e,t={}){var r=this;return i(n.mark((function a(){var i,s,o,c,u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loadMarkets();case 2:return i={pair:r.marketId(e)},n.next=5,r.publicGetTickerPair(r.extend(i,t));case 5:return s=n.sent,o=r.milliseconds(),c=r.safeFloat(s,"vwap"),u=r.safeFloat(s,"volume"),d=void 0,void 0!==u&&void 0!==c&&(d=u*c),f=r.safeFloat(s,"last"),n.abrupt("return",{symbol:e,timestamp:o,datetime:r.iso8601(o),high:r.safeFloat(s,"high"),low:r.safeFloat(s,"low"),bid:r.safeFloat(s,"bid"),bidVolume:void 0,ask:r.safeFloat(s,"ask"),askVolume:void 0,vwap:c,open:void 0,close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:d,info:s});case 13:case"end":return n.stop()}}),a)})))()}parseTrade(e,t){var r=this.safeString(e,"trade_type");r="bid"===r?"buy":"sell";var n=this.safeTimestamp(e,"date"),a=this.safeString2(e,"id","tid"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=void 0;void 0!==i&&void 0!==s&&(o=s*i);var c=this.safeString(e,"currency_pair"),u=this.safeSymbol(c,t,"_");return{id:a,info:e,timestamp:n,datetime:this.iso8601(n),symbol:u,type:void 0,side:r,order:void 0,takerOrMaker:void 0,price:i,amount:s,cost:o,fee:void 0}}fetchTrades(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=s.market(e),c={pair:o.id},n.next=6,s.publicGetTradesPair(s.extend(c,a));case 6:return u=n.sent,1===u.length&&(d=u[0],Object.keys(d).length||(u=[])),n.abrupt("return",s.parseTrades(u,o,t,r));case 10:case"end":return n.stop()}}),i)})))()}createOrder(e,t,r,a,s,o={}){var u=this;return i(n.mark((function i(){var d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.loadMarkets();case 2:if("limit"===t){n.next=4;break}throw new c(u.id+" allows limit orders only");case 4:return d={currency_pair:u.marketId(e),action:"buy"===r?"bid":"ask",amount:a,price:s},n.next=7,u.privatePostTrade(u.extend(d,o));case 7:return f=n.sent,n.abrupt("return",{info:f,id:f.return.order_id.toString()});case 9:case"end":return n.stop()}}),i)})))()}cancelOrder(e,t,r={}){var a=this;return i(n.mark((function t(){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={order_id:e},t.next=3,a.privatePostCancelOrder(a.extend(i,r));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}parseOrder(e,t){var r=this.safeString(e,"action");r="bid"===r?"buy":"sell";var n=this.safeTimestamp(e,"timestamp"),a=this.safeString(e,"currency_pair"),i=this.safeSymbol(a,t,"_"),s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;return void 0!==s&&void 0!==o&&(c=s*o),{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:"open",symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:s,stopPrice:void 0,cost:c,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,info:e,average:void 0}}fetchOpenOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.currency_pair=o.id),n.next=7,s.privatePostActiveOrders(s.extend(c,a));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u.return,o,t,r));case 9:case"end":return n.stop()}}),i)})))()}fetchClosedOrders(e,t,r,a={}){var s=this;return i(n.mark((function i(){var o,c,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadMarkets();case 2:return o=void 0,c={},void 0!==e&&(o=s.market(e),c.currency_pair=o.id),n.next=7,s.privatePostTradeHistory(s.extend(c,a));case 7:return u=n.sent,n.abrupt("return",s.parseOrders(u.return,o,t,r));case 9:case"end":return n.stop()}}),i)})))()}withdraw(e,t,r,a,s={}){var o=this;return i(n.mark((function i(){var u,d,f;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.checkAddress(r),n.next=3,o.loadMarkets();case 3:if(u=o.currency(e),"JPY"!==e){n.next=6;break}throw new c(o.id+" withdraw() does not allow "+e+" withdrawals");case 6:return d={currency:u.id,amount:t,address:r},void 0!==a&&(d.message=a),n.next=10,o.privatePostWithdraw(o.extend(d,s));case 10:return f=n.sent,n.abrupt("return",{info:f,id:f.return.txid,fee:f.return.fee});case 12:case"end":return n.stop()}}),i)})))()}nonce(){return parseFloat(this.milliseconds()/1e3).toFixed(8)}sign(e,t="public",r="GET",n={},a,i){var s=this.urls.api+"/";if("public"===t)s+="api/"+this.version+"/"+this.implodeParams(e,n);else if("fapi"===t)s+="fapi/"+this.version+"/"+this.implodeParams(e,n);else{this.checkRequiredCredentials(),s+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";var o=this.nonce();i=this.urlencode(this.extend({method:e,nonce:o},n)),a={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:i,headers:a}}handleErrors(e,t,r,n,a,i,s,o,u){if(void 0!==s){var d=this.id+" "+i,f=this.safeString(s,"error");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions.exact,f,d),this.throwBroadlyMatchedException(this.exceptions.broad,f,d),new c(d);if(!this.safeValue(s,"success",!0))throw new c(d)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=i(r(4)),a=i(r(592));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){function t(){var e,r;u(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return m(h(r=f(this,(e=l(t)).call.apply(e,[this].concat(s)))),"onClick",(function(e){var t=r.props,i=t.text,s=t.onCopy,o=t.children,c=t.options,u=n.default.Children.only(o),d=(0,a.default)(i,c);s&&s(i,d),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(e)})),r}var r,i,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),r=t,(i=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=c(e,["text","onCopy","options","children"]),a=n.default.Children.only(t);return n.default.cloneElement(a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{onClick:this.onClick}))}}])&&d(r.prototype,i),s&&d(r,s),t}(n.default.PureComponent);t.CopyToClipboard=v,m(v,"defaultProps",{onCopy:void 0,options:void 0})},function(e,t,r){"use strict";var n=r(593),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,i,s,o,c,u,d=!1;t||(t={}),r=t.debug||!1;try{if(s=n(),o=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=a[t.format]||a.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(u),o.selectNodeContents(u),c.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(f){r&&console.error("unable to copy using execCommand: ",f),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(o):c.removeAllRanges()),u&&document.body.removeChild(u),s()}return d}},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e){e.exports=JSON.parse('{"_args":[["web3@1.3.4","C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor"]],"_from":"web3@1.3.4","_id":"web3@1.3.4","_inBundle":false,"_integrity":"sha512-D6cMb2EtTMLHgdGbkTPGl/Qi7DAfczR+Lp7iFX3bcu/bsD9V8fZW69hA8v5cRPNGzXUwVQebk3bS17WKR4cD2w==","_location":"/web3","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"web3@1.3.4","name":"web3","escapedName":"web3","rawSpec":"1.3.4","saveSpec":null,"fetchSpec":"1.3.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/web3/-/web3-1.3.4.tgz","_spec":"1.3.4","_where":"C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor","author":{"name":"ethereum.org"},"authors":[{"name":"Fabian Vogelsteller","email":"fabian@ethereum.org","homepage":"http://frozeman.de"},{"name":"Marek Kotewicz","email":"marek@parity.io","url":"https://github.com/debris"},{"name":"Marian Oancea","url":"https://github.com/cubedro"},{"name":"Gav Wood","email":"g@parity.io","homepage":"http://gavwood.com"},{"name":"Jeffery Wilcke","email":"jeffrey.wilcke@ethereum.org","url":"https://github.com/obscuren"}],"bugs":{"url":"https://github.com/ethereum/web3.js/issues"},"dependencies":{"web3-bzz":"1.3.4","web3-core":"1.3.4","web3-eth":"1.3.4","web3-eth-personal":"1.3.4","web3-net":"1.3.4","web3-shh":"1.3.4","web3-utils":"1.3.4"},"description":"Ethereum JavaScript API","devDependencies":{"@types/node":"^12.12.6","dtslint":"^3.4.1","typescript":"^3.9.5"},"engines":{"node":">=8.0.0"},"gitHead":"f6d60bd5ec70a932d8b7bc2cbb6a577a2fd22919","homepage":"https://github.com/ethereum/web3.js#readme","keywords":["Ethereum","JavaScript","API"],"license":"LGPL-3.0","main":"lib/index.js","name":"web3","repository":{"type":"git","url":"git+https://github.com/ethereum/web3.js.git"},"scripts":{"dtslint":"dtslint --localTs ../../node_modules/typescript/lib types","tsc":"tsc -b tsconfig.json"},"types":"types/index.d.ts","version":"1.3.4"}')},function(e,t,r){"use strict";var n=r(112).callbackify,a=r(25),i=r(23).errors,s=r(212),o=r(609),c=r(610),u=function e(t,r){this.provider=null,this.providers=e.providers,this.setProvider(t,r),this.subscriptions=new Map};u.givenProvider=c,u.providers={WebsocketProvider:r(611),HttpProvider:r(618),IpcProvider:r(626)},u.prototype.setProvider=function(e,t){var r=this;if(e&&"string"===typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))e=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))e=new this.providers.WebsocketProvider(e);else if(e&&"object"===typeof t&&"function"===typeof t.connect)e=new this.providers.IpcProvider(e,t);else if(e)throw new Error("Can't autodetect provider for \""+e+'"');if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=e||null,this.provider&&this.provider.on){"function"===typeof e.request?this.provider.on("message",(function(e){if(e&&"eth_subscription"===e.type&&e.data){var t=e.data;t.subscription&&r.subscriptions.has(t.subscription)&&r.subscriptions.get(t.subscription).callback(null,t.result)}})):this.provider.on("data",(function(e,t){(e=e||t).method&&e.params&&e.params.subscription&&r.subscriptions.has(e.params.subscription)&&r.subscriptions.get(e.params.subscription).callback(null,e.params.result)})),this.provider.on("connect",(function(){r.subscriptions.forEach((function(e){e.subscription.resubscribe()}))})),this.provider.on("error",(function(e){r.subscriptions.forEach((function(t){t.callback(e)}))}));var n=function(e){r._isCleanCloseEvent(e)&&!r._isIpcCloseError(e)||(r.subscriptions.forEach((function(t){t.callback(i.ConnectionCloseError(e)),r.subscriptions.delete(t.subscription.id)})),r.provider&&r.provider.emit&&r.provider.emit("error",i.ConnectionCloseError(e))),r.provider&&r.provider.emit&&r.provider.emit("end",e)};this.provider.on("close",n),this.provider.on("disconnect",n)}},u.prototype.send=function(e,t){if(t=t||function(){},!this.provider)return t(i.InvalidProvider());var r=e.method,a=e.params,o=s.toPayload(r,a),c=this._jsonrpcResultCallback(t,o);if(this.provider.request)n(this.provider.request.bind(this.provider))({method:r,params:a},t);else if(this.provider.sendAsync)this.provider.sendAsync(o,c);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(o,c)}},u.prototype.sendBatch=function(e,t){if(!this.provider)return t(i.InvalidProvider());var r=s.toBatchPayload(e);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,(function(e,r){return e?t(e):a.isArray(r)?void t(null,r):t(i.InvalidResponse(r))}))},u.prototype.addSubscription=function(e,t){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(e.id,{callback:t,subscription:e})},u.prototype.removeSubscription=function(e,t){if(this.subscriptions.has(e)){var r=this.subscriptions.get(e).subscription.options.type;return this.subscriptions.delete(e),void this.send({method:r+"_unsubscribe",params:[e]},t)}"function"===typeof t&&t(null)},u.prototype.clearSubscriptions=function(e){try{var t=this;return this.subscriptions.size>0&&this.subscriptions.forEach((function(r,n){e&&"syncing"===r.name||t.removeSubscription(n)})),this.provider.reset&&this.provider.reset(),!0}catch(r){throw new Error("Error while clearing subscriptions: ".concat(r))}},u.prototype._isCleanCloseEvent=function(e){return"object"===typeof e&&([1e3].includes(e.code)||!0===e.wasClean)},u.prototype._isIpcCloseError=function(e){return"boolean"===typeof e&&e},u.prototype._jsonrpcResultCallback=function(e,t){return function(r,n){return n&&n.id&&t.id!==n.id?e(new Error("Wrong response id ".concat(n.id," (expected: ").concat(t.id,") in ").concat(JSON.stringify(t)))):r?e(r):n&&n.error?e(i.ErrorResponse(n)):s.isValidResponse(n)?void e(null,n.result):e(i.InvalidResponse(n))}},e.exports={Manager:u,BatchManager:o}},function(e,t,r){"use strict";e.exports={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return"object"===typeof e&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){var r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+"\" doesn't exist in this contract.")},ContractReservedEventError:function(e){return new Error('The event "'+e+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}}},function(e,t,r){"use strict";var n=r(598),a=r(25),i=r(30),s=r(211),o=function(e){return i.toBN(e).toString(10)},c=function(e){if(void 0!==e)return function(e){return"latest"===e||"pending"===e||"earliest"===e}(e)?e:"genesis"===e?"0x0":i.isHexStrict(e)?a.isString(e)?e.toLowerCase():e:i.numberToHex(e)},u=function(e){if(e.to&&(e.to=l(e.to)),e.data&&e.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!i.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),["gasPrice","gas","value","nonce"].filter((function(t){return void 0!==e[t]})).forEach((function(t){e[t]=i.numberToHex(e[t])})),e},d=function(e){return null!==e.blockNumber&&(e.blockNumber=i.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=i.hexToNumber(e.transactionIndex)),e.nonce=i.hexToNumber(e.nonce),e.gas=i.hexToNumber(e.gas),e.gasPrice=o(e.gasPrice),e.value=o(e.value),e.to&&i.isAddress(e.to)?e.to=i.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=i.toChecksumAddress(e.from)),e},f=function(e){if("string"===typeof e.blockHash&&"string"===typeof e.transactionHash&&"string"===typeof e.logIndex){var t=i.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").substr(0,8)}else e.id||(e.id=null);return null!==e.blockNumber&&(e.blockNumber=i.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=i.hexToNumber(e.transactionIndex)),null!==e.logIndex&&(e.logIndex=i.hexToNumber(e.logIndex)),e.address&&(e.address=i.toChecksumAddress(e.address)),e},l=function(e){var t=new s(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(i.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error("Provided address ".concat(e," is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted."))};e.exports={inputDefaultBlockNumberFormatter:function(e){return c(!this||void 0!==e&&null!==e?e:this.defaultBlock)},inputBlockNumberFormatter:c,inputCallFormatter:function(e){var t=(e=u(e)).from||(this?this.defaultAccount:null);return t&&(e.from=l(t)),e},inputTransactionFormatter:function(e){if(e=u(e),!a.isNumber(e.from)&&!a.isObject(e.from)){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&!a.isNumber(e.from))throw new Error('The send transactions "from" field must be defined!');e.from=l(e.from)}return e},inputAddressFormatter:l,inputPostFormatter:function(e){return e.ttl&&(e.ttl=i.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=i.numberToHex(e.workToProve)),e.priority&&(e.priority=i.numberToHex(e.priority)),a.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map((function(e){return 0===e.indexOf("0x")?e:i.fromUtf8(e)})),e},inputLogFormatter:function(e){var t=function(e){return null===e||"undefined"===typeof e?null:0===(e=String(e)).indexOf("0x")?e:i.fromUtf8(e)};return void 0===e&&(e={}),void 0===e.fromBlock&&(e=n(n({},e),{},{fromBlock:"latest"})),(e.fromBlock||0===e.fromBlock)&&(e.fromBlock=c(e.fromBlock)),(e.toBlock||0===e.toBlock)&&(e.toBlock=c(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map((function(e){return a.isArray(e)?e.map(t):t(e)})),t=null,e.address&&(e.address=a.isArray(e.address)?e.address.map((function(e){return l(e)})):l(e.address)),e},inputSignFormatter:function(e){return i.isHexStrict(e)?e:i.utf8ToHex(e)},inputStorageKeysFormatter:function(e){return e.map(i.numberToHex)},outputProofFormatter:function(e){return e.address=i.toChecksumAddress(e.address),e.nonce=i.hexToNumberString(e.nonce),e.balance=i.hexToNumberString(e.balance),e},outputBigNumberFormatter:o,outputTransactionFormatter:d,outputTransactionReceiptFormatter:function(e){if("object"!==typeof e)throw new Error("Received receipt is invalid: "+e);return null!==e.blockNumber&&(e.blockNumber=i.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=i.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=i.hexToNumber(e.cumulativeGasUsed),e.gasUsed=i.hexToNumber(e.gasUsed),a.isArray(e.logs)&&(e.logs=e.logs.map(f)),e.contractAddress&&(e.contractAddress=i.toChecksumAddress(e.contractAddress)),"undefined"!==typeof e.status&&null!==e.status&&(e.status=Boolean(parseInt(e.status))),e},outputBlockFormatter:function(e){return e.gasLimit=i.hexToNumber(e.gasLimit),e.gasUsed=i.hexToNumber(e.gasUsed),e.size=i.hexToNumber(e.size),e.timestamp=i.hexToNumber(e.timestamp),null!==e.number&&(e.number=i.hexToNumber(e.number)),e.difficulty&&(e.difficulty=o(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=o(e.totalDifficulty)),a.isArray(e.transactions)&&e.transactions.forEach((function(e){if(!a.isString(e))return d(e)})),e.miner&&(e.miner=i.toChecksumAddress(e.miner)),e},outputLogFormatter:f,outputPostFormatter:function(e){return e.expiry=i.hexToNumber(e.expiry),e.sent=i.hexToNumber(e.sent),e.ttl=i.hexToNumber(e.ttl),e.workProved=i.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map((function(e){return i.toUtf8(e)})),e},outputSyncingFormatter:function(e){return e.startingBlock=i.hexToNumber(e.startingBlock),e.currentBlock=i.hexToNumber(e.currentBlock),e.highestBlock=i.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=i.hexToNumber(e.knownStates),e.pulledStates=i.hexToNumber(e.pulledStates)),e}}},function(e,t,r){var n=r(599);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(601),a=r(207),i=new n(0),s=new n(-1),o={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",r=o[t];if("string"!==typeof r)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(o,null,2));return new n(r,10)}function u(e){if("string"===typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"===typeof e)return String(e);if("object"===typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}e.exports={unitMap:o,numberToString:u,getValueOfUnit:c,fromWei:function(e,t,r){var n=a(e),u=n.lt(i),d=c(t),f=o[t].length-1||1,l=r||{};u&&(n=n.mul(s));for(var h=n.mod(d).toString(10);h.length<f;)h="0"+h;l.pad||(h=h.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=n.div(d).toString(10);l.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==h?"":"."+h);return u&&(m="-"+m),m},toWei:function(e,t){var r=u(e),a=c(t),i=o[t].length-1||1,d="-"===r.substring(0,1);if(d&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var f=r.split(".");if(f.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var l=f[0],h=f[1];if(l||(l="0"),h||(h="0"),h.length>i)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;h.length<i;)h+="0";l=new n(l),h=new n(h);var p=l.mul(a).add(h);return d&&(p=p.mul(s)),new n(p.toString(10),10)}}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=r(9).Buffer}catch(S){}function o(e,t,r){for(var n=0,a=Math.min(e.length,r),i=t;i<a;i++){var s=e.charCodeAt(i)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(e,t,r,n){for(var a=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;a*=n,a+=o>=49?o-49+10:o>=17?o-17+10:o}return a}i.isBN=function(e){return e instanceof i||null!==e&&"object"===typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a,i=0;for(r=e.length-6,n=0;r>=t;r-=6)a=o(e,r,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,n++);r+6!==t&&(a=o(e,t,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,u=0,d=r;d<o;d+=n)u=c(e,d,d+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(a=0|e.words[p])*(i=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(i),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[o]=s;for(;o<i;o++)u[o]=0}else{for(o=0;o<i-a;o++)u[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[i-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,v=0|s[2],b=8191&v,g=v>>>13,y=0|s[3],w=8191&y,k=y>>>13,x=0|s[4],_=8191&x,S=x>>>13,T=0|s[5],O=8191&T,A=T>>>13,M=0|s[6],E=8191&M,C=M>>>13,I=0|s[7],F=8191&I,P=I>>>13,B=0|s[8],R=8191&B,L=B>>>13,N=0|s[9],D=8191&N,V=N>>>13,j=0|o[0],U=8191&j,q=j>>>13,G=0|o[1],H=8191&G,z=G>>>13,K=0|o[2],J=8191&K,X=K>>>13,W=0|o[3],Z=8191&W,Y=W>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(u+(n=Math.imul(f,U))|0)+((8191&(a=(a=Math.imul(f,q))+Math.imul(l,U)|0))<<13)|0;u=((i=Math.imul(l,q))+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,U),a=(a=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var be=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(a=(a=a+Math.imul(f,z)|0)+Math.imul(l,H)|0))<<13)|0;u=((i=i+Math.imul(l,z)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,U),a=(a=Math.imul(b,q))+Math.imul(g,U)|0,i=Math.imul(g,q),n=n+Math.imul(p,H)|0,a=(a=a+Math.imul(p,z)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,z)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,X)|0)+Math.imul(l,J)|0))<<13)|0;u=((i=i+Math.imul(l,X)|0)+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),a=(a=Math.imul(w,q))+Math.imul(k,U)|0,i=Math.imul(k,q),n=n+Math.imul(b,H)|0,a=(a=a+Math.imul(b,z)|0)+Math.imul(g,H)|0,i=i+Math.imul(g,z)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,X)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,X)|0;var ye=(u+(n=n+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(l,Z)|0))<<13)|0;u=((i=i+Math.imul(l,Y)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,U),a=(a=Math.imul(_,q))+Math.imul(S,U)|0,i=Math.imul(S,q),n=n+Math.imul(w,H)|0,a=(a=a+Math.imul(w,z)|0)+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,X)|0)+Math.imul(g,J)|0,i=i+Math.imul(g,X)|0,n=n+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((i=i+Math.imul(l,ee)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),a=(a=Math.imul(O,q))+Math.imul(A,U)|0,i=Math.imul(A,q),n=n+Math.imul(_,H)|0,a=(a=a+Math.imul(_,z)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,n=n+Math.imul(w,J)|0,a=(a=a+Math.imul(w,X)|0)+Math.imul(k,J)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(g,Z)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var ke=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(a=(a=a+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((i=i+Math.imul(l,ne)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(E,U),a=(a=Math.imul(E,q))+Math.imul(C,U)|0,i=Math.imul(C,q),n=n+Math.imul(O,H)|0,a=(a=a+Math.imul(O,z)|0)+Math.imul(A,H)|0,i=i+Math.imul(A,z)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,X)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,X)|0,n=n+Math.imul(w,Z)|0,a=(a=a+Math.imul(w,Y)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(g,$)|0,i=i+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,se)|0)+Math.imul(l,ie)|0))<<13)|0;u=((i=i+Math.imul(l,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,U),a=(a=Math.imul(F,q))+Math.imul(P,U)|0,i=Math.imul(P,q),n=n+Math.imul(E,H)|0,a=(a=a+Math.imul(E,z)|0)+Math.imul(C,H)|0,i=i+Math.imul(C,z)|0,n=n+Math.imul(O,J)|0,a=(a=a+Math.imul(O,X)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(S,Z)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(w,$)|0,a=(a=a+Math.imul(w,ee)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var _e=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((i=i+Math.imul(l,ue)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,U),a=(a=Math.imul(R,q))+Math.imul(L,U)|0,i=Math.imul(L,q),n=n+Math.imul(F,H)|0,a=(a=a+Math.imul(F,z)|0)+Math.imul(P,H)|0,i=i+Math.imul(P,z)|0,n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,X)|0)+Math.imul(C,J)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Y)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,a=(a=a+Math.imul(w,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(g,ie)|0,i=i+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((i=i+Math.imul(l,le)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,U),a=(a=Math.imul(D,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(R,H)|0,a=(a=a+Math.imul(R,z)|0)+Math.imul(L,H)|0,i=i+Math.imul(L,z)|0,n=n+Math.imul(F,J)|0,a=(a=a+Math.imul(F,X)|0)+Math.imul(P,J)|0,i=i+Math.imul(P,X)|0,n=n+Math.imul(E,Z)|0,a=(a=a+Math.imul(E,Y)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,Y)|0,n=n+Math.imul(O,$)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(w,ie)|0,a=(a=a+Math.imul(w,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,fe)|0,i=i+Math.imul(m,le)|0;var Te=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((i=i+Math.imul(l,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,H),a=(a=Math.imul(D,z))+Math.imul(V,H)|0,i=Math.imul(V,z),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,X)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,X)|0,n=n+Math.imul(F,Z)|0,a=(a=a+Math.imul(F,Y)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,Y)|0,n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(O,re)|0,a=(a=a+Math.imul(O,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,a=(a=a+Math.imul(w,ue)|0)+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,n=n+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(g,fe)|0,i=i+Math.imul(g,le)|0;var Oe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,J),a=(a=Math.imul(D,X))+Math.imul(V,J)|0,i=Math.imul(V,X),n=n+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(F,$)|0,a=(a=a+Math.imul(F,ee)|0)+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(w,fe)|0,a=(a=a+Math.imul(w,le)|0)+Math.imul(k,fe)|0,i=i+Math.imul(k,le)|0;var Ae=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((i=i+Math.imul(g,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Z),a=(a=Math.imul(D,Y))+Math.imul(V,Z)|0,i=Math.imul(V,Y),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,n=n+Math.imul(F,re)|0,a=(a=a+Math.imul(F,ne)|0)+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,ue)|0,n=n+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,le)|0)+Math.imul(S,fe)|0,i=i+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(a=(a=a+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((i=i+Math.imul(k,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,$),a=(a=Math.imul(D,ee))+Math.imul(V,$)|0,i=Math.imul(V,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,n=n+Math.imul(F,ie)|0,a=(a=a+Math.imul(F,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,i=i+Math.imul(C,ue)|0,n=n+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,le)|0;var Ee=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,re),a=(a=Math.imul(D,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,se)|0,n=n+Math.imul(F,ce)|0,a=(a=a+Math.imul(F,ue)|0)+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,n=n+Math.imul(E,fe)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(C,fe)|0,i=i+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(a=(a=a+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((i=i+Math.imul(A,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ie),a=(a=Math.imul(D,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,ue)|0,n=n+Math.imul(F,fe)|0,a=(a=a+Math.imul(F,le)|0)+Math.imul(P,fe)|0,i=i+Math.imul(P,le)|0;var Ie=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((i=i+Math.imul(C,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,ce),a=(a=Math.imul(D,ue))+Math.imul(V,ce)|0,i=Math.imul(V,ue),n=n+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,le)|0;var Fe=(u+(n=n+Math.imul(F,pe)|0)|0)+((8191&(a=(a=a+Math.imul(F,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((i=i+Math.imul(P,me)|0)+(a>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(D,fe),a=(a=Math.imul(D,le))+Math.imul(V,fe)|0,i=Math.imul(V,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((i=i+Math.imul(L,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(D,pe))|0)+((8191&(a=(a=Math.imul(D,me))+Math.imul(V,pe)|0))<<13)|0;return u=((i=Math.imul(V,me))+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ve,c[1]=be,c[2]=ge,c[3]=ye,c[4]=we,c[5]=ke,c[6]=xe,c[7]=_e,c[8]=Se,c[9]=Te,c[10]=Oe,c[11]=Ae,c[12]=Me,c[13]=Ee,c[14]=Ce,c[15]=Ie,c[16]=Fe,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=l),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?l(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var d=i-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<a;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=r[d+h],m=n[d+h],v=r[d+h+s],b=n[d+h+s],g=f*v-l*b;b=f*b+l*v,v=g,r[d+h]=p+v,n[d+h]=m+b,r[d+h+s]=p-v,n[d+h+s]=m-b,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},m.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0===(-8192&i))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,d,f,n,a);for(var h=0;h<n;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,n),this.transform(o,c,l,i,n,a),this.conjugate(l,i,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var a=(0|this.words[r])*e,i=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(e.words[n]&1<<a)>>>a}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"===typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=a);u--){var f=0|this.words[u];this.words[u]=d<<26-i|f>>>i,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this.strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,a=this.length-1;a>=0;a--)r=(t*r+(0|this.words[a]))%e;return r},i.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var a=(0|this.words[r])+67108864*t;this.words[r]=a/e|0,t=a%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0===(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0===(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},a(g,b),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(y,b),a(w,b),a(k,b),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new y;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return v[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,v=0;0!==m.cmp(o);v++)m=m.redSqr();n(v<p);var b=this.pow(f,new i(1).iushln(p-v-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=v}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},a(_,x),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(46)(e))},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=r(9).Buffer}catch(S){}function o(e,t,r){for(var n=0,a=Math.min(e.length,r),i=t;i<a;i++){var s=e.charCodeAt(i)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(e,t,r,n){for(var a=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;a*=n,a+=o>=49?o-49+10:o>=17?o-17+10:o}return a}i.isBN=function(e){return e instanceof i||null!==e&&"object"===typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a,i=0;for(r=e.length-6,n=0;r>=t;r-=6)a=o(e,r,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303,(i+=24)>=26&&(i-=26,n++);r+6!==t&&(a=o(e,t,r+6),this.words[n]|=a<<i&67108863,this.words[n+1]|=a>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,u=0,d=r;d<o;d+=n)u=c(e,d,d+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(a=0|e.words[p])*(i=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(i),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[o]=s;for(;o<i;o++)u[o]=0}else{for(o=0;o<i-a;o++)u[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[i-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,v=0|s[2],b=8191&v,g=v>>>13,y=0|s[3],w=8191&y,k=y>>>13,x=0|s[4],_=8191&x,S=x>>>13,T=0|s[5],O=8191&T,A=T>>>13,M=0|s[6],E=8191&M,C=M>>>13,I=0|s[7],F=8191&I,P=I>>>13,B=0|s[8],R=8191&B,L=B>>>13,N=0|s[9],D=8191&N,V=N>>>13,j=0|o[0],U=8191&j,q=j>>>13,G=0|o[1],H=8191&G,z=G>>>13,K=0|o[2],J=8191&K,X=K>>>13,W=0|o[3],Z=8191&W,Y=W>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(u+(n=Math.imul(f,U))|0)+((8191&(a=(a=Math.imul(f,q))+Math.imul(l,U)|0))<<13)|0;u=((i=Math.imul(l,q))+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,U),a=(a=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var be=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(a=(a=a+Math.imul(f,z)|0)+Math.imul(l,H)|0))<<13)|0;u=((i=i+Math.imul(l,z)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,U),a=(a=Math.imul(b,q))+Math.imul(g,U)|0,i=Math.imul(g,q),n=n+Math.imul(p,H)|0,a=(a=a+Math.imul(p,z)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,z)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(a=(a=a+Math.imul(f,X)|0)+Math.imul(l,J)|0))<<13)|0;u=((i=i+Math.imul(l,X)|0)+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),a=(a=Math.imul(w,q))+Math.imul(k,U)|0,i=Math.imul(k,q),n=n+Math.imul(b,H)|0,a=(a=a+Math.imul(b,z)|0)+Math.imul(g,H)|0,i=i+Math.imul(g,z)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,X)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,X)|0;var ye=(u+(n=n+Math.imul(f,Z)|0)|0)+((8191&(a=(a=a+Math.imul(f,Y)|0)+Math.imul(l,Z)|0))<<13)|0;u=((i=i+Math.imul(l,Y)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,U),a=(a=Math.imul(_,q))+Math.imul(S,U)|0,i=Math.imul(S,q),n=n+Math.imul(w,H)|0,a=(a=a+Math.imul(w,z)|0)+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,X)|0)+Math.imul(g,J)|0,i=i+Math.imul(g,X)|0,n=n+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(a=(a=a+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((i=i+Math.imul(l,ee)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),a=(a=Math.imul(O,q))+Math.imul(A,U)|0,i=Math.imul(A,q),n=n+Math.imul(_,H)|0,a=(a=a+Math.imul(_,z)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,n=n+Math.imul(w,J)|0,a=(a=a+Math.imul(w,X)|0)+Math.imul(k,J)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(b,Z)|0,a=(a=a+Math.imul(b,Y)|0)+Math.imul(g,Z)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var ke=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(a=(a=a+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((i=i+Math.imul(l,ne)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(E,U),a=(a=Math.imul(E,q))+Math.imul(C,U)|0,i=Math.imul(C,q),n=n+Math.imul(O,H)|0,a=(a=a+Math.imul(O,z)|0)+Math.imul(A,H)|0,i=i+Math.imul(A,z)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,X)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,X)|0,n=n+Math.imul(w,Z)|0,a=(a=a+Math.imul(w,Y)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(g,$)|0,i=i+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(f,ie)|0)|0)+((8191&(a=(a=a+Math.imul(f,se)|0)+Math.imul(l,ie)|0))<<13)|0;u=((i=i+Math.imul(l,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,U),a=(a=Math.imul(F,q))+Math.imul(P,U)|0,i=Math.imul(P,q),n=n+Math.imul(E,H)|0,a=(a=a+Math.imul(E,z)|0)+Math.imul(C,H)|0,i=i+Math.imul(C,z)|0,n=n+Math.imul(O,J)|0,a=(a=a+Math.imul(O,X)|0)+Math.imul(A,J)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(S,Z)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(w,$)|0,a=(a=a+Math.imul(w,ee)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var _e=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(a=(a=a+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((i=i+Math.imul(l,ue)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,U),a=(a=Math.imul(R,q))+Math.imul(L,U)|0,i=Math.imul(L,q),n=n+Math.imul(F,H)|0,a=(a=a+Math.imul(F,z)|0)+Math.imul(P,H)|0,i=i+Math.imul(P,z)|0,n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,X)|0)+Math.imul(C,J)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(O,Z)|0,a=(a=a+Math.imul(O,Y)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,Y)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,a=(a=a+Math.imul(w,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(g,ie)|0,i=i+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((i=i+Math.imul(l,le)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,U),a=(a=Math.imul(D,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(R,H)|0,a=(a=a+Math.imul(R,z)|0)+Math.imul(L,H)|0,i=i+Math.imul(L,z)|0,n=n+Math.imul(F,J)|0,a=(a=a+Math.imul(F,X)|0)+Math.imul(P,J)|0,i=i+Math.imul(P,X)|0,n=n+Math.imul(E,Z)|0,a=(a=a+Math.imul(E,Y)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,Y)|0,n=n+Math.imul(O,$)|0,a=(a=a+Math.imul(O,ee)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(w,ie)|0,a=(a=a+Math.imul(w,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,fe)|0,i=i+Math.imul(m,le)|0;var Te=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((i=i+Math.imul(l,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,H),a=(a=Math.imul(D,z))+Math.imul(V,H)|0,i=Math.imul(V,z),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,X)|0)+Math.imul(L,J)|0,i=i+Math.imul(L,X)|0,n=n+Math.imul(F,Z)|0,a=(a=a+Math.imul(F,Y)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,Y)|0,n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(O,re)|0,a=(a=a+Math.imul(O,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,a=(a=a+Math.imul(w,ue)|0)+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,n=n+Math.imul(b,fe)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(g,fe)|0,i=i+Math.imul(g,le)|0;var Oe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,J),a=(a=Math.imul(D,X))+Math.imul(V,J)|0,i=Math.imul(V,X),n=n+Math.imul(R,Z)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(F,$)|0,a=(a=a+Math.imul(F,ee)|0)+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(O,ie)|0,a=(a=a+Math.imul(O,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(w,fe)|0,a=(a=a+Math.imul(w,le)|0)+Math.imul(k,fe)|0,i=i+Math.imul(k,le)|0;var Ae=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((i=i+Math.imul(g,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Z),a=(a=Math.imul(D,Y))+Math.imul(V,Z)|0,i=Math.imul(V,Y),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,n=n+Math.imul(F,re)|0,a=(a=a+Math.imul(F,ne)|0)+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(O,ce)|0,a=(a=a+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,i=i+Math.imul(A,ue)|0,n=n+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,le)|0)+Math.imul(S,fe)|0,i=i+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(a=(a=a+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((i=i+Math.imul(k,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,$),a=(a=Math.imul(D,ee))+Math.imul(V,$)|0,i=Math.imul(V,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,n=n+Math.imul(F,ie)|0,a=(a=a+Math.imul(F,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,i=i+Math.imul(C,ue)|0,n=n+Math.imul(O,fe)|0,a=(a=a+Math.imul(O,le)|0)+Math.imul(A,fe)|0,i=i+Math.imul(A,le)|0;var Ee=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,re),a=(a=Math.imul(D,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(L,ie)|0,i=i+Math.imul(L,se)|0,n=n+Math.imul(F,ce)|0,a=(a=a+Math.imul(F,ue)|0)+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,n=n+Math.imul(E,fe)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(C,fe)|0,i=i+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(a=(a=a+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((i=i+Math.imul(A,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ie),a=(a=Math.imul(D,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,i=i+Math.imul(L,ue)|0,n=n+Math.imul(F,fe)|0,a=(a=a+Math.imul(F,le)|0)+Math.imul(P,fe)|0,i=i+Math.imul(P,le)|0;var Ie=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((i=i+Math.imul(C,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,ce),a=(a=Math.imul(D,ue))+Math.imul(V,ce)|0,i=Math.imul(V,ue),n=n+Math.imul(R,fe)|0,a=(a=a+Math.imul(R,le)|0)+Math.imul(L,fe)|0,i=i+Math.imul(L,le)|0;var Fe=(u+(n=n+Math.imul(F,pe)|0)|0)+((8191&(a=(a=a+Math.imul(F,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((i=i+Math.imul(P,me)|0)+(a>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(D,fe),a=(a=Math.imul(D,le))+Math.imul(V,fe)|0,i=Math.imul(V,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((i=i+Math.imul(L,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(D,pe))|0)+((8191&(a=(a=Math.imul(D,me))+Math.imul(V,pe)|0))<<13)|0;return u=((i=Math.imul(V,me))+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ve,c[1]=be,c[2]=ge,c[3]=ye,c[4]=we,c[5]=ke,c[6]=xe,c[7]=_e,c[8]=Se,c[9]=Te,c[10]=Oe,c[11]=Ae,c[12]=Me,c[13]=Ee,c[14]=Ce,c[15]=Ie,c[16]=Fe,c[17]=Pe,c[18]=Be,0!==u&&(c[19]=u,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=l),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?l(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var d=i-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<a;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=r[d+h],m=n[d+h],v=r[d+h+s],b=n[d+h+s],g=f*v-l*b;b=f*b+l*v,v=g,r[d+h]=p+v,n[d+h]=m+b,r[d+h+s]=p-v,n[d+h+s]=m-b,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},m.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0===(-8192&i))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,d,f,n,a);for(var h=0;h<n;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,n),this.transform(o,c,l,i,n,a),this.conjugate(l,i,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var a=(0|this.words[r])*e,i=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(e.words[n]&1<<a)>>>a}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"===typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=a);u--){var f=0|this.words[u];this.words[u]=d<<26-i|f>>>i,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this.strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,a=this.length-1;a>=0;a--)r=(t*r+(0|this.words[a]))%e;return r},i.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var a=(0|this.words[r])+67108864*t;this.words[r]=a/e|0,t=a%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0===(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0===(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},a(g,b),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(y,b),a(w,b),a(k,b),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new y;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return v[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,v=0;0!==m.cmp(o);v++)m=m.redSqr();n(v<p);var b=this.pow(f,new i(1).iushln(p-v-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=v}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},a(_,x),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(46)(e))},function(e,t,r){!function(e){var t,r,n,a=String.fromCharCode;function i(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function o(e,t){return a(e>>t&63|128)}function c(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(s(e),t=a(e>>12&15|224),t+=o(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=o(e,12),t+=o(e,6)),t+=a(63&e|128)}function u(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,a;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&t[n],n++,0==(128&e))return e;if(192==(224&e)){if((a=(31&e)<<6|u())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if((a=(15&e)<<12|u()<<6|u())>=2048)return s(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(a=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),r=t.length,n=-1,a="";++n<r;)a+=c(t[n]);return a},e.decode=function(e){t=i(e),r=t.length,n=0;for(var s,o=[];!1!==(s=d());)o.push(s);return function(e){for(var t,r=e.length,n=-1,i="";++n<r;)(t=e[n])>65535&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t);return i}(o)}}(t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(605);function a(e){return"string"===typeof e&&(!!/^(0x)?[0-9a-f]{512}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e)))}function i(e,t){"object"===typeof t&&t.constructor===Uint8Array&&(t=n.bytesToHex(t));for(var r=n.keccak256(t).replace("0x",""),a=0;a<12;a+=4){var i=(parseInt(r.substr(a,2),16)<<8)+parseInt(r.substr(a+2,2),16)&2047,o=1<<i%4;if((s(e.charCodeAt(e.length-1-Math.floor(i/4)))&o)!==o)return!1}return!0}function s(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error("invalid bloom")}function o(e){return"string"===typeof e&&(!!/^(0x)?[0-9a-f]{64}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e)))}function c(e){return"string"===typeof e&&(!!e.match(/^(0x)?[0-9a-fA-F]{40}$/)||!!e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}t.isBloom=a,t.isInBloom=i,t.isUserEthereumAddressInBloom=function(e,t){if(!a(e))throw new Error("Invalid bloom given");if(!c(t))throw new Error('Invalid ethereum address given: "'.concat(t,'"'));return i(e,n.padLeft(t,64))},t.isContractAddressInBloom=function(e,t){if(!a(e))throw new Error("Invalid bloom given");if(!c(t))throw new Error('Invalid contract address given: "'.concat(t,'"'));return i(e,t)},t.isTopicInBloom=function(e,t){if(!a(e))throw new Error("Invalid bloom given");if(!o(t))throw new Error("Invalid topic");return i(e,t)},t.isTopic=o,t.isAddress=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(606);function a(e){if(null==e)throw new Error("cannot convert null value to array");if("string"===typeof e){var t=e.match(/^(0x)?[0-9a-fA-F]*$/);if(!t)throw new Error("invalid hexidecimal string");if("0x"!==t[1])throw new Error("hex string must have 0x prefix");(e=e.substring(2)).length%2&&(e="0"+e);for(var r=[],n=0;n<e.length;n+=2)r.push(parseInt(e.substr(n,2),16));return i(new Uint8Array(r))}if(function(e){if(!e||parseInt(String(e.length))!=e.length||"string"===typeof e)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(r<0||r>=256||parseInt(String(r))!=r)return!1}return!0}(e))return i(new Uint8Array(e));throw new Error("invalid arrayify value")}function i(e){return void 0!==e.slice||(e.slice=()=>{var t=Array.prototype.slice.call(arguments);return i(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}t.keccak256=function(e){return"0x"+n.keccak_256(a(e))},t.padLeft=(e,t)=>{var r=/^0x/i.test(e)||"number"===typeof e,n=t-(e=e.toString().replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(r?"0x":"")+new Array(n).join("0")+e},t.bytesToHex=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return"0x".concat(t.join("").replace(/^0+/,""))},t.toByteArray=a},function(e,t,r){(function(n,a){var i;!function(){"use strict";var s="input is invalid type",o="object"===typeof window,c=o?window:{};c.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"===typeof self;!c.JS_SHA3_NO_NODE_JS&&"object"===typeof n&&n.versions&&n.versions.node?c=a:u&&(c=self);var d=!c.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,f=r(607),l=!c.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,h="0123456789abcdef".split(""),p=[4,1024,262144,67108864],m=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],g=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!c.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!c.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var k=function(e,t,r){return function(n){return new L(e,t,e).update(n)[r]()}},x=function(e,t,r){return function(n,a){return new L(e,t,a).update(n)[r]()}},_=function(e,t,r){return function(t,n,a,i){return M["cshake"+e].update(t,n,a,i)[r]()}},S=function(e,t,r){return function(t,n,a,i){return M["kmac"+e].update(t,n,a,i)[r]()}},T=function(e,t,r,n){for(var a=0;a<y.length;++a){var i=y[a];e[i]=t(r,n,i)}return e},O=function(e,t){var r=k(e,t,"hex");return r.create=function(){return new L(e,t,e)},r.update=function(e){return r.create().update(e)},T(r,k,e,t)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:b,createMethod:O},{name:"sha3",padding:[6,1536,393216,100663296],bits:b,createMethod:O},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new L(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},T(r,x,e,t)}},{name:"cshake",padding:p,bits:g,createMethod:function(e,t){var r=w[e],n=_(e,0,"hex");return n.create=function(n,a,i){return a||i?new L(e,t,n).bytepad([a,i],r):M["shake"+e].create(n)},n.update=function(e,t,r,a){return n.create(t,r,a).update(e)},T(n,_,e,t)}},{name:"kmac",padding:p,bits:g,createMethod:function(e,t){var r=w[e],n=S(e,0,"hex");return n.create=function(n,a,i){return new N(e,t,a).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(e,t,r,a){return n.create(e,r,a).update(t)},T(n,S,e,t)}}],M={},E=[],C=0;C<A.length;++C)for(var I=A[C],F=I.bits,P=0;P<F.length;++P){var B=I.name+"_"+F[P];if(E.push(B),M[B]=I.createMethod(F[P],I.padding),"sha3"!==I.name){var R=I.name+F[P];E.push(R),M[R]=M[B]}}function L(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function N(e,t,r){L.call(this,e,t,r)}L.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(s);t=!0}for(var n,a,i=this.blocks,o=this.byteCount,c=e.length,u=this.blockCount,d=0,f=this.s;d<c;){if(this.reset)for(this.reset=!1,i[0]=this.block,n=1;n<u+1;++n)i[n]=0;if(t)for(n=this.start;d<c&&n<o;++d)i[n>>2]|=e[d]<<m[3&n++];else for(n=this.start;d<c&&n<o;++d)(a=e.charCodeAt(d))<128?i[n>>2]|=a<<m[3&n++]:a<2048?(i[n>>2]|=(192|a>>6)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]):a<55296||a>=57344?(i[n>>2]|=(224|a>>12)<<m[3&n++],i[n>>2]|=(128|a>>6&63)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++d)),i[n>>2]|=(240|a>>18)<<m[3&n++],i[n>>2]|=(128|a>>12&63)<<m[3&n++],i[n>>2]|=(128|a>>6&63)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=i[u],n=0;n<u;++n)f[n]^=i[n];D(f),this.reset=!0}else this.start=n}return this},L.prototype.encode=function(e,t){var r=255&e,n=1,a=[r];for(r=255&(e>>=8);r>0;)a.unshift(r),r=255&(e>>=8),++n;return t?a.push(n):a.unshift(n),this.update(a),a.length},L.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(s);t=!0}var n=0,a=e.length;if(t)n=a;else for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),n+=4)}return n+=this.encode(8*n),this.update(e),n},L.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var a=t-r%t,i=[];return i.length=a,this.update(i),this},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];D(n)}},L.prototype.toString=L.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,s=0,o="";s<n;){for(i=0;i<t&&s<n;++i,++s)e=r[i],o+=h[e>>4&15]+h[15&e]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15];s%t===0&&(D(r),i=0)}return a&&(e=r[i],o+=h[e>>4&15]+h[15&e],a>1&&(o+=h[e>>12&15]+h[e>>8&15]),a>2&&(o+=h[e>>20&15]+h[e>>16&15])),o},L.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,s=0,o=this.outputBits>>3;e=a?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<n;){for(i=0;i<t&&s<n;++i,++s)c[s]=r[i];s%t===0&&D(r)}return a&&(c[i]=r[i],e=e.slice(0,o)),e},L.prototype.buffer=L.prototype.arrayBuffer,L.prototype.digest=L.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,i=this.extraBytes,s=0,o=0,c=[];o<a;){for(s=0;s<r&&o<a;++s,++o)e=o<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%r===0&&D(n)}return i&&(e=o<<2,t=n[s],c[e]=255&t,i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c},N.prototype=new L,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),L.prototype.finalize.call(this)};var D=function(e){var t,r,n,a,i,s,o,c,u,d,f,l,h,p,m,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X,W,Z,Y,Q,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(c<<1|u>>>31),r=i^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(d<<1|f>>>31),r=o^(f<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(l<<1|h>>>31),r=u^(h<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(a<<1|i>>>31),r=f^(i<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],m=e[1],J=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,F=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=p^~b&y,e[1]=m^~g&w,e[10]=T^~A&E,e[11]=O^~M&C,e[20]=R^~N&V,e[21]=L^~D&j,e[30]=z^~J&W,e[31]=K^~X&Z,e[40]=te^~ne&ie,e[41]=re^~ae&se,e[2]=b^~y&k,e[3]=g^~w&x,e[12]=A^~E&I,e[13]=M^~C&F,e[22]=N^~V&U,e[23]=D^~j&q,e[32]=J^~W&Y,e[33]=X^~Z&Q,e[42]=ne^~ie&oe,e[43]=ae^~se&ce,e[4]=y^~k&_,e[5]=w^~x&S,e[14]=E^~I&P,e[15]=C^~F&B,e[24]=V^~U&G,e[25]=j^~q&H,e[34]=W^~Y&$,e[35]=Z^~Q&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&de,e[6]=k^~_&p,e[7]=x^~S&m,e[16]=I^~P&T,e[17]=F^~B&O,e[26]=U^~G&R,e[27]=q^~H&L,e[36]=Y^~$&z,e[37]=Q^~ee&K,e[46]=oe^~ue&te,e[47]=ce^~de&re,e[8]=_^~p&b,e[9]=S^~m&g,e[18]=P^~T&A,e[19]=B^~O&M,e[28]=G^~R&N,e[29]=H^~L&D,e[38]=$^~z&J,e[39]=ee^~K&X,e[48]=ue^~te&ne,e[49]=de^~re&ae,e[0]^=v[n],e[1]^=v[n+1]};if(d)e.exports=M;else{for(C=0;C<E.length;++C)c[E[C]]=M[E[C]];f&&(void 0===(i=function(){return M}.call(t,r,t,e))||(e.exports=i))}}()}).call(this,r(18),r(19))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){var n=r(25),a=r(8),i=r(210),s=function(e){var t=typeof e;if("string"===t)return i.isHexStrict(e)?new a(e.replace(/0x/i,""),16):new a(e,10);if("number"===t)return new a(e);if(i.isBigNumber(e))return new a(e.toString(10));if(i.isBN(e))return e;throw new Error(e+" is not a number")},o=function(e,t,r){var n,o;if("bytes"===(e=function(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}(e))){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}if("string"===e)return i.utf8ToHex(t);if("bool"===e)return t?"01":"00";if(e.startsWith("address")){if(n=r?64:40,!i.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return i.leftPad(t.toLowerCase(),n)}if(n=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null}(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return i.rightPad(t,2*n)}if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if((o=s(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+o.bitLength());if(o.lt(new a(0)))throw new Error("Supplied uint "+o.toString()+" is negative");return n?i.leftPad(o.toString("hex"),n/8*2):o}if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if((o=s(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+o.bitLength());return o.lt(new a(0))?o.toTwos(n).toString("hex"):n?i.leftPad(o.toString("hex"),n/8*2):o}throw new Error("Unsupported or invalid type: "+e)},c=function(e){if(n.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r,s="";if(n.isObject(e)&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,s=e.hasOwnProperty("v")?e.v:e.value):(t=i.toHex(e,!0),s=i.toHex(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")),!t.startsWith("int")&&!t.startsWith("uint")||"string"!==typeof s||/^(-)?0x/i.test(s)||(s=new a(s)),n.isArray(s)){if((r=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null}(t))&&s.length!==r)throw new Error(t+" is not matching the given array "+JSON.stringify(s));r=s.length}return n.isArray(s)?s.map((function(e){return o(t,e,r).toString("hex").replace("0x","")})).join(""):o(t,s,r).toString("hex").replace("0x","")};e.exports={soliditySha3:function(){var e=Array.prototype.slice.call(arguments),t=n.map(e,c);return i.sha3("0x"+t.join(""))},soliditySha3Raw:function(){return i.sha3Raw("0x"+n.map(Array.prototype.slice.call(arguments),c).join(""))},encodePacked:function(){var e=Array.prototype.slice.call(arguments),t=n.map(e,c);return"0x"+t.join("").toLowerCase()}}},function(e,t,r){"use strict";var n=r(212),a=r(23).errors,i=function(e){this.requestManager=e,this.requests=[]};i.prototype.add=function(e){this.requests.push(e)},i.prototype.execute=function(){var e=this.requests;this.requestManager.sendBatch(e,(function(t,r){r=r||[],e.map((function(e,t){return r[t]||{}})).forEach((function(r,i){if(e[i].callback){if(r&&r.error)return e[i].callback(a.ErrorResponse(r));if(!n.isValidResponse(r))return e[i].callback(a.InvalidResponse(r));try{e[i].callback(null,e[i].format?e[i].format(r.result):r.result)}catch(t){e[i].callback(t)}}}))}))},e.exports=i},function(e,t,r){"use strict";var n,a=null;try{n=Function("return this")()}catch(i){n=window}"undefined"!==typeof n.ethereum?a=n.ethereum:"undefined"!==typeof n.web3&&n.web3.currentProvider&&(n.web3.currentProvider.sendAsync&&(n.web3.currentProvider.send=n.web3.currentProvider.sendAsync,delete n.web3.currentProvider.sendAsync),!n.web3.currentProvider.on&&n.web3.currentProvider.connection&&"ipcProviderWrapper"===n.web3.currentProvider.connection.constructor.name&&(n.web3.currentProvider.on=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.connection.on("data",(function(e){var r="";e=e.toString();try{r=JSON.parse(e)}catch(i){return t(new Error("Couldn't parse response data"+e))}r.id||-1===r.method.indexOf("_subscription")||t(null,r)}));break;default:this.connection.on(e,t)}}),a=n.web3.currentProvider),e.exports=a},function(e,t,r){"use strict";var n=r(612),a=r(613),i=r(23).errors,s=r(614).w3cwebsocket,o=function(e,t){n.call(this),t=t||{},this.url=e,this._customTimeout=t.timeout||15e3,this.headers=t.headers||{},this.protocol=t.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},t.reconnect),this.clientConfig=t.clientConfig||void 0,this.requestOptions=t.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var r=a.parseURL(e);r.username&&r.password&&(this.headers.authorization="Basic "+a.btoa(r.username+":"+r.password)),r.auth&&(this.headers.authorization="Basic "+a.btoa(r.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};(o.prototype=Object.create(n.prototype)).constructor=o,o.prototype.connect=function(){this.connection=new s(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()},o.prototype._onMessage=function(e){var t=this;this._parseResponse("string"===typeof e.data?e.data:"").forEach((function(e){if(e.method&&-1!==e.method.indexOf("_subscription"))t.emit(t.DATA,e);else{var r=e.id;Array.isArray(e)&&(r=e[0].id),t.responseQueue.has(r)&&(void 0!==t.responseQueue.get(r).callback&&t.responseQueue.get(r).callback(!1,e),t.responseQueue.delete(r))}}))},o.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var e=this;this.requestQueue.forEach((function(t,r){e.send(t.payload,t.callback),e.requestQueue.delete(r)}))}},o.prototype._onClose=function(e){var t=this;!this.reconnectOptions.auto||[1e3,1001].includes(e.code)&&!1!==e.wasClean?(this.emit(this.CLOSE,e),this.requestQueue.size>0&&this.requestQueue.forEach((function(r,n){r.callback(i.ConnectionNotOpenError(e)),t.requestQueue.delete(n)})),this.responseQueue.size>0&&this.responseQueue.forEach((function(r,n){r.callback(i.InvalidConnection("on WS",e)),t.responseQueue.delete(n)})),this._removeSocketListeners(),this.removeAllListeners()):this.reconnect()},o.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))},o.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)},o.prototype._parseResponse=function(e){var t=this,r=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(e){t.lastChunk&&(e=t.lastChunk+e);var n=null;try{n=JSON.parse(e)}catch(a){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout((function(){t.reconnectOptions.auto&&t.reconnectOptions.onTimeout?t.reconnect():(t.emit(t.ERROR,i.ConnectionTimeout(t._customTimeout)),t.requestQueue.size>0&&t.requestQueue.forEach((function(e,r){e.callback(i.ConnectionTimeout(t._customTimeout)),t.requestQueue.delete(r)})))}),t._customTimeout))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,n&&r.push(n)})),r},o.prototype.send=function(e,t){var r=e.id,n={payload:e,callback:t};if(Array.isArray(e)&&(r=e[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting)this.requestQueue.set(r,n);else{if(this.connection.readyState!==this.connection.OPEN)return this.requestQueue.delete(r),this.emit(this.ERROR,i.ConnectionNotOpenError()),void n.callback(i.ConnectionNotOpenError());this.responseQueue.set(r,n),this.requestQueue.delete(r);try{this.connection.send(JSON.stringify(n.payload))}catch(a){n.callback(a),this.responseQueue.delete(r)}}},o.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()},o.prototype.disconnect=function(e,t){this._removeSocketListeners(),this.connection.close(e||1e3,t)},o.prototype.supportsSubscriptions=function(){return!0},o.prototype.reconnect=function(){var e=this;this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach((function(t,r){t.callback(i.PendingRequestsOnReconnectingError()),e.responseQueue.delete(r)})),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts?setTimeout((function(){e.reconnectAttempts++,e._removeSocketListeners(),e.emit(e.RECONNECT,e.reconnectAttempts),e.connect()}),this.reconnectOptions.delay):(this.emit(this.ERROR,i.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach((function(t,r){t.callback(i.MaxAttemptsReachedOnReconnectingError()),e.requestQueue.delete(r)})))},e.exports=o},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,i),!0;case 6:return d.fn.call(d.context,t,r,n,i,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,n);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||c(this,i);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},function(e,t,r){(function(t,n){var a="[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0),i="undefined"!==typeof navigator&&"ReactNative"===navigator.product,s=null,o=null;if(a||i){s=function(e){return n.from(e).toString("base64")};var c=r(54);if(c.URL){var u=c.URL;o=function(e){return new u(e)}}else o=r(54).parse}else s=btoa.bind(window),o=function(e){return new URL(e)};e.exports={parseURL:o,btoa:s}}).call(this,r(18),r(9).Buffer)},function(e,t,r){var n;try{n=r(615)}catch(o){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var a=n.WebSocket||n.MozWebSocket,i=r(616);function s(e,t){return t?new a(e,t):new a(e)}a&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return a[e]}})})),e.exports={w3cwebsocket:a?s:null,version:i}},function(e,t){var r=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()},function(e,t,r){e.exports=r(617).version},function(e){e.exports=JSON.parse('{"_args":[["websocket@1.0.33","C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor"]],"_from":"websocket@1.0.33","_id":"websocket@1.0.33","_inBundle":false,"_integrity":"sha512-XwNqM2rN5eh3G2CUQE3OHZj+0xfdH42+OFK6LdC2yqiC0YU8e5UK0nYre220T0IyyN031V/XOvtHvXozvJYFWA==","_location":"/websocket","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"websocket@1.0.33","name":"websocket","escapedName":"websocket","rawSpec":"1.0.33","saveSpec":null,"fetchSpec":"1.0.33"},"_requiredBy":["/web3-providers-ws"],"_resolved":"https://registry.npmjs.org/websocket/-/websocket-1.0.33.tgz","_spec":"1.0.33","_where":"C:\\\\Users\\\\Steven PC\\\\Documents\\\\STEVEN\\\\01 Trabajo\\\\01 programacion\\\\GitHub\\\\wozx-investor","author":{"name":"Brian McKelvey","email":"theturtle32@gmail.com","url":"https://github.com/theturtle32"},"browser":"lib/browser.js","bugs":{"url":"https://github.com/theturtle32/WebSocket-Node/issues"},"config":{"verbose":false},"contributors":[{"name":"I\xf1aki Baz Castillo","email":"ibc@aliax.net","url":"http://dev.sipdoc.net"}],"dependencies":{"bufferutil":"^4.0.1","debug":"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2","yaeti":"^0.0.6"},"description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","devDependencies":{"buffer-equal":"^1.0.0","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint":"^2.0.0","jshint-stylish":"^2.2.1","tape":"^4.9.1"},"directories":{"lib":"./lib"},"engines":{"node":">=4.0.0"},"homepage":"https://github.com/theturtle32/WebSocket-Node","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"license":"Apache-2.0","main":"index","name":"websocket","repository":{"type":"git","url":"git+https://github.com/theturtle32/WebSocket-Node.git"},"scripts":{"gulp":"gulp","test":"tape test/unit/*.js"},"version":"1.0.33"}')},function(e,t,r){var n=r(23).errors,a=r(619).XMLHttpRequest,i=r(71),s=r(111),o=function(e,t){t=t||{},this.withCredentials=t.withCredentials||!1,this.timeout=t.timeout||0,this.headers=t.headers,this.agent=t.agent,this.connected=!1;var r=!1!==t.keepAlive;this.host=e||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new s.Agent({keepAlive:r}):this.httpAgent=new i.Agent({keepAlive:r}))};o.prototype._prepareRequest=function(){var e;if("undefined"!==typeof XMLHttpRequest)e=new XMLHttpRequest;else{e=new a;var t={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};this.agent&&(t.httpsAgent=this.agent.https,t.httpAgent=this.agent.http,t.baseUrl=this.agent.baseUrl),e.nodejsSet(t)}return e.open("POST",this.host,!0),e.setRequestHeader("Content-Type","application/json"),e.timeout=this.timeout,e.withCredentials=this.withCredentials,this.headers&&this.headers.forEach((function(t){e.setRequestHeader(t.name,t.value)})),e},o.prototype.send=function(e,t){var r=this,a=this._prepareRequest();a.onreadystatechange=function(){if(4===a.readyState&&1!==a.timeout){var e=a.responseText,i=null;try{e=JSON.parse(e)}catch(s){i=n.InvalidResponse(a.responseText)}r.connected=!0,t(i,e)}},a.ontimeout=function(){r.connected=!1,t(n.ConnectionTimeout(this.timeout))};try{a.send(JSON.stringify(e))}catch(i){this.connected=!1,t(n.InvalidConnection(this.host))}},o.prototype.disconnect=function(){},o.prototype.supportsSubscriptions=function(){return!1},e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(620));var n=r(116);t.XMLHttpRequestEventTarget=n.XMLHttpRequestEventTarget},function(e,t,r){"use strict";(function(e,n){var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(71),o=r(111),c=r(621),u=r(54),d=r(622),f=r(623),l=r(116),h=r(624),p=r(625),m=function(t){function r(n){void 0===n&&(n={});var a=t.call(this)||this;return a.UNSENT=r.UNSENT,a.OPENED=r.OPENED,a.HEADERS_RECEIVED=r.HEADERS_RECEIVED,a.LOADING=r.LOADING,a.DONE=r.DONE,a.onreadystatechange=null,a.readyState=r.UNSENT,a.response=null,a.responseText="",a.responseType="",a.status=0,a.statusText="",a.timeout=0,a.upload=new h.XMLHttpRequestUpload,a.responseUrl="",a.withCredentials=!1,a._method=null,a._url=null,a._sync=!1,a._headers={},a._loweredHeaders={},a._mimeOverride=null,a._request=null,a._response=null,a._responseParts=null,a._responseHeaders=null,a._aborting=null,a._error=null,a._loadedBytes=0,a._totalBytes=0,a._lengthComputable=!1,a._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},a._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},a._privateHeaders={"set-cookie":!0,"set-cookie2":!0},a._userAgent="Mozilla/5.0 ("+c.type()+" "+c.arch()+") node.js/"+e.versions.node+" v8/"+e.versions.v8,a._anonymous=n.anon||!1,a}return a(r,t),r.prototype.open=function(e,t,n,a,i){if(void 0===n&&(n=!0),e=e.toUpperCase(),this._restrictedMethods[e])throw new r.SecurityError("HTTP method "+e+" is not allowed in XHR");var s=this._parseUrl(t,a,i);this.readyState===r.HEADERS_RECEIVED||(this.readyState,r.LOADING),this._method=e,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(r.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},r.prototype.setRequestHeader=function(e,t){if(this.readyState!==r.OPENED)throw new r.InvalidStateError("XHR readyState must be OPENED");var n=e.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+e+'"'):(t=t.toString(),null!=this._loweredHeaders[n]?(e=this._loweredHeaders[n],this._headers[e]=this._headers[e]+", "+t):(this._loweredHeaders[n]=e,this._headers[e]=t))},r.prototype.send=function(e){if(this.readyState!==r.OPENED)throw new r.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new r.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(e);case"http:":case"https:":return this._sendHttp(e);default:throw new r.NetworkError("Unsupported protocol "+this._url.protocol)}},r.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},r.prototype.getResponseHeader=function(e){if(null==this._responseHeaders||null==e)return null;var t=e.toLowerCase();return this._responseHeaders.hasOwnProperty(t)?this._responseHeaders[e.toLowerCase()]:null},r.prototype.getAllResponseHeaders=function(){var e=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n")},r.prototype.overrideMimeType=function(e){if(this.readyState===r.LOADING||this.readyState===r.DONE)throw new r.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=e.toLowerCase()},r.prototype.nodejsSet=function(e){if(this.nodejsHttpAgent=e.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=e.httpsAgent||this.nodejsHttpsAgent,e.hasOwnProperty("baseUrl")){if(null!=e.baseUrl)if(!u.parse(e.baseUrl,!1,!0).protocol)throw new r.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=e.baseUrl}},r.nodejsSet=function(e){r.prototype.nodejsSet(e)},r.prototype._setReadyState=function(e){this.readyState=e,this.dispatchEvent(new d.ProgressEvent("readystatechange"))},r.prototype._sendFile=function(e){throw new Error("Protocol file: not implemented")},r.prototype._sendHttp=function(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!e||"GET"!==this._method&&"HEAD"!==this._method?e=e||"":(console.warn("Discarding entity body for "+this._method+" requests"),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()},r.prototype._sendHxxpRequest=function(){var e=this;if(this.withCredentials){var t=r.cookieJar.getCookies(p.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=t}var n="http:"===this._url.protocol?[s,this.nodejsHttpAgent]:[o,this.nodejsHttpsAgent],a=n[0],i=n[1],c=a.request.bind(a)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:i});this._request=c,this.timeout&&c.setTimeout(this.timeout,(function(){return e._onHttpTimeout(c)})),c.on("response",(function(t){return e._onHttpResponse(c,t)})),c.on("error",(function(t){return e._onHttpRequestError(c,t)})),this.upload._startUpload(c),this._request===c&&this._dispatchProgress("loadstart")},r.prototype._finalizeHeaders=function(){this._headers=i({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},r.prototype._onHttpResponse=function(e,t){var n=this;if(this._request===e){if(this.withCredentials&&(t.headers["set-cookie"]||t.headers["set-cookie2"])&&r.cookieJar.setCookies(t.headers["set-cookie"]||t.headers["set-cookie2"]),[301,302,303,307,308].indexOf(t.statusCode)>=0)return this._url=this._parseUrl(t.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=t,this._response.on("data",(function(e){return n._onHttpResponseData(t,e)})),this._response.on("end",(function(){return n._onHttpResponseEnd(t)})),this._response.on("close",(function(){return n._onHttpResponseClose(t)})),this.responseUrl=this._url.href.split("#")[0],this.status=t.statusCode,this.statusText=s.STATUS_CODES[this.status],this._parseResponseHeaders(t);var a=this._responseHeaders["content-length"]||"";this._totalBytes=+a,this._lengthComputable=!!a,this._setReadyState(r.HEADERS_RECEIVED)}},r.prototype._onHttpResponseData=function(e,t){this._response===e&&(this._responseParts.push(new n(t)),this._loadedBytes+=t.length,this.readyState!==r.LOADING&&this._setReadyState(r.LOADING),this._dispatchProgress("progress"))},r.prototype._onHttpResponseEnd=function(e){this._response===e&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(r.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},r.prototype._onHttpResponseClose=function(e){if(this._response===e){var t=this._request;this._setError(),t.abort(),this._setReadyState(r.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},r.prototype._onHttpTimeout=function(e){this._request===e&&(this._setError(),e.abort(),this._setReadyState(r.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},r.prototype._onHttpRequestError=function(e,t){this._request===e&&(this._setError(),e.abort(),this._setReadyState(r.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},r.prototype._dispatchProgress=function(e){var t=new r.ProgressEvent(e);t.lengthComputable=this._lengthComputable,t.loaded=this._loadedBytes,t.total=this._totalBytes,this.dispatchEvent(t)},r.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},r.prototype._parseUrl=function(e,t,r){var n=null==this.nodejsBaseUrl?e:u.resolve(this.nodejsBaseUrl,e),a=u.parse(n,!1,!0);a.hash=null;var i=(a.auth||"").split(":"),s=i[0],o=i[1];return(s||o||t||r)&&(a.auth=(t||s||"")+":"+(r||o||"")),a},r.prototype._parseResponseHeaders=function(e){for(var t in this._responseHeaders={},e.headers){var r=t.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=e.headers[t])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},r.prototype._parseResponse=function(){var e=n.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(e.toString("utf-8"))}catch(i){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=e);case"arraybuffer":this.responseText=null;for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a<e.length;a++)r[a]=e[a];return void(this.response=t);case"text":default:try{this.responseText=e.toString(this._parseResponseEncoding())}catch(s){this.responseText=e.toString("binary")}this.response=this.responseText}},r.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},r.ProgressEvent=d.ProgressEvent,r.InvalidStateError=f.InvalidStateError,r.NetworkError=f.NetworkError,r.SecurityError=f.SecurityError,r.SyntaxError=f.SyntaxError,r.XMLHttpRequestUpload=h.XMLHttpRequestUpload,r.UNSENT=0,r.OPENED=1,r.HEADERS_RECEIVED=2,r.LOADING=3,r.DONE=4,r.cookieJar=p.CookieJar(),r}(l.XMLHttpRequestEventTarget);t.XMLHttpRequest=m,m.prototype.nodejsHttpAgent=s.globalAgent,m.prototype.nodejsHttpsAgent=o.globalAgent,m.prototype.nodejsBaseUrl=null}).call(this,r(18),r(9).Buffer)},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};t.ProgressEvent=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);t.SecurityError=a;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);t.InvalidStateError=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);t.NetworkError=s;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);t.SyntaxError=o},function(e,t,r){"use strict";(function(e){var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(t){function r(){var e=t.call(this)||this;return e._contentType=null,e._body=null,e._reset(),e}return n(r,t),r.prototype._reset=function(){this._contentType=null,this._body=null},r.prototype._setData=function(t){if(null!=t)if("string"===typeof t)0!==t.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new e(t,"utf-8");else if(e.isBuffer(t))this._body=t;else if(t instanceof ArrayBuffer){for(var r=new e(t.byteLength),n=new Uint8Array(t),a=0;a<t.byteLength;a++)r[a]=n[a];this._body=r}else{if(!(t.buffer&&t.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+t);r=new e(t.byteLength);var i=t.byteOffset;for(n=new Uint8Array(t.buffer),a=0;a<t.byteLength;a++)r[a]=n[a+i];this._body=r}},r.prototype._finalizeHeaders=function(e,t){this._contentType&&!t["content-type"]&&(e["Content-Type"]=this._contentType),this._body&&(e["Content-Length"]=this._body.length.toString())},r.prototype._startUpload=function(e){this._body&&e.write(this._body),e.end()},r}(r(116).XMLHttpRequestEventTarget);t.XMLHttpRequestUpload=a}).call(this,r(9).Buffer)},function(e,t){!function(){"use strict";function e(t,r,n,a){return this instanceof e?(this.domain=t||void 0,this.path=r||"/",this.secure=!!n,this.script=!!a,this):new e(t,r,n,a)}function r(e,t,n){return e instanceof r?e:this instanceof r?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=t||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,e&&this.parse(e,t,n),this):new r(e,t,n)}e.All=Object.freeze(Object.create(null)),t.CookieAccessInfo=e,t.Cookie=r,r.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},r.prototype.toValueString=function(){return this.name+"="+this.value};var n=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function a(){var e,t;return this instanceof a?(e=Object.create(null),this.setCookie=function(n,a,i){var s,o;if(s=(n=new r(n,a,i)).expiration_date<=Date.now(),void 0!==e[n.name]){for(t=e[n.name],o=0;o<t.length;o+=1)if(t[o].collidesWith(n))return s?(t.splice(o,1),0===t.length&&delete e[n.name],!1):(t[o]=n,n);return!s&&(t.push(n),n)}return!s&&(e[n.name]=[n],e[n.name])},this.getCookie=function(r,n){var a,i;if(t=e[r])for(i=0;i<t.length;i+=1)if((a=t[i]).expiration_date<=Date.now())0===t.length&&delete e[a.name];else if(a.matches(n))return a},this.getCookies=function(t){var r,n,a=[];for(r in e)(n=this.getCookie(r,t))&&a.push(n);return a.toString=function(){return a.join(":")},a.toValueString=function(){return a.map((function(e){return e.toValueString()})).join(";")},a},this):new a}r.prototype.parse=function(e,t,n){if(this instanceof r){var a,i=e.split(";").filter((function(e){return!!e})),s=i[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+e+"'");var o=s[1],c=s[2];if("string"!==typeof o||0===o.length||"string"!==typeof c)return void console.warn("Unable to extract values from cookie header. Cookie: '"+e+"'");for(this.name=o,this.value=c,a=1;a<i.length;a+=1)switch(o=(s=i[a].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),c=s[2],o){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=c?Number(Date.parse(c)):1/0;break;case"path":this.path=c?c.trim():"",this.explicit_path=!0;break;case"domain":this.domain=c?c.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=t),this}return(new r).parse(e,t,n)},r.prototype.matches=function(t){return t===e.All||!(this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t))},r.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==e.path.indexOf(this.path))return!1;var t=e.domain&&e.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===t)return!0;if(r){if(!this.explicit_domain)return!1;var n=t.indexOf(r);return-1!==n&&n===t.length-r.length}return!0},t.CookieJar=a,a.prototype.setCookies=function(e,t,a){var i,s,o=[];for(e=(e=Array.isArray(e)?e:e.split(n)).map((function(e){return new r(e,t,a)})),i=0;i<e.length;i+=1)s=e[i],this.setCookie(s,t,a)&&o.push(s);return o}}()},function(e,t,r){"use strict";var n=r(25),a=r(23).errors,i=r(627),s=function(e,t){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=e,this.connected=!1,this.connection=t.connect({path:this.path}),this.addDefaultEvents();var a=function(e){var t=null;n.isArray(e)?e.forEach((function(e){r.responseCallbacks[e.id]&&(t=e.id)})):t=e.id,t||-1===e.method.indexOf("_subscription")?r.responseCallbacks[t]&&(r.responseCallbacks[t](null,e),delete r.responseCallbacks[t]):r.notificationCallbacks.forEach((function(t){n.isFunction(t)&&t(e)}))};"Socket"===t.constructor.name?i(this.connection).done(a):this.connection.on("data",(function(e){r._parseResponse(e.toString()).forEach(a)}))};s.prototype.addDefaultEvents=function(){var e=this;this.connection.on("connect",(function(){e.connected=!0})),this.connection.on("close",(function(){e.connected=!1})),this.connection.on("error",(function(){e._timeout()})),this.connection.on("end",(function(){e._timeout()})),this.connection.on("timeout",(function(){e._timeout()}))},s.prototype._parseResponse=function(e){var t=this,r=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(e){t.lastChunk&&(e=t.lastChunk+e);var n=null;try{n=JSON.parse(e)}catch(i){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout((function(){throw t._timeout(),a.InvalidResponse(e)}),15e3))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,n&&r.push(n)})),r},s.prototype._addResponseCallback=function(e,t){var r=e.id||e[0].id,n=e.method||e[0].method;this.responseCallbacks[r]=t,this.responseCallbacks[r].method=n},s.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](a.InvalidConnection("on IPC")),delete this.responseCallbacks[e])},s.prototype.reconnect=function(){this.connection.connect({path:this.path})},s.prototype.send=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)},s.prototype.on=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.notificationCallbacks.push(t);break;default:this.connection.on(e,t)}},s.prototype.once=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");this.connection.once(e,t)},s.prototype.removeListener=function(e,t){var r=this;switch(e){case"data":this.notificationCallbacks.forEach((function(e,n){e===t&&r.notificationCallbacks.splice(n,1)}));break;default:this.connection.removeListener(e,t)}},s.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(e)}},s.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},s.prototype.supportsSubscriptions=function(){return!0},e.exports=s},function(e,t,r){var n;"undefined"!==typeof self&&self,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";r.d(t,"j",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"h",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"k",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"i",(function(){return l})),r.d(t,"a",(function(){return h})),r.d(t,"f",(function(){return p}));var n=r(1),a=u((function(e,t){var r=t.length;return u((function(n){for(var a=0;a<n.length;a++)t[r+a]=n[a];return t.length=r+n.length,e.apply(this,t)}))}));function i(e,t){return function(){return e.call(this,t.apply(this,arguments))}}function s(e){return function(t){return t[e]}}u((function(e){var t=Object(n.c)(e);function r(e,t){return[c(e,t)]}return u((function(e){return Object(n.f)(r,e,t)[0]}))}));var o=u((function(e){return u((function(t){for(var r,n=0;n<s("length")(e);n++)if(r=c(t,e[n]))return r}))}));function c(e,t){return t.apply(void 0,e)}function u(e){var t=e.length-1,r=Array.prototype.slice;if(0===t)return function(){return e.call(this,r.call(arguments))};if(1===t)return function(){return e.call(this,arguments[0],r.call(arguments,1))};var n=Array(e.length);return function(){for(var a=0;a<t;a++)n[a]=arguments[a];return n[t]=r.call(arguments,t),e.apply(this,n)}}function d(e){return function(t,r){return e(r,t)}}function f(e,t){return function(r){return e(r)&&t(r)}}function l(){}function h(){return!0}function p(e){return function(){return e}}},function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"l",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"m",(function(){return l})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"k",(function(){return m})),r.d(t,"e",(function(){return v}));var n=r(0);function a(e,t){return[e,t]}var i=Object(n.c)(0),s=Object(n.c)(1);function o(e){return m(e.reduce(Object(n.e)(a),null))}var c=Object(n.k)(o);function u(e){return f((function(e,t){return e.unshift(t),e}),[],e)}function d(e,t){return t?a(e(i(t)),d(e,s(t))):null}function f(e,t,r){return r?e(f(e,t,s(r)),i(r)):t}function l(e,t,r){return function e(r,n){return r?t(i(r))?(n(i(r)),s(r)):a(i(r),e(s(r),n)):null}(e,r||n.i)}function h(e,t){return!t||e(i(t))&&h(e,s(t))}function p(e,t){e&&(i(e).apply(null,t),p(s(e),t))}function m(e){return function e(t,r){return t?e(s(t),a(i(t),r)):r}(e,null)}function v(e,t){return t&&(e(i(t))?i(t):v(e,s(t)))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r(1),a=r(0);function i(e,t){return t&&t.constructor===e}var s=Object(a.c)("length"),o=Object(a.j)(i,String);function c(e){return void 0!==e}function u(e,t){return t instanceof Object&&Object(n.a)((function(e){return e in t}),e)}},function(e,t,r){"use strict";r.d(t,"f",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"m",(function(){return l})),r.d(t,"n",(function(){return h})),r.d(t,"a",(function(){return p})),r.d(t,"j",(function(){return m})),r.d(t,"l",(function(){return v})),r.d(t,"k",(function(){return b})),r.d(t,"o",(function(){return g}));var n=1,a=n++,i=n++,s=n++,o=n++,c="fail",u=n++,d=n++,f="start",l="data",h="end",p=n++,m=n++,v=n++,b=n++;function g(e,t,r){try{var n=JSON.parse(t)}catch(a){}return{statusCode:e,body:t,jsonBody:n,thrown:r}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return s}));var n=r(0);function a(e,t){return{key:e,node:t}}var i=Object(n.c)("key"),s=Object(n.c)("node")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(1),a=r(0),i=r(2),s=r(8),o=r(9);function c(e){var t=Object(n.h)("resume","pause","pipe"),r=Object(a.j)(i.b,t);return e?r(e)||Object(i.d)(e)?Object(s.a)(o.a,e):Object(s.a)(o.a,e.url,e.method,e.body,e.headers,e.withCredentials,e.cached):Object(o.a)()}c.drop=function(){return c.drop}},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return o}));var n=r(3),a=r(4),i=r(2),s=r(1),o={};function c(e){var t=e(n.f).emit,r=e(n.d).emit,c=e(n.i).emit,u=e(n.h).emit;function d(e,t,r){Object(a.c)(Object(s.g)(e))[t]=r}function f(e,r,n){e&&d(e,r,n);var i=Object(s.d)(Object(a.b)(r,n),e);return t(i),i}var l={};return l[n.l]=function(e,t){if(!e)return c(t),f(e,o,t);var r=function(e,t){var r=Object(a.c)(Object(s.g)(e));return Object(i.c)(Array,r)?f(e,Object(i.e)(r),t):e}(e,t),n=Object(s.l)(r),u=Object(a.a)(Object(s.g)(r));return d(n,u,t),Object(s.d)(Object(a.b)(u,t),n)},l[n.k]=function(e){return r(e),Object(s.l)(e)||u(Object(a.c)(Object(s.g)(e)))},l[n.j]=f,l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);t.default=n.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(2);function a(e,t,r,a,i,s,o){return i=i?JSON.parse(JSON.stringify(i)):{},a?(Object(n.d)(a)||(a=JSON.stringify(a),i["Content-Type"]=i["Content-Type"]||"application/json"),i["Content-Length"]=i["Content-Length"]||a.length):a=null,e(r||"GET",function(e,t){return!1===t&&(-1===e.indexOf("?")?e+="?":e+="&",e+="_="+(new Date).getTime()),e}(t,o),a,i,s||!1)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(10),a=r(12),i=r(6),s=r(13),o=r(14),c=r(16),u=r(17),d=r(18);function f(e,t,r,f,l){var h=Object(n.a)();return t&&Object(d.b)(h,Object(d.a)(),e,t,r,f,l),Object(u.a)(h),Object(a.a)(h,Object(i.b)(h)),Object(s.a)(h,o.a),Object(c.a)(h,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(11),a=r(0);function i(){var e={},t=i("newListener"),r=i("removeListener");function i(a){return e[a]=Object(n.a)(a,t,r),e[a]}function s(t){return e[t]||i(t)}return["emit","on","un"].forEach((function(e){s[e]=Object(a.k)((function(t,r){Object(a.b)(r,s(t)[e])}))})),s}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(1),a=r(2),i=r(0);function s(e,t,r){var s,o;function c(e){return function(t){return t.id===e}}return{on:function(r,a){var i={listener:r,id:a||r};return t&&t.emit(e,r,i.id),s=Object(n.d)(i,s),o=Object(n.d)(r,o),this},emit:function(){Object(n.b)(o,arguments)},un:function(t){var a;s=Object(n.m)(s,c(t),(function(e){a=e})),a&&(o=Object(n.m)(o,(function(e){return e===a.listener})),r&&r.emit(e,a.listener,a.id))},listeners:function(){return o},hasListener:function(e){var t=e?c(e):i.a;return Object(a.a)(Object(n.e)(t,s))}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(4),a=r(3),i=r(1);function s(e,t){var r,s={};function o(e){return function(t){r=e(r,t)}}for(var c in t)e(c).on(o(t[c]),s);e(a.g).on((function(e){var t=Object(i.g)(r),a=Object(n.a)(t),s=Object(i.l)(r);s&&(Object(n.c)(Object(i.g)(s))[a]=e)})),e(a.e).on((function(){var e=Object(i.g)(r),t=Object(n.a)(e),a=Object(i.l)(r);a&&delete Object(n.c)(Object(i.g)(a))[t]})),e(a.a).on((function(){for(var r in t)e(r).un(s)}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(3),a=r(1),i=r(4);function s(e,t){var r={node:e(n.d),path:e(n.f)};function s(t,r,n){var s=e(t).emit;r.on((function(e){var t=n(e);!1!==t&&function(e,t,r){var n=Object(a.k)(r);e(t,Object(a.i)(Object(a.l)(Object(a.j)(i.a,n))),Object(a.i)(Object(a.j)(i.c,n)))}(s,Object(i.c)(t),e)}),t),e("removeListener").on((function(n){n===t&&(e(n).listeners()||r.un(t))}))}e("newListener").on((function(e){var n=/(node|path):(.*)/.exec(e);if(n){var a=r[n[1]];a.hasListener(e)||s(e,a,t(n[2]))}}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),a=r(1),i=r(4),s=r(2),o=r(6),c=r(15),u=Object(c.a)((function(e,t,r,c,u){var d=Object(n.d)(i.a,a.g),f=Object(n.d)(i.c,a.g);function l(e,t){return t[1]?Object(n.g)(e,a.g):e}function h(e){return e===n.a?n.a:Object(n.g)((function(e){return d(e)!==o.a}),Object(n.d)(e,a.l))}function p(){return function(e){return d(e)===o.a}}function m(e,t,r,n,i){var o=e(r);if(o){var c=function(e,t,r){return Object(a.f)((function(e,t){return t(e,r)}),t,e)}(t,n,o);return i(r.substr(Object(s.e)(o[0])),c)}}function v(e,t){return Object(n.j)(m,e,t)}var b=Object(n.h)(v(e,Object(a.h)(l,(function(e,t){var r=t[3];if(!r)return e;var i=Object(n.j)(s.b,Object(a.c)(r.split(/\W+/))),o=Object(n.d)(i,f);return Object(n.g)(o,e)}),(function(e,t){var r=t[2],a=r&&"*"!==r?function(e){return String(d(e))===r}:n.a;return Object(n.g)(a,e)}),h)),v(t,Object(a.h)((function(e){if(e===n.a)return n.a;var t=p(),r=e,a=h((function(e){return i(e)})),i=Object(n.h)(t,r,a);return i}))),v(r,Object(a.h)()),v(c,Object(a.h)(l,p)),v(u,Object(a.h)((function(e){return function(t){var r=e(t);return!0===r?Object(a.g)(t):r}}))),(function(e){throw Error('"'+e+'" could not be tokenised')}));function g(e,t){return t}function y(e,t){return b(e,t,e?y:g)}return function(e){try{return y(e,n.a)}catch(t){throw Error('Could not compile "'+e+'" because '+t.message)}}}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),a=function(){var e=Object(n.k)((function(e){return e.unshift(/^/),(t=RegExp(e.map(Object(n.c)("source")).join(""))).exec.bind(t);var t})),t=/(\$?)/,r=/(?:{([\w ]*?)})?/,a=e(t,/([\w-_]+|\*)/,r),i=e(t,/\["([^"]+)"\]/,r),s=e(t,/\[(\d+|\*)\]/,r),o=e(t,/()/,/{([\w ]*?)}/),c=e(/\.\./),u=e(/\./),d=e(t,/!/),f=e(/$/);return function(e){return e(Object(n.h)(a,i,s,o),c,u,d,f)}}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3),a=r(0),i=r(2),s=r(5);function o(e,t){var r,o=/^(node|path):./,c=e(n.h),u=e(n.e).emit,d=e(n.g).emit,f=Object(a.k)((function(t,n){if(r[t])Object(a.b)(n,r[t]);else{var i=e(t),s=n[0];o.test(t)?l(i,p(s)):i.on(s)}return r}));function l(e,t,n){n=n||t;var i=h(t);return e.on((function(){var t=!1;r.forget=function(){t=!0},Object(a.b)(arguments,i),delete r.forget,t&&e.un(n)}),n),r}function h(e){return function(){try{return e.apply(r,arguments)}catch(t){setTimeout((function(){throw new Error(t.message)}))}}}function p(e){return function(){var t=e.apply(this,arguments);Object(i.a)(t)&&(t===s.a.drop?u():d(t))}}function m(t,r,n){var a;a="node"===t?p(n):n,l(function(t,r){return e(t+":"+r)}(t,r),a,n)}function v(e,t,n){return Object(i.d)(t)?m(e,t,n):function(e,t){for(var r in t)m(e,r,t[r])}(e,t),r}return e(n.i).on((function(e){r.root=Object(a.f)(e)})),e(n.c).on((function(e,t){r.header=function(e){return e?t[e]:t}})),r={on:f,addListener:f,removeListener:function(t,n,a){if("done"===t)c.un(n);else if("node"===t||"path"===t)e.un(t+":"+n,a);else{var i=n;e(t).un(i)}return r},emit:e.emit,node:Object(a.j)(v,"node"),path:Object(a.j)(v,"path"),done:Object(a.j)(l,c),start:Object(a.j)((function(t,n){return e(t).on(h(n),n),r}),n.c),fail:e(n.b).on,abort:e(n.a).emit,header:a.i,root:a.i,source:t}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3);function a(e){var t,r,a,i,s=e(n.j).emit,o=e(n.l).emit,c=e(n.k).emit,u=e(n.b).emit,d=/[\\"\n]/g,f=0,l=f++,h=f++,p=f++,m=f++,v=f++,b=f++,g=f++,y=f++,w=f++,k=f++,x=f++,_=f++,S=f++,T=f++,O=f++,A=f++,M=f++,E=f++,C=f++,I=f++,F=65536,P="",B=!1,R=!1,L=l,N=[],D=null,V=0,j=0,U=0,q=0,G=1;function H(e){void 0!==i&&(o(i),c(),i=void 0),t=Error(e+"\nLn: "+G+"\nCol: "+q+"\nChr: "+r),u(Object(n.o)(void 0,void 0,t))}function z(e){return"\r"===e||"\n"===e||" "===e||"\t"===e}e(n.m).on((function(e){if(!t){if(R)return H("Cannot write after close");var n=0;for(r=e[0];r&&(n>0&&(a=r),r=e[n++]);)switch(U++,"\n"===r?(G++,q=0):q++,L){case l:if("{"===r)L=p;else if("["===r)L=v;else if(!z(r))return H("Non-whitespace before {[.");continue;case y:case p:if(z(r))continue;if(L===y)N.push(w);else{if("}"===r){o({}),c(),L=N.pop()||h;continue}N.push(m)}if('"'!==r)return H('Malformed object key should start with " ');L=g;continue;case w:case m:if(z(r))continue;if(":"===r)L===m?(N.push(m),void 0!==i&&(o({}),s(i),i=void 0),j++):void 0!==i&&(s(i),i=void 0),L=h;else if("}"===r)void 0!==i&&(o(i),c(),i=void 0),c(),j--,L=N.pop()||h;else{if(","!==r)return H("Bad object");L===m&&N.push(m),void 0!==i&&(o(i),c(),i=void 0),L=y}continue;case v:case h:if(z(r))continue;if(L===v){if(o([]),j++,L=h,"]"===r){c(),j--,L=N.pop()||h;continue}N.push(b)}if('"'===r)L=g;else if("{"===r)L=p;else if("["===r)L=v;else if("t"===r)L=k;else if("f"===r)L=S;else if("n"===r)L=M;else if("-"===r)P+=r;else if("0"===r)P+=r,L=20;else{if(-1==="123456789".indexOf(r))return H("Bad value");P+=r,L=20}continue;case b:if(","===r)N.push(b),void 0!==i&&(o(i),c(),i=void 0),L=h;else{if("]"!==r){if(z(r))continue;return H("Bad array")}void 0!==i&&(o(i),c(),i=void 0),c(),j--,L=N.pop()||h}continue;case g:void 0===i&&(i="");var u=n-1;e:for(;;){for(;V>0;)if(D+=r,r=e.charAt(n++),4===V?(i+=String.fromCharCode(parseInt(D,16)),V=0,u=n-1):V++,!r)break e;if('"'===r&&!B){L=N.pop()||h,i+=e.substring(u,n-1);break}if("\\"===r&&!B&&(B=!0,i+=e.substring(u,n-1),!(r=e.charAt(n++))))break;if(B){if(B=!1,"n"===r?i+="\n":"r"===r?i+="\r":"t"===r?i+="\t":"f"===r?i+="\f":"b"===r?i+="\b":"u"===r?(V=1,D=""):i+=r,r=e.charAt(n++),u=n-1,r)continue;break}d.lastIndex=n;var f=d.exec(e);if(!f){n=e.length+1,i+=e.substring(u,n-1);break}if(n=f.index+1,!(r=e.charAt(f.index))){i+=e.substring(u,n-1);break}}continue;case k:if(!r)continue;if("r"!==r)return H("Invalid true started with t"+r);L=x;continue;case x:if(!r)continue;if("u"!==r)return H("Invalid true started with tr"+r);L=_;continue;case _:if(!r)continue;if("e"!==r)return H("Invalid true started with tru"+r);o(!0),c(),L=N.pop()||h;continue;case S:if(!r)continue;if("a"!==r)return H("Invalid false started with f"+r);L=T;continue;case T:if(!r)continue;if("l"!==r)return H("Invalid false started with fa"+r);L=O;continue;case O:if(!r)continue;if("s"!==r)return H("Invalid false started with fal"+r);L=A;continue;case A:if(!r)continue;if("e"!==r)return H("Invalid false started with fals"+r);o(!1),c(),L=N.pop()||h;continue;case M:if(!r)continue;if("u"!==r)return H("Invalid null started with n"+r);L=E;continue;case E:if(!r)continue;if("l"!==r)return H("Invalid null started with nu"+r);L=C;continue;case C:if(!r)continue;if("l"!==r)return H("Invalid null started with nul"+r);o(null),c(),L=N.pop()||h;continue;case I:if("."!==r)return H("Leading zero not followed by .");P+=r,L=20;continue;case 20:if(-1!=="0123456789".indexOf(r))P+=r;else if("."===r){if(-1!==P.indexOf("."))return H("Invalid number has two dots");P+=r}else if("e"===r||"E"===r){if(-1!==P.indexOf("e")||-1!==P.indexOf("E"))return H("Invalid number has two exponential");P+=r}else if("+"===r||"-"===r){if("e"!==a&&"E"!==a)return H("Invalid symbol in number");P+=r}else P&&(o(parseFloat(P)),c(),P=""),n--,L=N.pop()||h;continue;default:return H("Unknown state: "+L)}U>=F&&function(){var e=0;void 0!==i&&i.length>65536&&(H("Max buffer length exceeded: textNode"),e=Math.max(e,i.length)),P.length>65536&&(H("Max buffer length exceeded: numberNode"),e=Math.max(e,P.length)),F=65536-e+U}()}})),e(n.n).on((function(){if(L===l)return o({}),c(),void(R=!0);L===h&&0===j||H("Unexpected end"),void 0!==i&&(o(i),c(),i=void 0),R=!0}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r(19),a=r(3),i=r(2),s=r(20),o=r(0);function c(){return new XMLHttpRequest}function u(e,t,r,c,u,d,f){var l=e(a.m).emit,h=e(a.b).emit,p=0,m=!0;function v(){if("2"===String(t.status)[0]){var e=t.responseText,r=(" "+e.substr(p)).substr(1);r&&l(r),p=Object(i.e)(e)}}function b(t){try{m&&e(a.c).emit(t.status,Object(s.a)(t.getAllResponseHeaders())),m=!1}catch(r){}}e(a.a).on((function(){t.onreadystatechange=null,t.abort()})),"onprogress"in t&&(t.onprogress=v),t.onreadystatechange=function(){switch(t.readyState){case 2:case 3:return b(t);case 4:b(t),"2"===String(t.status)[0]?(v(),e(a.n).emit()):h(Object(a.o)(t.status,t.responseText))}};try{for(var g in t.open(r,c,!0),d)t.setRequestHeader(g,d[g]);Object(n.a)(window.location,Object(n.b)(c))||t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.withCredentials=f,t.send(u)}catch(y){window.setTimeout(Object(o.j)(h,Object(a.o)(void 0,void 0,y)),0)}}},function(e,t,r){"use strict";function n(e,t){function r(t){return String(t.port||{"http:":80,"https:":443}[t.protocol||e.protocol])}return!!(t.protocol&&t.protocol!==e.protocol||t.host&&t.host!==e.host||t.host&&r(t)!==r(e))}function a(e){var t=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[];return{protocol:t[1]||"",host:t[2]||"",port:t[3]||""}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},function(e,t,r){"use strict";function n(e){var t={};return e&&e.split("\r\n").forEach((function(e){var r=e.indexOf(": ");t[e.substring(0,r)]=e.substring(r+2)})),t}r.d(t,"a",(function(){return n}))}]).default},e.exports=n()},function(e,t,r){"use strict";var n=r(23).formatters,a=r(56),i=r(30);e.exports=function(e){var t=function(t){var r;return t.property?(e[t.property]||(e[t.property]={}),r=e[t.property]):r=e,t.methods&&t.methods.forEach((function(t){t instanceof a||(t=new a(t)),t.attachToObject(r),t.setRequestManager(e._requestManager)})),e};return t.formatters=n,t.utils=i,t.Method=a,t}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,i),!0;case 6:return d.fn.call(d.context,t,r,n,i,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,n);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||c(this,i);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";var n=r(25),a=r(23).errors,i=r(631),s=r(23).formatters;function o(e){i.call(this),this.id=null,this.callback=n.identity,this.arguments=null,this.lastBlock=null,this.options={subscription:e.subscription,type:e.type,requestManager:e.requestManager}}o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype._extractCallback=function(e){if(n.isFunction(e[e.length-1]))return e.pop()},o.prototype._validateArgs=function(e){var t=this.options.subscription;if(t||(t={}),t.params||(t.params=0),e.length!==t.params)throw a.InvalidNumberOfParams(e.length,t.params,t.subscriptionName)},o.prototype._formatInput=function(e){var t=this.options.subscription;return t&&t.inputFormatter?t.inputFormatter.map((function(t,r){return t?t(e[r]):e[r]})):e},o.prototype._formatOutput=function(e){var t=this.options.subscription;return t&&t.outputFormatter&&e?t.outputFormatter(e):e},o.prototype._toPayload=function(e){var t=[];if(this.callback=this._extractCallback(e)||n.identity,this.subscriptionMethod||(this.subscriptionMethod=e.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(e),this._validateArgs(this.arguments),e=[]),t.push(this.subscriptionMethod),t=t.concat(this.arguments),e.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:t}},o.prototype.unsubscribe=function(e){this.options.requestManager.removeSubscription(this.id,e),this.id=null,this.lastBlock=null,this.removeAllListeners()},o.prototype.subscribe=function(){var e=this,t=Array.prototype.slice.call(arguments),r=this._toPayload(t);if(!r)return this;if(!this.options.requestManager.provider)return setTimeout((function(){var t=new Error("No provider set.");e.callback(t,null,e),e.emit("error",t)}),0),this;if(!this.options.requestManager.provider.on)return setTimeout((function(){var t=new Error("The current provider doesn't support subscriptions: "+e.options.requestManager.provider.constructor.name);e.callback(t,null,e),e.emit("error",t)}),0),this;if(this.lastBlock&&n.isObject(this.options.params)&&(r.params[1]=this.options.params,r.params[1].fromBlock=s.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=r.params[1],"logs"===r.params[0]&&n.isObject(r.params[1])&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)){var a=Object.assign({},r.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[a]},(function(t,r){t?setTimeout((function(){e.callback(t,null,e),e.emit("error",t)}),0):r.forEach((function(t){var r=e._formatOutput(t);e.callback(null,r,e),e.emit("data",r)}))}))}return"object"===typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,(function(t,a){!t&&a?(e.id=a,e.method=r.params[0],e.emit("connected",a),e.options.requestManager.addSubscription(e,(function(t,r){t?(e.callback(t,!1,e),e.emit("error",t)):(n.isArray(r)||(r=[r]),r.forEach((function(t){var r=e._formatOutput(t);if(e.lastBlock=n.isObject(r)?r.blockNumber:null,n.isFunction(e.options.subscription.subscriptionHandler))return e.options.subscription.subscriptionHandler.call(e,r);e.emit("data",r),e.callback(null,r,e)})))}))):setTimeout((function(){e.callback(t,!1,e),e.emit("error",t)}),0)})),this},o.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},e.exports=o},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,i),!0;case 6:return d.fn.call(d.context,t,r,n,i,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,n);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||c(this,i);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";var n=r(25),a=r(55),i=r(23),s=r(89).subscriptions,o=r(56),c=r(30),u=r(90),d=r(633),f=r(221),l=r(214),h=r(211),p=r(673),m=r(215),v=r(769),b=i.formatters,g=function(e){return n.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},y=function(e){return n.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},w=function(e){return n.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},k=function(e){return n.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},x=function(e){return n.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"},_=function(){var e=this;a.packageInit(this,arguments);var t=this.setRequestManager;this.setRequestManager=function(r){return t(r),e.net.setRequestManager(r),e.personal.setRequestManager(r),e.accounts.setRequestManager(r),e.Contract._requestManager=e._requestManager,e.Contract.currentProvider=e._provider,!0};var r=this.setProvider;this.setProvider=function(){r.apply(e,arguments),e.setRequestManager(e._requestManager),e.ens._detectedAddress=null,e.ens._lastSyncCheck=null};var i,_,S,T=!1,O=null,A="latest",M=50,E=24,C=750,I=100;Object.defineProperty(this,"handleRevert",{get:function(){return T},set:function(t){T=t,e.Contract.handleRevert=T,B.forEach((function(e){e.handleRevert=T}))},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return S},set:function(t){S=t,e.Contract.defaultCommon=S,B.forEach((function(e){e.defaultCommon=S}))},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return _},set:function(t){_=t,e.Contract.defaultHardfork=_,B.forEach((function(e){e.defaultHardfork=_}))},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return i},set:function(t){i=t,e.Contract.defaultChain=i,B.forEach((function(e){e.defaultChain=i}))},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return C},set:function(t){C=t,e.Contract.transactionPollingTimeout=C,B.forEach((function(e){e.transactionPollingTimeout=C}))},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return E},set:function(t){E=t,e.Contract.transactionConfirmationBlocks=E,B.forEach((function(e){e.transactionConfirmationBlocks=E}))},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return M},set:function(t){M=t,e.Contract.transactionBlockTimeout=M,B.forEach((function(e){e.transactionBlockTimeout=M}))},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return O},set:function(t){return t&&(O=c.toChecksumAddress(b.inputAddressFormatter(t))),e.Contract.defaultAccount=O,e.personal.defaultAccount=O,B.forEach((function(e){e.defaultAccount=O})),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return A},set:function(t){return A=t,e.Contract.defaultBlock=A,e.personal.defaultBlock=A,B.forEach((function(e){e.defaultBlock=A})),t},enumerable:!0}),Object.defineProperty(this,"maxListenersWarningThreshold",{get:function(){return I},set:function(t){e.currentProvider&&e.currentProvider.setMaxListeners&&(I=t,e.currentProvider.setMaxListeners(t))},enumerable:!0}),this.clearSubscriptions=e._requestManager.clearSubscriptions.bind(e._requestManager),this.net=new u(this),this.net.getNetworkType=v.bind(this),this.accounts=new p(this),this.personal=new f(this),this.personal.defaultAccount=this.defaultAccount,this.maxListenersWarningThreshold=I;var F=this,P=function(){l.apply(this,arguments);var e=this,t=F.setProvider;F.setProvider=function(){t.apply(F,arguments),a.packageInit(e,[F])}};P.setProvider=function(){l.setProvider.apply(this,arguments)},P.prototype=Object.create(l.prototype),P.prototype.constructor=P,this.Contract=P,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.transactionBlockTimeout=this.transactionBlockTimeout,this.Contract.transactionConfirmationBlocks=this.transactionConfirmationBlocks,this.Contract.transactionPollingTimeout=this.transactionPollingTimeout,this.Contract.handleRevert=this.handleRevert,this.Contract._requestManager=this._requestManager,this.Contract._ethAccounts=this.accounts,this.Contract.currentProvider=this._requestManager.provider,this.Iban=h,this.abi=m,this.ens=new d(this);var B=[new o({name:"getNodeInfo",call:"web3_clientVersion"}),new o({name:"getProtocolVersion",call:"eth_protocolVersion",params:0}),new o({name:"getCoinbase",call:"eth_coinbase",params:0}),new o({name:"isMining",call:"eth_mining",params:0}),new o({name:"getHashrate",call:"eth_hashrate",params:0,outputFormatter:c.hexToNumber}),new o({name:"isSyncing",call:"eth_syncing",params:0,outputFormatter:b.outputSyncingFormatter}),new o({name:"getGasPrice",call:"eth_gasPrice",params:0,outputFormatter:b.outputBigNumberFormatter}),new o({name:"getAccounts",call:"eth_accounts",params:0,outputFormatter:c.toChecksumAddress}),new o({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:c.hexToNumber}),new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:b.outputBigNumberFormatter}),new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[b.inputAddressFormatter,c.numberToHex,b.inputDefaultBlockNumberFormatter]}),new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter]}),new o({name:"getBlock",call:g,params:2,inputFormatter:[b.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:b.outputBlockFormatter}),new o({name:"getUncle",call:w,params:2,inputFormatter:[b.inputBlockNumberFormatter,c.numberToHex],outputFormatter:b.outputBlockFormatter}),new o({name:"getBlockTransactionCount",call:k,params:1,inputFormatter:[b.inputBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"getBlockUncleCount",call:x,params:1,inputFormatter:[b.inputBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:b.outputTransactionFormatter}),new o({name:"getTransactionFromBlock",call:y,params:2,inputFormatter:[b.inputBlockNumberFormatter,c.numberToHex],outputFormatter:b.outputTransactionFormatter}),new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:b.outputTransactionReceiptFormatter}),new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"sendSignedTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null],abiCoder:m}),new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[b.inputTransactionFormatter]}),new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[b.inputTransactionFormatter],abiCoder:m}),new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[b.inputSignFormatter,b.inputAddressFormatter],transformPayload:function(e){return e.params.reverse(),e}}),new o({name:"call",call:"eth_call",params:2,inputFormatter:[b.inputCallFormatter,b.inputDefaultBlockNumberFormatter],abiCoder:m}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[b.inputCallFormatter],outputFormatter:c.hexToNumber}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0}),new o({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[b.inputLogFormatter],outputFormatter:b.outputLogFormatter}),new o({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:c.hexToNumber}),new o({name:"requestAccounts",call:"eth_requestAccounts",params:0,outputFormatter:c.toChecksumAddress}),new o({name:"getProof",call:"eth_getProof",params:3,inputFormatter:[b.inputAddressFormatter,b.inputStorageKeysFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:b.outputProofFormatter}),new o({name:"getPendingTransactions",call:"eth_pendingTransactions",params:0,outputFormatter:b.outputTransactionFormatter}),new s({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:b.outputBlockFormatter},pendingTransactions:{subscriptionName:"newPendingTransactions",params:0},logs:{params:1,inputFormatter:[b.inputLogFormatter],outputFormatter:b.outputLogFormatter,subscriptionHandler:function(e){e.removed?this.emit("changed",e):this.emit("data",e),n.isFunction(this.callback)&&this.callback(null,e,this)}},syncing:{params:0,outputFormatter:b.outputSyncingFormatter,subscriptionHandler:function(e){var t=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit("changed",t._isSyncing),n.isFunction(this.callback)&&this.callback(null,t._isSyncing,this),setTimeout((function(){t.emit("data",e),n.isFunction(t.callback)&&t.callback(null,e,t)}),0)):(this.emit("data",e),n.isFunction(t.callback)&&this.callback(null,e,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout((function(){e.currentBlock>e.highestBlock-200&&(t._isSyncing=!1,t.emit("changed",t._isSyncing),n.isFunction(t.callback)&&t.callback(null,t._isSyncing,t))}),500))}}}})];B.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager,e.accounts),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount,t.transactionBlockTimeout=e.transactionBlockTimeout,t.transactionConfirmationBlocks=e.transactionConfirmationBlocks,t.transactionPollingTimeout=e.transactionPollingTimeout,t.handleRevert=e.handleRevert}))};a.addProviders(_),e.exports=_},function(e,t,r){"use strict";var n=r(634);e.exports=n},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(25),s=r(213),o=r(23).formatters,c=r(30),u=r(635),d=r(640),f=r(641);function l(e){this.eth=e;var t=null;this._detectedAddress=null,this._lastSyncCheck=null,Object.defineProperty(this,"registry",{get:function(){return new u(this)},enumerable:!0}),Object.defineProperty(this,"resolverMethodHandler",{get:function(){return new d(this.registry)},enumerable:!0}),Object.defineProperty(this,"registryAddress",{get:function(){return t},set:function(e){t=null!==e?o.inputAddressFormatter(e):e},enumerable:!0})}l.prototype.supportsInterface=function(e,t,r){return this.getResolver(e).then((function(e){return c.isHexStrict(t)||(t=c.sha3(t).slice(0,10)),e.methods.supportsInterface(t).call(r)})).catch((function(e){if(!i.isFunction(r))throw e;r(e,null)}))},l.prototype.resolver=function(e,t){return this.registry.resolver(e,t)},l.prototype.getResolver=function(e,t){return this.registry.getResolver(e,t)},l.prototype.setResolver=function(e,t,r,n){return this.registry.setResolver(e,t,r,n)},l.prototype.setRecord=function(e,t,r,n,a,i){return this.registry.setRecord(e,t,r,n,a,i)},l.prototype.setSubnodeRecord=function(e,t,r,n,a,i,s){return this.registry.setSubnodeRecord(e,t,r,n,a,i,s)},l.prototype.setApprovalForAll=function(e,t,r,n){return this.registry.setApprovalForAll(e,t,r,n)},l.prototype.isApprovedForAll=function(e,t,r){return this.registry.isApprovedForAll(e,t,r)},l.prototype.recordExists=function(e,t){return this.registry.recordExists(e,t)},l.prototype.setSubnodeOwner=function(e,t,r,n,a){return this.registry.setSubnodeOwner(e,t,r,n,a)},l.prototype.getTTL=function(e,t){return this.registry.getTTL(e,t)},l.prototype.setTTL=function(e,t,r,n){return this.registry.setTTL(e,t,r,n)},l.prototype.getOwner=function(e,t){return this.registry.getOwner(e,t)},l.prototype.setOwner=function(e,t,r,n){return this.registry.setOwner(e,t,r,n)},l.prototype.getAddress=function(e,t){return this.resolverMethodHandler.method(e,"addr",[]).call(t)},l.prototype.setAddress=function(e,t,r,n){return this.resolverMethodHandler.method(e,"setAddr",[t]).send(r,n)},l.prototype.getPubkey=function(e,t){return this.resolverMethodHandler.method(e,"pubkey",[],null,t).call(t)},l.prototype.setPubkey=function(e,t,r,n,a){return this.resolverMethodHandler.method(e,"setPubkey",[t,r]).send(n,a)},l.prototype.getContent=function(e,t){return this.resolverMethodHandler.method(e,"content",[]).call(t)},l.prototype.setContent=function(e,t,r,n){return this.resolverMethodHandler.method(e,"setContent",[t]).send(r,n)},l.prototype.getContenthash=function(e,t){return this.resolverMethodHandler.method(e,"contenthash",[],f.decode).call(t)},l.prototype.setContenthash=function(e,t,r,n){var a;try{a=f.encode(t)}catch(o){var s=new Error("Could not encode "+t+". See docs for supported hash protocols.");if(i.isFunction(n))return void n(s,null);throw s}return this.resolverMethodHandler.method(e,"setContenthash",[a]).send(r,n)},l.prototype.getMultihash=function(e,t){return this.resolverMethodHandler.method(e,"multihash",[]).call(t)},l.prototype.setMultihash=function(e,t,r,n){return this.resolverMethodHandler.method(e,"multihash",[t]).send(r,n)},l.prototype.checkNetwork=a(n.mark((function e(){var t,r,a,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date/1e3,this._lastSyncCheck&&!(t-this._lastSyncCheck>3600)){e.next=9;break}return e.next=4,this.eth.getBlock("latest");case 4:if(r=e.sent,!((a=t-r.timestamp)>3600)){e.next=8;break}throw new Error("Network not synced; last block was "+a+" seconds ago");case 8:this._lastSyncCheck=t;case 9:if(!this.registryAddress){e.next=11;break}return e.abrupt("return",this.registryAddress);case 11:if(this._detectedAddress){e.next=20;break}return e.next=14,this.eth.net.getNetworkType();case 14:if(i=e.sent,"undefined"!==typeof(o=s.addresses[i])){e.next=18;break}throw new Error("ENS is not supported on network "+i);case 18:return this._detectedAddress=o,e.abrupt("return",this._detectedAddress);case 20:return e.abrupt("return",this._detectedAddress);case 21:case"end":return e.stop()}}),e,this)}))),e.exports=l},function(e,t,r){"use strict";var n=r(25),a=r(214),i=r(216),s=r(88),o=r(23).formatters,c=r(30),u=r(638),d=r(639);function f(e){var t=this;this.ens=e,this.contract=e.checkNetwork().then((function(e){var r=new a(u,e);return r.setProvider(t.ens.eth.currentProvider),r}))}f.prototype.owner=function(e,t){return console.warn('Deprecated: Please use the "getOwner" method instead of "owner".'),this.getOwner(e,t)},f.prototype.getOwner=function(e,t){var r=new s(!0);return this.contract.then((function(t){return t.methods.owner(i.hash(e)).call()})).then((function(e){n.isFunction(t)?t(e,e):r.resolve(e)})).catch((function(e){n.isFunction(t)?t(e,null):r.reject(e)})),r.eventEmitter},f.prototype.setOwner=function(e,t,r,a){var c=new s(!0);return this.contract.then((function(n){return n.methods.setOwner(i.hash(e),o.inputAddressFormatter(t)).send(r)})).then((function(e){n.isFunction(a)?a(e,e):c.resolve(e)})).catch((function(e){n.isFunction(a)?a(e,null):c.reject(e)})),c.eventEmitter},f.prototype.getTTL=function(e,t){var r=new s(!0);return this.contract.then((function(t){return t.methods.ttl(i.hash(e)).call()})).then((function(e){n.isFunction(t)?t(e,e):r.resolve(e)})).catch((function(e){n.isFunction(t)?t(e,null):r.reject(e)})),r.eventEmitter},f.prototype.setTTL=function(e,t,r,a){var o=new s(!0);return this.contract.then((function(n){return n.methods.setTTL(i.hash(e),t).send(r)})).then((function(e){n.isFunction(a)?a(e,e):o.resolve(e)})).catch((function(e){n.isFunction(a)?a(e,null):o.reject(e)})),o.eventEmitter},f.prototype.setSubnodeOwner=function(e,t,r,a,u){var d=new s(!0);return c.isHexStrict(t)||(t=c.sha3(t)),this.contract.then((function(n){return n.methods.setSubnodeOwner(i.hash(e),t,o.inputAddressFormatter(r)).send(a)})).then((function(e){n.isFunction(u)?u(e,e):d.resolve(e)})).catch((function(e){n.isFunction(u)?u(e,null):d.reject(e)})),d.eventEmitter},f.prototype.setRecord=function(e,t,r,a,c,u){var d=new s(!0);return this.contract.then((function(n){return n.methods.setRecord(i.hash(e),o.inputAddressFormatter(t),o.inputAddressFormatter(r),a).send(c)})).then((function(e){n.isFunction(u)?u(e,e):d.resolve(e)})).catch((function(e){n.isFunction(u)?u(e,null):d.reject(e)})),d.eventEmitter},f.prototype.setSubnodeRecord=function(e,t,r,a,u,d,f){var l=new s(!0);return c.isHexStrict(t)||(t=c.sha3(t)),this.contract.then((function(n){return n.methods.setSubnodeRecord(i.hash(e),t,o.inputAddressFormatter(r),o.inputAddressFormatter(a),u).send(d)})).then((function(e){n.isFunction(f)?f(e,e):l.resolve(e)})).catch((function(e){n.isFunction(f)?f(e,null):l.reject(e)})),l.eventEmitter},f.prototype.setApprovalForAll=function(e,t,r,a){var i=new s(!0);return this.contract.then((function(n){return n.methods.setApprovalForAll(o.inputAddressFormatter(e),t).send(r)})).then((function(e){n.isFunction(a)?a(e,e):i.resolve(e)})).catch((function(e){n.isFunction(a)?a(e,null):i.reject(e)})),i.eventEmitter},f.prototype.isApprovedForAll=function(e,t,r){var a=new s(!0);return this.contract.then((function(r){return r.methods.isApprovedForAll(o.inputAddressFormatter(e),o.inputAddressFormatter(t)).call()})).then((function(e){n.isFunction(r)?r(e,e):a.resolve(e)})).catch((function(e){n.isFunction(r)?r(e,null):a.reject(e)})),a.eventEmitter},f.prototype.recordExists=function(e,t){var r=new s(!0);return this.contract.then((function(t){return t.methods.recordExists(i.hash(e)).call()})).then((function(e){n.isFunction(t)?t(e,e):r.resolve(e)})).catch((function(e){n.isFunction(t)?t(e,null):r.reject(e)})),r.eventEmitter},f.prototype.resolver=function(e,t){return console.warn('Deprecated: Please use the "getResolver" method instead of "resolver".'),this.getResolver(e,t)},f.prototype.getResolver=function(e,t){var r=this;return this.contract.then((function(t){return t.methods.resolver(i.hash(e)).call()})).then((function(e){var i=new a(d,e);if(i.setProvider(r.ens.eth.currentProvider),!n.isFunction(t))return i;t(i,i)})).catch((function(e){if(!n.isFunction(t))throw e;t(e,null)}))},f.prototype.setResolver=function(e,t,r,a){var c=new s(!0);return this.contract.then((function(n){return n.methods.setResolver(i.hash(e),o.inputAddressFormatter(t)).send(r)})).then((function(e){n.isFunction(a)?a(e,e):c.resolve(e)})).catch((function(e){n.isFunction(a)?a(e,null):c.reject(e)})),c.eventEmitter},e.exports=f},function(e,t,r){var n,a;n=[r(187),r(637)],void 0===(a=function(e,t){return function(e,t){function r(r,n,a){for(var i=[],s=e.ucs2.decode(r),o=0;o<s.length;o++){var c=s[o],u=e.ucs2.encode([s[o]]),d=t.mapChar(c),f=d>>23,l=d>>21&3,h=d>>5&65535,p=31&d,m=t.mapStr.substr(h,p);if(0===l||n&&1&f)throw new Error("Illegal char "+u);1===l?i.push(m):2===l?i.push(a?m:u):3===l&&i.push(u)}return i.join("").normalize("NFC")}function n(t,n,i){void 0===i&&(i=!1);var s=r(t,i,n).split(".");return(s=s.map((function(t){return t.startsWith("xn--")?a(t=e.decode(t.substring(4)),i,!1):a(t,i,n),t}))).join(".")}function a(e,n,a){if("-"===e[2]&&"-"===e[3])throw new Error("Failed to validate "+e);if(e.startsWith("-")||e.endsWith("-"))throw new Error("Failed to validate "+e);if(e.includes("."))throw new Error("Failed to validate "+e);if(r(e,n,a)!==e)throw new Error("Failed to validate "+e);var i=e.codePointAt(0);if(t.mapChar(i)&2<<23)throw new Error("Label contains illegal character: "+i)}return{toUnicode:function(e,t){return void 0===t&&(t={}),n(e,!1,"useStd3ASCII"in t&&t.useStd3ASCII)},toAscii:function(t,r){void 0===r&&(r={});var a,i=!("transitional"in r)||r.transitional,s="useStd3ASCII"in r&&r.useStd3ASCII,o="verifyDnsLength"in r&&r.verifyDnsLength,c=n(t,i,s).split(".").map(e.toASCII),u=c.join(".");if(o){if(u.length<1||u.length>253)throw new Error("DNS name has wrong length: "+u);for(a=0;a<c.length;a++){var d=c[a];if(d.length<1||d.length>63)throw new Error("DNS label has wrong length: "+d)}}return u}}}(e,t)}.apply(t,n))||(e.exports=a)},function(e,t,r){var n;void 0===(n=function(){return function(){var e=[new Uint32Array([2157250,2157314,2157378,2157442,2157506,2157570,2157634,0,2157698,2157762,2157826,2157890,2157954,0,2158018,0]),new Uint32Array([2179041,6291456,2179073,6291456,2179105,6291456,2179137,6291456,2179169,6291456,2179201,6291456,2179233,6291456,2179265,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([0,2113729,2197345,2197377,2113825,2197409,2197441,2113921,2197473,2114017,2197505,2197537,2197569,2197601,2197633,2197665]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,23068672,23068672,23068672,0,0,0,0,23068672]),new Uint32Array([14680064,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064]),new Uint32Array([2196001,2196033,2196065,2196097,2196129,2196161,2196193,2196225,2196257,2196289,2196321,2196353,2196385,2196417,2196449,2196481]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,6291456,0,0,0,0,0]),new Uint32Array([2097281,2105921,2097729,2106081,0,2097601,2162337,2106017,2133281,2097505,2105889,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([2177025,6291456,2177057,6291456,2177089,6291456,2177121,6291456,2177153,6291456,2177185,6291456,2177217,6291456,2177249,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,0,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456]),new Uint32Array([2134435,2134531,2134627,2134723,2134723,2134819,2134819,2134915,2134915,2135011,2105987,2135107,2135203,2135299,2131587,2135395]),new Uint32Array([0,0,0,0,0,0,0,6291456,2168673,2169249,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2147906,2147970,2148034,2148098,2148162,2148226,2148290,2148354,2147906,2147970,2148034,2148098,2148162,2148226,2148290,2148354]),new Uint32Array([2125219,2125315,2152834,2152898,2125411,2152962,2153026,2125506,2125507,2125603,2153090,2153154,2153218,2153282,2153346,2105348]),new Uint32Array([2203393,6291456,2203425,6291456,2203457,6291456,2203489,6291456,6291456,6291456,6291456,2203521,6291456,2181281,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,6291456,2145538,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,6291456]),new Uint32Array([2139426,2160834,2160898,2160962,2134242,2161026,2161090,2161154,2161218,2161282,2161346,2161410,2138658,2161474,2161538,2134722]),new Uint32Array([2119939,2124930,2125026,2106658,2125218,2128962,2129058,2129154,2129250,2129346,2129442,2108866,2108770,2150466,2150530,2150594]),new Uint32Array([2201601,6291456,2201633,6291456,2201665,6291456,2201697,6291456,2201729,6291456,2201761,6291456,2201793,6291456,2201825,6291456]),new Uint32Array([2193537,2193569,2193601,2193633,2193665,2193697,2193729,2193761,2193793,2193825,2193857,2193889,2193921,2193953,2193985,2194017]),new Uint32Array([6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2190561,6291456,2190593,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2190625,6291456,2190657,6291456,23068672]),new Uint32Array([2215905,2215937,2215969,2216001,2216033,2216065,2216097,2216129,2216161,2216193,2216225,2216257,2105441,2216289,2216321,2216353]),new Uint32Array([23068672,18884130,23068672,23068672,23068672,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2191233,2191265,2191297,2191329,2191361,2191393,2191425,2117377,2191457,2191489,2191521,2191553,2191585,2191617,2191649,2117953]),new Uint32Array([2132227,2132323,2132419,2132419,2132515,2132515,2132611,2132707,2132707,2132803,2132899,2132899,2132995,2132995,2133091,2133187]),new Uint32Array([0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,0,0]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,10609889,10610785,10609921,10610817,2222241]),new Uint32Array([6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0]),new Uint32Array([2219969,2157121,2157441,2157505,2157889,2157953,2220001,2158465,2158529,10575617,2156994,2157058,2129923,2130019,2157122,2157186]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2185249,6291456,2185281,6291456,2185313,6291456,2185345,6291456,2185377,6291456,2185409,6291456,2185441,6291456,2185473,6291456]),new Uint32Array([0,0,0,0,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,0,0,23068672,23068672,23068672,6291456,0]),new Uint32Array([2183361,6291456,2183393,6291456,2183425,6291456,2183457,6291456,2183489,6291456,2183521,6291456,2183553,6291456,2183585,6291456]),new Uint32Array([2192161,2192193,2192225,2192257,2192289,2192321,2192353,2192385,2192417,2192449,2192481,2192513,2192545,2192577,2192609,2192641]),new Uint32Array([2212001,2212033,2212065,2212097,2212129,2212161,2212193,2212225,2212257,2212289,2212321,2212353,2212385,2212417,2212449,2207265]),new Uint32Array([2249825,2249857,2249889,2249921,2249954,2250018,2250082,2250145,2250177,2250209,2250241,2250274,2250337,2250370,2250433,2250465]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2147905,2147969,2148033,2148097,2148161,2148225,2148289,2148353]),new Uint32Array([10485857,6291456,2197217,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,23068672,23068672]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2180353,2180385,2144033,2180417,2180449,2180481,2180513,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,10610209,10610465,10610241,10610753,10609857]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0,0]),new Uint32Array([2223842,2223906,2223970,2224034,2224098,2224162,2224226,2224290,2224354,2224418,2224482,2224546,2224610,2224674,2224738,2224802]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([23068672,23068672,23068672,18923650,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,18923714,23068672,23068672]),new Uint32Array([2126179,2125538,2126275,2126371,2126467,2125634,2126563,2105603,2105604,2125346,2126659,2126755,2126851,2098179,2098181,2098182]),new Uint32Array([2227426,2227490,2227554,2227618,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2192353,2240642,2240642,2240705,2240737,2240737,2240769,2240802,2240866,2240929,2240961,2240993,2241025,2241057,2241089,2241121]),new Uint32Array([6291456,2170881,2170913,2170945,6291456,2170977,6291456,2171009,2171041,6291456,6291456,6291456,2171073,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2132226,2132514,2163586,2132610,2160386,2133090,2133186,2160450,2160514,2160578,2133570,2106178,2160642,2133858,2160706,2160770]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10532162,10532226,10532290,10532354,10532418,10532482,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672]),new Uint32Array([2098209,2108353,2108193,2108481,2170241,2111713,2105473,2105569,2105601,2112289,2112481,2098305,2108321,0,0,0]),new Uint32Array([2209121,2209153,2209185,2209217,2209249,2209281,2209313,2209345,2209377,2209409,2209441,2209473,2207265,2209505,2209537,2209569]),new Uint32Array([2189025,6291456,2189057,6291456,2189089,6291456,2189121,6291456,2189153,6291456,2189185,6291456,2189217,6291456,2189249,6291456]),new Uint32Array([2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2165764,2140004]),new Uint32Array([2215105,6291456,2215137,6291456,6291456,2215169,2215201,6291456,6291456,6291456,2215233,2215265,2215297,2215329,2215361,2215393]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,23068672,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([10505091,10505187,10505283,10505379,10505475,10505571,10505667,10505763,10505859,10505955,10506051,10506147,10506243,10506339,10506435,10506531]),new Uint32Array([2229730,2229794,2229858,2229922,2229986,2230050,2230114,2230178,2230242,2230306,2230370,2230434,2230498,2230562,2230626,2230690]),new Uint32Array([2105505,2098241,2108353,2108417,2105825,0,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177]),new Uint32Array([6291456,6291456,6291456,6291456,10502115,10502178,10502211,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2190305,6291456,2190337,6291456,2190369,6291456,2190401,6291456,2190433,6291456,2190465,6291456,2190497,6291456,2190529,6291456]),new Uint32Array([2173793,2173985,2174017,6291456,2173761,2173697,6291456,2174689,6291456,2174017,2174721,6291456,6291456,2174753,2174785,2174817]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2099521,2099105,2120705,2098369,2120801,2103361,2097985,2098433,2121377,2121473,2099169,2099873,2098401,2099393,2152609,2100033]),new Uint32Array([2132898,2163842,2163906,2133282,2132034,2131938,2137410,2132802,2132706,2164866,2133282,2160578,2165186,2165186,6291456,6291456]),new Uint32Array([10500003,10500099,10500195,10500291,10500387,10500483,10500579,10500675,10500771,10500867,10500963,10501059,10501155,10501251,10501347,10501443]),new Uint32Array([2163458,2130978,2131074,2131266,2131362,2163522,2160130,2132066,2131010,2131106,2106018,2131618,2131298,2132034,2131938,2137410]),new Uint32Array([2212961,2116993,2212993,2213025,2213057,2213089,2213121,2213153,2213185,2213217,2213249,2209633,2213281,2213313,2213345,2213377]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2113729,2113825,2113921,2114017,2114113,2114209,2114305,2114401,2114497,2114593,2114689,2114785,2114881,2114977,2115073,2115169]),new Uint32Array([2238177,2238209,2238241,2238273,2238305,2238337,2238337,2217537,2238369,2238401,2238433,2238465,2215649,2238497,2238529,2238561]),new Uint32Array([2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905]),new Uint32Array([6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,0]),new Uint32Array([6291456,0,6291456,2145026,0,6291456,2145090,0,6291456,6291456,0,0,23068672,0,23068672,23068672]),new Uint32Array([2099233,2122017,2200673,2098113,2121537,2103201,2200705,2104033,2121857,2121953,2122401,2099649,2099969,2123009,2100129,2100289]),new Uint32Array([6291456,23068672,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0]),new Uint32Array([2187681,2187713,2187745,2187777,2187809,2187841,2187873,2187905,2187937,2187969,2188001,2188033,2188065,2188097,2188129,2188161]),new Uint32Array([0,10554498,10554562,10554626,10554690,10554754,10554818,10554882,10554946,10555010,10555074,6291456,6291456,0,0,0]),new Uint32Array([2235170,2235234,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0]),new Uint32Array([2181153,6291456,2188897,6291456,6291456,2188929,6291456,6291456,6291456,6291456,6291456,6291456,2111905,2100865,2188961,2188993]),new Uint32Array([2100833,2100897,0,0,2101569,2101697,2101825,2101953,2102081,2102209,10575617,2187041,10502177,10489601,10489697,2112289]),new Uint32Array([6291456,2172833,6291456,2172865,2172897,2172929,2172961,6291456,2172993,6291456,2173025,6291456,2173057,6291456,2173089,6291456]),new Uint32Array([6291456,0,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,2190721]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,6291456,6291456]),new Uint32Array([2184993,6291456,2185025,6291456,2185057,6291456,2185089,6291456,2185121,6291456,2185153,6291456,2185185,6291456,2185217,6291456]),new Uint32Array([2115265,2115361,2115457,2115553,2115649,2115745,2115841,2115937,2116033,2116129,2116225,2116321,2150658,2150722,2200225,6291456]),new Uint32Array([2168321,6291456,2168353,6291456,2168385,6291456,2168417,6291456,2168449,6291456,2168481,6291456,2168513,6291456,2168545,6291456]),new Uint32Array([23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,0,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,2186625,0,0,6291456,6291456,2186657,2186689,2186721,2173505,0,10496067,10496163,10496259]),new Uint32Array([2178785,6291456,2178817,6291456,2178849,6291456,2178881,6291456,2178913,6291456,2178945,6291456,2178977,6291456,2179009,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2097152,0,0,0,2097152,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,2197857,2197889,2197921,2197953,2197985,2198017,0,0,2198049,2198081,2198113,2198145,2198177,2198209]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2098209,2167297,2111137,6291456]),new Uint32Array([2171393,6291456,2171425,6291456,2171457,6291456,2171489,6291456,2171521,6291456,2171553,6291456,2171585,6291456,2171617,6291456]),new Uint32Array([2206753,2206785,2195457,2206817,2206849,2206881,2206913,2197153,2197153,2206945,2117857,2206977,2207009,2207041,2207073,2207105]),new Uint32Array([0,0,0,0,0,0,0,23068672,0,0,0,0,2144834,2144898,0,2144962]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672]),new Uint32Array([2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,0,2105505,2098241]),new Uint32Array([6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,2202049,6291456,2202081,6291456,2202113,6291456,2202145,6291456,2202177,6291456,2202209,6291456,2202241,6291456]),new Uint32Array([10501155,10501251,10501347,10501443,10501539,10501635,10501731,10501827,10501923,10502019,2141731,2105505,2098177,2155586,2166530,0]),new Uint32Array([2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441]),new Uint32Array([2146882,2146946,2147010,2147074,2147138,2147202,2147266,2147330,2146882,2146946,2147010,2147074,2147138,2147202,2147266,2147330]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([10502307,10502403,10502499,10502595,10502691,10502787,10502883,10502979,10503075,10503171,10503267,10503363,10503459,10503555,10503651,10503747]),new Uint32Array([2179937,2179969,2180001,2180033,2156545,2180065,2156577,2180097,2180129,2180161,2180193,2180225,2180257,2180289,2156737,2180321]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,0,0,0,6291456,0,0,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0]),new Uint32Array([2227682,2227746,2227810,2227874,2227938,2228002,2228066,2228130,2228194,2228258,2228322,2228386,2228450,2228514,2228578,2228642]),new Uint32Array([2105601,2169121,2108193,2170049,2181025,2181057,2112481,2108321,2108289,2181089,2170497,2100865,2181121,2173601,2173633,2173665]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2180641,6291456,6291456,6291456]),new Uint32Array([0,6291456,6291456,6291456,0,6291456,0,6291456,0,0,6291456,6291456,0,6291456,6291456,6291456]),new Uint32Array([2178273,6291456,2178305,6291456,2178337,6291456,2178369,6291456,2178401,6291456,2178433,6291456,2178465,6291456,2178497,6291456]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456]),new Uint32Array([2237377,2237409,2236225,2237441,2237473,2217441,2215521,2215553,2217473,2237505,2237537,2209697,2237569,2215585,2237601,2237633]),new Uint32Array([2221985,2165601,2165601,2165665,2165665,2222017,2222017,2165729,2165729,2158913,2158913,2158913,2158913,2097281,2097281,2105921]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2149634,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2176897,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,2176929,6291456,2176961,6291456,2176993,6291456]),new Uint32Array([2172641,6291456,2172673,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2172705,2172737,6291456,2172769,2172801,6291456]),new Uint32Array([2099173,2104196,2121667,2099395,2121763,2152258,2152322,2098946,2152386,2121859,2121955,2099333,2122051,2104324,2099493,2122147]),new Uint32Array([6291456,6291456,6291456,2145794,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,2145858,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,0,0,6291456,0]),new Uint32Array([0,2105921,2097729,0,2097377,0,0,2106017,0,2097505,2105889,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2239074,2239138,2239201,2239233,2239265,2239297,2239329,2239361,0,2239393,2239425,2239425,2239458,2239521,2239553,2209569]),new Uint32Array([14680064,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,6291456,23068672]),new Uint32Array([2108321,2108289,2113153,2098209,2180897,2180929,2180961,2111137,2098241,2108353,2170241,2170273,2180993,2105825,6291456,2105473]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2146114,6291456,6291456,6291456,0,0,0]),new Uint32Array([2105921,2105921,2105921,2222049,2222049,2130977,2130977,2130977,2130977,2160065,2160065,2160065,2160065,2097729,2097729,2097729]),new Uint32Array([2218145,2214785,2207937,2218177,2218209,2192993,2210113,2212769,2218241,2218273,2216129,2218305,2216161,2218337,2218369,2218401]),new Uint32Array([0,0,0,2156546,2156610,2156674,2156738,2156802,0,0,0,0,0,2156866,23068672,2156930]),new Uint32Array([23068672,23068672,23068672,0,0,0,0,23068672,23068672,0,0,23068672,23068672,23068672,0,0]),new Uint32Array([2213409,2213441,2213473,2213505,2213537,2213569,2213601,2213633,2213665,2195681,2213697,2213729,2213761,2213793,2213825,2213857]),new Uint32Array([2100033,2099233,2122017,2200673,2098113,2121537,2103201,2200705,2104033,2121857,2121953,2122401,2099649,2099969,2123009,2100129]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2201857,6291456,2201889,6291456,2201921,6291456,2201953,6291456,2201985,6291456,2202017,6291456,2176193,2176257,23068672,23068672]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2188193,2188225,2188257,2188289,2188321,2188353,2188385,2188417,2188449,2188481,2188513,2188545,2188577,2188609,2188641,0]),new Uint32Array([10554529,2221089,0,10502113,10562017,10537921,10538049,2221121,2221153,0,0,0,0,0,0,0]),new Uint32Array([2213889,2213921,2213953,2213985,2214017,2214049,2214081,2194177,2214113,2214145,2214177,2214209,2214241,2214273,2214305,2214337]),new Uint32Array([2166978,2167042,2099169,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2180545,6291456,6291456,6291456]),new Uint32Array([10518915,10519011,10519107,10519203,2162242,2162306,2159554,2162370,2159362,2159618,2105922,2162434,2159746,2162498,2159810,2159874]),new Uint32Array([2161730,2161794,2135586,2161858,2161922,2137186,2131810,2160290,2135170,2161986,2137954,2162050,2162114,2162178,10518723,10518819]),new Uint32Array([10506627,10506723,10506819,10506915,10507011,10507107,10507203,10507299,10507395,10507491,10507587,10507683,10507779,10507875,10507971,10508067]),new Uint32Array([6291456,23068672,23068672,23068672,0,23068672,23068672,0,0,0,0,0,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2175873,2175905,2175937,2175969,2176001,2176033,2176065,2176097,2176129,2176161,2176193,2176225,2176257,2176289,2176321,2176353]),new Uint32Array([2140006,2140198,2140390,2140582,2140774,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,23068672,23068672,23068672]),new Uint32Array([2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241]),new Uint32Array([0,23068672,0,0,0,0,0,0,0,2145154,2145218,2145282,6291456,0,2145346,0]),new Uint32Array([0,0,0,0,10531458,10495395,2148545,2143201,2173473,2148865,2173505,0,2173537,0,2173569,2149121]),new Uint32Array([10537282,10495683,2148738,2148802,2148866,0,6291456,2148930,2186593,2173473,2148737,2148865,2148802,10495779,10495875,10495971]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2215425,2215457,2215489,2215521,2215553,2215585,2215617,2215649,2215681,2215713,2215745,2215777,2192033,2215809,2215841,2215873]),new Uint32Array([2242049,2242081,2242113,2242145,2242177,2242209,2242241,2242273,2215937,2242305,2242338,2242401,2242433,2242465,2242497,2216001]),new Uint32Array([10554529,2221089,0,0,10562017,10502113,10538049,10537921,2221185,10489601,10489697,10609889,10609921,2141729,2141793,10610273]),new Uint32Array([2141923,2142019,2142115,2142211,2142307,2142403,2142499,2142595,2142691,0,0,0,0,0,0,0]),new Uint32Array([0,2221185,2221217,10609857,10609857,10489601,10489697,10609889,10609921,2141729,2141793,2221345,2221377,2221409,2221441,2187105]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,18923970,23068672,23068672,23068672,0,6291456,6291456]),new Uint32Array([2183105,6291456,2183137,6291456,2183169,6291456,2183201,6291456,2183233,6291456,2183265,6291456,2183297,6291456,2183329,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2134434,2134818,2097666,2097186,2097474,2097698,2105986,2131586,2132450,2131874,2131778,2135970,2135778,2161602,2136162,2161666]),new Uint32Array([2236865,2236897,2236930,2236993,2237025,2235681,2237058,2237121,2237153,2237185,2237217,2217281,2237250,2191233,2237313,2237345]),new Uint32Array([2190049,6291456,2190081,6291456,2190113,6291456,2190145,6291456,2190177,6291456,2190209,6291456,2190241,6291456,2190273,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2101922,2102050,2102178,2102306,10498755,10498851,10498947,10499043,10499139,10499235,10499331,10499427,10499523,10489604,10489732,10489860]),new Uint32Array([2166914,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2181601,2170561,2181633,2181665,2170753,2181697,2172897,2170881,2181729,2170913,2172929,2113441,2181761,2181793,2171009,2173761]),new Uint32Array([0,2105921,2097729,2106081,0,2097601,2162337,2106017,2133281,2097505,0,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2248001,2248033,2248066,2248130,2248193,2248226,2248289,2248322,2248385,2248417,2216673,2248450,2248514,2248577,2248610,2248673]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([2169729,6291456,2169761,6291456,2169793,6291456,2169825,6291456,2169857,2169889,6291456,2169921,6291456,2143329,6291456,2098305]),new Uint32Array([2162178,2163202,2163266,2135170,2136226,2161986,2137954,2159426,2159490,2163330,2159554,2163394,2159682,2139522,2136450,2159746]),new Uint32Array([2173953,2173985,0,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2174209,2174241,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,4271169,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2174273]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,6291456,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,2190785,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2189793,6291456,2189825,6291456,2189857,6291456,2189889,6291456,2189921,6291456,2189953,6291456,2189985,6291456,2190017,6291456]),new Uint32Array([2105601,2112289,2108193,2112481,2112577,0,2098305,2108321,2108289,2100865,2113153,2108481,2113345,0,2098209,2111137]),new Uint32Array([2172129,6291456,2172161,6291456,2172193,6291456,2172225,6291456,2172257,6291456,2172289,6291456,2172321,6291456,2172353,6291456]),new Uint32Array([2214753,6291456,2214785,6291456,6291456,2214817,2214849,2214881,2214913,2214945,2214977,2215009,2215041,2215073,2194401,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,0,0,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([10610305,10610337,10575617,2221761,10610401,10610433,10502177,0,10610465,10610497,10610529,10610561,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,23068672,0,0,0,0,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2187105,2187137,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2199393,2199425,2199457,2199489,2199521,2199553,2199585,2199617,2199649,2199681,2199713,2199745,2199777,2199809,2199841,0]),new Uint32Array([2217249,2217281,2217313,2217345,2217377,2217409,2217441,2217473,2215617,2217505,2217537,2217569,2214753,2217601,2217633,2217665]),new Uint32Array([2170273,2170305,6291456,2170337,2170369,6291456,2170401,2170433,2170465,6291456,6291456,6291456,2170497,2170529,6291456,2170561]),new Uint32Array([2188673,6291456,2188705,2188737,2188769,6291456,6291456,2188801,6291456,2188833,6291456,2188865,6291456,2180929,2181505,2180897]),new Uint32Array([10489988,10490116,10490244,10490372,10490500,10490628,10490756,10490884,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2147393,2147457,2147521,2147585,2147649,2147713,2147777,2147841]),new Uint32Array([23068672,23068672,0,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2241153,2241185,2241217,2215809,2241250,2241313,2241345,2241377,2217921,2241377,2241409,2215873,2241441,2241473,2241505,2241537]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220417,2220417,2220449,2220449,2220481,2220481,2220513,2220513,2220545,2220545,2220577,2220577,2220609,2220609,2220641,2220641]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,2144002,0,6291456,6291456,0,0,6291456,6291456,6291456]),new Uint32Array([2167105,2167137,2167169,2167201,2167233,2167265,2167297,2167329,2167361,2167393,2167425,2167457,2167489,2167521,2167553,2167585]),new Uint32Array([10575521,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([2234146,2234210,2234274,2234338,2234402,2234466,2234530,2234594,2234658,2234722,2234786,2234850,2234914,2234978,2235042,2235106]),new Uint32Array([0,0,0,0,0,0,0,2180577,0,0,0,0,0,2180609,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,0,0,6291456,6291456]),new Uint32Array([2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2242529,2242561,2242593,2242625,2242657,2242689,2242721,2242753,2207937,2218177,2242785,2242817,2242849,2242882,2242945,2242977]),new Uint32Array([2118049,2105345,2118241,2105441,2118433,2118529,2118625,2118721,2118817,2200257,2200289,2191809,2200321,2200353,2200385,2200417]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2185505,6291456,2185537,6291456,2185569,6291456,2185601,6291456,2185633,6291456,2185665,6291456,2185697,6291456,2185729,6291456]),new Uint32Array([2231970,2232034,2232098,2232162,2232226,2232290,2232354,2232418,2232482,2232546,2232610,2232674,2232738,2232802,2232866,2232930]),new Uint32Array([2218625,2246402,2246466,2246530,2246594,2246657,2246689,2246689,2218657,2219681,2246721,2246753,2246785,2246818,2246881,2208481]),new Uint32Array([2197025,2197057,2197089,2197121,2197153,2197185,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2219137,2216961,2219169,2219201,2219233,2219265,2219297,2217025,2215041,2219329,2217057,2219361,2217089,2219393,2197153,2219426]),new Uint32Array([23068672,23068672,23068672,0,0,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713]),new Uint32Array([2243522,2243585,2243617,2243649,2243681,2210113,2243713,2243746,2243810,2243874,2243937,2243970,2244033,2244065,2244097,2244129]),new Uint32Array([2178017,6291456,2178049,6291456,2178081,6291456,2178113,6291456,2178145,6291456,2178177,6291456,2178209,6291456,2178241,6291456]),new Uint32Array([10553858,2165314,10518722,6291456,10518818,0,10518914,2130690,10519010,2130786,10519106,2130882,10519202,2165378,10554050,2165506]),new Uint32Array([0,0,2135491,2135587,2135683,2135779,2135875,2135971,2135971,2136067,2136163,2136259,2136355,2136355,2136451,2136547]),new Uint32Array([23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2220033,2220033,2220065,2220065,2220065,2220065,2220097,2220097,2220097,2220097,2220129,2220129,2220129,2220129,2220161,2220161]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2100897,2100898,2100899,2150018,2100865,2100866,2100867,2100868,2150082,2108481,2109858,2109859,2105569,2105505,2098241,2105601]),new Uint32Array([2097217,2097505,2097505,2097505,2097505,2165570,2165570,2165634,2165634,2165698,2165698,2097858,2097858,0,0,2097152]),new Uint32Array([23068672,6291456,23068672,23068672,23068672,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([10503843,10503939,10504035,10504131,10504227,10504323,10504419,10504515,10504611,10504707,10504803,10504899,10504995,10491140,10491268,0]),new Uint32Array([2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2134145,2097153,2134241,2105953,2132705,2130977,2160065,2131297,2162049,2133089,2160577,2133857,2235297,2220769,2235329,2235361]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2222401,2222433,2222465,10531394,2222497,2222529,2222561,0,2222593,2222625,2222657,2222689,2222721,2222753,2222785,0]),new Uint32Array([2184481,6291456,2184513,6291456,2184545,6291456,2184577,6291456,2184609,6291456,2184641,6291456,2184673,6291456,2184705,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0,0,0,0,0,0,0,0]),new Uint32Array([2105570,2156034,2126947,2156098,2153666,2127043,2127139,2156162,0,2127235,2156226,2156290,2156354,2156418,2127331,2127427]),new Uint32Array([2215905,2207041,2153185,2241569,2241601,2241633,2241665,2241697,2241730,2241793,2241825,2241857,2241889,2241921,2241954,2242017]),new Uint32Array([2203777,6291456,2203809,6291456,2203841,6291456,2203873,6291456,2203905,6291456,2173121,2180993,2181249,2203937,2181313,0]),new Uint32Array([2168577,6291456,2168609,6291456,2168641,6291456,2168673,6291456,2168705,6291456,2168737,6291456,2168769,6291456,2168801,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,23068672,23068672,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,0,0]),new Uint32Array([2210113,2195521,2210145,2210177,2210209,2210241,2210273,2210305,2210337,2210369,2210401,2210433,2210465,2210497,2210529,2210561]),new Uint32Array([6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([2228706,2228770,2228834,2228898,2228962,2229026,2229090,2229154,2229218,2229282,2229346,2229410,2229474,2229538,2229602,2229666]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,18874368,18874368,18874368,0,0]),new Uint32Array([2133089,2133281,2133281,2133281,2133281,2160577,2160577,2160577,2160577,2097441,2097441,2097441,2097441,2133857,2133857,2133857]),new Uint32Array([6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089]),new Uint32Array([2178529,6291456,2178561,6291456,2178593,6291456,2178625,6291456,2178657,6291456,2178689,6291456,2178721,6291456,2178753,6291456]),new Uint32Array([2221025,2221025,2221057,2221057,2159329,2159329,2159329,2159329,2097217,2097217,2158914,2158914,2158978,2158978,2159042,2159042]),new Uint32Array([2208161,2208193,2208225,2208257,2194433,2208289,2208321,2208353,2208385,2208417,2208449,2208481,2208513,2208545,2208577,2208609]),new Uint32Array([2169217,6291456,2169249,6291456,2169281,6291456,2169313,6291456,2169345,6291456,2169377,6291456,2169409,6291456,2169441,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2133187,2133283,2133283,2133379,2133475,2133571,2133667,2133667,2133763,2133859,2133955,2134051,2134147,2134147,2134243,2134339]),new Uint32Array([2197697,2114113,2114209,2197729,2197761,2114305,2197793,2114401,2114497,2197825,2114593,2114689,2114785,2114881,2114977,0]),new Uint32Array([2193089,2193121,2193153,2193185,2117665,2117569,2193217,2193249,2193281,2193313,2193345,2193377,2193409,2193441,2193473,2193505]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2184225,6291456,2184257,6291456,2184289,6291456,2184321,6291456,2184353,6291456,2184385,6291456,2184417,6291456,2184449,6291456]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2100833,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2098657,2098049,2200737,2123489,2123681,2200769,2098625,2100321,2098145,2100449,2098017,2098753,2200801,2200833,2200865,0]),new Uint32Array([23068672,23068672,23068672,0,0,0,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,0,2098241,2108353,2108417,2105825,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2181153,2105505,2181185,2167617,2180993]),new Uint32Array([2160002,2160066,2160130,2160194,2160258,2132066,2131010,2131106,2106018,2131618,2160322,2131298,2132034,2131938,2137410,2132226]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([2183617,6291456,2183649,6291456,2183681,6291456,2183713,6291456,2183745,6291456,2183777,6291456,2183809,6291456,2183841,6291456]),new Uint32Array([0,6291456,6291456,0,6291456,0,0,6291456,6291456,0,6291456,0,0,6291456,0,0]),new Uint32Array([2250977,2251009,2251041,2251073,2195009,2251106,2251169,2251201,2251233,2251265,2251297,2251330,2251394,2251457,2251489,2251521]),new Uint32Array([2205729,2205761,2205793,2205825,2205857,2205889,2205921,2205953,2205985,2206017,2206049,2206081,2206113,2206145,2206177,2206209]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2143170,2168993,6291456,2169025,6291456,2169057,6291456,2169089,6291456,2143234,2169121,6291456,2169153,6291456,2169185,6291456]),new Uint32Array([23068672,23068672,2190689,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2248706,2248769,2248801,2248833,2248865,2248897,2248929,2248962,2249026,2249090,2249154,2240705,2249217,2249249,2249281,2249313]),new Uint32Array([10485857,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10495394,6291456,2098209,6291456,6291456,2097152,6291456,10531394]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([14680064,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2173985,2173953,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889]),new Uint32Array([6291456,2186977,6291456,6291456,6291456,6291456,6291456,10537858,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2209601,2209633,2209665,2209697,2209729,2209761,2209793,2209825,2209857,2209889,2209921,2209953,2209985,2210017,2210049,2210081]),new Uint32Array([10501539,10501635,10501731,10501827,10501923,10502019,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905]),new Uint32Array([2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2194561,2194593,2194625,2119777,2119873,2194657,2194689,2194721,2194753,2194785,2194817,2194849,2194881,2194913,2194945,2194977]),new Uint32Array([2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569]),new Uint32Array([2222818,2222882,2222946,2223010,2223074,2223138,2223202,2223266,2223330,2223394,2223458,2223522,2223586,2223650,2223714,2223778]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672]),new Uint32Array([0,2179553,2179585,2179617,2179649,2144001,2179681,2179713,2179745,2179777,2179809,2156705,2179841,2156833,2179873,2179905]),new Uint32Array([6291456,23068672,6291456,2145602,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,6291456,0,0]),new Uint32Array([2196513,2196545,2196577,2196609,2196641,2196673,2196705,2196737,2196769,2196801,2196833,2196865,2196897,2196929,2196961,2196993]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2177281,6291456,2177313,6291456,2177345,6291456,2177377,6291456,2177409,6291456,2177441,6291456,2177473,6291456,2177505,6291456]),new Uint32Array([2187137,2221473,2221505,2221537,2221569,6291456,6291456,10610209,10610241,10537986,10537986,10537986,10537986,10609857,10609857,10609857]),new Uint32Array([2243009,2243041,2216033,2243074,2243137,2243169,2243201,2219617,2243233,2243265,2243297,2243329,2243362,2243425,2243457,2243489]),new Uint32Array([10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,2097152,4194304,4194304,0,0]),new Uint32Array([2143042,6291456,2143106,2143106,2168833,6291456,2168865,6291456,6291456,2168897,6291456,2168929,6291456,2168961,6291456,2143170]),new Uint32Array([6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2204193,2204225,2204257,2204289,2204321,2204353,2204385,2204417,2204449,2204481,2204513,2204545,2204577,2204609,2204641,2204673]),new Uint32Array([2202753,6291456,2202785,6291456,2202817,6291456,2202849,6291456,2202881,6291456,2202913,6291456,2202945,6291456,2202977,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321]),new Uint32Array([2147394,2147458,2147522,2147586,2147650,2147714,2147778,2147842,2147394,2147458,2147522,2147586,2147650,2147714,2147778,2147842]),new Uint32Array([2253313,2253346,2253409,2253441,2253473,2253505,2253537,2253569,2253601,2253634,2219393,2253697,2253729,2253761,2253793,2253825]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([2162562,2162626,2131362,2162690,2159938,2160002,2162754,2162818,2160130,2162882,2160194,2160258,2160834,2160898,2161026,2161090]),new Uint32Array([2175361,2175393,2175425,2175457,2175489,2175521,2175553,2175585,2175617,2175649,2175681,2175713,2175745,2175777,2175809,2175841]),new Uint32Array([2253858,2253921,2253954,2254018,2254082,2196737,2254145,2196865,2254177,2254209,2254241,2254273,2197025,2254306,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2202113,2204129,2188705,2204161]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953]),new Uint32Array([2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209]),new Uint32Array([2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,0,2108417,0,2111713,2100897,2111905]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([2175425,2175489,2175809,2175905,2175937,2175937,2176193,2176417,2180865,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,2143298,2143298,2143298,2143362,2143362,2143362,2143426,2143426,2143426,2171105,6291456,2171137]),new Uint32Array([2120162,2120258,2151618,2151682,2151746,2151810,2151874,2151938,2152002,2120035,2120131,2120227,2152066,2120323,2152130,2120419]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2195361,2142433,2236065,2236097,2236129,2236161,2118241,2117473,2236193,2236225,2236257,2236289,0,0,0,0]),new Uint32Array([2189281,6291456,2189313,6291456,2189345,6291456,2189377,6291456,2189409,6291456,2189441,6291456,2189473,6291456,2189505,6291456]),new Uint32Array([6291456,6291456,2145922,6291456,6291456,6291456,6291456,2145986,6291456,6291456,6291456,6291456,2146050,6291456,6291456,6291456]),new Uint32Array([2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,10502113,10562017,10610401,10502177,10610433,10538049]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,2186401,0,2186433,0,2186465,0,2186497]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,23068672,23068672,23068672]),new Uint32Array([0,0,2198241,2198273,2198305,2198337,2198369,2198401,0,0,2198433,2198465,2198497,0,0,0]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,6291456,0,23068672,23068672,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([0,2105921,2097729,0,2097377,0,0,2106017,2133281,2097505,2105889,0,2097697,2135777,2097633,2097441]),new Uint32Array([2197889,2197921,2197953,2197985,2198017,2198049,2198081,2198113,2198145,2198177,2198209,2198241,2198273,2198305,2198337,2198369]),new Uint32Array([2132514,2132610,2160386,2133090,2133186,2160450,2160514,2133282,2160578,2133570,2106178,2160642,2133858,2160706,2160770,2134146]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,6291456,23068672,23068672,6291456,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([2184737,6291456,2184769,6291456,2184801,6291456,2184833,6291456,2184865,6291456,2184897,6291456,2184929,6291456,2184961,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,2186753,6291456,6291456,6291456,6291456,2186785,2186817,2186849,2173569,2186881,10496355,10495395,10575521]),new Uint32Array([0,0,2097729,0,0,0,0,2106017,0,2097505,0,2097185,0,2135777,2097633,2097441]),new Uint32Array([2189537,6291456,2189569,6291456,2189601,6291456,2189633,6291456,2189665,6291456,2189697,6291456,2189729,6291456,2189761,6291456]),new Uint32Array([2202497,6291456,2202529,6291456,2202561,6291456,2202593,6291456,2202625,6291456,2202657,6291456,2202689,6291456,2202721,6291456]),new Uint32Array([2245217,2218369,2245249,2245282,2245345,2245377,2245410,2245474,2245537,2245569,2245601,2245633,2245665,2245665,2245697,2245729]),new Uint32Array([6291456,0,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,0,0,0,0,0,0,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,6291456,23068672,6291456,23068672,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2097281,2105921,2097729,2106081,2097377,2097601,2162337,2106017,2133281,2097505,0,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([2176641,6291456,2176673,6291456,2176705,6291456,2176737,6291456,2176769,6291456,2176801,6291456,2176833,6291456,2176865,6291456]),new Uint32Array([2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953,2174369,2174369,0,0,2100833,2100737]),new Uint32Array([2116513,2190817,2190849,2190881,2190913,2190945,2116609,2190977,2191009,2191041,2191073,2117185,2191105,2191137,2191169,2191201]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456]),new Uint32Array([2167617,2167649,2167681,2167713,2167745,2167777,2167809,6291456,2167841,2167873,2167905,2167937,2167969,2168001,2168033,4240130]),new Uint32Array([2165122,2163970,2164034,2164098,2164162,2164226,2164290,2164354,2164418,2164482,2164546,2133122,2134562,2132162,2132834,2136866]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2186209,2186241,2186273,2186305,2186337,2186369,0,0]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([0,0,23068672,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([0,10537921,10610689,10610273,10610497,10610529,10610305,10610721,10489601,10489697,10610337,10575617,10554529,2221761,2197217,10496577]),new Uint32Array([2105473,2105569,2105601,2112289,0,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441]),new Uint32Array([2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481]),new Uint32Array([2125346,2153410,2153474,2127394,2153538,2153602,2153666,2153730,2105507,2105476,2153794,2153858,2153922,2153986,2154050,2105794]),new Uint32Array([2200449,2119681,2200481,2153313,2199873,2199905,2199937,2200513,2200545,2200577,2200609,2119105,2119201,2119297,2119393,2119489]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2175777,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2222273,2197217,2221473,2221505,2221089,2222305,2200865,2099681,2104481,2222337,2099905,2120737,2222369,2103713,2100225,2098785]),new Uint32Array([2201377,6291456,2201409,6291456,2201441,6291456,2201473,6291456,2201505,6291456,2201537,6291456,2201569,6291456,6291456,23068672]),new Uint32Array([2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793]),new Uint32Array([2200897,6291456,2200929,6291456,2200961,6291456,2200993,6291456,2201025,6291456,2180865,6291456,2201057,6291456,2201089,6291456]),new Uint32Array([0,0,0,0,0,23068672,23068672,0,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2161154,2161410,2138658,2161474,2161538,2097666,2097186,2097474,2162946,2132450,2163010,2163074,2136162,2163138,2161666,2161730]),new Uint32Array([2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953]),new Uint32Array([0,0,0,0,0,0,23068672,23068672,0,0,0,0,2145410,2145474,0,6291456]),new Uint32Array([2244161,2216065,2212769,2244193,2244225,2244257,2244290,2244353,2244385,2244417,2244449,2218273,2244481,2244514,2244577,2244609]),new Uint32Array([2125730,2125699,2125795,2125891,2125987,2154114,2154178,2154242,2154306,2154370,2154434,2154498,2126082,2126178,2126274,2126083]),new Uint32Array([2237665,2237697,2237697,2237697,2237730,2237793,2237825,2237857,2237890,2237953,2237985,2238017,2238049,2238081,2238113,2238145]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2150146,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,0,0,23068672,23068672,23068672,0,0]),new Uint32Array([2214369,2238593,2238625,2238657,2238689,2238721,2238753,2238785,2238817,2238850,2238913,2238945,2238977,2235457,2239009,2239041]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([2252066,2252130,2252193,2252225,2252257,2252290,2252353,2252385,2252417,2252449,2252481,2252513,2252545,2252578,2252641,2252673]),new Uint32Array([2197697,2114113,2114209,2197729,2197761,2114305,2197793,2114401,2114497,2197825,2114593,2114689,2114785,2114881,2114977,2197857]),new Uint32Array([2224866,2224930,2224994,2225058,2225122,2225186,2225250,2225314,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2219490,2219554,2219617,2219649,2219681,2219714,2219778,2219842,2219905,2219937,0,0,0,0,0,0]),new Uint32Array([6291456,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289]),new Uint32Array([2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953,2148481,2173601,2173633,2173665]),new Uint32Array([2220161,2220161,2220193,2220193,2220193,2220193,2220225,2220225,2220225,2220225,2220257,2220257,2220257,2220257,2220289,2220289]),new Uint32Array([2192673,2192705,2192737,2192769,2192801,2192833,2192865,2118049,2192897,2117473,2117761,2192929,2192961,2192993,2193025,2193057]),new Uint32Array([2179297,6291456,2179329,6291456,2179361,6291456,2179393,6291456,2179425,6291456,2179457,6291456,2179489,6291456,2179521,6291456]),new Uint32Array([6291456,6291456,6291456,23068672,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2235745,2235777,2193633,2235809,2235841,2235873,2235905,2235937,2235969,2116513,2116705,2236001,2200513,2199905,2200545,2236033]),new Uint32Array([2113153,2108481,2113345,2113441,2232993,2233025,0,0,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761]),new Uint32Array([2170593,6291456,2170625,6291456,2170657,6291456,2170689,2170721,6291456,2170753,6291456,6291456,2170785,6291456,2170817,2170849]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2166786,2166850,0,0,0,0]),new Uint32Array([23068672,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,10575617,2187041,10502177,10489601,10489697,0]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2134562,2132162,2132834,2136866,2136482,2164610,2164674,2164738,2164802,2132802,2132706,2164866,2132898,2164930,2164994,2165058]),new Uint32Array([6291456,6291456,2098337,2101441,10531458,2153473,6291456,6291456,10531522,2100737,2108193,6291456,2106499,2106595,2106691,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0]),new Uint32Array([2233122,2233186,2233250,2233314,2233378,2233442,2233506,2233570,2233634,2233698,2233762,2233826,2233890,2233954,2234018,2234082]),new Uint32Array([23068672,6291456,23068672,23068672,23068672,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2205217,2205249,2205281,2205313,2205345,2205377,2205409,2205441,2205473,2205505,2205537,2205569,2205601,2205633,2205665,2205697]),new Uint32Array([6291456,0,6291456,0,0,0,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([2173601,2173761,2174081,2173569,2174241,2174113,2173953,6291456,2174305,6291456,2174337,6291456,2174369,6291456,2174401,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2152450,2152514,2099653,2104452,2099813,2122243,2099973,2152578,2122339,2122435,2122531,2122627,2122723,2104580,2122819,2152642]),new Uint32Array([2236385,2236417,2236449,2236482,2236545,2215425,2236577,2236609,2236641,2236673,2215457,2236705,2236737,2236770,2215489,2236833]),new Uint32Array([2163394,2159746,2163458,2131362,2163522,2160130,2163778,2132226,2163842,2132898,2163906,2161410,2138658,2097666,2136162,2163650]),new Uint32Array([2218721,2246913,2246946,2216385,2247010,2247074,2215009,2247137,2247169,2216481,2247201,2247233,2247266,2247330,2247330,0]),new Uint32Array([2129730,2129762,2129858,2129731,2129827,2156482,2156482,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,0,0,0,0,6291456,0,0]),new Uint32Array([2203969,2204001,2181377,2204033,2204065,6291456,2204097,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2169473,6291456,2169505,6291456,2169537,6291456,2169569,6291456,2169601,6291456,2169633,6291456,2169665,6291456,2169697,6291456]),new Uint32Array([2141542,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220801,2220801,2220801,2220801,2220833,2220833,2220865,2220865,2220865,2220865,2220897,2220897,2220897,2220897,2139873,2139873]),new Uint32Array([0,0,0,0,0,23068672,23068672,0,0,0,0,0,0,0,6291456,0]),new Uint32Array([2214849,2218433,2218465,2218497,2218529,2218561,2214881,2218593,2218625,2218657,2218689,2218721,2218753,2216545,2218785,2218817]),new Uint32Array([23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([2136482,2164610,2164674,2164738,2164802,2132802,2132706,2164866,2132898,2164930,2164994,2165058,2165122,2132802,2132706,2164866]),new Uint32Array([2207649,2207681,2207713,2207745,2207777,2207809,2207841,2207873,2207905,2207937,2207969,2208001,2208033,2208065,2208097,2208129]),new Uint32Array([2123683,2105092,2152706,2123779,2105220,2152770,2100453,2098755,2123906,2124002,2124098,2124194,2124290,2124386,2124482,2124578]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,6291456,0,0,0,0,0,0,0,10485857]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([10508163,10508259,10508355,10508451,2200129,2200161,2192737,2200193,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2203553,6291456,2203585,6291456,6291456,6291456,2203617,6291456,2203649,6291456,2203681,6291456,2203713,6291456,2203745,6291456]),new Uint32Array([18884449,18884065,23068672,18884417,18884034,18921185,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,18874368]),new Uint32Array([2247393,2247426,2247489,2247521,2247553,2247586,2247649,2247681,2247713,2247745,2247777,2247810,2247873,2247905,2247937,2247969]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672]),new Uint32Array([2134145,2097153,2134241,0,2132705,2130977,2160065,2131297,0,2133089,2160577,2133857,2235297,0,2235329,0]),new Uint32Array([2182593,6291456,2182625,6291456,2182657,6291456,2182689,6291456,2182721,6291456,2182753,6291456,2182785,6291456,2182817,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2102402,2102403,6291456,2110050]),new Uint32Array([2149890,2108323,2149954,6291456,2113441,6291456,2149057,6291456,2113441,6291456,2105473,2167265,2111137,2105505,6291456,2108353]),new Uint32Array([2219105,2219137,2195233,2251554,2251617,2251649,2251681,2251713,2251746,2251810,2251873,2251905,2251937,2251970,2252033,2219169]),new Uint32Array([2203009,6291456,2203041,6291456,2203073,6291456,2203105,6291456,2203137,6291456,2203169,6291456,2203201,6291456,2203233,6291456]),new Uint32Array([2128195,2128291,2128387,2128483,2128579,2128675,2128771,2128867,2128963,2129059,2129155,2129251,2129347,2129443,2129539,2129635]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2140964,2141156,2140966,2141158,2141350]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2225378,2225442,2225506,2225570,2225634,2225698,2225762,2225826,2225890,2225954,2226018,2226082,2226146,2226210,2226274,2226338]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417]),new Uint32Array([2108353,2108417,0,2105601,2108193,2157121,2157313,2157377,2157441,2100897,6291456,2108419,2173953,2173633,2173633,2173953]),new Uint32Array([2111713,2173121,2111905,2098177,2173153,2173185,2173217,2113153,2113345,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,2190753]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,2197249,6291456,2117377,2197281,2197313,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,0,0,0,0,0,0,23068672,0,0,0,0,0,6291456,6291456,6291456]),new Uint32Array([2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,23068672,23068672,23068672]),new Uint32Array([2173281,6291456,2173313,6291456,2173345,6291456,2173377,6291456,0,0,10532546,6291456,6291456,6291456,10562017,2173441]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0]),new Uint32Array([23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2159426,2159490,2159554,2159362,2159618,2159682,2139522,2136450,2159746,2159810,2159874,2130978,2131074,2131266,2131362,2159938]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2203233,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2203265,6291456,2203297,6291456,2203329,2203361,6291456]),new Uint32Array([6291456,6291456,2148418,2148482,2148546,0,6291456,2148610,2186529,2186561,2148417,2148545,2148482,10495778,2143969,10495778]),new Uint32Array([2134146,2139426,2160962,2134242,2161218,2161282,2161346,2161410,2138658,2134722,2134434,2134818,2097666,2097346,2097698,2105986]),new Uint32Array([2198881,2198913,2198945,2198977,2199009,2199041,2199073,2199105,2199137,2199169,2199201,2199233,2199265,2199297,2199329,2199361]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([10610561,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([2183873,6291456,2183905,6291456,2183937,6291456,2183969,6291456,2184001,6291456,2184033,6291456,2184065,6291456,2184097,6291456]),new Uint32Array([2244642,2244706,2244769,2244801,2218305,2244833,2244865,2244897,2244929,2244961,2244993,2245026,2245089,2245122,2245185,0]),new Uint32Array([6291456,6291456,2116513,2116609,2116705,2116801,2199873,2199905,2199937,2199969,2190913,2200001,2200033,2200065,2200097,2191009]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2180673,2180705,2180737,2180769,2180801,2180833,0,0]),new Uint32Array([2098081,2099521,2099105,2120705,2098369,2120801,2103361,2097985,2098433,2121377,2121473,2099169,2099873,2098401,2099393,2152609]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2150402]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,2145666,2145730,6291456,6291456]),new Uint32Array([2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665]),new Uint32Array([2187073,6291456,6291456,6291456,6291456,2098241,2098241,2108353,2100897,2111905,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2102404,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,2100612,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10485857]),new Uint32Array([2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889]),new Uint32Array([2217697,2217729,2217761,2217793,2217825,2217857,2217889,2217921,2217953,2215873,2217985,2215905,2218017,2218049,2218081,2218113]),new Uint32Array([2211233,2218849,2216673,2218881,2218913,2218945,2218977,2219009,2216833,2219041,2215137,2219073,2216865,2209505,2219105,2216897]),new Uint32Array([2240097,2240129,2240161,2240193,2240225,2240257,2240289,2240321,2240353,2240386,2240449,2240481,2240513,2240545,2207905,2240578]),new Uint32Array([6291456,6291456,2202273,6291456,2202305,6291456,2202337,6291456,2202369,6291456,2202401,6291456,2202433,6291456,2202465,6291456]),new Uint32Array([0,23068672,23068672,18923394,23068672,18923458,18923522,18884099,18923586,18884195,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2201121,6291456,2201153,6291456,2201185,6291456,2201217,6291456,2201249,6291456,2201281,6291456,2201313,6291456,2201345,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([2211041,2211073,2211105,2211137,2211169,2211201,2211233,2211265,2211297,2211329,2211361,2211393,2211425,2211457,2211489,2211521]),new Uint32Array([2181825,6291456,2181857,6291456,2181889,6291456,2181921,6291456,2181953,6291456,2181985,6291456,2182017,6291456,2182049,6291456]),new Uint32Array([2162337,2097633,2097633,2097633,2097633,2132705,2132705,2132705,2132705,2097153,2097153,2097153,2097153,2133089,2133089,2133089]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,2148545,6291456,2173473,6291456,2148865,6291456,2173505,6291456,2173537,6291456,2173569,6291456,2149121,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2207137,2207169,2207201,2207233,2207265,2207297,2207329,2207361,2207393,2207425,2207457,2207489,2207521,2207553,2207585,2207617]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,6291456,0,23068672,23068672,0,0,0,0,0,0]),new Uint32Array([2198401,2198433,2198465,2198497,0,2198529,2198561,2198593,2198625,2198657,2198689,2198721,2198753,2198785,2198817,2198849]),new Uint32Array([2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0,0]),new Uint32Array([2216385,2118721,2216417,2216449,2216481,2216513,2216545,2211233,2216577,2216609,2216641,2216673,2216705,2216737,2216737,2216769]),new Uint32Array([2216801,2216833,2216865,2216897,2216929,2216961,2216993,2215169,2217025,2217057,2217089,2217121,2217154,2217217,0,0]),new Uint32Array([2210593,2191809,2210625,2210657,2210689,2210721,2210753,2210785,2210817,2210849,2191297,2210881,2210913,2210945,2210977,2211009]),new Uint32Array([0,0,2105825,0,0,2111905,2105473,0,0,2112289,2108193,2112481,2112577,0,2098305,2108321]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,2097153,2134241,0,2132705,0,0,2131297,0,2133089,0,2133857,0,2220769,0,2235361]),new Uint32Array([14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,6291456,6291456,14680064]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2171873,6291456,2171905,6291456,2171937,6291456,2171969,6291456,2172001,6291456,2172033,6291456,2172065,6291456,2172097,6291456]),new Uint32Array([2220929,2220929,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2133857,2134145,2134145,2134145,2134145,2134241,2134241,2134241,2134241,2105889,2105889,2105889,2105889,2097185,2097185,2097185]),new Uint32Array([2173697,2173761,2173793,2174113,2173985,2173953,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,10499619,10499715,10499811,10499907]),new Uint32Array([0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,0,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,2144322,2144386,2144450,2144514,2144578,2144642,2144706,2144770]),new Uint32Array([23068672,23068672,23068672,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456]),new Uint32Array([2113153,2108481,2113345,2113441,2098209,2111137,0,2098241,2108353,2108417,2105825,0,0,2111905,2105473,2105569]),new Uint32Array([2236321,2236353,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2152194,2121283,2103684,2103812,2097986,2098533,2097990,2098693,2098595,2098853,2099013,2103940,2121379,2121475,2121571,2104068]),new Uint32Array([2206241,2206273,2206305,2206337,2206369,2206401,2206433,2206465,2206497,2206529,2206561,2206593,2206625,2206657,2206689,2206721]),new Uint32Array([6291456,6291456,6291456,6291456,16777216,16777216,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,23068672,23068672,10538818,10538882,6291456,6291456,2150338]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2214369,2214401,2214433,2214465,2214497,2214529,2214561,2214593,2194977,2214625,2195073,2214657,2214689,2214721,6291456,6291456]),new Uint32Array([2097152,2097152,2097152,2097152,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2182081,6291456,2182113,6291456,2182145,6291456,2182177,6291456,2182209,6291456,2182241,6291456,2182273,6291456,2182305,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2146881,2146945,2147009,2147073,2147137,2147201,2147265,2147329]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,23068672,23068672]),new Uint32Array([0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2122915,2123011,2123107,2104708,2123203,2123299,2123395,2100133,2104836,2100290,2100293,2104962,2104964,2098052,2123491,2123587]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([6291456,2171169,6291456,2171201,6291456,2171233,6291456,2171265,6291456,2171297,6291456,2171329,6291456,6291456,2171361,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,2148994,2149058,2149122,0,6291456,2149186,2186945,2173537,2148993,2149121,2149058,10531458,10496066,0]),new Uint32Array([2195009,2195041,2195073,2195105,2195137,2195169,2195201,2195233,2195265,2195297,2195329,2195361,2195393,2195425,2195457,2195489]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,0,0,6291456,6291456]),new Uint32Array([2182849,6291456,2182881,6291456,2182913,6291456,2182945,6291456,2182977,6291456,2183009,6291456,2183041,6291456,2183073,6291456]),new Uint32Array([2211553,2210081,2211585,2211617,2211649,2211681,2211713,2211745,2211777,2211809,2209569,2211841,2211873,2211905,2211937,2211969]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2166594,2127298,2166658,2142978,2141827,2166722]),new Uint32Array([2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2185761,2185793,2185825,2185857,2185889,2185921,0,0]),new Uint32Array([6291456,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,6291456]),new Uint32Array([0,0,0,2220961,2220961,2220961,2220961,2144193,2144193,2159201,2159201,2159265,2159265,2144194,2220993,2220993]),new Uint32Array([2192641,2235393,2235425,2152257,2116609,2235457,2235489,2200065,2235521,2235553,2235585,2212449,2235617,2235649,2235681,2235713]),new Uint32Array([2194049,2194081,2194113,2194145,2194177,2194209,2194241,2194273,2194305,2194337,2194369,2194401,2194433,2194465,2194497,2194529]),new Uint32Array([2196673,2208641,2208673,2208705,2208737,2208769,2208801,2208833,2208865,2208897,2208929,2208961,2208993,2209025,2209057,2209089]),new Uint32Array([2191681,2191713,2191745,2191777,2153281,2191809,2191841,2191873,2191905,2191937,2191969,2192001,2192033,2192065,2192097,2192129]),new Uint32Array([2230946,2231010,2231074,2231138,2231202,2231266,2231330,2231394,2231458,2231522,2231586,2231650,2231714,2231778,2231842,2231906]),new Uint32Array([14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2185953,2185985,2186017,2186049,2186081,2186113,2186145,2186177]),new Uint32Array([2139811,2139907,2097284,2105860,2105988,2106116,2106244,2097444,2097604,2097155,10485778,10486344,2106372,6291456,0,0]),new Uint32Array([2110051,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2172385,6291456,2172417,6291456,2172449,6291456,2172481,6291456,2172513,6291456,2172545,6291456,2172577,6291456,2172609,6291456]),new Uint32Array([0,0,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2249345,2249377,2249409,2249441,2249473,2249505,2249537,2249570,2210209,2249633,2249665,2249697,2249729,2249761,2249793,2216769]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2187169,2187201,2187233,2187265,2187297,2187329,2187361,2187393,2187425,2187457,2187489,2187521,2187553,2187585,2187617,2187649]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,6291456,6291456,0,0,0,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([2182337,6291456,2182369,6291456,2182401,6291456,2182433,6291456,2182465,6291456,2182497,6291456,2182529,6291456,2182561,6291456]),new Uint32Array([2138179,2138275,2138371,2138467,2134243,2134435,2138563,2138659,2138755,2138851,2138947,2139043,2138947,2138755,2139139,2139235]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2250498,2250562,2250625,2250657,2208321,2250689,2250721,2250753,2250785,2250817,2250849,2218945,2250881,2250913,2250945,0]),new Uint32Array([2170369,2105569,2098305,2108481,2173249,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2100897,2111905,2105473,2105569,2105601,0,2108193,0,0,0,2098305,2108321,2108289,2100865,2113153,2108481]),new Uint32Array([2100897,2100897,2105569,2105569,6291456,2112289,2149826,6291456,6291456,2112481,2112577,2098177,2098177,2098177,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,6291456,6291456,6291456]),new Uint32Array([6291456,2169953,2169985,6291456,2170017,6291456,2170049,2170081,6291456,2170113,2170145,2170177,6291456,6291456,2170209,2170241]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220641,2220641,2220673,2220673,2220673,2220673,2220705,2220705,2220705,2220705,2220737,2220737,2220737,2220737,2220769,2220769]),new Uint32Array([2127650,2127746,2127842,2127938,2128034,2128130,2128226,2128322,2128418,2127523,2127619,2127715,2127811,2127907,2128003,2128099]),new Uint32Array([2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177]),new Uint32Array([0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2204705,2204737,2204769,2204801,2204833,2204865,2204897,2204929,2204961,2204993,2205025,2205057,2205089,2205121,2205153,2205185]),new Uint32Array([2176385,6291456,2176417,6291456,2176449,6291456,2176481,6291456,2176513,6291456,2176545,6291456,2176577,6291456,2176609,6291456]),new Uint32Array([2195521,2195553,2195585,2195617,2195649,2195681,2117857,2195713,2195745,2195777,2195809,2195841,2195873,2195905,2195937,2195969]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456]),new Uint32Array([2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113]),new Uint32Array([2131586,2132450,2135970,2135778,2161602,2136162,2163650,2161794,2135586,2163714,2137186,2131810,2160290,2135170,2097506,2159554]),new Uint32Array([2134145,2097153,2134241,2105953,2132705,2130977,2160065,2131297,2162049,2133089,2160577,2133857,0,0,0,0]),new Uint32Array([2116513,2116609,2116705,2116801,2116897,2116993,2117089,2117185,2117281,2117377,2117473,2117569,2117665,2117761,2117857,2117953]),new Uint32Array([2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100802,2101154,2101282,2101410,2101538,2101666,2101794]),new Uint32Array([2100289,2098657,2098049,2200737,2123489,2123681,2200769,2098625,2100321,2098145,2100449,2098017,2098753,2098977,2150241,2150305]),new Uint32Array([6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,2109955,6291456,6291456,0,0,0,0]),new Uint32Array([18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,0,0]),new Uint32Array([2130979,2131075,2131075,2131171,2131267,2131363,2131459,2131555,2131651,2131651,2131747,2131843,2131939,2132035,2132131,2132227]),new Uint32Array([0,2177793,6291456,2177825,6291456,2177857,6291456,2177889,6291456,2177921,6291456,2177953,6291456,2177985,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2113345,0,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289]),new Uint32Array([2136643,2136739,2136835,2136931,2137027,2137123,2137219,2137315,2137411,2137507,2137603,2137699,2137795,2137891,2137987,2138083]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([2174433,6291456,2174465,6291456,2174497,6291456,2174529,6291456,2174561,6291456,2174593,6291456,2174625,6291456,2174657,6291456]),new Uint32Array([0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441]),new Uint32Array([10496547,10496643,2105505,2149698,6291456,10496739,10496835,2170273,6291456,2149762,2105825,2111713,2111713,2111713,2111713,2168673]),new Uint32Array([6291456,2143490,2143490,2143490,2171649,6291456,2171681,2171713,2171745,6291456,2171777,6291456,2171809,6291456,2171841,6291456]),new Uint32Array([2159106,2159106,2159170,2159170,2159234,2159234,2159298,2159298,2159298,2159362,2159362,2159362,2106401,2106401,2106401,2106401]),new Uint32Array([2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137]),new Uint32Array([2108417,2181217,2181249,2181281,2170433,2170401,2181313,2181345,2181377,2181409,2181441,2181473,2181505,2181537,2170529,2181569]),new Uint32Array([2218433,2245761,2245793,2245825,2245857,2245890,2245953,2245986,2209665,2246050,2246113,2246146,2246210,2246274,2246337,2246369]),new Uint32Array([2230754,2230818,2230882,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2184129,6291456,2184161,6291456,2184193,6291456,6291456,6291456,6291456,6291456,2146818,2183361,6291456,6291456,2142978,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2135170,2097506,2130691,2130787,2130883,2163970,2164034,2164098,2164162,2164226,2164290,2164354,2164418,2164482,2164546,2133122]),new Uint32Array([2108515,2108611,2100740,2108707,2108803,2108899,2108995,2109091,2109187,2109283,2109379,2109475,2109571,2109667,2109763,2100738]),new Uint32Array([2102788,2102916,2103044,2120515,2103172,2120611,2120707,2098373,2103300,2120803,2120899,2120995,2103428,2103556,2121091,2121187]),new Uint32Array([2158082,2158146,0,2158210,2158274,0,2158338,2158402,2158466,2129922,2158530,2158594,2158658,2158722,2158786,2158850]),new Uint32Array([10499619,10499715,10499811,10499907,10500003,10500099,10500195,10500291,10500387,10500483,10500579,10500675,10500771,10500867,10500963,10501059]),new Uint32Array([2239585,2239618,2239681,2239713,0,2191969,2239745,2239777,2192033,2239809,2239841,2239874,2239937,2239970,2240033,2240065]),new Uint32Array([2252705,2252738,2252801,2252833,2252865,2252897,2252930,2252994,2253057,2253089,2253121,2253154,2253217,2253250,2219361,2219361]),new Uint32Array([2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,10538050,10538114,10538178,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2226402,2226466,2226530,2226594,2226658,2226722,2226786,2226850,2226914,2226978,2227042,2227106,2227170,2227234,2227298,2227362]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,2144066,2144130,2144194,2144258,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2124674,2124770,2123875,2123971,2124067,2124163,2124259,2124355,2124451,2124547,2124643,2124739,2124835,2124931,2125027,2125123]),new Uint32Array([2168065,6291456,2168097,6291456,2168129,6291456,2168161,6291456,2168193,6291456,2168225,6291456,2168257,6291456,2168289,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,2100610,2100611,6291456,2107842,2107843,6291456,6291456,6291456,6291456,10537922,6291456,10537986,6291456]),new Uint32Array([2174849,2174881,2174913,2174945,2174977,2175009,2175041,2175073,2175105,2175137,2175169,2175201,2175233,2175265,2175297,2175329]),new Uint32Array([2154562,2154626,2154690,2154754,2141858,2154818,2154882,2127298,2154946,2127298,2155010,2155074,2155138,2155202,2155266,2155202]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0]),new Uint32Array([2200641,2150786,2150850,2150914,2150978,2151042,2106562,2151106,2150562,2151170,2151234,2151298,2151362,2151426,2151490,2151554]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,6291456,6291456]),new Uint32Array([2220289,2220289,2220321,2220321,2220321,2220321,2220353,2220353,2220353,2220353,2220385,2220385,2220385,2220385,2220417,2220417]),new Uint32Array([2155330,2155394,0,2155458,2155522,2155586,2105732,0,2155650,2155714,2155778,2125314,2155842,2155906,2126274,2155970]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,23068672,23068672,6291456,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0]),new Uint32Array([2097729,2106017,2106017,2106017,2106017,2131297,2131297,2131297,2131297,2106081,2106081,2162049,2162049,2105953,2105953,2162337]),new Uint32Array([2097185,2097697,2097697,2097697,2097697,2135777,2135777,2135777,2135777,2097377,2097377,2097377,2097377,2097601,2097601,2097217]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23068672]),new Uint32Array([2139331,2139427,2139523,2139043,2133571,2132611,2139619,2139715,0,0,0,0,0,0,0,0]),new Uint32Array([2174113,2174145,2100897,2098177,2108289,2100865,2173601,2173633,2173985,2174113,2174145,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,23068672,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,18923778,23068672,23068672,23068672,23068672,18923842,23068672,23068672,23068672,23068672,18923906,23068672,23068672,23068672]),new Uint32Array([2134145,2097153,2134241,0,2132705,2130977,2160065,2131297,0,2133089,0,2133857,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2177537,6291456,2177569,6291456,2177601,6291456,2177633,6291456,2177665,6291456,2177697,6291456,2177729,6291456,2177761,6291456]),new Uint32Array([2212481,2212513,2212545,2212577,2197121,2212609,2212641,2212673,2212705,2212737,2212769,2212801,2212833,2212865,2212897,2212929]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2098241,2108353,2170209,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,6291456,2108193,2172417,2112481,2098177]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456])],t=new Uint16Array([616,616,565,147,161,411,330,2,131,131,328,454,241,408,86,86,696,113,285,350,325,301,473,214,639,232,447,64,369,598,124,672,567,223,621,154,107,86,86,86,86,86,86,505,86,68,634,86,218,218,218,218,486,218,218,513,188,608,216,86,217,463,668,85,700,360,184,86,86,86,647,402,153,10,346,718,662,260,145,298,117,1,443,342,138,54,563,86,240,572,218,70,387,86,118,460,641,602,86,86,306,218,86,692,86,86,86,86,86,162,707,86,458,26,86,218,638,86,86,86,86,86,65,449,86,86,306,183,86,58,391,667,86,157,131,131,131,131,86,433,131,406,31,218,247,86,86,693,218,581,351,86,438,295,69,462,45,126,173,650,14,295,69,97,168,187,641,78,523,390,69,108,287,664,173,219,83,295,69,108,431,426,173,694,412,115,628,52,257,398,641,118,501,121,69,579,151,423,173,620,464,121,69,382,151,476,173,27,53,121,86,594,578,226,173,86,632,130,86,96,228,268,641,622,563,86,86,21,148,650,131,131,321,43,144,343,381,531,131,131,178,20,86,399,156,375,164,541,30,60,715,198,92,118,131,131,86,86,306,407,86,280,457,196,488,358,131,131,244,86,86,143,86,86,86,86,86,667,563,86,86,86,86,86,86,86,86,86,86,86,86,86,336,363,86,86,336,86,86,380,678,67,86,86,86,678,86,86,86,512,86,307,86,708,86,86,86,86,86,528,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,563,307,86,86,86,86,86,104,450,337,86,720,86,32,450,397,86,86,86,587,218,558,708,708,293,708,86,86,86,86,86,694,205,86,8,86,86,86,86,549,86,667,697,697,679,86,458,460,86,86,650,86,708,543,86,86,86,245,86,86,86,140,218,127,708,708,458,197,131,131,131,131,500,86,86,483,251,86,306,510,515,86,722,86,86,86,65,201,86,86,483,580,470,86,86,86,368,131,131,131,694,114,110,555,86,86,123,721,163,142,713,418,86,317,675,209,218,218,218,371,545,592,629,490,603,199,46,320,525,680,310,279,388,111,42,252,593,607,235,617,410,377,50,548,135,356,17,520,189,116,392,600,349,332,482,699,690,535,119,106,451,71,152,667,131,218,218,265,671,637,492,504,533,683,269,269,658,86,86,86,86,86,86,86,86,86,491,619,86,86,6,86,86,86,86,86,86,86,86,86,86,86,229,86,86,86,86,86,86,86,86,86,86,86,86,667,86,86,171,131,118,131,656,206,234,571,89,334,670,246,311,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,534,86,86,86,86,86,86,82,86,86,86,86,86,430,86,86,86,86,86,86,86,86,86,599,86,324,86,470,69,640,264,131,626,101,174,86,86,667,233,105,73,374,394,221,204,84,28,326,86,86,471,86,86,86,109,573,86,171,200,200,200,200,218,218,86,86,86,86,460,131,131,131,86,506,86,86,86,86,86,220,404,34,614,47,442,305,25,612,338,601,648,7,344,255,131,131,51,86,312,507,563,86,86,86,86,588,86,86,86,86,86,530,511,86,458,3,435,384,556,522,230,527,86,118,86,86,717,86,137,273,79,181,484,23,93,112,655,249,417,703,370,87,98,313,684,585,155,465,596,481,695,18,416,428,61,701,706,282,643,495,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,307,86,86,86,171,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,650,131,422,542,420,263,24,172,86,86,86,86,86,566,86,86,132,540,395,353,494,519,19,485,284,472,131,131,131,16,714,86,211,708,86,86,86,694,698,86,86,483,704,708,218,272,86,86,120,86,159,478,86,307,247,86,86,663,597,459,627,667,86,86,277,455,39,302,86,250,86,86,86,271,99,452,306,281,329,400,200,86,86,362,549,352,646,461,323,586,86,86,4,708,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,717,86,518,86,86,650,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,125,554,480,300,613,72,333,288,561,544,604,48,719,91,169,176,590,224,76,191,29,559,560,231,537,166,477,538,256,437,131,131,469,167,40,0,685,266,441,705,239,642,475,568,640,610,299,673,517,318,385,22,202,180,179,359,424,215,90,66,521,653,467,682,453,409,479,88,131,661,35,303,15,262,666,630,712,131,131,618,659,175,218,195,347,193,227,261,150,165,709,546,294,569,710,270,413,376,524,55,242,38,419,529,170,657,3,304,122,379,278,131,651,86,67,576,458,458,131,131,86,86,86,86,86,86,86,118,309,86,86,547,86,86,86,86,667,650,664,131,131,86,86,56,131,131,131,131,131,131,131,131,86,307,86,86,86,664,238,650,86,86,717,86,118,86,86,315,86,59,86,86,574,549,131,131,340,57,436,86,86,86,86,86,86,458,708,499,691,62,86,650,86,86,694,86,86,86,319,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,86,549,694,131,131,131,131,131,131,131,131,131,77,86,86,139,86,502,86,86,86,667,595,131,131,131,86,12,86,13,86,609,131,131,131,131,86,86,86,625,86,669,86,86,182,129,86,5,694,104,86,86,86,86,131,131,86,86,386,171,86,86,86,345,86,324,86,589,86,213,36,131,131,131,131,131,86,86,86,86,104,131,131,131,141,290,80,677,86,86,86,267,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,667,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,515,86,86,33,136,669,86,711,515,86,86,550,640,86,104,708,515,86,159,372,717,86,86,444,515,86,86,663,37,86,563,460,86,390,624,702,131,131,131,131,389,59,708,86,86,341,208,708,635,295,69,108,431,508,100,190,131,131,131,131,131,131,131,131,86,86,86,649,516,660,131,131,86,86,86,218,631,708,131,131,131,131,131,131,131,131,131,131,86,86,341,575,238,514,131,131,86,86,86,218,291,708,307,131,86,86,306,367,708,131,131,131,86,378,697,86,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,615,253,86,86,86,292,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,104,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,69,86,341,553,549,86,307,86,86,645,275,455,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,708,131,131,131,131,131,131,86,86,86,86,86,86,667,460,86,86,86,86,86,86,86,86,86,86,86,86,717,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,667,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,104,86,667,459,131,131,131,131,131,131,86,458,225,86,86,86,516,549,11,390,405,86,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,460,44,218,197,711,515,131,131,131,131,664,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,307,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,308,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,118,307,104,286,591,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,86,86,681,86,86,75,185,314,582,86,358,496,474,86,104,131,86,86,86,86,146,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,171,86,640,131,131,131,131,131,131,131,131,246,503,689,339,674,81,258,415,439,128,562,366,414,246,503,689,583,222,557,316,636,665,186,355,95,670,246,503,689,339,674,557,258,415,439,186,355,95,670,246,503,689,446,644,536,652,331,532,335,440,274,421,297,570,74,425,364,425,606,552,403,509,134,365,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,218,218,218,498,218,218,577,627,551,497,572,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,553,354,236,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,296,455,131,131,456,243,103,86,41,459,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,9,276,158,716,393,564,383,489,401,654,210,654,131,131,131,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,650,86,86,86,86,86,86,717,667,563,563,563,86,549,102,686,133,246,605,86,448,86,86,207,307,131,131,131,641,86,177,611,445,373,194,584,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,308,307,171,86,86,86,86,86,86,86,717,86,86,86,86,86,460,131,131,650,86,86,86,694,708,86,86,694,86,458,131,131,131,131,131,131,667,694,289,650,667,131,131,86,640,131,131,664,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,460,86,86,86,86,86,86,86,86,86,86,86,86,86,458,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,466,203,149,429,94,432,160,687,539,63,237,283,192,248,348,259,427,526,396,676,254,468,487,212,327,623,49,633,322,493,434,688,357,361,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131]);return{mapStr:"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064a\u0647 \u0648\u0633\u0644\u0645\u062c\u0644 \u062c\u0644\u0627\u0644\u0647\u30ad\u30ed\u30e1\u30fc\u30c8\u30ebrad\u2215s2\u30a8\u30b9\u30af\u30fc\u30c9\u30ad\u30ed\u30b0\u30e9\u30e0\u30ad\u30ed\u30ef\u30c3\u30c8\u30b0\u30e9\u30e0\u30c8\u30f3\u30af\u30eb\u30bc\u30a4\u30ed\u30b5\u30f3\u30c1\u30fc\u30e0\u30d1\u30fc\u30bb\u30f3\u30c8\u30d4\u30a2\u30b9\u30c8\u30eb\u30d5\u30a1\u30e9\u30c3\u30c9\u30d6\u30c3\u30b7\u30a7\u30eb\u30d8\u30af\u30bf\u30fc\u30eb\u30de\u30f3\u30b7\u30e7\u30f3\u30df\u30ea\u30d0\u30fc\u30eb\u30ec\u30f3\u30c8\u30b2\u30f3\u2032\u2032\u2032\u20321\u204410viii(10)(11)(12)(13)(14)(15)(16)(17)(18)(19)(20)\u222b\u222b\u222b\u222b(\uc624\uc804)(\uc624\ud6c4)\u30a2\u30d1\u30fc\u30c8\u30a2\u30eb\u30d5\u30a1\u30a2\u30f3\u30da\u30a2\u30a4\u30cb\u30f3\u30b0\u30a8\u30fc\u30ab\u30fc\u30ab\u30e9\u30c3\u30c8\u30ab\u30ed\u30ea\u30fc\u30ad\u30e5\u30ea\u30fc\u30ae\u30eb\u30c0\u30fc\u30af\u30ed\u30fc\u30cd\u30b5\u30a4\u30af\u30eb\u30b7\u30ea\u30f3\u30b0\u30d0\u30fc\u30ec\u30eb\u30d5\u30a3\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u30de\u30a4\u30af\u30ed\u30df\u30af\u30ed\u30f3\u30e1\u30ac\u30c8\u30f3\u30ea\u30c3\u30c8\u30eb\u30eb\u30fc\u30d6\u30eb\u682a\u5f0f\u4f1a\u793ekcalm\u2215s2c\u2215kg\u0627\u0643\u0628\u0631\u0645\u062d\u0645\u062f\u0635\u0644\u0639\u0645\u0631\u0633\u0648\u0644\u0631\u06cc\u0627\u06441\u204441\u204423\u20444 \u0308\u0301\u0fb2\u0f71\u0f80\u0fb3\u0f71\u0f80 \u0308\u0342 \u0313\u0300 \u0313\u0301 \u0313\u0342 \u0314\u0300 \u0314\u0301 \u0314\u0342 \u0308\u0300\u2035\u2035\u2035a/ca/sc/oc/utelfax1\u204471\u204491\u204432\u204431\u204452\u204453\u204454\u204451\u204465\u204461\u204483\u204485\u204487\u20448xii0\u20443\u222e\u222e\u222e(1)(2)(3)(4)(5)(6)(7)(8)(9)(a)(b)(c)(d)(e)(f)(g)(h)(i)(j)(k)(l)(m)(n)(o)(p)(q)(r)(s)(t)(u)(v)(w)(x)(y)(z)::====(\u1100)(\u1102)(\u1103)(\u1105)(\u1106)(\u1107)(\u1109)(\u110b)(\u110c)(\u110e)(\u110f)(\u1110)(\u1111)(\u1112)(\uac00)(\ub098)(\ub2e4)(\ub77c)(\ub9c8)(\ubc14)(\uc0ac)(\uc544)(\uc790)(\ucc28)(\uce74)(\ud0c0)(\ud30c)(\ud558)(\uc8fc)(\u4e00)(\u4e8c)(\u4e09)(\u56db)(\u4e94)(\u516d)(\u4e03)(\u516b)(\u4e5d)(\u5341)(\u6708)(\u706b)(\u6c34)(\u6728)(\u91d1)(\u571f)(\u65e5)(\u682a)(\u6709)(\u793e)(\u540d)(\u7279)(\u8ca1)(\u795d)(\u52b4)(\u4ee3)(\u547c)(\u5b66)(\u76e3)(\u4f01)(\u8cc7)(\u5354)(\u796d)(\u4f11)(\u81ea)(\u81f3)pte10\u670811\u670812\u6708ergltd\u30a2\u30fc\u30eb\u30a4\u30f3\u30c1\u30a6\u30a9\u30f3\u30aa\u30f3\u30b9\u30aa\u30fc\u30e0\u30ab\u30a4\u30ea\u30ac\u30ed\u30f3\u30ac\u30f3\u30de\u30ae\u30cb\u30fc\u30b1\u30fc\u30b9\u30b3\u30eb\u30ca\u30b3\u30fc\u30dd\u30bb\u30f3\u30c1\u30c0\u30fc\u30b9\u30ce\u30c3\u30c8\u30cf\u30a4\u30c4\u30d1\u30fc\u30c4\u30d4\u30af\u30eb\u30d5\u30e9\u30f3\u30da\u30cb\u30d2\u30d8\u30eb\u30c4\u30da\u30f3\u30b9\u30da\u30fc\u30b8\u30d9\u30fc\u30bf\u30dc\u30eb\u30c8\u30dd\u30f3\u30c9\u30db\u30fc\u30eb\u30db\u30fc\u30f3\u30de\u30a4\u30eb\u30de\u30c3\u30cf\u30de\u30eb\u30af\u30e4\u30fc\u30c9\u30e4\u30fc\u30eb\u30e6\u30a2\u30f3\u30eb\u30d4\u30fc10\u70b911\u70b912\u70b913\u70b914\u70b915\u70b916\u70b917\u70b918\u70b919\u70b920\u70b921\u70b922\u70b923\u70b924\u70b9hpabardm2dm3khzmhzghzthzmm2cm2km2mm3cm3km3kpampagpalogmilmolppmv\u2215ma\u2215m10\u65e511\u65e512\u65e513\u65e514\u65e515\u65e516\u65e517\u65e518\u65e519\u65e520\u65e521\u65e522\u65e523\u65e524\u65e525\u65e526\u65e527\u65e528\u65e529\u65e530\u65e531\u65e5galffiffl\u05e9\u05bc\u05c1\u05e9\u05bc\u05c2 \u064c\u0651 \u064d\u0651 \u064e\u0651 \u064f\u0651 \u0650\u0651 \u0651\u0670\u0640\u064e\u0651\u0640\u064f\u0651\u0640\u0650\u0651\u062a\u062c\u0645\u062a\u062d\u062c\u062a\u062d\u0645\u062a\u062e\u0645\u062a\u0645\u062c\u062a\u0645\u062d\u062a\u0645\u062e\u062c\u0645\u062d\u062d\u0645\u064a\u062d\u0645\u0649\u0633\u062d\u062c\u0633\u062c\u062d\u0633\u062c\u0649\u0633\u0645\u062d\u0633\u0645\u062c\u0633\u0645\u0645\u0635\u062d\u062d\u0635\u0645\u0645\u0634\u062d\u0645\u0634\u062c\u064a\u0634\u0645\u062e\u0634\u0645\u0645\u0636\u062d\u0649\u0636\u062e\u0645\u0637\u0645\u062d\u0637\u0645\u0645\u0637\u0645\u064a\u0639\u062c\u0645\u0639\u0645\u0645\u0639\u0645\u0649\u063a\u0645\u0645\u063a\u0645\u064a\u063a\u0645\u0649\u0641\u062e\u0645\u0642\u0645\u062d\u0642\u0645\u0645\u0644\u062d\u0645\u0644\u062d\u064a\u0644\u062d\u0649\u0644\u062c\u062c\u0644\u062e\u0645\u0644\u0645\u062d\u0645\u062d\u062c\u0645\u062d\u064a\u0645\u062c\u062d\u0645\u062c\u0645\u0645\u062e\u0645\u0645\u062c\u062e\u0647\u0645\u062c\u0647\u0645\u0645\u0646\u062d\u0645\u0646\u062d\u0649\u0646\u062c\u0645\u0646\u062c\u0649\u0646\u0645\u064a\u0646\u0645\u0649\u064a\u0645\u0645\u0628\u062e\u064a\u062a\u062c\u064a\u062a\u062c\u0649\u062a\u062e\u064a\u062a\u062e\u0649\u062a\u0645\u064a\u062a\u0645\u0649\u062c\u0645\u064a\u062c\u062d\u0649\u062c\u0645\u0649\u0633\u062e\u0649\u0635\u062d\u064a\u0634\u062d\u064a\u0636\u062d\u064a\u0644\u062c\u064a\u0644\u0645\u064a\u064a\u062d\u064a\u064a\u062c\u064a\u064a\u0645\u064a\u0645\u0645\u064a\u0642\u0645\u064a\u0646\u062d\u064a\u0639\u0645\u064a\u0643\u0645\u064a\u0646\u062c\u062d\u0645\u062e\u064a\u0644\u062c\u0645\u0643\u0645\u0645\u062c\u062d\u064a\u062d\u062c\u064a\u0645\u062c\u064a\u0641\u0645\u064a\u0628\u062d\u064a\u0633\u062e\u064a\u0646\u062c\u064a\u0635\u0644\u06d2\u0642\u0644\u06d2\ud834\udd58\ud834\udd65\ud834\udd6e\ud834\udd58\ud834\udd65\ud834\udd6f\ud834\udd58\ud834\udd65\ud834\udd70\ud834\udd58\ud834\udd65\ud834\udd71\ud834\udd58\ud834\udd65\ud834\udd72\ud834\uddb9\ud834\udd65\ud834\udd6e\ud834\uddba\ud834\udd65\ud834\udd6e\ud834\uddb9\ud834\udd65\ud834\udd6f\ud834\uddba\ud834\udd65\ud834\udd6f\u3014s\u3015ppv\u3014\u672c\u3015\u3014\u4e09\u3015\u3014\u4e8c\u3015\u3014\u5b89\u3015\u3014\u70b9\u3015\u3014\u6253\u3015\u3014\u76d7\u3015\u3014\u52dd\u3015\u3014\u6557\u3015 \u0304 \u0301 \u0327ssi\u0307ijl\xb7\u02bcnd\u017eljnjdz \u0306 \u0307 \u030a \u0328 \u0303 \u030b \u03b9\u0565\u0582\u0627\u0674\u0648\u0674\u06c7\u0674\u064a\u0674\u0915\u093c\u0916\u093c\u0917\u093c\u091c\u093c\u0921\u093c\u0922\u093c\u092b\u093c\u092f\u093c\u09a1\u09bc\u09a2\u09bc\u09af\u09bc\u0a32\u0a3c\u0a38\u0a3c\u0a16\u0a3c\u0a17\u0a3c\u0a1c\u0a3c\u0a2b\u0a3c\u0b21\u0b3c\u0b22\u0b3c\u0e4d\u0e32\u0ecd\u0eb2\u0eab\u0e99\u0eab\u0ea1\u0f42\u0fb7\u0f4c\u0fb7\u0f51\u0fb7\u0f56\u0fb7\u0f5b\u0fb7\u0f40\u0fb5\u0f71\u0f72\u0f71\u0f74\u0fb2\u0f80\u0fb3\u0f80\u0f92\u0fb7\u0f9c\u0fb7\u0fa1\u0fb7\u0fa6\u0fb7\u0fab\u0fb7\u0f90\u0fb5a\u02be\u1f00\u03b9\u1f01\u03b9\u1f02\u03b9\u1f03\u03b9\u1f04\u03b9\u1f05\u03b9\u1f06\u03b9\u1f07\u03b9\u1f20\u03b9\u1f21\u03b9\u1f22\u03b9\u1f23\u03b9\u1f24\u03b9\u1f25\u03b9\u1f26\u03b9\u1f27\u03b9\u1f60\u03b9\u1f61\u03b9\u1f62\u03b9\u1f63\u03b9\u1f64\u03b9\u1f65\u03b9\u1f66\u03b9\u1f67\u03b9\u1f70\u03b9\u03b1\u03b9\u03ac\u03b9\u1fb6\u03b9 \u0342\u1f74\u03b9\u03b7\u03b9\u03ae\u03b9\u1fc6\u03b9\u1f7c\u03b9\u03c9\u03b9\u03ce\u03b9\u1ff6\u03b9 \u0333!! \u0305???!!?rs\xb0c\xb0fnosmtmivix\u2add\u0338 \u3099 \u309a\u3088\u308a\u30b3\u30c8333435\ucc38\uace0\uc8fc\uc758363738394042444546474849503\u67084\u67085\u67086\u67087\u67088\u67089\u6708hgev\u30ae\u30ac\u30c7\u30b7\u30c9\u30eb\u30ca\u30ce\u30d4\u30b3\u30d3\u30eb\u30da\u30bd\u30db\u30f3\u30ea\u30e9\u30ec\u30e0daauovpciu\u5e73\u6210\u662d\u548c\u5927\u6b63\u660e\u6cbbna\u03bcakakbmbgbpfnf\u03bcf\u03bcgmg\u03bclmldlklfmnm\u03bcmpsns\u03bcsmsnv\u03bcvkvpwnw\u03bcwmwkwk\u03c9m\u03c9bqcccddbgyhainkkktlnlxphprsrsvwbst\u0574\u0576\u0574\u0565\u0574\u056b\u057e\u0576\u0574\u056d\u05d9\u05b4\u05f2\u05b7\u05e9\u05c1\u05e9\u05c2\u05d0\u05b7\u05d0\u05b8\u05d0\u05bc\u05d1\u05bc\u05d2\u05bc\u05d3\u05bc\u05d4\u05bc\u05d5\u05bc\u05d6\u05bc\u05d8\u05bc\u05d9\u05bc\u05da\u05bc\u05db\u05bc\u05dc\u05bc\u05de\u05bc\u05e0\u05bc\u05e1\u05bc\u05e3\u05bc\u05e4\u05bc\u05e6\u05bc\u05e7\u05bc\u05e8\u05bc\u05ea\u05bc\u05d5\u05b9\u05d1\u05bf\u05db\u05bf\u05e4\u05bf\u05d0\u05dc\u0626\u0627\u0626\u06d5\u0626\u0648\u0626\u06c7\u0626\u06c6\u0626\u06c8\u0626\u06d0\u0626\u0649\u0626\u062c\u0626\u062d\u0626\u0645\u0626\u064a\u0628\u062c\u0628\u0645\u0628\u0649\u0628\u064a\u062a\u0649\u062a\u064a\u062b\u062c\u062b\u0645\u062b\u0649\u062b\u064a\u062e\u062d\u0636\u062c\u0636\u0645\u0637\u062d\u0638\u0645\u063a\u062c\u0641\u062c\u0641\u062d\u0641\u0649\u0641\u064a\u0642\u062d\u0642\u0649\u0642\u064a\u0643\u0627\u0643\u062c\u0643\u062d\u0643\u062e\u0643\u0644\u0643\u0649\u0643\u064a\u0646\u062e\u0646\u0649\u0646\u064a\u0647\u062c\u0647\u0649\u0647\u064a\u064a\u0649\u0630\u0670\u0631\u0670\u0649\u0670\u0626\u0631\u0626\u0632\u0626\u0646\u0628\u0632\u0628\u0646\u062a\u0631\u062a\u0632\u062a\u0646\u062b\u0631\u062b\u0632\u062b\u0646\u0645\u0627\u0646\u0631\u0646\u0632\u0646\u0646\u064a\u0631\u064a\u0632\u0626\u062e\u0626\u0647\u0628\u0647\u062a\u0647\u0635\u062e\u0646\u0647\u0647\u0670\u062b\u0647\u0633\u0647\u0634\u0647\u0637\u0649\u0637\u064a\u0639\u0649\u0639\u064a\u063a\u0649\u063a\u064a\u0633\u0649\u0633\u064a\u0634\u0649\u0634\u064a\u0635\u0649\u0635\u064a\u0636\u0649\u0636\u064a\u0634\u062e\u0634\u0631\u0633\u0631\u0635\u0631\u0636\u0631\u0627\u064b \u064b\u0640\u064b\u0640\u0651 \u0652\u0640\u0652\u0644\u0622\u0644\u0623\u0644\u0625\ud834\udd57\ud834\udd650,1,2,3,4,5,6,7,8,9,wzhvsdwcmcmddj\u307b\u304b\u30b3\u30b3\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0135\u0137\u013a\u013c\u013e\u0142\u0144\u0146\u0148\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\xff\u017a\u017c\u0253\u0183\u0185\u0254\u0188\u0256\u0257\u018c\u01dd\u0259\u025b\u0192\u0260\u0263\u0269\u0268\u0199\u026f\u0272\u0275\u01a1\u01a3\u01a5\u0280\u01a8\u0283\u01ad\u0288\u01b0\u028a\u028b\u01b4\u01b6\u0292\u01b9\u01bd\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f5\u0195\u01bf\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u019e\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233\u2c65\u023c\u019a\u2c66\u0242\u0180\u0289\u028c\u0247\u0249\u024b\u024d\u024f\u0266\u0279\u027b\u0281\u0295\u0371\u0373\u02b9\u0377;\u03f3\u03ad\u03af\u03cc\u03cd\u03b2\u03b3\u03b4\u03b5\u03b6\u03b8\u03ba\u03bb\u03bd\u03be\u03bf\u03c0\u03c1\u03c3\u03c4\u03c5\u03c6\u03c7\u03c8\u03ca\u03cb\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef\u03f8\u03fb\u037b\u037c\u037d\u0450\u0451\u0452\u0453\u0454\u0455\u0456\u0457\u0458\u0459\u045a\u045b\u045c\u045d\u045e\u045f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0529\u052b\u052d\u052f\u0561\u0562\u0563\u0564\u0566\u0567\u0568\u0569\u056a\u056c\u056e\u056f\u0570\u0571\u0572\u0573\u0575\u0577\u0578\u0579\u057a\u057b\u057c\u057d\u057f\u0580\u0581\u0583\u0584\u0585\u0586\u0f0b\u2d27\u2d2d\u10dc\u13f0\u13f1\u13f2\u13f3\u13f4\u13f5\ua64b\u0250\u0251\u1d02\u025c\u1d16\u1d17\u1d1d\u1d25\u0252\u0255\u025f\u0261\u0265\u026a\u1d7b\u029d\u026d\u1d85\u029f\u0271\u0270\u0273\u0274\u0278\u0282\u01ab\u1d1c\u0290\u0291\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff\u1f10\u1f11\u1f12\u1f13\u1f14\u1f15\u1f30\u1f31\u1f32\u1f33\u1f34\u1f35\u1f36\u1f37\u1f40\u1f41\u1f42\u1f43\u1f44\u1f45\u1f51\u1f53\u1f55\u1f57\u1fb0\u1fb1\u1f72\u0390\u1fd0\u1fd1\u1f76\u03b0\u1fe0\u1fe1\u1f7a\u1fe5`\u1f78\u2010+\u2212\u2211\u3008\u3009\u2c30\u2c31\u2c32\u2c33\u2c34\u2c35\u2c36\u2c37\u2c38\u2c39\u2c3a\u2c3b\u2c3c\u2c3d\u2c3e\u2c3f\u2c40\u2c41\u2c42\u2c43\u2c44\u2c45\u2c46\u2c47\u2c48\u2c49\u2c4a\u2c4b\u2c4c\u2c4d\u2c4e\u2c4f\u2c50\u2c51\u2c52\u2c53\u2c54\u2c55\u2c56\u2c57\u2c58\u2c59\u2c5a\u2c5b\u2c5c\u2c5d\u2c5e\u2c61\u026b\u1d7d\u027d\u2c68\u2c6a\u2c6c\u2c73\u2c76\u023f\u0240\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2cec\u2cee\u2cf3\u2d61\u6bcd\u9f9f\u4e28\u4e36\u4e3f\u4e59\u4e85\u4ea0\u4eba\u513f\u5165\u5182\u5196\u51ab\u51e0\u51f5\u5200\u529b\u52f9\u5315\u531a\u5338\u535c\u5369\u5382\u53b6\u53c8\u53e3\u56d7\u58eb\u5902\u590a\u5915\u5973\u5b50\u5b80\u5bf8\u5c0f\u5c22\u5c38\u5c6e\u5c71\u5ddb\u5de5\u5df1\u5dfe\u5e72\u5e7a\u5e7f\u5ef4\u5efe\u5f0b\u5f13\u5f50\u5f61\u5f73\u5fc3\u6208\u6236\u624b\u652f\u6534\u6587\u6597\u65a4\u65b9\u65e0\u66f0\u6b20\u6b62\u6b79\u6bb3\u6bcb\u6bd4\u6bdb\u6c0f\u6c14\u722a\u7236\u723b\u723f\u7247\u7259\u725b\u72ac\u7384\u7389\u74dc\u74e6\u7518\u751f\u7528\u7530\u758b\u7592\u7676\u767d\u76ae\u76bf\u76ee\u77db\u77e2\u77f3\u793a\u79b8\u79be\u7a74\u7acb\u7af9\u7c73\u7cf8\u7f36\u7f51\u7f8a\u7fbd\u8001\u800c\u8012\u8033\u807f\u8089\u81e3\u81fc\u820c\u821b\u821f\u826e\u8272\u8278\u864d\u866b\u8840\u884c\u8863\u897e\u898b\u89d2\u8a00\u8c37\u8c46\u8c55\u8c78\u8c9d\u8d64\u8d70\u8db3\u8eab\u8eca\u8f9b\u8fb0\u8fb5\u9091\u9149\u91c6\u91cc\u9577\u9580\u961c\u96b6\u96b9\u96e8\u9751\u975e\u9762\u9769\u97cb\u97ed\u97f3\u9801\u98a8\u98db\u98df\u9996\u9999\u99ac\u9aa8\u9ad8\u9adf\u9b25\u9b2f\u9b32\u9b3c\u9b5a\u9ce5\u9e75\u9e7f\u9ea5\u9ebb\u9ec3\u9ecd\u9ed1\u9ef9\u9efd\u9f0e\u9f13\u9f20\u9f3b\u9f4a\u9f52\u9f8d\u9f9c\u9fa0.\u3012\u5344\u5345\u1101\u11aa\u11ac\u11ad\u1104\u11b0\u11b1\u11b2\u11b3\u11b4\u11b5\u111a\u1108\u1121\u110a\u110d\u1161\u1162\u1163\u1164\u1165\u1166\u1167\u1168\u1169\u116a\u116b\u116c\u116d\u116e\u116f\u1170\u1171\u1172\u1173\u1174\u1175\u1114\u1115\u11c7\u11c8\u11cc\u11ce\u11d3\u11d7\u11d9\u111c\u11dd\u11df\u111d\u111e\u1120\u1122\u1123\u1127\u1129\u112b\u112c\u112d\u112e\u112f\u1132\u1136\u1140\u1147\u114c\u11f1\u11f2\u1157\u1158\u1159\u1184\u1185\u1188\u1191\u1192\u1194\u119e\u11a1\u4e0a\u4e2d\u4e0b\u7532\u4e19\u4e01\u5929\u5730\u554f\u5e7c\u7b8f\uc6b0\u79d8\u7537\u9069\u512a\u5370\u6ce8\u9805\u5199\u5de6\u53f3\u533b\u5b97\u591c\u30c6\u30cc\u30e2\u30e8\u30f0\u30f1\u30f2\ua641\ua643\ua645\ua647\ua649\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua699\ua69b\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua77a\ua77c\u1d79\ua77f\ua781\ua783\ua785\ua787\ua78c\ua791\ua793\ua797\ua799\ua79b\ua79d\ua79f\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\u026c\u029e\u0287\uab53\ua7b5\ua7b7\uab37\uab52\u13a0\u13a1\u13a2\u13a3\u13a4\u13a5\u13a6\u13a7\u13a8\u13a9\u13aa\u13ab\u13ac\u13ad\u13ae\u13af\u13b0\u13b1\u13b2\u13b3\u13b4\u13b5\u13b6\u13b7\u13b8\u13b9\u13ba\u13bb\u13bc\u13bd\u13be\u13bf\u13c0\u13c1\u13c2\u13c3\u13c4\u13c5\u13c6\u13c7\u13c8\u13c9\u13ca\u13cb\u13cc\u13cd\u13ce\u13cf\u13d0\u13d1\u13d2\u13d3\u13d4\u13d5\u13d6\u13d7\u13d8\u13d9\u13da\u13db\u13dc\u13dd\u13de\u13df\u13e0\u13e1\u13e2\u13e3\u13e4\u13e5\u13e6\u13e7\u13e8\u13e9\u13ea\u13eb\u13ec\u13ed\u13ee\u13ef\u8c48\u66f4\u8cc8\u6ed1\u4e32\u53e5\u5951\u5587\u5948\u61f6\u7669\u7f85\u863f\u87ba\u88f8\u908f\u6a02\u6d1b\u70d9\u73de\u843d\u916a\u99f1\u4e82\u5375\u6b04\u721b\u862d\u9e1e\u5d50\u6feb\u85cd\u8964\u62c9\u81d8\u881f\u5eca\u6717\u6d6a\u72fc\u90ce\u4f86\u51b7\u52de\u64c4\u6ad3\u7210\u76e7\u8606\u865c\u8def\u9732\u9b6f\u9dfa\u788c\u797f\u7da0\u83c9\u9304\u8ad6\u58df\u5f04\u7c60\u807e\u7262\u78ca\u8cc2\u96f7\u58d8\u5c62\u6a13\u6dda\u6f0f\u7d2f\u7e37\u964b\u52d2\u808b\u51dc\u51cc\u7a1c\u7dbe\u83f1\u9675\u8b80\u62cf\u8afe\u4e39\u5be7\u6012\u7387\u7570\u5317\u78fb\u4fbf\u5fa9\u4e0d\u6ccc\u6578\u7d22\u53c3\u585e\u7701\u8449\u8aaa\u6bba\u6c88\u62fe\u82e5\u63a0\u7565\u4eae\u5169\u51c9\u6881\u7ce7\u826f\u8ad2\u91cf\u52f5\u5442\u5eec\u65c5\u6ffe\u792a\u95ad\u9a6a\u9e97\u9ece\u66c6\u6b77\u8f62\u5e74\u6190\u6200\u649a\u6f23\u7149\u7489\u79ca\u7df4\u806f\u8f26\u84ee\u9023\u934a\u5217\u52a3\u54bd\u70c8\u88c2\u5ec9\u5ff5\u637b\u6bae\u7c3e\u7375\u4ee4\u56f9\u5dba\u601c\u73b2\u7469\u7f9a\u8046\u9234\u96f6\u9748\u9818\u4f8b\u79ae\u91b4\u96b8\u60e1\u4e86\u50da\u5bee\u5c3f\u6599\u71ce\u7642\u84fc\u907c\u6688\u962e\u5289\u677b\u67f3\u6d41\u6e9c\u7409\u7559\u786b\u7d10\u985e\u622e\u9678\u502b\u5d19\u6dea\u8f2a\u5f8b\u6144\u6817\u9686\u5229\u540f\u5c65\u6613\u674e\u68a8\u6ce5\u7406\u75e2\u7f79\u88cf\u88e1\u96e2\u533f\u6eba\u541d\u71d0\u7498\u85fa\u96a3\u9c57\u9e9f\u6797\u6dcb\u81e8\u7b20\u7c92\u72c0\u7099\u8b58\u4ec0\u8336\u523a\u5207\u5ea6\u62d3\u7cd6\u5b85\u6d1e\u66b4\u8f3b\u964d\u5ed3\u5140\u55c0\u585a\u6674\u51de\u732a\u76ca\u793c\u795e\u7965\u798f\u9756\u7cbe\u8612\u8af8\u9038\u90fd\u98ef\u98fc\u9928\u9db4\u90de\u96b7\u4fae\u50e7\u514d\u52c9\u52e4\u5351\u559d\u5606\u5668\u5840\u58a8\u5c64\u6094\u6168\u618e\u61f2\u654f\u65e2\u6691\u6885\u6d77\u6e1a\u6f22\u716e\u722b\u7422\u7891\u7949\u7948\u7950\u7956\u798d\u798e\u7a40\u7a81\u7bc0\u7e09\u7e41\u7f72\u8005\u81ed\u8279\u8457\u8910\u8996\u8b01\u8b39\u8cd3\u8d08\u8fb6\u96e3\u97ff\u983b\u6075\ud850\udeee\u8218\u4e26\u51b5\u5168\u4f80\u5145\u5180\u52c7\u52fa\u5555\u5599\u55e2\u58b3\u5944\u5954\u5a62\u5b28\u5ed2\u5ed9\u5f69\u5fad\u60d8\u614e\u6108\u6160\u6234\u63c4\u641c\u6452\u6556\u671b\u6756\u6edb\u6ecb\u701e\u77a7\u7235\u72af\u7471\u7506\u753b\u761d\u761f\u76db\u76f4\u774a\u7740\u78cc\u7ab1\u7c7b\u7d5b\u7f3e\u8352\u83ef\u8779\u8941\u8986\u8abf\u8acb\u8aed\u8b8a\u8f38\u9072\u9199\u9276\u967c\u97db\u980b\u9b12\ud84a\udc4a\ud84a\udc44\ud84c\udfd5\u3b9d\u4018\u4039\ud854\ude49\ud857\udcd0\ud85f\uded3\u9f43\u9f8e\u05e2\u05dd\u0671\u067b\u067e\u0680\u067a\u067f\u0679\u06a4\u06a6\u0684\u0683\u0686\u0687\u068d\u068c\u068e\u0688\u0698\u0691\u06a9\u06af\u06b3\u06b1\u06ba\u06bb\u06c0\u06c1\u06be\u06d3\u06ad\u06cb\u06c5\u06c9\u3001\u3016\u3017\u2014\u2013_{}\u3010\u3011\u300a\u300b\u300c\u300d\u300e\u300f[]#&*-<>\\$%@\u0621\u0624\u0629\"'^|~\u2985\u2986\u30fb\u30a5\u30e3\xa2\xa3\xac\xa6\xa5\u20a9\u2502\u2190\u2191\u2192\u2193\u25a0\u25cb\ud801\udc28\ud801\udc29\ud801\udc2a\ud801\udc2b\ud801\udc2c\ud801\udc2d\ud801\udc2e\ud801\udc2f\ud801\udc30\ud801\udc31\ud801\udc32\ud801\udc33\ud801\udc34\ud801\udc35\ud801\udc36\ud801\udc37\ud801\udc38\ud801\udc39\ud801\udc3a\ud801\udc3b\ud801\udc3c\ud801\udc3d\ud801\udc3e\ud801\udc3f\ud801\udc40\ud801\udc41\ud801\udc42\ud801\udc43\ud801\udc44\ud801\udc45\ud801\udc46\ud801\udc47\ud801\udc48\ud801\udc49\ud801\udc4a\ud801\udc4b\ud801\udc4c\ud801\udc4d\ud801\udc4e\ud801\udc4f\ud801\udcd8\ud801\udcd9\ud801\udcda\ud801\udcdb\ud801\udcdc\ud801\udcdd\ud801\udcde\ud801\udcdf\ud801\udce0\ud801\udce1\ud801\udce2\ud801\udce3\ud801\udce4\ud801\udce5\ud801\udce6\ud801\udce7\ud801\udce8\ud801\udce9\ud801\udcea\ud801\udceb\ud801\udcec\ud801\udced\ud801\udcee\ud801\udcef\ud801\udcf0\ud801\udcf1\ud801\udcf2\ud801\udcf3\ud801\udcf4\ud801\udcf5\ud801\udcf6\ud801\udcf7\ud801\udcf8\ud801\udcf9\ud801\udcfa\ud801\udcfb\ud803\udcc0\ud803\udcc1\ud803\udcc2\ud803\udcc3\ud803\udcc4\ud803\udcc5\ud803\udcc6\ud803\udcc7\ud803\udcc8\ud803\udcc9\ud803\udcca\ud803\udccb\ud803\udccc\ud803\udccd\ud803\udcce\ud803\udccf\ud803\udcd0\ud803\udcd1\ud803\udcd2\ud803\udcd3\ud803\udcd4\ud803\udcd5\ud803\udcd6\ud803\udcd7\ud803\udcd8\ud803\udcd9\ud803\udcda\ud803\udcdb\ud803\udcdc\ud803\udcdd\ud803\udcde\ud803\udcdf\ud803\udce0\ud803\udce1\ud803\udce2\ud803\udce3\ud803\udce4\ud803\udce5\ud803\udce6\ud803\udce7\ud803\udce8\ud803\udce9\ud803\udcea\ud803\udceb\ud803\udcec\ud803\udced\ud803\udcee\ud803\udcef\ud803\udcf0\ud803\udcf1\ud803\udcf2\ud806\udcc0\ud806\udcc1\ud806\udcc2\ud806\udcc3\ud806\udcc4\ud806\udcc5\ud806\udcc6\ud806\udcc7\ud806\udcc8\ud806\udcc9\ud806\udcca\ud806\udccb\ud806\udccc\ud806\udccd\ud806\udcce\ud806\udccf\ud806\udcd0\ud806\udcd1\ud806\udcd2\ud806\udcd3\ud806\udcd4\ud806\udcd5\ud806\udcd6\ud806\udcd7\ud806\udcd8\ud806\udcd9\ud806\udcda\ud806\udcdb\ud806\udcdc\ud806\udcdd\ud806\udcde\ud806\udcdf\u0131\u0237\u2207\u2202\ud83a\udd22\ud83a\udd23\ud83a\udd24\ud83a\udd25\ud83a\udd26\ud83a\udd27\ud83a\udd28\ud83a\udd29\ud83a\udd2a\ud83a\udd2b\ud83a\udd2c\ud83a\udd2d\ud83a\udd2e\ud83a\udd2f\ud83a\udd30\ud83a\udd31\ud83a\udd32\ud83a\udd33\ud83a\udd34\ud83a\udd35\ud83a\udd36\ud83a\udd37\ud83a\udd38\ud83a\udd39\ud83a\udd3a\ud83a\udd3b\ud83a\udd3c\ud83a\udd3d\ud83a\udd3e\ud83a\udd3f\ud83a\udd40\ud83a\udd41\ud83a\udd42\ud83a\udd43\u066e\u06a1\u066f\u5b57\u53cc\u591a\u89e3\u4ea4\u6620\u7121\u524d\u5f8c\u518d\u65b0\u521d\u7d42\u8ca9\u58f0\u5439\u6f14\u6295\u6355\u904a\u6307\u7981\u7a7a\u5408\u6e80\u7533\u5272\u55b6\u914d\u5f97\u53ef\u4e3d\u4e38\u4e41\ud840\udd22\u4f60\u4fbb\u5002\u507a\u5099\u50cf\u349e\ud841\ude3a\u5154\u5164\u5177\ud841\udd1c\u34b9\u5167\ud841\udd4b\u5197\u51a4\u4ecc\u51ac\ud864\udddf\u5203\u34df\u523b\u5246\u5277\u3515\u5305\u5306\u5349\u535a\u5373\u537d\u537f\ud842\ude2c\u7070\u53ca\u53df\ud842\udf63\u53eb\u53f1\u5406\u549e\u5438\u5448\u5468\u54a2\u54f6\u5510\u5553\u5563\u5584\u55ab\u55b3\u55c2\u5716\u5717\u5651\u5674\u58ee\u57ce\u57f4\u580d\u578b\u5832\u5831\u58ac\ud845\udce4\u58f2\u58f7\u5906\u5922\u5962\ud845\udea8\ud845\udeea\u59ec\u5a1b\u5a27\u59d8\u5a66\u36ee\u5b08\u5b3e\ud846\uddc8\u5bc3\u5bd8\u5bf3\ud846\udf18\u5bff\u5c06\u3781\u5c60\u5cc0\u5c8d\ud847\udde4\u5d43\ud847\udde6\u5d6e\u5d6b\u5d7c\u5de1\u5de2\u382f\u5dfd\u5e28\u5e3d\u5e69\u3862\ud848\udd83\u387c\u5eb0\u5eb3\u5eb6\ud868\udf92\ud848\udf31\u8201\u5f22\u38c7\ud84c\udeb8\ud858\uddda\u5f62\u5f6b\u38e3\u5f9a\u5fcd\u5fd7\u5ff9\u6081\u393a\u391c\ud849\uded4\u60c7\u6148\u614c\u617a\u61b2\u61a4\u61af\u61de\u621b\u625d\u62b1\u62d4\u6350\ud84a\udf0c\u633d\u62fc\u6368\u6383\u63e4\ud84a\udff1\u6422\u63c5\u63a9\u3a2e\u6469\u647e\u649d\u6477\u3a6c\u656c\ud84c\udc0a\u65e3\u66f8\u6649\u3b19\u3b08\u3ae4\u5192\u5195\u6700\u669c\u80ad\u43d9\u6721\u675e\u6753\ud84c\udfc3\u3b49\u67fa\u6785\u6852\ud84d\udc6d\u688e\u681f\u6914\u6942\u69a3\u69ea\u6aa8\ud84d\udea3\u6adb\u3c18\u6b21\ud84e\udca7\u6b54\u3c4e\u6b72\u6b9f\u6bbb\ud84e\ude8d\ud847\udd0b\ud84e\udefa\u6c4e\ud84f\udcbc\u6cbf\u6ccd\u6c67\u6d16\u6d3e\u6d69\u6d78\u6d85\ud84f\udd1e\u6d34\u6e2f\u6e6e\u3d33\u6ec7\ud84f\uded1\u6df9\u6f6e\ud84f\udf5e\ud84f\udf8e\u6fc6\u7039\u701b\u3d96\u704a\u707d\u7077\u70ad\ud841\udd25\u7145\ud850\ude63\u719c\u7228\u7250\ud851\ude08\u7280\u7295\ud851\udf35\ud852\udc14\u737a\u738b\u3eac\u73a5\u3eb8\u7447\u745c\u7485\u74ca\u3f1b\u7524\ud853\udc36\u753e\ud853\udc92\ud848\udd9f\u7610\ud853\udfa1\ud853\udfb8\ud854\udc44\u3ffc\u4008\ud854\udcf3\ud854\udcf2\ud854\udd19\ud854\udd33\u771e\u771f\u778b\u4046\u4096\ud855\udc1d\u784e\u40e3\ud855\ude26\ud855\ude9a\ud855\udec5\u79eb\u412f\u7a4a\u7a4f\ud856\udd7c\ud856\udea7\u4202\ud856\udfab\u7bc6\u7bc9\u4227\ud857\udc80\u7cd2\u42a0\u7ce8\u7ce3\u7d00\ud857\udf86\u7d63\u4301\u7dc7\u7e02\u7e45\u4334\ud858\ude28\ud858\ude47\u4359\ud858\uded9\u7f7a\ud858\udf3e\u7f95\u7ffa\ud859\udcda\ud859\udd23\u8060\ud859\udda8\u8070\ud84c\udf5f\u43d5\u80b2\u8103\u440b\u813e\u5ab5\ud859\udfa7\ud859\udfb5\ud84c\udf93\ud84c\udf9c\u8204\u8f9e\u446b\u8291\u828b\u829d\u52b3\u82b1\u82b3\u82bd\u82e6\ud85a\udf3c\u831d\u8363\u83ad\u8323\u83bd\u83e7\u8353\u83ca\u83cc\u83dc\ud85b\udc36\ud85b\udd6b\ud85b\udcd5\u452b\u84f1\u84f3\u8516\ud85c\udfca\u8564\ud85b\udf2c\u455d\u4561\ud85b\udfb1\ud85c\udcd2\u456b\u8650\u8667\u8669\u86a9\u8688\u870e\u86e2\u8728\u876b\u8786\u87e1\u8801\u45f9\u8860\ud85d\ude67\u88d7\u88de\u4635\u88fa\u34bb\ud85e\udcae\ud85e\udd66\u46be\u46c7\u8aa0\ud85f\udca8\u8cab\u8cc1\u8d1b\u8d77\ud85f\udf2f\ud842\udc04\u8dcb\u8dbc\u8df0\ud842\udcde\u8ed4\ud861\uddd2\ud861\udded\u9094\u90f1\u9111\ud861\udf2e\u911b\u9238\u92d7\u92d8\u927c\u93f9\u9415\ud862\udffa\u958b\u4995\u95b7\ud863\udd77\u49e6\u96c3\u5db2\u9723\ud864\udd45\ud864\ude1a\u4a6e\u4a76\u97e0\ud865\udc0a\u4ab2\ud865\udc96\u9829\ud865\uddb6\u98e2\u4b33\u9929\u99a7\u99c2\u99fe\u4bce\ud866\udf30\u9c40\u9cfd\u4cce\u4ced\u9d67\ud868\udcce\u4cf8\ud868\udd05\ud868\ude0e\ud868\ude91\u4d56\u9efe\u9f05\u9f0f\u9f16\ud869\ude00",mapChar:function(r){return r>=196608?r>=917760&&r<=917999?18874368:0:e[t[r>>4]][15&r]}}}()}.apply(t,[]))||(e.exports=n)},function(e,t,r){"use strict";e.exports=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"ttl",outputs:[{name:"",type:"uint64"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},function(e,t,r){"use strict";e.exports=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setMultihash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"multihash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"ret",type:"bytes32"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"ret",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],name:"setABI",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"ret",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"pubkey",outputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],payable:!1,type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes32"}],name:"ContentChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"x",type:"bytes32"},{indexed:!1,name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"contenthash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},function(e,t,r){"use strict";var n=r(0),a=r(5),i=r(88),s=r(216),o=r(23).errors,c=r(25),u=r(213).interfaceIds;function d(e){this.registry=e}d.prototype.method=function(e,t,r,n,a){return{call:this.call.bind({ensName:e,methodName:t,methodArguments:r,callback:a,parent:this,outputFormatter:n}),send:this.send.bind({ensName:e,methodName:t,methodArguments:r,callback:a,parent:this})}},d.prototype.call=function(e){var t=this,r=new i,s=this.parent.prepareArguments(this.ensName,this.methodArguments),o=this.outputFormatter||null;return this.parent.registry.getResolver(this.ensName).then(function(){var i=a(n.mark((function a(i){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.parent.checkInterfaceSupport(i,t.methodName);case 2:t.parent.handleCall(r,i.methods[t.methodName],s,o,e);case 3:case"end":return n.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(t){c.isFunction(e)?e(t,null):r.reject(t)})),r.eventEmitter},d.prototype.send=function(e,t){var r=this,s=new i,o=this.parent.prepareArguments(this.ensName,this.methodArguments);return this.parent.registry.getResolver(this.ensName).then(function(){var i=a(n.mark((function a(i){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.parent.checkInterfaceSupport(i,r.methodName);case 2:r.parent.handleSend(s,i.methods[r.methodName],o,e,t);case 3:case"end":return n.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){c.isFunction(t)?t(e,null):s.reject(e)})),s.eventEmitter},d.prototype.handleCall=function(e,t,r,n,a){return t.apply(this,r).call().then((function(t){n&&(t=n(t)),c.isFunction(a)?a(t,t):e.resolve(t)})).catch((function(t){c.isFunction(a)?a(t,null):e.reject(t)})),e},d.prototype.handleSend=function(e,t,r,n,a){return t.apply(this,r).send(n).on("sending",(function(){e.eventEmitter.emit("sending")})).on("sent",(function(){e.eventEmitter.emit("sent")})).on("transactionHash",(function(t){e.eventEmitter.emit("transactionHash",t)})).on("confirmation",(function(t,r){e.eventEmitter.emit("confirmation",t,r)})).on("receipt",(function(t){e.eventEmitter.emit("receipt",t),e.resolve(t),c.isFunction(a)&&a(t,t)})).on("error",(function(t){e.eventEmitter.emit("error",t),c.isFunction(a)?a(t,null):e.reject(t)})),e},d.prototype.prepareArguments=function(e,t){var r=s.hash(e);return t.length>0?(t.unshift(r),t):[r]},d.prototype.checkInterfaceSupport=function(){var e=a(n.mark((function e(t,r){var a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u[r]){e.next=2;break}return e.abrupt("return");case 2:return a=!1,e.prev=3,e.next=6,t.methods.supportsInterface(u[r]).call();case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.warn('Could not verify interface of resolver contract at "'+t.options.address+'". ');case 12:if(a){e.next=14;break}throw o.ResolverMethodMissingError(t.options.address,r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}(),e.exports=d},function(e,t,r){var n=r(642);e.exports={decode:function(e){var t=null,r=null,a=null;if(e&&e.error)return{protocolType:null,decoded:e.error};if(e)try{t=n.decode(e);var i=n.getCodec(e);"ipfs-ns"===i?r="ipfs":"swarm-ns"===i?r="bzz":"onion"===i?r="onion":"onion3"===i?r="onion3":t=e}catch(s){a=s.message}return{protocolType:r,decoded:t,error:a}},encode:function(e){var t,r,a=!1;if(e){var i=e.match(/^(ipfs|bzz|onion|onion3):\/\/(.*)/)||e.match(/\/(ipfs)\/(.*)/);i&&(r=i[1],t=i[2]);try{if("ipfs"===r)t.length>=4&&(a="0x"+n.fromIpfs(t));else if("bzz"===r)t.length>=4&&(a="0x"+n.fromSwarm(t));else if("onion"===r)16===t.length&&(a="0x"+n.encode("onion",t));else{if("onion3"!==r)throw new Error("Could not encode content hash: unsupported content type");56===t.length&&(a="0x"+n.encode("onion3",t))}}catch(s){throw s}}return a}}},function(e,t,r){var n=r(643),a=r(651),i=a.hexStringToBuffer,s=a.profiles,o=r(672).cidV0ToV1Base32;e.exports={helpers:{cidV0ToV1Base32:o},decode:function(e){var t=i(e),r=n.getCodec(t),a=n.rmPrefix(t),o=s[r];return o||(o=s.default),o.decode(a)},fromIpfs:function(e){return this.encode("ipfs-ns",e)},fromSwarm:function(e){return this.encode("swarm-ns",e)},encode:function(e,t){var r=s[e];r||(r=s.default);var a=r.encode(t);return n.addPrefix(e,a).toString("hex")},getCodec:function(e){var t=i(e);return n.getCodec(t)}}},function(e,t,r){"use strict";(function(n){var a=r(75),i=r(647),s=r(648),o=r(217);(t=e.exports).addPrefix=(e,t)=>{var r;if(n.isBuffer(e))r=o.varintBufferEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");r=s[e]}return n.concat([r,t])},t.rmPrefix=e=>(a.decode(e),e.slice(a.decode.bytes)),t.getCodec=e=>{var t=a.decode(e),r=i.get(t);if(void 0===r)throw new Error("Code ".concat(t," not found"));return r},t.getName=e=>i.get(e),t.getNumber=e=>{var t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return o.varintBufferDecode(t)[0]},t.getCode=e=>a.decode(e),t.getCodeVarint=e=>{var t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>a.encode(e);var c=r(649);Object.assign(t,c),t.print=r(650)}).call(this,r(9).Buffer)},function(e,t){e.exports=function e(t,n,a){n=n||[];var i=a=a||0;for(;t>=r;)n[a++]=255&t|128,t/=128;for(;-128&t;)n[a++]=255&t|128,t>>>=7;return n[a]=0|t,e.bytes=a-i+1,n};var r=Math.pow(2,31)},function(e,t){e.exports=function e(t,r){var n,a=0,i=0,s=r=r||0,o=t.length;do{if(s>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],a+=i<28?(127&n)<<i:(127&n)*Math.pow(2,i),i+=7}while(n>=128);return e.bytes=s-r,a}},function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),a=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),o=Math.pow(2,42),c=Math.pow(2,49),u=Math.pow(2,56),d=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<a?3:e<i?4:e<s?5:e<o?6:e<c?7:e<u?8:e<d?9:10}},function(e,t,r){"use strict";var n=r(91),a=new Map;for(var i in n){var s=n[i];a.set(s,i)}e.exports=Object.freeze(a)},function(e,t,r){"use strict";var n=r(91),a=r(217).varintEncode,i={};for(var s in n){var o=n[s];i[s]=a(o)}e.exports=Object.freeze(i)},function(e,t,r){"use strict";for(var n=r(17),a=r(91),i={},s=0,o=Object.entries(a);s<o.length;s++){var c=n(o[s],2),u=c[0],d=c[1];i[u.toUpperCase().replace(/-/g,"_")]=d}e.exports=Object.freeze(i)},function(e,t,r){"use strict";for(var n=r(17),a=r(91),i={},s=0,o=Object.entries(a);s<o.length;s++){var c=n(o[s],2),u=c[0],d=c[1];void 0===i[d]&&(i[d]=u)}e.exports=Object.freeze(i)},function(e,t,r){(function(e){var n=r(218),a=r(117),i=e=>{var t=e.slice(0,2),r=e.slice(2),n="";return n="0x"===t?r:e,a.fromHexString(n)},s={swarm:e=>{var t=a.encode(i(e),"keccak-256");return new n(1,"swarm-manifest",t).buffer},ipfs:e=>{var t=a.fromB58String(e);return new n(1,"dag-pb",t).buffer},utf8:t=>e.from(t,"utf8")},o={hexMultiHash:e=>{var t=new n(e);return a.decode(t.multihash).digest.toString("hex")},b58MultiHash:e=>{var t=new n(e);return a.toB58String(t.multihash)},utf8:e=>e.toString("utf8")},c={"swarm-ns":{encode:s.swarm,decode:o.hexMultiHash},"ipfs-ns":{encode:s.ipfs,decode:o.b58MultiHash},"ipns-ns":{encode:s.ipfs,decode:o.b58MultiHash},default:{encode:s.utf8,decode:o.utf8}};t.hexStringToBuffer=i,t.profiles=c}).call(this,r(9).Buffer)},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(653);function i(e,t){if(!t)throw new Error("requires an encoded buffer");var r=s(e),a=n.from(r.code);return function(e,t){s(e).decode(t.toString())}(r.name,t),n.concat([a,t])}function s(e){var t;if(a.names[e])t=a.names[e];else{if(!a.codes[e])throw new Error("Unsupported encoding");t=a.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}(t=e.exports=i).encode=function(e,t){var r=s(e);return i(r.name,n.from(r.encode(t)))},t.decode=function(e){n.isBuffer(e)&&(e=e.toString());var t=e.substring(0,1);"string"===typeof(e=e.substring(1,e.length))&&(e=n.from(e));var r=s(t);return n.from(r.decode(e.toString()))},t.isEncoded=function(e){n.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;var t=e.substring(0,1);try{return s(t).name}catch(r){return!1}},t.names=Object.freeze(Object.keys(a.names)),t.codes=Object.freeze(Object.keys(a.codes))},function(e,t,r){"use strict";var n=r(654),a=r(219),i=r(655),s=r(656),o=r(657),c=[["base1","1","","1"],["base2","0",a,"01"],["base8","7",a,"01234567"],["base10","9",a,"0123456789"],["base16","f",i,"0123456789abcdef"],["base32","b",s,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",s,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",s,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",s,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",s,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",a,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",a,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e),{}),d=c.reduce((e,t)=>(e[t[1]]=u[t[0]],e),{});e.exports={names:u,codes:d}},function(e,t,r){"use strict";e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},function(e,t,r){"use strict";var n=r(40),a=r(9).Buffer;e.exports=function(e){return{encode:e=>"string"===typeof e?a.from(e).toString("hex"):e.toString("hex"),decode(t){var r,i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e.indexOf(s)<0)throw new Error("invalid base16 character")}}catch(o){i.e(o)}finally{i.f()}return a.from(t,"hex")}}}},function(e,t,r){"use strict";var n=r(40);function a(e,t){var r=e.byteLength,n=new Uint8Array(e),a=t.indexOf("=")===t.length-1;a&&(t=t.substring(0,t.length-1));for(var i=0,s=0,o="",c=0;c<r;c++)for(s=s<<8|n[c],i+=8;i>=5;)o+=t[s>>>i-5&31],i-=5;if(i>0&&(o+=t[s<<5-i&31]),a)for(;o.length%8!==0;)o+="=";return o}e.exports=function(e){return{encode:t=>a("string"===typeof t?Uint8Array.from(t):t,e),decode(t){var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(e.indexOf(i)<0)throw new Error("invalid base32 character")}}catch(s){a.e(s)}finally{a.f()}return function(e,t){for(var r=(e=e.replace(new RegExp("=","g"),"")).length,n=0,a=0,i=0,s=new Uint8Array(5*r/8|0),o=0;o<r;o++)a=a<<5|t.indexOf(e[o]),(n+=5)>=8&&(s[i++]=a>>>n-8&255,n-=8);return s.buffer}(t,e)}}}},function(e,t,r){"use strict";var n=r(40),a=r(9).Buffer;e.exports=function(e){var t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){var n="";n="string"===typeof e?a.from(e).toString("base64"):e.toString("base64"),r&&(n=n.replace(/\+/g,"-").replace(/\//g,"_"));var i=n.indexOf("=");return i>0&&!t&&(n=n.substring(0,i)),n},decode(t){var r,i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e.indexOf(s)<0)throw new Error("invalid base64 character")}}catch(o){i.e(o)}finally{i.f()}return a.from(t,"base64")}}}},function(e,t,r){"use strict";t.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,md4:212,md5:213,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",212:"md4",213:"md5",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(660);(t=e.exports=s).encode=function(e,t){var r=o(e);return s(r.name,n.from(r.encode(t)))},t.decode=function(e){n.isBuffer(e)&&(e=e.toString());var t=e.substring(0,1);"string"===typeof(e=e.substring(1,e.length))&&(e=n.from(e));var r=o(t);return n.from(r.decode(e.toString()))},t.isEncoded=function(e){n.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;var t=e.substring(0,1);try{return o(t).name}catch(r){return!1}},t.names=Object.freeze(Object.keys(a.names)),t.codes=Object.freeze(Object.keys(a.codes));var i=new Error("Unsupported encoding");function s(e,t){if(!t)throw new Error("requires an encoded buffer");var r=o(e),a=n.from(r.code);return function(e,t){o(e).decode(t.toString())}(r.name,t),n.concat([a,t])}function o(e){var t;if(a.names[e])t=a.names[e];else{if(!a.codes[e])throw i;t=a.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}},function(e,t,r){"use strict";var n=r(661),a=r(219),i=r(662),s=r(663),o=r(664),c=[["base1","1","","1"],["base2","0",a,"01"],["base8","7",a,"01234567"],["base10","9",a,"0123456789"],["base16","f",i,"0123456789abcdef"],["base32","b",s,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",s,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",s,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",s,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",s,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",a,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",a,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e),{}),d=c.reduce((e,t)=>(e[t[1]]=u[t[0]],e),{});e.exports={names:u,codes:d}},function(e,t,r){"use strict";e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},function(e,t,r){"use strict";var n=r(40),a=r(9).Buffer;e.exports=function(e){return{encode:e=>"string"===typeof e?a.from(e).toString("hex"):e.toString("hex"),decode(t){var r,i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e.indexOf(s)<0)throw new Error("invalid base16 character")}}catch(o){i.e(o)}finally{i.f()}return a.from(t,"hex")}}}},function(e,t,r){"use strict";var n=r(40);function a(e,t){var r=e.byteLength,n=new Uint8Array(e),a=t.indexOf("=")===t.length-1;a&&(t=t.substring(0,t.length-1));for(var i=0,s=0,o="",c=0;c<r;c++)for(s=s<<8|n[c],i+=8;i>=5;)o+=t[s>>>i-5&31],i-=5;if(i>0&&(o+=t[s<<5-i&31]),a)for(;o.length%8!==0;)o+="=";return o}e.exports=function(e){return{encode:t=>a("string"===typeof t?Uint8Array.from(t):t,e),decode(t){var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(e.indexOf(i)<0)throw new Error("invalid base32 character")}}catch(s){a.e(s)}finally{a.f()}return function(e,t){for(var r=(e=e.replace(new RegExp("=","g"),"")).length,n=0,a=0,i=0,s=new Uint8Array(5*r/8|0),o=0;o<r;o++)a=a<<5|t.indexOf(e[o]),(n+=5)>=8&&(s[i++]=a>>>n-8&255,n-=8);return s.buffer}(t,e)}}}},function(e,t,r){"use strict";var n=r(40),a=r(9).Buffer;e.exports=function(e){var t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){var n="";n="string"===typeof e?a.from(e).toString("base64"):e.toString("base64"),r&&(n=n.replace(/\+/g,"-").replace(/\//g,"_"));var i=n.indexOf("=");return i>0&&!t&&(n=n.substring(0,i)),n},decode(t){var r,i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e.indexOf(s)<0)throw new Error("invalid base64 character")}}catch(o){i.e(o)}finally{i.f()}return a.from(t,"base64")}}}},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(75),i=r(666),s=r(667),o=r(220);(t=e.exports).addPrefix=(e,t)=>{var r;if(n.isBuffer(e))r=o.varintBufferEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");r=s[e]}return n.concat([r,t])},t.rmPrefix=e=>(a.decode(e),e.slice(a.decode.bytes)),t.getCodec=e=>{var t=a.decode(e),r=i.get(t);if(void 0===r)throw new Error("Code ".concat(t," not found"));return r},t.getName=e=>i.get(e),t.getNumber=e=>{var t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return o.varintBufferDecode(t)[0]},t.getCode=e=>a.decode(e),t.getCodeVarint=e=>{var t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>a.encode(e);var c=r(668);Object.assign(t,c),t.print=r(669)},function(e,t,r){"use strict";var n=r(76),a=new Map;for(var i in n){var s=n[i];a.set(s,i)}e.exports=Object.freeze(a)},function(e,t,r){"use strict";var n=r(76),a=r(220).varintEncode,i={};for(var s in n){var o=n[s];i[s]=a(o)}e.exports=Object.freeze(i)},function(e,t,r){"use strict";for(var n=r(17),a=r(76),i={},s=0,o=Object.entries(a);s<o.length;s++){var c=n(o[s],2),u=c[0],d=c[1];i[u.toUpperCase().replace(/-/g,"_")]=d}e.exports=Object.freeze(i)},function(e,t,r){"use strict";for(var n=r(17),a=r(76),i={},s=0,o=Object.entries(a);s<o.length;s++){var c=n(o[s],2),u=c[0],d=c[1];void 0===i[d]&&(i[d]=u)}e.exports=Object.freeze(i)},function(e,t,r){"use strict";var n=r(117),a=r(9).Buffer,i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!==typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!a.isBuffer(e.multihash))return"multihash must be a Buffer";try{n.validate(e.multihash)}catch(r){var t=r.message;return t||(t="Multihash validation failed"),t}}};e.exports=i},function(e,t,r){"use strict";e.exports=function(e,{className:t,symbolName:r}){var n=Symbol.for(r),a={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return a["is".concat(t)]=e=>!(!e||!e[n]),a},e.exports.proto=function(e,{className:t,symbolName:r,withoutNew:n}){var a=Symbol.for(r),i={[t]:function(...t){if(n&&!(this instanceof i))return new i(...t);var r=e.call(this,...t)||this;return r&&!r[a]&&Object.defineProperty(r,a,{value:!0}),r}}[t];return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Object.defineProperty(i.prototype,Symbol.toStringTag,{get:()=>t}),i["is".concat(t)]=e=>!(!e||!e[a]),i}},function(e,t,r){var n=r(218);t.cidV0ToV1Base32=e=>{var t=new n(e);return 0===t.version&&(t=t.toV1()),t.toString("base32")}},function(e,t,r){"use strict";(function(t,n){var a=r(25),i=r(55),s=r(56),o=r(674),c=r(115),u=r(259),d=r(118),f=r(92),l=r(728),h=r(729),p=r(30),m=r(23),v=r(732).Transaction,b=r(265).default,g=function(e){return a.isUndefined(e)||a.isNull(e)},y=function(){var e=this;i.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var t=[new s({name:"getNetworkId",call:"net_version",params:0,outputFormatter:parseInt}),new s({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:p.hexToNumber}),new s({name:"getGasPrice",call:"eth_gasPrice",params:0}),new s({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(e){if(p.isAddress(e))return e;throw new Error("Address "+e+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]})];this._ethereumCall={},a.each(t,(function(t){t.attachToObject(e._ethereumCall),t.setRequestManager(e._requestManager)})),this.wallet=new w(this)};function w(e){this._accounts=e,this.length=0,this.defaultKeyName="web3js_wallet"}y.prototype._addAccountFunctions=function(e){var t=this;return e.signTransaction=function(r,n){return t.signTransaction(r,e.privateKey,n)},e.sign=function(r){return t.sign(r,e.privateKey)},e.encrypt=function(r,n){return t.encrypt(e.privateKey,r,n)},e},y.prototype.create=function(e){return this._addAccountFunctions(o.create(e||p.randomHex(32)))},y.prototype.privateKeyToAccount=function(e,t){if(e.startsWith("0x")||(e="0x"+e),!t&&66!==e.length)throw new Error("Private key must be 32 bytes long");return this._addAccountFunctions(o.fromPrivate(e))},y.prototype.signTransaction=function(e,t,r){var i=!1,s={},o=!(!e||!(e.chain&&e.hardfork||e.common));if(r=r||function(){},!e)return i=new Error("No transaction object given!"),r(i),Promise.reject(i);function c(e){var i=function(e){if(e.common&&e.chain&&e.hardfork)return new Error("Please provide the ethereumjs-common object or the chain and hardfork property but not all together.");if(e.chain&&!e.hardfork||e.hardfork&&!e.chain)return new Error('When specifying chain and hardfork, both values must be defined. Received "chain": '+e.chain+', "hardfork": '+e.hardfork);if(!e.gas&&!e.gasLimit)return new Error('"gas" is missing');if(e.nonce<0||e.gas<0||e.gasPrice<0||e.chainId<0)return new Error("Gas, gasPrice, nonce or chainId is lower than 0");return}(e);if(i)return r(i),Promise.reject(i);try{var c=m.formatters.inputCallFormatter(a.clone(e));c.to=c.to||"0x",c.data=c.data||"0x",c.value=c.value||"0x",c.chainId=p.numberToHex(c.chainId),o?(c.common&&(s.common=b.forCustomChain(c.common.baseChain||"mainnet",{name:c.common.customChain.name||"custom-network",networkId:c.common.customChain.networkId,chainId:c.common.customChain.chainId},c.common.hardfork||"petersburg"),delete c.common),c.chain&&(s.chain=c.chain,delete c.chain),c.hardfork&&(s.hardfork=c.hardfork,delete c.hardfork)):(s.common=b.forCustomChain("mainnet",{name:"custom-network",networkId:c.networkId,chainId:c.chainId},"petersburg"),delete c.networkId),t.startsWith("0x")&&(t=t.substring(2));var u=new v(c,s);u.sign(n.from(t,"hex"));var d=u.validate(!0);if(""!==d)throw new Error("Signer Error: "+d);var f="0x"+u.serialize().toString("hex"),l=p.keccak256(f),h={messageHash:"0x"+n.from(u.hash(!1)).toString("hex"),v:"0x"+n.from(u.v).toString("hex"),r:"0x"+n.from(u.r).toString("hex"),s:"0x"+n.from(u.s).toString("hex"),rawTransaction:f,transactionHash:l};return r(null,h),h}catch(g){return r(g),Promise.reject(g)}}return void 0!==e.nonce&&void 0!==e.chainId&&void 0!==e.gasPrice&&o?Promise.resolve(c(e)):Promise.all([g(e.chainId)?this._ethereumCall.getChainId():e.chainId,g(e.gasPrice)?this._ethereumCall.getGasPrice():e.gasPrice,g(e.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(t).address):e.nonce,g(o)?this._ethereumCall.getNetworkId():1]).then((function(t){if(g(t[0])||g(t[1])||g(t[2])||g(t[3]))throw new Error('One of the values "chainId", "networkId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(t));return c(a.extend(e,{chainId:t[0],gasPrice:t[1],nonce:t[2],networkId:t[3]}))}))},y.prototype.recoverTransaction=function(e){var t=u.decode(e),r=o.encodeSignature(t.slice(6,9)),n=d.toNumber(t[6]),a=n<35?[]:[d.fromNumber(n-35>>1),"0x","0x"],i=t.slice(0,6).concat(a),s=u.encode(i);return o.recover(c.keccak256(s),r)},y.prototype.hashMessage=function(e){var t=p.isHexStrict(e)?e:p.utf8ToHex(e),r=p.hexToBytes(t),a=n.from(r),i="\x19Ethereum Signed Message:\n"+r.length,s=n.from(i),o=n.concat([s,a]);return c.keccak256s(o)},y.prototype.sign=function(e,t){if(t.startsWith("0x")||(t="0x"+t),66!==t.length)throw new Error("Private key must be 32 bytes long");var r=this.hashMessage(e),n=o.sign(r,t),a=o.decodeSignature(n);return{message:e,messageHash:r,v:a[0],r:a[1],s:a[2],signature:n}},y.prototype.recover=function(e,t,r){var n=[].slice.apply(arguments);return a.isObject(e)?this.recover(e.messageHash,o.encodeSignature([e.v,e.r,e.s]),!0):(r||(e=this.hashMessage(e)),n.length>=4?(r=n.slice(-1)[0],r=!!a.isBoolean(r)&&!!r,this.recover(e,o.encodeSignature(n.slice(1,4)),r)):o.recover(e,t))},y.prototype.decrypt=function(e,t,r){if(!a.isString(t))throw new Error("No password given.");var i,s,o=a.isObject(e)?e:JSON.parse(r?e.toLowerCase():e);if(3!==o.version)throw new Error("Not a valid V3 wallet");if("scrypt"===o.crypto.kdf)s=o.crypto.kdfparams,i=l.syncScrypt(n.from(t),n.from(s.salt,"hex"),s.n,s.r,s.p,s.dklen);else{if("pbkdf2"!==o.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(s=o.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");i=f.pbkdf2Sync(n.from(t),n.from(s.salt,"hex"),s.c,s.dklen,"sha256")}var c=n.from(o.crypto.ciphertext,"hex");if(p.sha3(n.from([...i.slice(16,32),...c])).replace("0x","")!==o.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var u=f.createDecipheriv(o.crypto.cipher,i.slice(0,16),n.from(o.crypto.cipherparams.iv,"hex")),d="0x"+n.from([...u.update(c),...u.final()]).toString("hex");return this.privateKeyToAccount(d,!0)},y.prototype.encrypt=function(e,t,r){var a,i=this.privateKeyToAccount(e,!0),s=(r=r||{}).salt||f.randomBytes(32),o=r.iv||f.randomBytes(16),c=r.kdf||"scrypt",u={dklen:r.dklen||32,salt:s.toString("hex")};if("pbkdf2"===c)u.c=r.c||262144,u.prf="hmac-sha256",a=f.pbkdf2Sync(n.from(t),n.from(u.salt,"hex"),u.c,u.dklen,"sha256");else{if("scrypt"!==c)throw new Error("Unsupported kdf");u.n=r.n||8192,u.r=r.r||8,u.p=r.p||1,a=l.syncScrypt(n.from(t),n.from(u.salt,"hex"),u.n,u.r,u.p,u.dklen)}var d=f.createCipheriv(r.cipher||"aes-128-ctr",a.slice(0,16),o);if(!d)throw new Error("Unsupported cipher");var m=n.from([...d.update(n.from(i.privateKey.replace("0x",""),"hex")),...d.final()]),v=p.sha3(n.from([...a.slice(16,32),...m])).replace("0x","");return{version:3,id:h.v4({random:r.uuid||f.randomBytes(16)}),address:i.address.toLowerCase().replace("0x",""),crypto:{ciphertext:m.toString("hex"),cipherparams:{iv:o.toString("hex")},cipher:r.cipher||"aes-128-ctr",kdf:c,kdfparams:u,mac:v.toString("hex")}}},w.prototype._findSafeIndex=function(e){return e=e||0,a.has(this,e)?this._findSafeIndex(e+1):e},w.prototype._currentIndexes=function(){return Object.keys(this).map((function(e){return parseInt(e)})).filter((function(e){return e<9e20}))},w.prototype.create=function(e,t){for(var r=0;r<e;++r)this.add(this._accounts.create(t).privateKey);return this},w.prototype.add=function(e){return a.isString(e)&&(e=this._accounts.privateKeyToAccount(e)),this[e.address]?this[e.address]:((e=this._accounts.privateKeyToAccount(e.privateKey)).index=this._findSafeIndex(),this[e.index]=e,this[e.address]=e,this[e.address.toLowerCase()]=e,this.length++,e)},w.prototype.remove=function(e){var t=this[e];return!(!t||!t.address)&&(this[t.address].privateKey=null,delete this[t.address],this[t.address.toLowerCase()].privateKey=null,delete this[t.address.toLowerCase()],this[t.index].privateKey=null,delete this[t.index],this.length--,!0)},w.prototype.clear=function(){var e=this;return this._currentIndexes().forEach((function(t){e.remove(t)})),this},w.prototype.encrypt=function(e,t){var r=this;return this._currentIndexes().map((function(n){return r[n].encrypt(e,t)}))},w.prototype.decrypt=function(e,t){var r=this;return e.forEach((function(e){var n=r._accounts.decrypt(e,t);if(!n)throw new Error("Couldn't decrypt accounts. Password wrong?");r.add(n)})),this},w.prototype.save=function(e,t){return localStorage.setItem(t||this.defaultKeyName,JSON.stringify(this.encrypt(e))),!0},w.prototype.load=function(e,t){var r=localStorage.getItem(t||this.defaultKeyName);if(r)try{r=JSON.parse(r)}catch(n){}return this.decrypt(r||[],e)},function(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage")||(delete w.prototype.save,delete w.prototype.load),e.exports=y}).call(this,r(19),r(9).Buffer)},function(e,t,r){(function(t){var n=r(118),a=r(727),i=r(48),s=(r(259),new i.ec("secp256k1")),o=r(115),c=o.keccak256,u=o.keccak256s,d=e=>{for(var t=u(e.slice(2)),r="0x",n=0;n<40;n++)r+=parseInt(t[n+2],16)>7?e[n+2].toUpperCase():e[n+2];return r},f=e=>{var r=new t(e.slice(2),"hex"),n="0x"+s.keyFromPrivate(r).getPublic(!1,"hex").slice(2),a=c(n);return{address:d("0x"+a.slice(-40)),privateKey:e}},l=([e,t,r])=>n.flatten([t,r,e]),h=e=>[n.slice(64,n.length(e),e),n.slice(0,32,e),n.slice(32,64,e)],p=e=>(r,i)=>{var o=s.keyFromPrivate(new t(i.slice(2),"hex")).sign(new t(r.slice(2),"hex"),{canonical:!0});return l([a.fromString(n.fromNumber(e+o.recoveryParam)),n.pad(32,n.fromNat("0x"+o.r.toString(16))),n.pad(32,n.fromNat("0x"+o.s.toString(16)))])},m=p(27);e.exports={create:e=>{var t=c(n.concat(n.random(32),e||n.random(32))),r=n.concat(n.concat(n.random(32),t),n.random(32)),a=c(r);return f(a)},toChecksum:d,fromPrivate:f,sign:m,makeSigner:p,recover:(e,r)=>{var a=h(r),i={v:n.toNumber(a[0]),r:a[1].slice(2),s:a[2].slice(2)},o="0x"+s.recoverPubKey(new t(e.slice(2),"hex"),i,i.v<2?i.v:1-i.v%2).encode("hex",!1).slice(2),u=c(o);return d("0x"+u.slice(-40))},encodeSignature:l,decodeSignature:h}}).call(this,r(9).Buffer)},function(e,t){var r=(e,t)=>{for(var r=[],n=0;n<e;++n)r.push(t(n));return r};e.exports={generate:r,replicate:(e,t)=>r(e,()=>t),concat:(e,t)=>e.concat(t),flatten:e=>{for(var t=[],r=0,n=e.length;r<n;++r)for(var a=0,i=e[r].length;a<i;++a)t.push(e[r][a]);return t},chunksOf:(e,t)=>{for(var r=[],n=0,a=t.length;n<a;n+=e)r.push(t.slice(n,n+e));return r}}},function(e,t,r){var n=r(9),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},,function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(9).Buffer,o=r(679).inspect,c=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,a=s.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=a,n=o,s.prototype.copy.call(t,r,n),o+=i.data.length,i=i.next;return a}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(i===a.length?n+=a:n+=a.slice(0,e),0===(e-=i)){i===a.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var a=r.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0===(e-=i)){i===a.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=a.slice(i));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,r),u&&i(t,u),e}()},,function(e,t,r){"use strict";(function(t){var n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(120),s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[d]=null,e[s]=null,e[o]=null,t(h(r,!1)))}}function m(e){t.nextTick(p,e)}var v=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((a(n={get stream(){return this[l]},next:function(){var e=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(h(void 0,!0));if(this[l].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[c]?n(e[c]):r(h(void 0,!0))}))}));var n,a=this[d];if(a)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(void 0,!0)):t[f](r,n)}),n)}}(a,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(h(i,!1));n=new Promise(this[f])}return this[d]=n,n}},Symbol.asyncIterator,(function(){return this})),a(n,"return",(function(){var e=this;return new Promise((function(t,r){e[l].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),v);e.exports=function(e){var t,r=Object.create(b,(a(t={},l,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,f,{value:function(e,t){var n=r[l].read();n?(r[d]=null,r[s]=null,r[o]=null,e(h(n,!1))):(r[s]=e,r[o]=t)},writable:!0}),t));return r[d]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[d]=null,r[s]=null,r[o]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[o]=null,n(h(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this,r(18))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=a;var n=r(229);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}r(12)(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var a=r(61).codes,i=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e,t,a,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(120)),n(e,{readable:t,writable:a},(function(e){if(e)return i(e);o=!0,i()}));var c=!1;return function(t){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function u(e){e()}function d(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,r){var i=r<t.length-1;return c(e,i,r>0,(function(e){n||(n=e),e&&s.forEach(u),i||(s.forEach(u),a(n))}))}));return t.reduce(d)}},function(e,t,r){var n=r(12),a=r(63),i=r(14).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e){return e<<30|e>>>2}function d(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,a=0|this._b,i=0|this._c,o=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var l=0;l<80;++l){var h=~~(l/20),p=0|((t=n)<<5|t>>>27)+d(h,a,i,o)+c+r[l]+s[h];c=o,o=i,i=u(a),a=n,n=p}this._a=n+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,r){var n=r(12),a=r(63),i=r(14).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e){return e<<5|e>>>27}function d(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,a=0|this._b,i=0|this._c,o=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=(t=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=u(n)+f(p,a,i,o)+c+r[h]+s[p]|0;c=o,o=i,i=d(a),a=n,n=m}this._a=n+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,r){var n=r(12),a=r(230),i=r(63),s=r(14).Buffer,o=new Array(64);function c(){this.init(),this._w=o,i.call(this,64,56)}n(c,a),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,r){var n=r(12),a=r(231),i=r(63),s=r(14).Buffer,o=new Array(160);function c(){this.init(),this._w=o,i.call(this,128,112)}n(c,a),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,r){"use strict";var n=r(12),a=r(14).Buffer,i=r(44),s=a.alloc(128);function o(e,t){i.call(this,"digest"),"string"===typeof t&&(t=a.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=a.concat([t,s],64));for(var r=this._ipad=a.allocUnsafe(64),n=this._opad=a.allocUnsafe(64),o=0;o<64;o++)r[o]=54^t[o],n[o]=92^t[o];this._hash=[r]}n(o,i),o.prototype._update=function(e){this._hash.push(e)},o.prototype._final=function(){var e=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,e]))},e.exports=o},function(e,t,r){e.exports=r(234)},function(e,t,r){(function(t,n){var a,i=r(14).Buffer,s=r(236),o=r(237),c=r(238),u=r(239),d=t.crypto&&t.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function h(e,t,r,n,a){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:a}},e,n<<3)})).then((function(e){return i.from(e)}))}e.exports=function(e,r,p,m,v,b){"function"===typeof v&&(b=v,v=void 0);var g=f[(v=v||"sha1").toLowerCase()];if(!g||"function"!==typeof t.Promise)return n.nextTick((function(){var t;try{t=c(e,r,p,m,v)}catch(n){return b(n)}b(null,t)}));if(s(p,m),e=u(e,o,"Password"),r=u(r,o,"Salt"),"function"!==typeof b)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==l[e])return l[e];var r=h(a=a||i.alloc(8),a,10,128,e).then((function(){return!0})).catch((function(){return!1}));return l[e]=r,r}(g).then((function(t){return t?h(e,r,p,m,g):c(e,r,p,m,v)})),b)}}).call(this,r(19),r(18))},function(e,t,r){var n=r(692),a=r(124),i=r(125),s=r(705),o=r(94);function c(e,t,r){if(e=e.toLowerCase(),i[e])return a.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),i[e])return a.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),i[e])r=i[e].key,n=i[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var a=o(t,!1,r,n);return c(e,a.key,a.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),i[e])r=i[e].key,n=i[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var a=o(t,!1,r,n);return u(e,a.key,a.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(a.getCiphers())}},function(e,t,r){var n=r(44),a=r(693),i=r(12),s=r(14).Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),a=o[r];t=e.decrypt?"decrypt":"encrypt";var i=e.key;s.isBuffer(i)||(i=s.from(i)),"des-ede"!==r&&"des-ede-cbc"!==r||(i=s.concat([i,i.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=a.create({key:i,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,i(c,n),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},function(e,t,r){"use strict";t.utils=r(240),t.Cipher=r(123),t.DES=r(241),t.CBC=r(694),t.EDE=r(695)},function(e,t,r){"use strict";var n=r(24),a=r(12),i={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var r=Object.keys(i),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=i[s]}return t.create=function(e){return new t(e)},t},i._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},i._update=function(e,t,r,n){var a=this._cbcState,i=this.constructor.super_.prototype,s=a.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)s[o]^=e[t+o];i._update.call(this,s,0,r,n);for(o=0;o<this.blockSize;o++)s[o]=r[n+o]}else{i._update.call(this,e,t,r,n);for(o=0;o<this.blockSize;o++)r[n+o]^=s[o];for(o=0;o<this.blockSize;o++)s[o]=e[t+o]}}},function(e,t,r){"use strict";var n=r(24),a=r(12),i=r(123),s=r(241);function o(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),a=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:a}),s.create({type:"encrypt",key:i})]:[s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:a}),s.create({type:"decrypt",key:r})]}function c(e){i.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}a(c,i),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var a=this._edeState;a.ciphers[0]._update(e,t,r,n),a.ciphers[1]._update(r,n,r,n),a.ciphers[2]._update(r,n,r,n)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(e,t,r){var n=r(125),a=r(245),i=r(14).Buffer,s=r(246),o=r(44),c=r(93),u=r(94);function d(e,t,r){o.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}r(12)(d,o),d.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return i.concat(n)};var f=i.alloc(16,16);function l(){this.cache=i.allocUnsafe(0)}function h(e,t,r){var o=n[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=i.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof r&&(r=i.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===o.type?new s(o.module,t,r):"auth"===o.type?new a(o.module,t,r):new d(o.module,t,r)}d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=i.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=i.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return i.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var a=u(t,!1,r.key,r.iv);return h(e,a.key,a.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,r){var n=r(77);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return n(a,r)}},function(e,t,r){var n=r(14).Buffer,a=r(77);function i(e,t,r){var i=t.length,s=a(t,e._cache);return e._cache=e._cache.slice(i),e._prev=n.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var a,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,i(e,t,r)]);break}a=e._cache.length,s=n.concat([s,i(e,t.slice(0,a),r)]),t=t.slice(a)}return s}},function(e,t,r){var n=r(14).Buffer;function a(e,t,r){var a=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:a])]),a}t.encrypt=function(e,t,r){for(var i=t.length,s=n.allocUnsafe(i),o=-1;++o<i;)s[o]=a(e,t[o],r);return s}},function(e,t,r){var n=r(14).Buffer;function a(e,t,r){for(var n,a,s=-1,o=0;++s<8;)n=t&1<<7-s?128:0,o+=(128&(a=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=i(e._prev,r?n:a);return o}function i(e,t){var r=e.length,a=-1,i=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++a<r;)i[a]=e[a]<<1|e[a+1]>>7;return i}t.encrypt=function(e,t,r){for(var i=t.length,s=n.allocUnsafe(i),o=-1;++o<i;)s[o]=a(e,t[o],r);return s}},function(e,t,r){(function(e){var n=r(77);function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,a(t)]);var i=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,i)}}).call(this,r(9).Buffer)},function(e,t,r){var n=r(14).Buffer,a=n.alloc(16,0);function i(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],a=[0,0,0,0],s=-1;++s<128;){for(0!==(this.state[~~(s/8)]&1<<7-s%8)&&(a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]),r=0!==(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=i(a)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,a],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=s},function(e,t,r){var n=r(245),a=r(14).Buffer,i=r(125),s=r(246),o=r(44),c=r(93),u=r(94);function d(e,t,r){o.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=a.from(r),this._mode=e,this._autopadding=!0}function f(){this.cache=a.allocUnsafe(0)}function l(e,t,r){var o=i[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"===typeof r&&(r=a.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);if("string"===typeof t&&(t=a.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new s(o.module,t,r,!0):"auth"===o.type?new n(o.module,t,r,!0):new d(o.module,t,r)}r(12)(d,o),d.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return a.concat(n)},d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=a.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return l(e,n.key,n.iv)},t.createDecipheriv=l},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,r){(function(e){var n=r(247),a=r(707),i=r(708);var s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var r=new e(a[t].prime,"hex"),n=new e(a[t].gen,"hex");return new i(r,n)},t.createDiffieHellman=t.DiffieHellman=function t(r,a,o,c){return e.isBuffer(a)||void 0===s[a]?t(r,"binary",a,o):(a=a||"binary",c=c||"binary",o=o||new e([2]),e.isBuffer(o)||(o=new e(o,c)),"number"===typeof r?new i(n(r,o),o,!0):(e.isBuffer(r)||(r=new e(r,a)),new i(r,o,!0)))}}).call(this,r(9).Buffer)},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,r){(function(t){var n=r(8),a=new(r(248)),i=new n(24),s=new n(11),o=new n(10),c=new n(3),u=new n(7),d=r(247),f=r(43);function l(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._pub=new n(e),this}function h(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._priv=new n(e),this}e.exports=m;var p={};function m(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=l,this.setPrivateKey=h):this._primeCode=8}function v(e,r){var n=new t(e.toArray());return r?n.toString(r):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var f,l=0;if(e.isEven()||!d.simpleSieve||!d.fermatTest(e)||!a.test(e))return l+=1,l+="02"===r||"05"===r?8:4,p[n]=l,l;switch(a.test(e.shrn(1))||(l+=2),r){case"02":e.mod(i).cmp(s)&&(l+=8);break;case"05":(f=e.mod(o)).cmp(c)&&f.cmp(u)&&(l+=8);break;default:l+=4}return p[n]=l,l}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var r=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),a=new t(r.toArray()),i=this.getPrime();if(a.length<i.length){var s=new t(i.length-a.length);s.fill(0),a=t.concat([s,a])}return a},m.prototype.getPublicKey=function(e){return v(this._pub,e)},m.prototype.getPrivateKey=function(e){return v(this._priv,e)},m.prototype.getPrime=function(e){return v(this.__prime,e)},m.prototype.getGenerator=function(e){return v(this._gen,e)},m.prototype.setGenerator=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.__gen=e,this._gen=new n(e),this}}).call(this,r(9).Buffer)},function(e,t,r){var n=r(126).Buffer,a=r(60),i=r(223),s=r(12),o=r(710),c=r(721),u=r(234);function d(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){return new d(e)}function h(e){return new f(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(d,i.Writable),d.prototype._write=function(e,t,r){this._hash.update(e),r()},d.prototype.update=function(e,t){return"string"===typeof e&&(e=n.from(e,t)),this._hash.update(e),this},d.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(f,i.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"===typeof e&&(e=n.from(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,r){"string"===typeof t&&(t=n.from(t,r)),this.end();var a=this._hash.digest();return c(t,a,e,this._signType,this._tag)},e.exports={Sign:l,Verify:h,createSign:l,createVerify:h}},function(e,t,r){var n=r(126).Buffer,a=r(232),i=r(127),s=r(48).ec,o=r(249),c=r(95),u=r(255);function d(e,t,r,i){if((e=n.from(e.toArray())).length<t.byteLength()){var s=n.alloc(t.byteLength()-e.length);e=n.concat([s,e])}var o=r.length,c=function(e,t){e=(e=f(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var a=n.alloc(t.byteLength()-r.length);r=n.concat([a,r])}return r}(r,t),u=n.alloc(o);u.fill(1);var d=n.alloc(o);return d=a(i,d).update(u).update(n.from([0])).update(e).update(c).digest(),u=a(i,d).update(u).digest(),{k:d=a(i,d).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=a(i,d).update(u).digest()}}function f(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function l(e,t,r){var i,s;do{for(i=n.alloc(0);8*i.length<e.bitLength();)t.v=a(r,t.k).update(t.v).digest(),i=n.concat([i,t.v]);s=f(i,e),t.k=a(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=a(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function h(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,a,p){var m=c(t);if(m.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var a=new s(r).keyFromPrivate(t.privateKey).sign(e);return n.from(a.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==a)throw new Error("wrong private key type");return function(e,t,r){var a,i=t.params.priv_key,s=t.params.p,c=t.params.q,u=t.params.g,p=new o(0),m=f(e,c).mod(c),v=!1,b=d(i,c,e,r);for(;!1===v;)a=l(c,b,r),p=h(u,a,s,c),0===(v=a.invm(c).imul(m.add(i.mul(p))).mod(c)).cmpn(0)&&(v=!1,p=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,v)}(e,m,r)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");e=n.concat([p,e]);for(var v=m.modulus.byteLength(),b=[0,1];e.length+b.length+1<v;)b.push(255);b.push(0);for(var g=-1;++g<e.length;)b.push(e[g]);return i(b,m)},e.exports.getKey=d,e.exports.makeKey=l},,function(e,t,r){"use strict";var n=r(250);t.certificate=r(718);var a=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=a;var i=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=i;var s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var d=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=d,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var f=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f;var l=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,r){"use strict";var n=r(251),a=r(253),i=r(12);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){var t=this.name;function r(e){this._initNamed(e,t)}return i(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(a[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},function(e,t,r){"use strict";var n=r(12),a=r(252);function i(e){a.call(this,e),this.enc="pem"}n(i,a),e.exports=i,i.prototype.encode=function(e,t){for(var r=a.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},function(e,t,r){"use strict";var n=r(12),a=r(128).Buffer,i=r(254);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,c=-1,u=0;u<r.length;u++){var d=r[u].match(s);if(null!==d&&d[2]===n){if(-1!==o){if("END"!==d[1])break;c=u;break}if("BEGIN"!==d[1])break;o=u}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+n);var f=r.slice(o+1,c).join("");f.replace(/[^a-z0-9+/=]+/gi,"");var l=a.from(f,"base64");return i.prototype.decode.call(this,l,t)}},function(e,t,r){"use strict";var n=t;n.Reporter=r(130).Reporter,n.DecoderBuffer=r(78).DecoderBuffer,n.EncoderBuffer=r(78).EncoderBuffer,n.Node=r(129)},function(e,t,r){"use strict";var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},n.der=r(131)},function(e,t,r){"use strict";var n=r(250),a=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),i=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(i)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),d=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),l=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(d),this.key("validity").use(f),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(94),o=r(124),c=r(14).Buffer;e.exports=function(e,t){var r,u=e.toString(),d=u.match(n);if(d){var f="aes"+d[1],l=c.from(d[2],"hex"),h=c.from(d[3].replace(/[\r\n]/g,""),"base64"),p=s(t,l.slice(0,8),parseInt(d[1],10)).key,m=[],v=o.createDecipheriv(f,p,l);m.push(v.update(h)),m.push(v.final()),r=c.concat(m)}else{var b=u.match(i);r=c.from(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(a)[1],data:r}}},function(e,t,r){var n=r(126).Buffer,a=r(249),i=r(48).ec,s=r(95),o=r(255);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,r,u,d){var f=s(r);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var a=new i(n),s=r.data.subjectPrivateKey.data;return a.verify(t,e,s)}(e,t,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,i=r.data.q,o=r.data.g,u=r.data.pub_key,d=s.signature.decode(e,"der"),f=d.s,l=d.r;c(f,i),c(l,i);var h=a.mont(n),p=f.invm(i);return 0===o.toRed(h).redPow(new a(t).mul(p).mod(i)).fromRed().mul(u.toRed(h).redPow(l.mul(p).mod(i)).fromRed()).mod(n).mod(i).cmp(l)}(e,t,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([d,t]);for(var l=f.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<l;)h.push(255),p++;h.push(0);for(var m=-1;++m<t.length;)h.push(t[m]);h=n.from(h);var v=a.mont(f.modulus);e=(e=new a(e).toRed(v)).redPow(new a(f.publicExponent)),e=n.from(e.fromRed().toArray());var b=p<8?1:0;for(l=Math.min(e.length,h.length),e.length!==h.length&&(b=1),m=-1;++m<l;)b|=e[m]^h[m];return 0===b}},function(e,t,r){(function(t){var n=r(48),a=r(8);e.exports=function(e){return new s(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function o(e,r,n){Array.isArray(e)||(e=e.toArray());var a=new t(e);if(n&&a.length<n){var i=new t(n-a.length);i.fill(0),a=t.concat([i,a])}return r?a.toString(r):a}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,r,n){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),o(r,e)},s.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,r){r=r||"utf8",t.isBuffer(e)||(e=new t(e,r));var n=new a(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(9).Buffer)},function(e,t,r){t.publicEncrypt=r(724),t.privateDecrypt=r(725),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},function(e,t,r){var n=r(95),a=r(43),i=r(60),s=r(256),o=r(257),c=r(8),u=r(258),d=r(127),f=r(14).Buffer;e.exports=function(e,t,r){var l;l=e.padding?e.padding:r?1:4;var h,p=n(e);if(4===l)h=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=i("sha1").update(f.alloc(0)).digest(),d=u.length,l=2*d;if(n>r-l-2)throw new Error("message too long");var h=f.alloc(r-n-l-2),p=r-d-1,m=a(d),v=o(f.concat([u,h,f.alloc(1,1),t],p),s(m,p)),b=o(m,s(v,d));return new c(f.concat([f.alloc(1),b,v],r))}(p,t);else if(1===l)h=function(e,t,r){var n,i=t.length,s=e.modulus.byteLength();if(i>s-11)throw new Error("message too long");n=r?f.alloc(s-i-3,255):function(e){var t,r=f.allocUnsafe(e),n=0,i=a(2*e),s=0;for(;n<e;)s===i.length&&(i=a(2*e),s=0),(t=i[s++])&&(r[n++]=t);return r}(s-i-3);return new c(f.concat([f.from([0,r?1:2]),n,f.alloc(1),t],s))}(p,t,r);else{if(3!==l)throw new Error("unknown padding");if((h=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?d(h,p):u(h,p)}},function(e,t,r){var n=r(95),a=r(256),i=r(257),s=r(8),o=r(127),c=r(60),u=r(258),d=r(14).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var l,h=n(e),p=h.modulus.byteLength();if(t.length>p||new s(t).cmp(h.modulus)>=0)throw new Error("decryption error");l=r?u(new s(t),h):o(t,h);var m=d.alloc(p-l.length);if(l=d.concat([m,l],p),4===f)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(d.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,s+1),u=t.slice(s+1),f=i(o,a(u,s)),l=i(u,a(f,r-s-1));if(function(e,t){e=d.from(e),t=d.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var a=-1;for(;++a<n;)r+=e[a]^t[a];return r}(n,l.slice(0,s)))throw new Error("decryption error");var h=s;for(;0===l[h];)h++;if(1!==l[h++])throw new Error("decryption error");return l.slice(h)}(h,l);if(1===f)return function(e,t,r){var n=t.slice(0,2),a=2,i=0;for(;0!==t[a++];)if(a>=t.length){i++;break}var s=t.slice(2,a-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&i++;s.length<8&&i++;if(i)throw new Error("decryption error");return t.slice(a)}(0,l,r);if(3===f)return l;throw new Error("unknown padding")}},function(e,t,r){"use strict";(function(e,n){function a(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var i=r(14),s=r(43),o=i.Buffer,c=i.kMaxLength,u=e.crypto||e.msCrypto,d=Math.pow(2,32)-1;function f(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>d||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function l(e,t,r){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>d||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function h(e,t,r,a){if(n.browser){var i=e.buffer,o=new Uint8Array(i,t,r);return u.getRandomValues(o),a?void n.nextTick((function(){a(null,e)})):e}if(!a)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return a(r);n.copy(e,t),a(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(t,r,n,a){if(!o.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof r)a=r,r=0,n=t.length;else if("function"===typeof n)a=n,n=t.length-r;else if("function"!==typeof a)throw new TypeError('"cb" argument must be a function');return f(r,t.length),l(n,r,t.length),h(t,r,n,a)},t.randomFillSync=function(t,r,n){"undefined"===typeof r&&(r=0);if(!o.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(r,t.length),void 0===n&&(n=t.length-r);return l(n,r,t.length),h(t,r,n)}):(t.randomFill=a,t.randomFillSync=a)}).call(this,r(19),r(18))},function(e,t,r){var n=r(8),a=r(118),i=e=>new n(e.slice(2),16),s=e=>{var t="0x"+("0x"===e.slice(0,2)?new n(e.slice(2),16):new n(e,10)).toString("hex");return"0x0"===t?"0x":t},o=e=>"string"===typeof e?/^0x/.test(e)?e:"0x"+e:"0x"+new n(e).toString("hex"),c=e=>i(e).toNumber(),u=e=>(t,r)=>"0x"+i(t)[e](i(r)).toString("hex"),d=u("add"),f=u("mul"),l=u("div"),h=u("sub");e.exports={toString:e=>i(e).toString(10),fromString:s,toNumber:c,fromNumber:o,toEther:e=>c(l(e,s("10000000000")))/1e8,fromEther:e=>f(o(Math.floor(1e8*e)),s("10000000000")),toUint256:e=>a.pad(32,e),add:d,mul:f,div:l,sub:h}},function(e,t,r){"use strict";(function(t){!function(r){function n(e){var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,a=1013904242,i=2773480762,s=1359893119,o=2600822924,c=528734635,u=1541459225,d=new Uint32Array(64);function f(e){for(var f=0,l=e.length;l>=64;){var h=r,p=n,m=a,v=i,b=s,g=o,y=c,w=u,k=void 0,x=void 0,_=void 0,S=void 0,T=void 0;for(x=0;x<16;x++)_=f+4*x,d[x]=(255&e[_])<<24|(255&e[_+1])<<16|(255&e[_+2])<<8|255&e[_+3];for(x=16;x<64;x++)S=((k=d[x-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10,T=((k=d[x-15])>>>7|k<<25)^(k>>>18|k<<14)^k>>>3,d[x]=(S+d[x-7]|0)+(T+d[x-16]|0)|0;for(x=0;x<64;x++)S=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&g^~b&y)|0)+(w+(t[x]+d[x]|0)|0)|0,T=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&m^p&m)|0,w=y,y=g,g=b,b=v+S|0,v=m,m=p,p=h,h=S+T|0;r=r+h|0,n=n+p|0,a=a+m|0,i=i+v|0,s=s+b|0,o=o+g|0,c=c+y|0,u=u+w|0,f+=64,l-=64}}f(e);var l,h=e.length%64,p=e.length/536870912|0,m=e.length<<3,v=h<56?56:120,b=e.slice(e.length-h,e.length);for(b.push(128),l=h+1;l<v;l++)b.push(0);return b.push(p>>>24&255),b.push(p>>>16&255),b.push(p>>>8&255),b.push(p>>>0&255),b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),f(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function a(e,t,r){e=e.length<=64?e:n(e);var a,i=64+t.length+4,s=new Array(i),o=new Array(64),c=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<e.length;a++)s[a]^=e[a];for(a=0;a<t.length;a++)s[64+a]=t[a];for(a=i-4;a<i;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<e.length;a++)o[a]^=e[a];function u(){for(var e=i-1;e>=i-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)u(),c=c.concat(n(o.concat(n(s)))),r-=32;return r>0&&(u(),c=c.concat(n(o.concat(n(s))).slice(0,r))),c}function i(e,t,r,n,a){var i;for(u(e,16*(2*r-1),a,0,16),i=0;i<2*r;i++)c(e,16*i,a,16),o(a,n),u(a,0,e,t+16*i,16);for(i=0;i<r;i++)u(e,t+2*i*16,e,16*i,16);for(i=0;i<r;i++)u(e,t+16*(2*i+1),e,16*(i+r),16)}function s(e,t){return e<<t|e>>>32-t}function o(e,t){u(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(var n=0;n<16;++n)e[n]+=t[n]}function c(e,t,r,n){for(var a=0;a<n;a++)r[a]^=e[t+a]}function u(e,t,r,n,a){for(;a--;)r[n++]=e[t++]}function d(e){if(!e||"number"!==typeof e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function l(e,r,n,s,o,l,h){if(n=f(n,"N"),s=f(s,"r"),o=f(o,"p"),l=f(l,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>2147483647/128/s)throw new Error("N too large");if(s>2147483647/128/o)throw new Error("r too large");if(!d(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!d(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);for(var p=a(e,r,128*o*s),m=new Uint32Array(32*o*s),v=0;v<m.length;v++){var b=4*v;m[v]=(255&p[b+3])<<24|(255&p[b+2])<<16|(255&p[b+1])<<8|(255&p[b+0])<<0}var g,y,w=new Uint32Array(64*s),k=new Uint32Array(32*s*n),x=32*s,_=new Uint32Array(16),S=new Uint32Array(16),T=o*n*2,O=0,A=null,M=!1,E=0,C=0,I=h?parseInt(1e3/s):4294967295,F="undefined"!==typeof t?t:setTimeout,P=function t(){if(M)return h(new Error("cancelled"),O/T);var r;switch(E){case 0:u(m,y=32*C*s,w,0,x),E=1,g=0;case 1:(r=n-g)>I&&(r=I);for(var d=0;d<r;d++)u(w,0,k,(g+d)*x,x),i(w,x,s,_,S);if(g+=r,O+=r,h){var f=parseInt(1e3*O/T);if(f!==A){if(M=h(null,O/T))break;A=f}}if(g<n)break;g=0,E=2;case 2:(r=n-g)>I&&(r=I);for(var v=0;v<r;v++){var b=w[16*(2*s-1)]&n-1;c(k,b*x,w,x),i(w,x,s,_,S)}if(g+=r,O+=r,h){var P=parseInt(1e3*O/T);if(P!==A){if(M=h(null,O/T))break;A=P}}if(g<n)break;if(u(w,0,m,y,x),++C<o){E=0;break}p=[];for(var B=0;B<m.length;B++)p.push(m[B]>>0&255),p.push(m[B]>>8&255),p.push(m[B]>>16&255),p.push(m[B]>>24&255);var R=a(e,p,l);return h&&h(null,1,R),R}h&&F(t)};if(!h)for(;;){var B=P();if(void 0!=B)return B}P()}var h={scrypt:function(e,t,r,n,a,i,s){return new Promise((function(o,c){var u=0;s&&s(0),l(e,t,r,n,a,i,(function(e,t,r){if(e)c(e);else if(r)s&&1!==u&&s(1),o(new Uint8Array(r));else if(s&&t!==u)return u=t,s(t)}))}))},syncScrypt:function(e,t,r,n,a,i){return new Uint8Array(l(e,t,r,n,a,i))}};e.exports=h}()}).call(this,r(81).setImmediate)},function(e,t,r){var n=r(730),a=r(731),i=a;i.v1=n,i.v4=a,e.exports=i},function(e,t,r){var n,a,i=r(260),s=r(261),o=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,d=t||[],f=(e=e||{}).node||n,l=void 0!==e.clockseq?e.clockseq:a;if(null==f||null==l){var h=i();null==f&&(f=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==l&&(l=a=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,v=p-o+(m-c)/1e4;if(v<0&&void 0===e.clockseq&&(l=l+1&16383),(v<0||p>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,c=m,a=l;var b=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[u++]=b>>>24&255,d[u++]=b>>>16&255,d[u++]=b>>>8&255,d[u++]=255&b;var g=p/4294967296*1e4&268435455;d[u++]=g>>>8&255,d[u++]=255&g,d[u++]=g>>>24&15|16,d[u++]=g>>>16&255,d[u++]=l>>>8|128,d[u++]=255&l;for(var y=0;y<6;++y)d[u+y]=f[y];return t||s(d)}},function(e,t,r){var n=r(260),a=r(261);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[i+o]=s[o];return t||a(s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(262);t.Transaction=n.default;var a=r(768);t.FakeTransaction=a.default},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(o){i=[6,o],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(264),s=r(736);t.createPrivateKey=function(){return n(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.getRandomBytes(32)];case 1:return e=t.sent(),i.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=s.getRandomBytesSync(32);if(i.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(264))},function(e,t,r){var n=r(40),a="Impossible case. Please create issue.",i="The tweak was out of range or the resulted private key is invalid",s="The tweak was out of range or equal to zero",o="Unknow error on context randomization",c="Private Key is invalid",u="Public Key could not be parsed",d="Public Key serialization error",f="The sum of the public keys is not valid",l="Signature could not be parsed",h="The nonce generation function failed, or the private key was invalid",p="Public key could not be recover",m="Scalar was invalid (zero or overflow)";function v(e,t){if(!e)throw new Error(t)}function b(e,t,r){if(v(t instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==r)if(Array.isArray(r)){var n=r.join(", "),a="Expected ".concat(e," to be an Uint8Array with length [").concat(n,"]");v(r.includes(t.length),a)}else{var i="Expected ".concat(e," to be an Uint8Array with length ").concat(r);v(t.length===r,i)}}function g(e){v("Boolean"===w(e),"Expected compressed to be a Boolean")}function y(e=(e=>new Uint8Array(e)),t){return"function"===typeof e&&(e=e(t)),b("output",e,t),e}function w(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){switch(v(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&b("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(o)}},privateKeyVerify:t=>(b("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(b("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(a)}},privateKeyTweakAdd(t,r){switch(b("private key",t,32),b("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(i)}},privateKeyTweakMul(t,r){switch(b("private key",t,32),b("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(s)}},publicKeyVerify:t=>(b("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(b("private key",t,32),g(r),n=y(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(d)}},publicKeyConvert(t,r=!0,n){switch(b("public key",t,[33,65]),g(r),n=y(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(d)}},publicKeyNegate(t,r=!0,n){switch(b("public key",t,[33,65]),g(r),n=y(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(a);case 3:throw new Error(d)}},publicKeyCombine(t,r=!0,a){v(Array.isArray(t),"Expected public keys to be an Array"),v(t.length>0,"Expected public keys array will have more than zero items");var i,s=n(t);try{for(s.s();!(i=s.n()).done;){b("public key",i.value,[33,65])}}catch(o){s.e(o)}finally{s.f()}switch(g(r),a=y(a,r?33:65),e.publicKeyCombine(a,t)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(f);case 3:throw new Error(d)}},publicKeyTweakAdd(t,r,n=!0,a){switch(b("public key",t,[33,65]),b("tweak",r,32),g(n),a=y(a,n?33:65),e.publicKeyTweakAdd(a,t,r)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(i)}},publicKeyTweakMul(t,r,n=!0,a){switch(b("public key",t,[33,65]),b("tweak",r,32),g(n),a=y(a,n?33:65),e.publicKeyTweakMul(a,t,r)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(s)}},signatureNormalize(t){switch(b("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(l)}},signatureExport(t,r){b("signature",t,64);var n={output:r=y(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(l);case 2:throw new Error(a)}},signatureImport(t,r){switch(b("signature",t),r=y(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(l);case 2:throw new Error(a)}},ecdsaSign(t,r,n={},i){b("message",t,32),b("private key",r,32),v("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&b("options.data",n.data),void 0!==n.noncefn&&v("Function"===w(n.noncefn),"Expected options.noncefn to be a Function");var s={signature:i=y(i,64),recid:null};switch(e.ecdsaSign(s,t,r,n.data,n.noncefn)){case 0:return s;case 1:throw new Error(h);case 2:throw new Error(a)}},ecdsaVerify(t,r,n){switch(b("signature",t,64),b("message",r,32),b("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(l);case 2:throw new Error(u)}},ecdsaRecover(t,r,n,i=!0,s){switch(b("signature",t,64),v("Number"===w(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),b("message",n,32),g(i),s=y(s,i?33:65),e.ecdsaRecover(s,t,r,n)){case 0:return s;case 1:throw new Error(l);case 2:throw new Error(p);case 3:throw new Error(a)}},ecdh(t,r,n={},a){switch(b("public key",t,[33,65]),b("private key",r,32),v("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&b("options.data",n.data),void 0!==n.hashfn?(v("Function"===w(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&b("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&b("options.ybuf",n.ybuf,32),b("output",a)):a=y(a,32),e.ecdh(a,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(m)}}})},function(e,t,r){var n=new(0,r(48).ec)("secp256k1"),a=n.curve,i=a.n.constructor;function s(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new i(t);if(r.cmp(a.p)>=0)return null;var s=(r=r.toRed(a.red)).redSqr().redIMul(r).redIAdd(a.b).redSqrt();return 3===e!==s.isOdd()&&(s=s.redNeg()),n.keyPair({pub:{x:r,y:s}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var s=new i(t),o=new i(r);if(s.cmp(a.p)>=0||o.cmp(a.p)>=0)return null;if(s=s.toRed(a.red),o=o.toRed(a.red),(6===e||7===e)&&o.isOdd()!==(7===e))return null;var c=s.redSqr().redIMul(s);return o.redSqr().redISub(c.redIAdd(a.b)).isZero()?n.keyPair({pub:{x:s,y:o}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function o(e,t){for(var r=t.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){var t=new i(e);return t.cmp(a.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){var t=new i(e),r=a.n.sub(t).umod(a.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){var r=new i(t);if(r.cmp(a.n)>=0)return 1;if(r.iadd(new i(e)),r.cmp(a.n)>=0&&r.isub(a.n),r.isZero())return 1;var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){var r=new i(t);if(r.cmp(a.n)>=0||r.isZero())return 1;r.imul(new i(e)),r.cmp(a.n)>=0&&(r=r.umod(a.n));var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===s(e)?1:0,publicKeyCreate(e,t){var r=new i(t);return r.cmp(a.n)>=0||r.isZero()?1:(o(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){var r=s(t);return null===r?1:(o(e,r.getPublic()),0)},publicKeyNegate(e,t){var r=s(t);if(null===r)return 1;var n=r.getPublic();return n.y=n.y.redNeg(),o(e,n),0},publicKeyCombine(e,t){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=s(t[n]),null===r[n])return 1;for(var a=r[0].getPublic(),i=1;i<r.length;++i)a=a.add(r[i].pub);return a.isInfinity()?2:(o(e,a),0)},publicKeyTweakAdd(e,t,r){var n=s(t);if(null===n)return 1;if((r=new i(r)).cmp(a.n)>=0)return 2;var c=n.getPublic().add(a.g.mul(r));return c.isInfinity()?2:(o(e,c),0)},publicKeyTweakMul(e,t,r){var n=s(t);return null===n?1:(r=new i(r)).cmp(a.n)>=0||r.isZero()?2:(o(e,n.getPublic().mul(r)),0)},signatureNormalize(e){var t=new i(e.subarray(0,32)),r=new i(e.subarray(32,64));return t.cmp(a.n)>=0||r.cmp(a.n)>=0?1:(1===r.cmp(n.nh)&&e.set(a.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){var r=t.subarray(0,32),n=t.subarray(32,64);if(new i(r).cmp(a.n)>=0)return 1;if(new i(n).cmp(a.n)>=0)return 1;var s=e.output,o=s.subarray(4,37);o[0]=0,o.set(r,1);for(var c=33,u=0;c>1&&0===o[u]&&!(128&o[u+1]);--c,++u);if(128&(o=o.subarray(u))[0])return 1;if(c>1&&0===o[0]&&!(128&o[1]))return 1;var d=s.subarray(39,72);d[0]=0,d.set(n,1);for(var f=33,l=0;f>1&&0===d[l]&&!(128&d[l+1]);--f,++l);return 128&(d=d.subarray(l))[0]||f>1&&0===d[0]&&!(128&d[1])?1:(e.outputlen=6+c+f,s[0]=48,s[1]=e.outputlen-2,s[2]=2,s[3]=o.length,s.set(o,4),s[4+c]=2,s[5+c]=d.length,s.set(d,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;var s=t.subarray(4,4+r);if(33===s.length&&0===s[0]&&(s=s.subarray(1)),s.length>32)return 1;var o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");var c=new i(s);c.cmp(a.n)>=0&&(c=new i(0));var u=new i(t.subarray(6+r));return u.cmp(a.n)>=0&&(u=new i(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,s,o){if(o){var c=o;o=e=>{var n=c(t,r,null,s,e);if(!(n instanceof Uint8Array&&32===n.length))throw new Error("This is the way");return new i(n)}}var u,d=new i(r);if(d.cmp(a.n)>=0||d.isZero())return 1;try{u=n.sign(t,r,{canonical:!0,k:o,pers:s})}catch(f){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){var o={r:e.subarray(0,32),s:e.subarray(32,64)},c=new i(o.r),u=new i(o.s);if(c.cmp(a.n)>=0||u.cmp(a.n)>=0)return 1;if(1===u.cmp(n.nh)||c.isZero()||u.isZero())return 3;var d=s(r);if(null===d)return 2;var f=d.getPublic();return n.verify(t,o,f)?0:3},ecdsaRecover(e,t,r,s){var c,u={r:t.slice(0,32),s:t.slice(32,64)},d=new i(u.r),f=new i(u.s);if(d.cmp(a.n)>=0||f.cmp(a.n)>=0)return 1;if(d.isZero()||f.isZero())return 2;try{c=n.recoverPubKey(s,u,r)}catch(l){return 2}return o(e,c),0},ecdh(e,t,r,o,c,u,d){var f=s(t);if(null===f)return 1;var l=new i(r);if(l.cmp(a.n)>=0||l.isZero())return 2;var h=f.getPublic().mul(l);if(void 0===c)for(var p=h.encode(null,!0),m=n.hash().update(p).digest(),v=0;v<32;++v)e[v]=m[v];else{u||(u=new Uint8Array(32));for(var b=h.getX().toArray("be",32),g=0;g<32;++g)u[g]=b[g];d||(d=new Uint8Array(32));for(var y=h.getY().toArray("be",32),w=0;w<32;++w)d[w]=y[w];var k=c(u,d,o);if(!(k instanceof Uint8Array&&k.length===e.length))return 2;e.set(k)}return 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.getRandomBytes=function(e){return new Promise((function(t,r){n(e,(function(e,n){e?r(e):t(n)}))}))},t.getRandomBytesSync=function(e){return n(e)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),a=new(0,r(48).ec)("secp256k1"),i=a.curve;t.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new n(e);if(r.ucmp(i.n)>=0)throw new Error("couldn't export to DER format");var o=a.g.mul(r);return s(o.getX(),o.getY(),t)},t.privateKeyModInverse=function(t){var r=new n(t);if(r.ucmp(i.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(i.n).toArrayLike(e,"be",32)},t.signatureImport=function(t){var r=new n(t.r);r.ucmp(i.n)>=0&&(r=new n(0));var a=new n(t.s);return a.ucmp(i.n)>=0&&(a=new n(0)),e.concat([r.toArrayLike(e,"be",32),a.toArrayLike(e,"be",32)])},t.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var o=a.keyFromPublic(e),c=new n(t);if(c.ucmp(i.n)>=0||c.isZero())throw new Error("scalar was invalid (zero or overflow)");var u=o.pub.mul(c);return s(u.getX(),u.getY(),r)};var s=function(t,r,n){var a;return n?((a=e.alloc(33))[0]=r.isOdd()?3:2,t.toArrayLike(e,"be",32).copy(a,1)):((a=e.alloc(65))[0]=4,t.toArrayLike(e,"be",32).copy(a,1),r.toArrayLike(e,"be",32).copy(a,33)),a}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(t,a,i){void 0===i&&(i=!0);var s=e.from(i?r:n);return t.copy(s,i?8:9),a.copy(s,i?181:214),s},t.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var a=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+a||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},t.signatureImportLax=function(t){var r=e.alloc(32,0),n=e.alloc(32,0),a=t.length,i=0;if(48!==t[i++])return null;var s=t[i++];if(128&s&&(i+=s-128)>a)return null;if(2!==t[i++])return null;var o=t[i++];if(128&o){if(i+(s=o-128)>a)return null;for(;s>0&&0===t[i];i+=1,s-=1);for(o=0;s>0;i+=1,s-=1)o=(o<<8)+t[i]}if(o>a-i)return null;var c=i;if(i+=o,2!==t[i++])return null;var u=t[i++];if(128&u){if(i+(s=u-128)>a)return null;for(;s>0&&0===t[i];i+=1,s-=1);for(u=0;s>0;i+=1,s-=1)u=(u<<8)+t[i]}if(u>a-i)return null;var d=i;for(i+=u;o>0&&0===t[c];o-=1,c+=1);if(o>32)return null;var f=t.slice(c,c+o);for(f.copy(r,32-f.length);u>0&&0===t[d];u-=1,d+=1);if(u>32)return null;var l=t.slice(d,d+u);return l.copy(n,32-l.length),{r:r,s:n}}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var n=r(8);t.MAX_INTEGER=new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new n("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.from(t.KECCAK256_RLP_S,"hex")}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.isPrecompiled=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isZeroAddress=t.isValidAddress=t.zeroAddress=void 0;var n=r(72),a=r(79),i=r(132),s=r(8),o=r(80),c=r(134);t.zeroAddress=function(){var e=o.zeros(20);return o.bufferToHex(e)},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===o.addHexPrefix(e)},t.toChecksumAddress=function(e,t){e=a.stripHexPrefix(e).toLowerCase();for(var r=void 0!==t?t.toString()+"0x":"",n=c.keccak(r+e).toString("hex"),i="0x",s=0;s<e.length;s++)parseInt(n[s],16)>=8?i+=e[s].toUpperCase():i+=e[s];return i},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(t,r){t=o.toBuffer(t);var n=new s(r);return n.isZero()?c.rlphash([t,null]).slice(-20):c.rlphash([t,e.from(n.toArray())]).slice(-20)},t.generateAddress2=function(t,r,a){var i=o.toBuffer(t),s=o.toBuffer(r),u=o.toBuffer(a);return n(20===i.length),n(32===s.length),c.keccak256(e.concat([e.from("ff","hex"),i,s,c.keccak256(u)])).slice(-20)},t.isPrecompiled=function(e){var t=o.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},t.isValidPrivate=function(e){return i.privateKeyVerify(e)},t.isValidPublic=function(t,r){return void 0===r&&(r=!1),64===t.length?i.publicKeyVerify(e.concat([e.from([4]),t])):!!r&&i.publicKeyVerify(t)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=o.toBuffer(e),t&&64!==e.length&&(e=i.publicKeyConvert(e,!1).slice(1)),n(64===e.length),c.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return e=o.toBuffer(e),i.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=o.toBuffer(e)).length&&(e=i.publicKeyConvert(e,!1).slice(1)),e}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(742),a=r(743);t.keccak224=n.createHashFunction((function(){return a("keccak224")})),t.keccak256=n.createHashFunction((function(){return a("keccak256")})),t.keccak384=n.createHashFunction((function(){return a("keccak384")})),t.keccak512=n.createHashFunction((function(){return a("keccak512")}))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createHashFunction=function(t){return function(r){var n=t();return n.update(r),e.from(n.digest())}}}).call(this,r(9).Buffer)},function(e,t,r){e.exports=r(744)(r(747))},function(e,t,r){var n=r(745),a=r(746);e.exports=function(e){var t=n(e),r=a(e);return function(e,n){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},function(e,t,r){(function(t){var n=r(50).Transform;e.exports=e=>class r extends n{constructor(t,r,n,a,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=a,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){var n=null;try{this.update(e,t)}catch(a){n=a}r(n)}_flush(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}update(e,r){if(!t.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return t.isBuffer(e)||(e=t.from(e,r)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){var e=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(9).Buffer)},function(e,t,r){(function(t){var n=r(50).Transform;e.exports=e=>class r extends n{constructor(t,r,n,a){super(a),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=a,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){var n=null;try{this.update(e,t)}catch(a){n=a}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,r){if(!t.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return t.isBuffer(e)||(e=t.from(e,r)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){var e=new r(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(9).Buffer)},function(e,t,r){(function(t){var n=r(748);function a(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}a.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},a.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},a.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},a.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var r=t.alloc(e),a=0;a<e;++a)r[a]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return r},a.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=a}).call(this,r(9).Buffer)},function(e,t){var r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(var t=0;t<24;++t){var n=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],l=e[9]^e[19]^e[29]^e[39]^e[49],h=f^(i<<1|s>>>31),p=l^(s<<1|i>>>31),m=e[0]^h,v=e[1]^p,b=e[10]^h,g=e[11]^p,y=e[20]^h,w=e[21]^p,k=e[30]^h,x=e[31]^p,_=e[40]^h,S=e[41]^p;h=n^(o<<1|c>>>31),p=a^(c<<1|o>>>31);var T=e[2]^h,O=e[3]^p,A=e[12]^h,M=e[13]^p,E=e[22]^h,C=e[23]^p,I=e[32]^h,F=e[33]^p,P=e[42]^h,B=e[43]^p;h=i^(u<<1|d>>>31),p=s^(d<<1|u>>>31);var R=e[4]^h,L=e[5]^p,N=e[14]^h,D=e[15]^p,V=e[24]^h,j=e[25]^p,U=e[34]^h,q=e[35]^p,G=e[44]^h,H=e[45]^p;h=o^(f<<1|l>>>31),p=c^(l<<1|f>>>31);var z=e[6]^h,K=e[7]^p,J=e[16]^h,X=e[17]^p,W=e[26]^h,Z=e[27]^p,Y=e[36]^h,Q=e[37]^p,$=e[46]^h,ee=e[47]^p;h=u^(n<<1|a>>>31),p=d^(a<<1|n>>>31);var te=e[8]^h,re=e[9]^p,ne=e[18]^h,ae=e[19]^p,ie=e[28]^h,se=e[29]^p,oe=e[38]^h,ce=e[39]^p,ue=e[48]^h,de=e[49]^p,fe=m,le=v,he=g<<4|b>>>28,pe=b<<4|g>>>28,me=y<<3|w>>>29,ve=w<<3|y>>>29,be=x<<9|k>>>23,ge=k<<9|x>>>23,ye=_<<18|S>>>14,we=S<<18|_>>>14,ke=T<<1|O>>>31,xe=O<<1|T>>>31,_e=M<<12|A>>>20,Se=A<<12|M>>>20,Te=E<<10|C>>>22,Oe=C<<10|E>>>22,Ae=F<<13|I>>>19,Me=I<<13|F>>>19,Ee=P<<2|B>>>30,Ce=B<<2|P>>>30,Ie=L<<30|R>>>2,Fe=R<<30|L>>>2,Pe=N<<6|D>>>26,Be=D<<6|N>>>26,Re=j<<11|V>>>21,Le=V<<11|j>>>21,Ne=U<<15|q>>>17,De=q<<15|U>>>17,Ve=H<<29|G>>>3,je=G<<29|H>>>3,Ue=z<<28|K>>>4,qe=K<<28|z>>>4,Ge=X<<23|J>>>9,He=J<<23|X>>>9,ze=W<<25|Z>>>7,Ke=Z<<25|W>>>7,Je=Y<<21|Q>>>11,Xe=Q<<21|Y>>>11,We=ee<<24|$>>>8,Ze=$<<24|ee>>>8,Ye=te<<27|re>>>5,Qe=re<<27|te>>>5,$e=ne<<20|ae>>>12,et=ae<<20|ne>>>12,tt=se<<7|ie>>>25,rt=ie<<7|se>>>25,nt=oe<<8|ce>>>24,at=ce<<8|oe>>>24,it=ue<<14|de>>>18,st=de<<14|ue>>>18;e[0]=fe^~_e&Re,e[1]=le^~Se&Le,e[10]=Ue^~$e&me,e[11]=qe^~et&ve,e[20]=ke^~Pe&ze,e[21]=xe^~Be&Ke,e[30]=Ye^~he&Te,e[31]=Qe^~pe&Oe,e[40]=Ie^~Ge&tt,e[41]=Fe^~He&rt,e[2]=_e^~Re&Je,e[3]=Se^~Le&Xe,e[12]=$e^~me&Ae,e[13]=et^~ve&Me,e[22]=Pe^~ze&nt,e[23]=Be^~Ke&at,e[32]=he^~Te&Ne,e[33]=pe^~Oe&De,e[42]=Ge^~tt&be,e[43]=He^~rt&ge,e[4]=Re^~Je&it,e[5]=Le^~Xe&st,e[14]=me^~Ae&Ve,e[15]=ve^~Me&je,e[24]=ze^~nt&ye,e[25]=Ke^~at&we,e[34]=Te^~Ne&We,e[35]=Oe^~De&Ze,e[44]=tt^~be&Ee,e[45]=rt^~ge&Ce,e[6]=Je^~it&fe,e[7]=Xe^~st&le,e[16]=Ae^~Ve&Ue,e[17]=Me^~je&qe,e[26]=nt^~ye&ke,e[27]=at^~we&xe,e[36]=Ne^~We&Ye,e[37]=De^~Ze&Qe,e[46]=be^~Ee&Ie,e[47]=ge^~Ce&Fe,e[8]=it^~fe&_e,e[9]=st^~le&Se,e[18]=Ve^~Ue&$e,e[19]=je^~qe&et,e[28]=ye^~ke&Pe,e[29]=we^~xe&Be,e[38]=We^~Ye&he,e[39]=Ze^~Qe&pe,e[48]=Ee^~Ie&Ge,e[49]=Ce^~Fe&He,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;var n=r(132),a=r(8),i=r(80),s=r(134);function o(e,t){return t?e-(2*t+35):e-27}function c(e){return 0===e||1===e}t.ecsign=function(e,t,r){var a=n.sign(e,t),i=a.recovery;return{r:a.signature.slice(0,32),s:a.signature.slice(32,64),v:r?i+(2*r+35):i+27}},t.ecrecover=function(t,r,a,s,u){var d=e.concat([i.setLength(a,32),i.setLength(s,32)],64),f=o(r,u);if(!c(f))throw new Error("Invalid signature v value");var l=n.recover(t,d,f);return n.publicKeyConvert(l,!1).slice(1)},t.toRpcSig=function(t,r,n,a){if(!c(o(t,a)))throw new Error("Invalid signature v value");return i.bufferToHex(e.concat([i.setLengthLeft(r,32),i.setLengthLeft(n,32),i.toBuffer(t)]))},t.fromRpcSig=function(e){var t=i.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},t.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var s=new a("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),u=new a("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!c(o(e,i)))return!1;var d=new a(t),f=new a(r);return!(d.isZero()||d.gt(u)||f.isZero()||f.gt(u))&&(!n||1!==f.cmp(s))},t.hashPersonalMessage=function(t){var r=e.from("\x19Ethereum Signed Message:\n"+t.length.toString(),"utf-8");return s.keccak(e.concat([r,t]))}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=void 0;var n=r(72),a=r(79),i=r(133),s=r(80);t.defineProperties=function(t,r,o){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(void 0===e&&(e=!1),e){var r={};return t._fields.forEach((function(e){r[e]="0x"+t[e].toString("hex")})),r}return s.baToJSON(t.raw)},t.serialize=function(){return i.encode(t.raw)},r.forEach((function(r,a){function i(){return t.raw[a]}function o(i){"00"!==(i=s.toBuffer(i)).toString("hex")||r.allowZero||(i=e.allocUnsafe(0)),r.allowLess&&r.length?(i=s.stripZeros(i),n(r.length>=i.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===i.length||!r.length||n(r.length===i.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[a]=i}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),o)if("string"===typeof o&&(o=e.from(a.stripHexPrefix(o),"hex")),e.isBuffer(o)&&(o=i.decode(o)),Array.isArray(o)){if(o.length>t._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(e,r){t[t._fields[r]]=s.toBuffer(e)}))}else{if("object"!==typeof o)throw new Error("invalid data");var c=Object.keys(o);r.forEach((function(e){-1!==c.indexOf(e.name)&&(t[e.name]=o[e.name]),-1!==c.indexOf(e.alias)&&(t[e.alias]=o[e.alias])}))}}}).call(this,r(9).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chains=void 0,t.chains={names:{1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli"},mainnet:r(752),ropsten:r(753),rinkeby:r(754),kovan:r(755),goerli:r(756)}},function(e){e.exports=JSON.parse('{"name":"mainnet","chainId":1,"networkId":1,"comment":"The Ethereum main chain","url":"https://ethstats.net/","genesis":{"hash":"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3","timestamp":null,"gasLimit":5000,"difficulty":17179869184,"nonce":"0x0000000000000042","extraData":"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa","stateRoot":"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"},"hardforks":[{"name":"chainstart","block":0,"consensus":"pow","finality":null},{"name":"homestead","block":1150000,"consensus":"pow","finality":null},{"name":"dao","block":1920000,"consensus":"pow","finality":null},{"name":"tangerineWhistle","block":2463000,"consensus":"pow","finality":null},{"name":"spuriousDragon","block":2675000,"consensus":"pow","finality":null},{"name":"byzantium","block":4370000,"consensus":"pow","finality":null},{"name":"constantinople","block":7280000,"consensus":"pow","finality":null},{"name":"petersburg","block":7280000,"consensus":"pow","finality":null},{"name":"istanbul","block":9069000,"consensus":"pow","finality":null},{"name":"muirGlacier","block":9200000,"consensus":"pow","finality":null}],"bootstrapNodes":[{"ip":"18.138.108.67","port":30303,"id":"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666","location":"ap-southeast-1-001","comment":"bootnode-aws-ap-southeast-1-001"},{"ip":"3.209.45.79","port":30303,"id":"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de","location":"us-east-1-001","comment":"bootnode-aws-us-east-1-001"},{"ip":"34.255.23.113","port":30303,"id":"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758","location":"eu-west-1-001","comment":"bootnode-aws-eu-west-1-001"},{"ip":"35.158.244.151","port":30303,"id":"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8","location":"eu-central-1-001","comment":"bootnode-aws-eu-central-1-001"},{"ip":"52.187.207.27","port":30303,"id":"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a","location":"australiaeast-001","comment":"bootnode-azure-australiaeast-001"},{"ip":"191.234.162.198","port":30303,"id":"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1","location":"brazilsouth-001","comment":"bootnode-azure-brazilsouth-001"},{"ip":"52.231.165.108","port":30303,"id":"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8","location":"koreasouth-001","comment":"bootnode-azure-koreasouth-001"},{"ip":"104.42.217.25","port":30303,"id":"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f","location":"westus-001","comment":"bootnode-azure-westus-001"}]}')},function(e){e.exports=JSON.parse('{"name":"ropsten","chainId":3,"networkId":3,"comment":"PoW test network","url":"https://github.com/ethereum/ropsten","genesis":{"hash":"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d","timestamp":null,"gasLimit":16777216,"difficulty":1048576,"nonce":"0x0000000000000042","extraData":"0x3535353535353535353535353535353535353535353535353535353535353535","stateRoot":"0x217b0bbcfb72e2d57e28f33cb361b9983513177755dc3f33ce3e7022ed62b77b"},"hardforks":[{"name":"chainstart","block":0,"consensus":"pow","finality":null},{"name":"homestead","block":0,"consensus":"pow","finality":null},{"name":"dao","block":null,"consensus":"pow","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"pow","finality":null},{"name":"spuriousDragon","block":10,"consensus":"pow","finality":null},{"name":"byzantium","block":1700000,"consensus":"pow","finality":null},{"name":"constantinople","block":4230000,"consensus":"pow","finality":null},{"name":"petersburg","block":4939394,"consensus":"pow","finality":null},{"name":"istanbul","block":6485846,"consensus":"pow","finality":null},{"name":"muirGlacier","block":7117117,"consensus":"pow","finality":null}],"bootstrapNodes":[{"ip":"52.176.7.10","port":30303,"id":"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606","location":"","comment":"US-Azure geth"},{"ip":"52.176.100.77","port":30303,"id":"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c","location":"","comment":"US-Azure parity"},{"ip":"52.232.243.152","port":30303,"id":"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f","location":"","comment":"Parity"},{"ip":"192.81.208.223","port":30303,"id":"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09","location":"","comment":"@gpip"}]}')},function(e){e.exports=JSON.parse('{"name":"rinkeby","chainId":4,"networkId":4,"comment":"PoA test network","url":"https://www.rinkeby.io","genesis":{"hash":"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177","timestamp":"0x58ee40ba","gasLimit":4700000,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","stateRoot":"0x53580584816f617295ea26c0e17641e0120cab2f0a8ffb53a866fd53aa8e8c2d"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":1,"consensus":"poa","finality":null},{"name":"dao","block":null,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":2,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":3,"consensus":"poa","finality":null},{"name":"byzantium","block":1035301,"consensus":"poa","finality":null},{"name":"constantinople","block":3660663,"consensus":"poa","finality":null},{"name":"petersburg","block":4321234,"consensus":"poa","finality":null},{"name":"istanbul","block":5435345,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"52.169.42.101","port":30303,"id":"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf","location":"","comment":"IE"},{"ip":"52.3.158.184","port":30303,"id":"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8","location":"","comment":"INFURA"},{"ip":"159.89.28.211","port":30303,"id":"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6","location":"","comment":"AKASHA"}]}')},function(e){e.exports=JSON.parse('{"name":"kovan","chainId":42,"networkId":42,"comment":"Parity PoA test network","url":"https://kovan-testnet.github.io/website/","genesis":{"hash":"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9","timestamp":null,"gasLimit":6000000,"difficulty":131072,"nonce":"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","extraData":"0x","stateRoot":"0x2480155b48a1cea17d67dbfdfaafe821c1d19cdd478c5358e8ec56dec24502b2"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":0,"consensus":"poa","finality":null},{"name":"dao","block":0,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":0,"consensus":"poa","finality":null},{"name":"byzantium","block":5067000,"consensus":"poa","finality":null},{"name":"constantinople","block":9200000,"consensus":"poa","finality":null},{"name":"petersburg","block":10255201,"consensus":"poa","finality":null},{"name":"istanbul","block":14111141,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"116.203.116.241","port":30303,"id":"16898006ba2cd4fa8bf9a3dfe32684c178fa861df144bfc21fe800dc4838a03e342056951fa9fd533dcb0be1219e306106442ff2cf1f7e9f8faa5f2fc1a3aa45","location":"","comment":"1"},{"ip":"3.217.96.11","port":30303,"id":"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0","location":"","comment":"2"},{"ip":"108.61.170.124","port":30303,"id":"740e1c8ea64e71762c71a463a04e2046070a0c9394fcab5891d41301dc473c0cff00ebab5a9bc87fbcb610ab98ac18225ff897bc8b7b38def5975d5ceb0a7d7c","location":"","comment":"3"},{"ip":"157.230.31.163","port":30303,"id":"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0","location":"","comment":"4"}]}')},function(e){e.exports=JSON.parse('{"name":"goerli","chainId":5,"networkId":5,"comment":"Cross-client PoA test network","url":"https://github.com/goerli/testnet","genesis":{"hash":"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a","timestamp":"0x5c51a607","gasLimit":10485760,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","stateRoot":"0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":0,"consensus":"poa","finality":null},{"name":"dao","block":0,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":0,"consensus":"poa","finality":null},{"name":"byzantium","block":0,"consensus":"poa","finality":null},{"name":"constantinople","block":0,"consensus":"poa","finality":null},{"name":"petersburg","block":0,"consensus":"poa","finality":null},{"name":"istanbul","block":1561651,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"51.141.78.53","port":30303,"id":"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a","location":"","comment":"Upstream bootnode 1"},{"ip":"13.93.54.137","port":30303,"id":"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b","location":"","comment":"Upstream bootnode 2"},{"ip":"94.237.54.114","port":30313,"id":"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291","location":"","comment":"Upstream bootnode 3"},{"ip":"52.64.155.147","port":30303,"id":"c1f8b7c2ac4453271fa07d8e9ecf9a2e8285aa0bd0c07df0131f47153306b0736fd3db8924e7a9bf0bed6b1d8d4f87362a71b033dc7c64547728d953e43e59b2","location":"","comment":"Upstream bootnode 4"},{"ip":"213.186.16.82","port":30303,"id":"f4a9c6ee28586009fb5a96c8af13a58ed6d8315a9eee4772212c1d4d9cebe5a8b8a78ea4434f318726317d04a3f531a1ef0420cf9752605a562cfe858c46e263","location":"","comment":"Upstream bootnode 5"},{"ip":"3.11.147.67","port":30303,"id":"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91","location":"","comment":"Ethereum Foundation bootnode"}]}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hardforks=void 0,t.hardforks=[["chainstart",r(758)],["homestead",r(759)],["dao",r(760)],["tangerineWhistle",r(761)],["spuriousDragon",r(762)],["byzantium",r(763)],["constantinople",r(764)],["petersburg",r(765)],["istanbul",r(766)],["muirGlacier",r(767)]]},function(e){e.exports=JSON.parse('{"name":"chainstart","comment":"Start of the Ethereum main chain","eip":{"url":"","status":""},"status":"","gasConfig":{"minGasLimit":{"v":5000,"d":"Minimum the gas limit may ever be"},"gasLimitBoundDivisor":{"v":1024,"d":"The bound divisor of the gas limit, used in update calculations"}},"gasPrices":{"base":{"v":2,"d":"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},"tierStep":{"v":[0,2,3,5,8,10,20],"d":"Once per operation, for a selection of them"},"exp":{"v":10,"d":"Once per EXP instuction"},"expByte":{"v":10,"d":"Times ceil(log256(exponent)) for the EXP instruction"},"sha3":{"v":30,"d":"Once per SHA3 operation"},"sha3Word":{"v":6,"d":"Once per word of the SHA3 operation\'s data"},"sload":{"v":50,"d":"Once per SLOAD operation"},"sstoreSet":{"v":20000,"d":"Once per SSTORE operation if the zeroness changes from zero"},"sstoreReset":{"v":5000,"d":"Once per SSTORE operation if the zeroness does not change from zero"},"sstoreRefund":{"v":15000,"d":"Once per SSTORE operation if the zeroness changes to zero"},"jumpdest":{"v":1,"d":"Refunded gas, once per SSTORE operation if the zeroness changes to zero"},"log":{"v":375,"d":"Per LOG* operation"},"logData":{"v":8,"d":"Per byte in a LOG* operation\'s data"},"logTopic":{"v":375,"d":"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},"create":{"v":32000,"d":"Once per CREATE operation & contract-creation transaction"},"call":{"v":40,"d":"Once per CALL operation & message call transaction"},"callStipend":{"v":2300,"d":"Free gas given at beginning of call"},"callValueTransfer":{"v":9000,"d":"Paid for CALL when the value transfor is non-zero"},"callNewAccount":{"v":25000,"d":"Paid for CALL when the destination address didn\'t exist prior"},"selfdestructRefund":{"v":24000,"d":"Refunded following a selfdestruct operation"},"memory":{"v":3,"d":"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},"quadCoeffDiv":{"v":512,"d":"Divisor for the quadratic particle of the memory cost equation"},"createData":{"v":200,"d":""},"tx":{"v":21000,"d":"Per transaction. NOTE: Not payable on data of calls between transactions"},"txCreation":{"v":32000,"d":"The cost of creating a contract via tx"},"txDataZero":{"v":4,"d":"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},"txDataNonZero":{"v":68,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"copy":{"v":3,"d":"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},"ecRecover":{"v":3000,"d":""},"sha256":{"v":60,"d":""},"sha256Word":{"v":12,"d":""},"ripemd160":{"v":600,"d":""},"ripemd160Word":{"v":120,"d":""},"identity":{"v":15,"d":""},"identityWord":{"v":3,"d":""}},"vm":{"stackLimit":{"v":1024,"d":"Maximum size of VM stack allowed"},"callCreateDepth":{"v":1024,"d":"Maximum depth of call/create stack"},"maxExtraDataSize":{"v":32,"d":"Maximum size extra data may be after Genesis"}},"pow":{"minimumDifficulty":{"v":131072,"d":"The minimum that the difficulty may ever be"},"difficultyBoundDivisor":{"v":2048,"d":"The bound divisor of the difficulty, used in the update calculations"},"durationLimit":{"v":13,"d":"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},"epochDuration":{"v":30000,"d":"Duration between proof-of-work epochs"},"timebombPeriod":{"v":100000,"d":"Exponential difficulty timebomb period"},"minerReward":{"v":"5000000000000000000","d":"the amount a miner get rewarded for mining a block"}},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"homestead","comment":"Homestead hardfork with protocol and network changes","eip":{"url":"https://eips.ethereum.org/EIPS/eip-606","status":"Final"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"dao","comment":"DAO rescue hardfork","eip":{"url":"https://eips.ethereum.org/EIPS/eip-779","status":"Final"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"tangerineWhistle","comment":"Hardfork with gas cost changes for IO-heavy operations","eip":{"url":"https://eips.ethereum.org/EIPS/eip-608","status":"Final"},"gasConfig":{},"gasPrices":{"sload":{"v":200,"d":"Once per SLOAD operation"},"call":{"v":700,"d":"Once per CALL operation & message call transaction"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"spuriousDragon","comment":"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit","eip":{"url":"https://eips.ethereum.org/EIPS/eip-607","status":"Final"},"gasConfig":{},"gasPrices":{"expByte":{"v":50,"d":"Times ceil(log256(exponent)) for the EXP instruction"}},"vm":{"maxCodeSize":{"v":24576,"d":"Maximum length of contract code"}},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"byzantium","comment":"Hardfork with new precompiles, instructions and other protocol changes","eip":{"url":"https://eips.ethereum.org/EIPS/eip-609","status":"Final"},"gasConfig":{},"gasPrices":{"modexpGquaddivisor":{"v":20,"d":"Gquaddivisor from modexp precompile for gas calculation"},"ecAdd":{"v":500,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":40000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":100000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":80000,"d":"Gas costs regarding curve pairing precompile input length"}},"vm":{},"pow":{"minerReward":{"v":"3000000000000000000","d":"the amount a miner get rewarded for mining a block"}},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"constantinople","comment":"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)","eip":{"url":"https://eips.ethereum.org/EIPS/eip-1013","status":"Final"},"gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":200,"d":"Once per SSTORE operation if the value doesn\'t change"},"netSstoreInitGas":{"v":20000,"d":"Once per SSTORE operation from clean zero"},"netSstoreCleanGas":{"v":5000,"d":"Once per SSTORE operation from clean non-zero"},"netSstoreDirtyGas":{"v":200,"d":"Once per SSTORE operation from dirty"},"netSstoreClearRefund":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"},"netSstoreResetRefund":{"v":4800,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"netSstoreResetClearRefund":{"v":19800,"d":"Once per SSTORE operation for resetting to the original zero value"}},"vm":{},"pow":{"minerReward":{"v":"2000000000000000000","d":"The amount a miner gets rewarded for mining a block"}},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"petersburg","comment":"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople","eip":{"url":"https://eips.ethereum.org/EIPS/eip-1716","status":"Draft"},"gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreInitGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreCleanGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreDirtyGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreClearRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetClearRefund":{"v":null,"d":"Removed along EIP-1283"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"istanbul","comment":"HF targeted for December 2019 following the Constantinople/Petersburg HF","eip":{"url":"https://eips.ethereum.org/EIPS/eip-1679","status":"Draft"},"gasConfig":{},"gasPrices":{"blake2Round":{"v":1,"d":"Gas cost per round for the Blake2 F precompile"},"ecAdd":{"v":150,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":6000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":45000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":34000,"d":"Gas costs regarding curve pairing precompile input length"},"txDataNonZero":{"v":16,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"sstoreSentryGasEIP2200":{"v":2300,"d":"Minimum gas required to be present for an SSTORE call, not consumed"},"sstoreNoopGasEIP2200":{"v":800,"d":"Once per SSTORE operation if the value doesn\'t change"},"sstoreDirtyGasEIP2200":{"v":800,"d":"Once per SSTORE operation if a dirty value is changed"},"sstoreInitGasEIP2200":{"v":20000,"d":"Once per SSTORE operation from clean zero to non-zero"},"sstoreInitRefundEIP2200":{"v":19200,"d":"Once per SSTORE operation for resetting to the original zero value"},"sstoreCleanGasEIP2200":{"v":5000,"d":"Once per SSTORE operation from clean non-zero to something else"},"sstoreCleanRefundEIP2200":{"v":4200,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"sstoreClearRefundEIP2200":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e){e.exports=JSON.parse('{"name":"muirGlacier","comment":"HF to delay the difficulty bomb","eip":{"url":"https://eips.ethereum.org/EIPS/eip-2384","status":"Last Call"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(263),i=r(9),s=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=e.call(this,t,r)||this;Object.defineProperty(n,"from",{enumerable:!0,configurable:!0,get:function(){return n.getSenderAddress()},set:function(e){e&&(n._from=a.toBuffer(e))}});var i=t;return i.from&&(n.from=a.toBuffer(i.from)),n}return n(t,e),t.prototype.hash=function(t){if(void 0===t&&(t=!0),t&&this._from&&""!==this._from.toString("hex")){var r=i.Buffer.concat([this._from,this._from.slice(0,12)]);this.sign(r)}return e.prototype.hash.call(this,t)},t}(r(262).default);t.default=s},function(e,t,r){"use strict";var n=r(25);e.exports=function(e){var t,r=this;return this.net.getId().then((function(e){return t=e,r.getBlock(0)})).then((function(r){var a="private";return"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3"===r.hash&&1===t&&(a="main"),"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303"===r.hash&&2===t&&(a="morden"),"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d"===r.hash&&3===t&&(a="ropsten"),"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177"===r.hash&&4===t&&(a="rinkeby"),"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a"===r.hash&&5===t&&(a="goerli"),"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9"===r.hash&&42===t&&(a="kovan"),n.isFunction(e)&&e(null,a),a})).catch((function(t){if(!n.isFunction(e))throw t;e(t)}))}},function(e,t,r){"use strict";var n=r(55),a=r(89).subscriptions,i=r(56),s=r(90),o=function(){console.warn("web3-shh package will be deprecated in version 1.3.5 and will no longer be supported.");var e=this;n.packageInit(this,arguments);var t=this.setRequestManager;this.setRequestManager=function(r){return t(r),e.net.setRequestManager(r),!0};var r=this.setProvider;this.setProvider=function(){r.apply(e,arguments),e.setRequestManager(e._requestManager)},this.net=new s(this),[new a({name:"subscribe",type:"shh",subscriptions:{messages:{params:1}}}),new i({name:"getVersion",call:"shh_version",params:0}),new i({name:"getInfo",call:"shh_info",params:0}),new i({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new i({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new i({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new i({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new i({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new i({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new i({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new i({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new i({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new i({name:"newSymKey",call:"shh_newSymKey",params:0}),new i({name:"addSymKey",call:"shh_addSymKey",params:1}),new i({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new i({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new i({name:"getSymKey",call:"shh_getSymKey",params:1}),new i({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new i({name:"newMessageFilter",call:"shh_newMessageFilter",params:1}),new i({name:"getFilterMessages",call:"shh_getFilterMessages",params:1}),new i({name:"deleteMessageFilter",call:"shh_deleteMessageFilter",params:1}),new i({name:"post",call:"shh_post",params:1,inputFormatter:[null]}),new i({name:"unsubscribe",call:"shh_unsubscribe",params:1})].forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}))};o.prototype.clearSubscriptions=function(){this._requestManager.clearSubscriptions()},n.addProviders(o),e.exports=o},function(e,t,r){"use strict";var n=r(25),a=r(772),i=function e(t){console.warn("web3-bzz package will be deprecated in version 1.3.5 and will no longer be supported."),this.givenProvider=e.givenProvider,t&&t._requestManager&&(t=t.currentProvider),"undefined"!==typeof document&&(this.pick=a.pick),this.setProvider(t)};i.givenProvider=null,"undefined"!==typeof ethereum&&ethereum.bzz&&(i.givenProvider=ethereum.bzz),i.prototype.setProvider=function(e){if(n.isObject(e)&&n.isString(e.bzz)&&(e=e.bzz),!n.isString(e)){this.currentProvider=null;var t=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw t},!1}return this.currentProvider=e,this.download=a.at(e).download,this.upload=a.at(e).upload,this.isAvailable=a.at(e).isAvailable,!0},e.exports=i},function(e,t,r){var n=function(){throw"This swarm.js function isn't available on the browser."},a={readFile:n},i={download:n,safeDownloadArchived:n,directoryTree:n},s={platform:n,arch:n},o={join:n,slice:n},c={spawn:n},u={lookup:n},d=r(773),f=r(266),l=r(786),h=r(788),p=r(789);e.exports=p({fs:a,files:i,os:s,path:o,child_process:c,defaultArchives:{},mimetype:u,request:d,downloadUrl:null,bytes:f,hash:l,pick:h})},function(e,t,r){var n=r(774),a=r(777),i=r(68),s=r(778),o=r(779),c=function(){};e.exports=function(e,t,r){if(!e||"string"!==typeof e)throw new TypeError("must specify a URL");"function"===typeof t&&(r=t,t={});if(r&&"function"!==typeof r)throw new TypeError("expected cb to be undefined or a function");r=r||c;var u=(t=t||{}).json?"json":"text",d=(t=i({responseType:u},t)).headers||{},f=(t.method||"GET").toUpperCase(),l=t.query;l&&("string"!==typeof l&&(l=n.stringify(l)),e=a(e,l));"json"===t.responseType&&s(d,"Accept","application/json");t.json&&"GET"!==f&&"HEAD"!==f&&(s(d,"Content-Type","application/json"),t.body=JSON.stringify(t.body));return t.method=f,t.url=e,t.headers=d,delete t.query,delete t.json,o(t,r)}},function(e,t,r){"use strict";var n=r(775),a=r(68),i=r(776);function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function o(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:i(s),r(i(a),s,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):n}t.extract=o,t.parse=c,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(n){var a=e[n];if(void 0===a)return"";if(null===a)return s(n,t);if(Array.isArray(a)){var i=[];return a.slice().forEach((function(e){void 0!==e&&i.push(r(n,e,i.length))})),i.join("&")}return s(n,t)+"="+s(a,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(o(e),t)}}},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function s(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var i=s(n[0]);i!==n[0]&&(r[n[0]]=i)}n=a.exec(e)}r["%C2"]="\ufffd";for(var o=Object.keys(r),c=0;c<o.length;c++){var u=o[c];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},function(e,t){e.exports=function(e,t){if(t){t=(t=t.trim().replace(/^(\?|#|&)/,""))?"?"+t:t;var r=e.split(/[\?\#]/)[0];t&&/\:\/\/[^\/]*$/.test(r)&&(r+="/");var n=e.match(/(\#.*)$/);e=r+t,n&&(e+=n[0])}return e}},function(e,t){e.exports=function(e,t,r){var n=t.toLowerCase();e[t]||e[n]||(e[t]=r)}},function(e,t,r){var n=r(780),a=r(784),i=function(){};e.exports=function(e,t){delete e.uri;var r=!1;"json"===e.responseType&&(e.responseType="text",r=!0);var s=n(e,(function(n,s,o){if(r&&!n)try{var c=s.rawRequest.responseText;o=JSON.parse(c)}catch(u){n=u}s=a(e,s),t(n,n?null:o,s),t=i})),o=s.onabort;return s.onabort=function(){var e=o.apply(s,Array.prototype.slice.call(arguments));return t(new Error("XHR Aborted")),t=i,e},s}},function(e,t,r){"use strict";var n=r(781),a=r(782),i=r(783),s=r(186);function o(e,t,r){var n=e;return a(t)?(r=t,"string"===typeof e&&(n={uri:e})):n=s(t,{uri:e}),n.callback=r,n}function c(e,t,r){return u(t=o(e,t,r))}function u(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,a){t||(t=!0,e.callback(r,n,a))};function n(){var e=void 0;if(e=d.response?d.response:d.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(r){}return null}(d),b)try{e=JSON.parse(e)}catch(t){}return e}function a(e){return clearTimeout(f),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,g)}function s(){if(!u){var t;clearTimeout(f),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var a=g,s=null;return 0!==t?(a={body:n(),statusCode:t,method:h,headers:{},url:l,rawRequest:d},d.getAllResponseHeaders&&(a.headers=i(d.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),r(s,a,a.body)}}var o,u,d=e.xhr||null;d||(d=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var f,l=d.url=e.uri||e.url,h=d.method=e.method||"GET",p=e.body||e.data,m=d.headers=e.headers||{},v=!!e.sync,b=!1,g={body:void 0,headers:{},statusCode:0,method:h,url:l,rawRequest:d};if("json"in e&&!1!==e.json&&(b=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),d.onreadystatechange=function(){4===d.readyState&&setTimeout(s,0)},d.onload=s,d.onerror=a,d.onprogress=function(){},d.onabort=function(){u=!0},d.ontimeout=a,d.open(h,l,!v,e.username,e.password),v||(d.withCredentials=!!e.withCredentials),!v&&e.timeout>0&&(f=setTimeout((function(){if(!u){u=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)}}),e.timeout)),d.setRequestHeader)for(o in m)m.hasOwnProperty(o)&&d.setRequestHeader(o,m[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(d),d.send(p||null),d}e.exports=c,e.exports.default=c,c.XMLHttpRequest=n.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,r,n){return(r=o(t,r,n)).method=e.toUpperCase(),u(r)}}))},function(e,t,r){(function(t){var r;r="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=r}).call(this,r(19))},function(e,t){e.exports=function(e){if(!e)return!1;var t=r.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},function(e,t){var r=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,n={},a=r(e).split("\n"),i=0;i<a.length;i++){var s=a[i],o=s.indexOf(":"),c=r(s.slice(0,o)).toLowerCase(),u=r(s.slice(o+1));"undefined"===typeof n[c]?n[c]=u:(t=n[c],"[object Array]"===Object.prototype.toString.call(t)?n[c].push(u):n[c]=[n[c],u])}return n}},function(e,t){e.exports=function(e,t){return t?{statusCode:t.statusCode,headers:t.headers,method:e.method,url:e.url,rawRequest:t.rawRequest?t.rawRequest:t}:null}},function(e,t){var r=function(e,t){for(var r=[],n=0;n<e;++n)r.push(t(n));return r};e.exports={generate:r,replicate:function(e,t){return r(e,(function(){return t}))},concat:function(e,t){return e.concat(t)},flatten:function(e){for(var t=[],r=0,n=e.length;r<n;++r)for(var a=0,i=e[r].length;a<i;++a)t.push(e[r][a]);return t},chunksOf:function(e,t){for(var r=[],n=0,a=t.length;n<a;n+=e)r.push(t.slice(n,n+e));return r}}},function(e,t,r){var n=r(787).keccak256,a=r(266),i=function(e,t){var r=a.reverse(a.pad(6,a.fromNumber(e))),i=a.flatten([r,"0x0000",t]);return n(i).slice(2)};e.exports=function e(t){"string"===typeof t&&"0x"!==t.slice(0,2)?t=a.fromString(t):"string"!==typeof t&&void 0!==t.length&&(t=a.fromUint8Array(t));var r=a.length(t);if(r<=4096)return i(r,t);for(var n=4096;128*n<r;)n*=128;for(var s=[],o=0;o<r;o+=n){var c=n<r-o?n:r-o;s.push(e(a.slice(t,o,o+c)))}return i(r,a.flatten(s))}},function(e,t){var r="0123456789abcdef".split(""),n=[1,256,65536,16777216],a=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=function(e){var t,r,n,a,s,o,c,u,d,f,l,h,p,m,v,b,g,y,w,k,x,_,S,T,O,A,M,E,C,I,F,P,B,R,L,N,D,V,j,U,q,G,H,z,K,J,X,W,Z,Y,Q,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(u<<1|d>>>31),r=s^(d<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(f<<1|l>>>31),r=c^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|p>>>31),r=d^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(a<<1|s>>>31),r=l^(s<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],v=e[1],J=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,F=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&y,e[1]=v^~g&w,e[10]=T^~A&E,e[11]=O^~M&C,e[20]=R^~N&V,e[21]=L^~D&j,e[30]=z^~J&W,e[31]=K^~X&Z,e[40]=te^~ne&ie,e[41]=re^~ae&se,e[2]=b^~y&k,e[3]=g^~w&x,e[12]=A^~E&I,e[13]=M^~C&F,e[22]=N^~V&U,e[23]=D^~j&q,e[32]=J^~W&Y,e[33]=X^~Z&Q,e[42]=ne^~ie&oe,e[43]=ae^~se&ce,e[4]=y^~k&_,e[5]=w^~x&S,e[14]=E^~I&P,e[15]=C^~F&B,e[24]=V^~U&G,e[25]=j^~q&H,e[34]=W^~Y&$,e[35]=Z^~Q&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&de,e[6]=k^~_&m,e[7]=x^~S&v,e[16]=I^~P&T,e[17]=F^~B&O,e[26]=U^~G&R,e[27]=q^~H&L,e[36]=Y^~$&z,e[37]=Q^~ee&K,e[46]=oe^~ue&te,e[47]=ce^~de&re,e[8]=_^~m&b,e[9]=S^~v&g,e[18]=P^~T&A,e[19]=B^~O&M,e[28]=G^~R&N,e[29]=H^~L&D,e[38]=$^~z&J,e[39]=ee^~K&X,e[48]=ue^~te&ne,e[49]=de^~re&ae,e[0]^=i[n],e[1]^=i[n+1]},o=function(e){return function(t){var i;if("0x"===t.slice(0,2)){i=[];for(var o=2,c=t.length;o<c;o+=2)i.push(parseInt(t.slice(o,o+2),16))}else i=t;return function(e,t){for(var i,o=t.length,c=e.blocks,u=e.blockCount<<2,d=e.blockCount,f=e.outputBlocks,l=e.s,h=0;h<o;){if(e.reset)for(e.reset=!1,c[0]=e.block,v=1;v<d+1;++v)c[v]=0;if("string"!==typeof t)for(v=e.start;h<o&&v<u;++h)c[v>>2]|=t[h]<<a[3&v++];else for(v=e.start;h<o&&v<u;++h)(i=t.charCodeAt(h))<128?c[v>>2]|=i<<a[3&v++]:i<2048?(c[v>>2]|=(192|i>>6)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]):i<55296||i>=57344?(c[v>>2]|=(224|i>>12)<<a[3&v++],c[v>>2]|=(128|i>>6&63)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),c[v>>2]|=(240|i>>18)<<a[3&v++],c[v>>2]|=(128|i>>12&63)<<a[3&v++],c[v>>2]|=(128|i>>6&63)<<a[3&v++],c[v>>2]|=(128|63&i)<<a[3&v++]);if(e.lastByteIndex=v,v>=u){for(e.start=v-u,e.block=c[d],v=0;v<d;++v)l[v]^=c[v];s(l),e.reset=!0}else e.start=v}if(c[(v=e.lastByteIndex)>>2]|=n[3&v],e.lastByteIndex===u)for(c[0]=c[d],v=1;v<d+1;++v)c[v]=0;for(c[d-1]|=2147483648,v=0;v<d;++v)l[v]^=c[v];s(l);for(var p,m="",v=0,b=0;b<f;){for(v=0;v<d&&b<f;++v,++b)p=l[v],m+=r[p>>4&15]+r[15&p]+r[p>>12&15]+r[p>>8&15]+r[p>>20&15]+r[p>>16&15]+r[p>>28&15]+r[p>>24&15];b%d===0&&(s(l),v=0)}return"0x"+m}(function(e){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t}(e),i)}};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},function(e,t){var r=function(e){return function(){return new Promise((function(t,r){var n,a=function(r){var n={},a=r.target.files.length,i=0;[].map.call(r.target.files,(function(r){var s=new FileReader;s.onload=function(s){var o=new Uint8Array(s.target.result);if("directory"===e){var c=r.webkitRelativePath;n[c.slice(c.indexOf("/")+1)]={type:"text/plain",data:o},++i===a&&t(n)}else if("file"===e){var u=r.webkitRelativePath;t({type:mimetype.lookup(u),data:o})}else t(o)},s.readAsArrayBuffer(r)}))};"directory"===e?((n=document.createElement("input")).addEventListener("change",a),n.type="file",n.webkitdirectory=!0,n.mozdirectory=!0,n.msdirectory=!0,n.odirectory=!0,n.directory=!0):((n=document.createElement("input")).addEventListener("change",a),n.type="file");var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!1),n.dispatchEvent(i)}))}};e.exports={data:r("data"),file:r("file"),directory:r("directory")}},function(e,t){e.exports=function(e){var t=e.fs,r=e.files,n=e.os,a=e.path,i=e.child_process,s=e.mimetype,o=e.defaultArchives,c=e.request,u=e.downloadUrl,d=e.bytes,f=e.hash,l=e.pick,h=function(e){return function(t){for(var r={},n=0,a=e.length;n<a;++n)r[e[n]]=t[n];return r}},p=function(e){return function(t){return"".concat(e,"/bzz-raw:/").concat(t)}},m=function(e){return function(t){return new Promise((function(r,n){c(p(e)(t),{responseType:"arraybuffer"},(function(e,t,a){return e?n(e):a.statusCode>=400?n(new Error("Error ".concat(a.statusCode,"."))):r(new Uint8Array(t))}))}))}},v=function(e){return function(t){return function t(r){return function(n){return function(a){var i=function(e){return void 0===e.path?Promise.resolve():"application/bzz-manifest+json"===e.contentType?t(e.hash)(n+e.path)(a):Promise.resolve((r=n+e.path,function(e){return function(t){return t[r]=e,t}})(function(e){return{type:e.contentType,hash:e.hash}}(e))(a));var r};return m(e)(r).then((function(e){return JSON.parse(L(e)).entries})).then((function(e){return Promise.all(e.map(i))})).then((function(){return a}))}}}(t)("")({})}},b=function(e){return function(t){return v(e)(t).then((function(e){return h(Object.keys(e))(Object.keys(e).map((function(t){return e[t].hash})))}))}},g=function(e){return function(t){return v(e)(t).then((function(t){var r=Object.keys(t),n=r.map((function(e){return t[e].hash})),a=r.map((function(e){return t[e].type})),i=n.map(m(e));return Promise.all(i).then((function(e){return h(r)(function(e){return e.map((function(e,t){return{type:a[t],data:e}}))}(e))}))}))}},y=function(e){return function(t){return function(n){return r.download(p(e)(t))(n)}}},w=function(e){return function(t){return function(r){return b(e)(t).then((function(t){var n=[];for(var i in t)if(i.length>0){var s=a.join(r,i);n.push(y(e)(t[i])(s))}return Promise.all(n).then((function(){return r}))}))}}},k=function(e){return function(t){return new Promise((function(r,n){var a={body:"string"===typeof t?N(t):t,method:"POST"};c("".concat(e,"/bzz-raw:/"),a,(function(e,t){return e?n(e):r(t)}))}))}},x=function(e){return function(t){return function(r){return function(n){return function a(i){var s="/"===r[0]?r:"/"+r,o="".concat(e,"/bzz:/").concat(t).concat(s),u={method:"PUT",headers:{"Content-Type":n.type},body:n.data};return new Promise((function(e,t){c(o,u,(function(r,n){return r?t(r):-1!==n.indexOf("error")?t(n):e(n)}))})).catch((function(e){return i>0&&a(i-1)}))}(3)}}}},_=function(e){return function(t){return T(e)({"":t})}},S=function(e){return function(r){return t.readFile(r).then((function(t){return _(e)({type:s.lookup(r),data:t})}))}},T=function(e){return function(t){return k(e)("{}").then((function(r){return Object.keys(t).reduce((function(r,n){return r.then(function(r){return function(n){return x(e)(n)(r)(t[r])}}(n))}),Promise.resolve(r))}))}},O=function(e){return function(r){return t.readFile(r).then(k(e))}},A=function(e){return function(n){return function(a){return r.directoryTree(a).then((function(e){return Promise.all(e.map((function(e){return t.readFile(e)}))).then((function(t){var r=e.map((function(e){return e.slice(a.length)})),n=e.map((function(e){return s.lookup(e)||"text/plain"}));return h(r)(t.map((function(e,t){return{type:n[t],data:e}})))}))})).then((function(e){return(t=n?{"":e[n]}:{},function(e){var r={};for(var n in t)r[n]=t[n];for(var a in e)r[a]=e[a];return r})(e);var t})).then(T(e))}}},M=function(e){return function(t){if("data"===t.pick)return l.data().then(k(e));if("file"===t.pick)return l.file().then(_(e));if("directory"===t.pick)return l.directory().then(T(e));if(t.path)switch(t.kind){case"data":return O(e)(t.path);case"file":return S(e)(t.path);case"directory":return A(e)(t.defaultFile)(t.path)}else{if(t.length||"string"===typeof t)return k(e)(t);if(t instanceof Object)return T(e)(t)}return Promise.reject(new Error("Bad arguments"))}},E=function(e){return function(t){return function(r){return B(e)(t).then((function(n){return n?r?w(e)(t)(r):g(e)(t):r?y(e)(t)(r):m(e)(t)}))}}},C=function(e,t){var a=n.platform().replace("win32","windows")+"-"+("x64"===n.arch()?"amd64":"386"),i=(t||o)[a],s=u+i.archive+".tar.gz",c=i.archiveMD5,d=i.binaryMD5;return r.safeDownloadArchived(s)(c)(d)(e)},I=function(e){return new Promise((function(t,r){var n=i.spawn,a=function(e){return function(t){return-1!==(""+t).indexOf(e)}},s=e.account,o=e.password,c=e.dataDir,u=e.ensApi,d=e.privateKey,f=0,l=n(e.binPath,["--bzzaccount",s||d,"--datadir",c,"--ens-api",u]),h=function(e){0===f&&a("Passphrase")(e)?setTimeout((function(){f=1,l.stdin.write(o+"\n")}),500):a("Swarm http proxy started")(e)&&(f=2,clearTimeout(p),t(l))};l.stdout.on("data",h),l.stderr.on("data",h);var p=setTimeout((function(){return r(new Error("Couldn't start swarm process."))}),2e4)}))},F=function(e){return new Promise((function(t,r){e.stderr.removeAllListeners("data"),e.stdout.removeAllListeners("data"),e.stdin.removeAllListeners("error"),e.removeAllListeners("error"),e.removeAllListeners("exit"),e.kill("SIGINT");var n=setTimeout((function(){return e.kill("SIGKILL")}),8e3);e.once("close",(function(){clearTimeout(n),t()}))}))},P=function(e){return k(e)("test").then((function(e){return"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7"===e})).catch((function(){return!1}))},B=function(e){return function(t){return m(e)(t).then((function(e){try{return!!JSON.parse(L(e)).entries}catch(t){return!1}}))}},R=function(e){return function(t,r,n,a,i){var s;return"undefined"!==typeof t&&(s=e(t)),"undefined"!==typeof r&&(s=e(r)),"undefined"!==typeof n&&(s=e(n)),"undefined"!==typeof a&&(s=e(a)),"undefined"!==typeof i&&(s=e(i)),s}},L=function(e){return d.toString(d.fromUint8Array(e))},N=function(e){return d.toUint8Array(d.fromString(e))},D=function(e){return{download:function(t,r){return E(e)(t)(r)},downloadData:R(m(e)),downloadDataToDisk:R(y(e)),downloadDirectory:R(g(e)),downloadDirectoryToDisk:R(w(e)),downloadEntries:R(v(e)),downloadRoutes:R(b(e)),isAvailable:function(){return P(e)},upload:function(t){return M(e)(t)},uploadData:R(k(e)),uploadFile:R(_(e)),uploadFileFromDisk:R(_(e)),uploadDataFromDisk:R(O(e)),uploadDirectory:R(T(e)),uploadDirectoryFromDisk:R(A(e)),uploadToManifest:R(x(e)),pick:l,hash:f,fromString:N,toString:L}};return{at:D,local:function(e){return function(t){return P("http://localhost:8500").then((function(r){return r?t(D("http://localhost:8500")).then((function(){})):C(e.binPath,e.archives).onData((function(t){return(e.onProgress||function(){})(t.length)})).then((function(){return I(e)})).then((function(e){return t(D("http://localhost:8500")).then((function(){return e}))})).then(F)}))}},download:E,downloadBinary:C,downloadData:m,downloadDataToDisk:y,downloadDirectory:g,downloadDirectoryToDisk:w,downloadEntries:v,downloadRoutes:b,isAvailable:P,startProcess:I,stopProcess:F,upload:M,uploadData:k,uploadDataFromDisk:O,uploadFile:_,uploadFileFromDisk:S,uploadDirectory:T,uploadDirectoryFromDisk:A,uploadToManifest:x,pick:l,hash:f,fromString:N,toString:L}}},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"Provider",(function(){return ge})),r.d(n,"BaseProvider",(function(){return pa})),r.d(n,"Resolver",(function(){return fa})),r.d(n,"UrlJsonRpcProvider",(function(){return La})),r.d(n,"FallbackProvider",(function(){return hi})),r.d(n,"AlchemyProvider",(function(){return ja})),r.d(n,"AlchemyWebSocketProvider",(function(){return Va})),r.d(n,"CloudflareProvider",(function(){return Ga})),r.d(n,"EtherscanProvider",(function(){return Ya})),r.d(n,"InfuraProvider",(function(){return gi})),r.d(n,"InfuraWebSocketProvider",(function(){return bi})),r.d(n,"JsonRpcProvider",(function(){return Oa})),r.d(n,"NodesmithProvider",(function(){return wi})),r.d(n,"PocketProvider",(function(){return _i})),r.d(n,"StaticJsonRpcProvider",(function(){return Ra})),r.d(n,"Web3Provider",(function(){return Ai})),r.d(n,"WebSocketProvider",(function(){return Fa})),r.d(n,"IpcProvider",(function(){return pi})),r.d(n,"JsonRpcSigner",(function(){return _a})),r.d(n,"getDefaultProvider",(function(){return Ei})),r.d(n,"getNetwork",(function(){return mn})),r.d(n,"isCommunityResource",(function(){return Zn})),r.d(n,"isCommunityResourcable",(function(){return Wn})),r.d(n,"showThrottleMessage",(function(){return Qn})),r.d(n,"Formatter",(function(){return Xn}));var a={};r.r(a),r.d(a,"decode",(function(){return Pn})),r.d(a,"encode",(function(){return Bn}));var i={};r.r(i),r.d(i,"AbiCoder",(function(){return ce})),r.d(i,"defaultAbiCoder",(function(){return ue})),r.d(i,"Fragment",(function(){return X})),r.d(i,"EventFragment",(function(){return W})),r.d(i,"FunctionFragment",(function(){return ee})),r.d(i,"ParamType",(function(){return K})),r.d(i,"FormatTypes",(function(){return H})),r.d(i,"checkResultErrors",(function(){return m})),r.d(i,"Logger",(function(){return l.b})),r.d(i,"RLP",(function(){return Li})),r.d(i,"_fetchData",(function(){return Un})),r.d(i,"fetchJson",(function(){return qn})),r.d(i,"poll",(function(){return Gn})),r.d(i,"checkProperties",(function(){return f.b})),r.d(i,"deepCopy",(function(){return f.c})),r.d(i,"defineReadOnly",(function(){return f.d})),r.d(i,"getStatic",(function(){return f.e})),r.d(i,"resolveProperties",(function(){return f.f})),r.d(i,"shallowCopy",(function(){return f.g})),r.d(i,"arrayify",(function(){return u.a})),r.d(i,"concat",(function(){return u.b})),r.d(i,"stripZeros",(function(){return u.o})),r.d(i,"zeroPad",(function(){return u.p})),r.d(i,"isBytes",(function(){return u.j})),r.d(i,"isBytesLike",(function(){return u.k})),r.d(i,"defaultPath",(function(){return _r})),r.d(i,"HDNode",(function(){return Sr})),r.d(i,"SigningKey",(function(){return Mt.a})),r.d(i,"Interface",(function(){return me})),r.d(i,"LogDescription",(function(){return fe})),r.d(i,"TransactionDescription",(function(){return le})),r.d(i,"base58",(function(){return yt})),r.d(i,"base64",(function(){return a})),r.d(i,"hexlify",(function(){return u.i})),r.d(i,"isHexString",(function(){return u.l})),r.d(i,"hexConcat",(function(){return u.c})),r.d(i,"hexStripZeros",(function(){return u.f})),r.d(i,"hexValue",(function(){return u.g})),r.d(i,"hexZeroPad",(function(){return u.h})),r.d(i,"hexDataLength",(function(){return u.d})),r.d(i,"hexDataSlice",(function(){return u.e})),r.d(i,"nameprep",(function(){return An})),r.d(i,"_toEscapedUtf8String",(function(){return R.d})),r.d(i,"toUtf8Bytes",(function(){return R.f})),r.d(i,"toUtf8CodePoints",(function(){return R.g})),r.d(i,"toUtf8String",(function(){return R.h})),r.d(i,"Utf8ErrorFuncs",(function(){return R.b})),r.d(i,"formatBytes32String",(function(){return Ni})),r.d(i,"parseBytes32String",(function(){return Di})),r.d(i,"hashMessage",(function(){return et})),r.d(i,"namehash",(function(){return Fn})),r.d(i,"isValidName",(function(){return In})),r.d(i,"id",(function(){return w.a})),r.d(i,"_TypedDataEncoder",(function(){return vt})),r.d(i,"getAddress",(function(){return y.a})),r.d(i,"getIcapAddress",(function(){return y.d})),r.d(i,"getContractAddress",(function(){return y.b})),r.d(i,"getCreate2Address",(function(){return y.c})),r.d(i,"isAddress",(function(){return y.e})),r.d(i,"formatEther",(function(){return Hi})),r.d(i,"parseEther",(function(){return zi})),r.d(i,"formatUnits",(function(){return qi})),r.d(i,"parseUnits",(function(){return Gi})),r.d(i,"commify",(function(){return Ui})),r.d(i,"computeHmac",(function(){return Ot})),r.d(i,"keccak256",(function(){return k.a})),r.d(i,"ripemd160",(function(){return _t})),r.d(i,"sha256",(function(){return St})),r.d(i,"sha512",(function(){return Tt})),r.d(i,"randomBytes",(function(){return Er.a})),r.d(i,"shuffled",(function(){return Qa})),r.d(i,"solidityPack",(function(){return Pi})),r.d(i,"solidityKeccak256",(function(){return Bi})),r.d(i,"soliditySha256",(function(){return Ri})),r.d(i,"splitSignature",(function(){return u.n})),r.d(i,"joinSignature",(function(){return u.m})),r.d(i,"parseTransaction",(function(){return Et.parse})),r.d(i,"serializeTransaction",(function(){return Et.serialize})),r.d(i,"getJsonWalletAddress",(function(){return Qr})),r.d(i,"computeAddress",(function(){return Et.computeAddress})),r.d(i,"recoverAddress",(function(){return Et.recoverAddress})),r.d(i,"computePublicKey",(function(){return Mt.b})),r.d(i,"recoverPublicKey",(function(){return Mt.c})),r.d(i,"verifyMessage",(function(){return an})),r.d(i,"verifyTypedData",(function(){return sn})),r.d(i,"mnemonicToEntropy",(function(){return Or})),r.d(i,"entropyToMnemonic",(function(){return Ar})),r.d(i,"isValidMnemonic",(function(){return Mr})),r.d(i,"mnemonicToSeed",(function(){return Tr})),r.d(i,"SupportedAlgorithm",(function(){return gt})),r.d(i,"UnicodeNormalizationForm",(function(){return R.a})),r.d(i,"Utf8ErrorReason",(function(){return R.c})),r.d(i,"Indexed",(function(){return he}));var s={};r.r(s),r.d(s,"Signer",(function(){return _e})),r.d(s,"Wallet",(function(){return nn})),r.d(s,"VoidSigner",(function(){return Se})),r.d(s,"getDefaultProvider",(function(){return Ei})),r.d(s,"providers",(function(){return n})),r.d(s,"Contract",(function(){return De})),r.d(s,"ContractFactory",(function(){return Ve})),r.d(s,"BigNumber",(function(){return d.a})),r.d(s,"FixedNumber",(function(){return Ye})),r.d(s,"constants",(function(){return on})),r.d(s,"errors",(function(){return l.a})),r.d(s,"logger",(function(){return Ji})),r.d(s,"utils",(function(){return i})),r.d(s,"wordlists",(function(){return pr})),r.d(s,"version",(function(){return Ki})),r.d(s,"Wordlist",(function(){return It}));var o=r(0),c=r.n(o),u=r(1),d=r(26),f=r(2),l=r(3),h="abi/5.0.13",p=new l.b(h);function m(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var a in n){var i=r.slice();i.push(a);try{e(i,n[a])}catch(s){t.push({path:i,error:s})}}}([],e),t}class v{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){p.throwArgumentError(e,this.localName,t)}}class b{constructor(e){Object(f.d)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Object(u.c)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Object(u.b)(e._data))}writeBytes(e){var t=Object(u.a)(e),r=t.length%this.wordSize;return r&&(t=Object(u.b)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){var t=Object(u.a)(d.a.from(e));return t.length>this.wordSize&&p.throwError("value out-of-bounds",l.b.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Object(u.b)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){var e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class g{constructor(e,t,r,n){Object(f.d)(this,"_data",Object(u.a)(e)),Object(f.d)(this,"wordSize",t||32),Object(f.d)(this,"_coerceFunc",r),Object(f.d)(this,"allowLoose",n),this._offset=0}get data(){return Object(u.i)(this._data)}get consumed(){return this._offset}static coerce(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):g.coerce(e,t)}_peekBytes(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:p.throwError("data out-of-bounds",l.b.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new g(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return d.a.from(this.readBytes(this.wordSize))}}var y=r(13),w=r(136),k=r(15);class x extends v{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{Object(y.a)(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return Object(y.a)(Object(u.h)(e.readValue().toHexString(),20))}}class _ extends v{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}var S=new l.b(h);function T(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var a={};n=t.map(e=>{var t=e.localName;return t||S.throwError("cannot encode object for signature with missing names",l.b.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),a[t]&&S.throwError("cannot encode object for signature with duplicate names",l.b.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),a[t]=!0,r[t]})}else S.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&S.throwArgumentError("types/value length mismatch","tuple",r);var i=new b(e.wordSize),s=new b(e.wordSize),o=[];t.forEach((e,t)=>{var r=n[t];if(e.dynamic){var a=s.length;e.encode(s,r);var c=i.writeUpdatableValue();o.push(e=>{c(e+a)})}else e.encode(i,r)}),o.forEach(e=>{e(i.length)});var c=e.appendWriter(i);return c+=e.appendWriter(s)}function O(e,t){var r=[],n=e.subReader(0);t.forEach(t=>{var a=null;if(t.dynamic){var i=e.readValue(),s=n.subReader(i.toNumber());try{a=t.decode(s)}catch(o){if(o.code===l.b.errors.BUFFER_OVERRUN)throw o;(a=o).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(o){if(o.code===l.b.errors.BUFFER_OVERRUN)throw o;(a=o).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});var a=t.reduce((e,t)=>{var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{var n=e.localName;if(n&&1===a[n]&&("length"===n&&(n="_length"),null==r[n])){var i=r[t];i instanceof Error?Object.defineProperty(r,n,{get:()=>{throw i}}):r[n]=i}});for(var i=function(e){var t=r[e];t instanceof Error&&Object.defineProperty(r,e,{get:()=>{throw t}})},s=0;s<r.length;s++)i(s);return Object.freeze(r)}class A extends v{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),S.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],a=0;a<t.length;a++)n.push(this.coder);return T(e,n,t)}decode(e){var t=this.length;-1===t&&(t=e.readValue().toNumber());for(var r=[],n=0;n<t;n++)r.push(new _(this.coder));return e.coerce(this.name,O(e,r))}}class M extends v{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class E extends v{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Object(u.a)(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class C extends E{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Object(u.i)(super.decode(e)))}}class I extends v{constructor(e,t){var r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){var r=Object(u.a)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Object(u.i)(e.readBytes(this.size)))}}class F extends v{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var P=r(47);class B extends v{constructor(e,t,r){var n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){var r=d.a.from(t),n=P.a.mask(8*e.wordSize);if(this.signed){var a=n.mask(8*this.size-1);(r.gt(a)||r.lt(a.add(P.c).mul(P.b)))&&this._throwError("value out-of-bounds",t)}else(r.lt(P.f)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var R=r(39);class L extends E{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Object(R.f)(t))}decode(e){return Object(R.h)(super.decode(e))}}class N extends v{constructor(e,t){var r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){var e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});var t=this.coders.reduce((e,t)=>{var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{var a=r.localName;a&&1===t[a]&&("length"===a&&(a="_length"),null==e[a]&&(e[a]=e[n]))}),Object.freeze(e)}encode(e,t){return T(e,this.coders,t)}decode(e){return e.coerce(this.name,O(e,this.coders))}}var D=new l.b(h),V={},j={calldata:!0,memory:!0,storage:!0},U={calldata:!0,memory:!0};function q(e,t){if("bytes"===e||"string"===e){if(j[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&U[t])return!0;return(j[t]||"payable"===t)&&D.throwArgumentError("invalid modifier","name",t),!1}function G(e,t){for(var r in t)Object(f.d)(e,r,t[r])}var H=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),z=new RegExp(/^(.*)\[([0-9]*)\]$/);class K{constructor(e,t){e!==V&&D.throwError("use fromString",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),G(this,t);var r=this.type.match(z);G(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:K.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=H.sighash),H[e]||D.throwArgumentError("invalid format type","format",e),e===H.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==H.sighash&&(r+=this.type),r+="("+this.components.map(t=>t.format(e)).join(e===H.full?", ":",")+")"):r+=this.type,e!==H.sighash&&(!0===this.indexed&&(r+=" indexed"),e===H.full&&this.name&&(r+=" "+this.name)),r}static from(e,t){return"string"===typeof e?K.fromString(e,t):K.fromObject(e)}static fromObject(e){return K.isParamType(e)?e:new K(V,{name:e.name||null,type:te(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(K.fromObject):null})}static fromString(e,t){return function(e){return K.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}(function(e,t){var r=e;function n(t){D.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function a(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var i={type:"",name:"",state:{allowType:!0}},s=i,o=0;o<e.length;o++){var c=e[o];switch(c){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(o),s.state.allowType=!1,s.type=te(s.type),s.components=[a(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(o),s.indexed=!0,s.name=""),q(s.type,s.name)&&(s.name=""),s.type=te(s.type);var u=s;(s=s.parent)||n(o),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(o),s.indexed=!0,s.name=""),q(s.type,s.name)&&(s.name=""),s.type=te(s.type);var d=a(s.parent);s.parent.components.push(d),delete s.parent,s=d;break;case" ":s.state.allowType&&""!==s.type&&(s.type=te(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(o),s.indexed&&n(o),s.indexed=!0,s.name=""):q(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(o),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(o),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(o)}}return s.parent&&D.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):q(s.type,s.name)&&(s.name=""),i.type=te(i.type),i}(e,!!t))}static isParamType(e){return!(null==e||!e._isParamType)}}function J(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,a=0;a<e.length;a++){var i=e[a];","===i&&0===n?(t.push(r),r=""):(r+=i,"("===i?n++:")"===i&&-1===--n&&D.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map(e=>K.fromString(e,t))}class X{constructor(e,t){e!==V&&D.throwError("use a static from method",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),G(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return X.isFragment(e)?e:"string"===typeof e?X.fromString(e):X.fromObject(e)}static fromObject(e){if(X.isFragment(e))return e;switch(e.type){case"function":return ee.fromObject(e);case"event":return W.fromObject(e);case"constructor":return $.fromObject(e);case"fallback":case"receive":return null}return D.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?W.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?ee.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?$.fromString(e.trim()):D.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class W extends X{format(e){if(e||(e=H.sighash),H[e]||D.throwArgumentError("invalid format type","format",e),e===H.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});var t="";return e!==H.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===H.full?", ":",")+") ",e!==H.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"===typeof e?W.fromString(e):W.fromObject(e)}static fromObject(e){if(W.isEventFragment(e))return e;"event"!==e.type&&D.throwArgumentError("invalid event object","value",e);var t={name:ne(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(K.fromObject):[],type:"event"};return new W(V,t)}static fromString(e){var t=e.match(ae);t||D.throwArgumentError("invalid event string","value",e);var r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:D.warn("unknown modifier: "+e)}}),W.fromObject({name:t[1].trim(),anonymous:r,inputs:J(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Z(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&D.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||D.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=d.a.from(r[1]),r[0]):e}function Y(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function Q(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&D.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&D.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||D.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&D.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&D.throwArgumentError("unable to determine stateMutability","value",e),t}class $ extends X{format(e){if(e||(e=H.sighash),H[e]||D.throwArgumentError("invalid format type","format",e),e===H.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===H.sighash&&D.throwError("cannot format a constructor for sighash",l.b.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map(t=>t.format(e)).join(e===H.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"===typeof e?$.fromString(e):$.fromObject(e)}static fromObject(e){if($.isConstructorFragment(e))return e;"constructor"!==e.type&&D.throwArgumentError("invalid constructor object","value",e);var t=Q(e);t.constant&&D.throwArgumentError("constructor cannot be constant","value",e);var r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(K.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?d.a.from(e.gas):null};return new $(V,r)}static fromString(e){var t={type:"constructor"},r=(e=Z(e,t)).match(ae);return r&&"constructor"===r[1].trim()||D.throwArgumentError("invalid constructor string","value",e),t.inputs=J(r[2].trim(),!1),Y(r[3].trim(),t),$.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class ee extends ${format(e){if(e||(e=H.sighash),H[e]||D.throwArgumentError("invalid format type","format",e),e===H.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});var t="";return e!==H.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===H.full?", ":",")+") ",e!==H.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"===typeof e?ee.fromString(e):ee.fromObject(e)}static fromObject(e){if(ee.isFunctionFragment(e))return e;"function"!==e.type&&D.throwArgumentError("invalid function object","value",e);var t=Q(e),r={type:e.type,name:ne(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(K.fromObject):[],outputs:e.outputs?e.outputs.map(K.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?d.a.from(e.gas):null};return new ee(V,r)}static fromString(e){var t={type:"function"},r=(e=Z(e,t)).split(" returns ");r.length>2&&D.throwArgumentError("invalid function string","value",e);var n=r[0].match(ae);if(n||D.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&ne(t.name),t.inputs=J(n[2],!1),Y(n[3].trim(),t),r.length>1){var a=r[1].match(ae);""==a[1].trim()&&""==a[3].trim()||D.throwArgumentError("unexpected tokens","value",e),t.outputs=J(a[2],!1)}else t.outputs=[];return ee.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function te(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var re=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function ne(e){return e&&e.match(re)||D.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var ae=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var ie=new l.b(h),se=new RegExp(/^bytes([0-9]*)$/),oe=new RegExp(/^(u?int)([0-9]*)$/);class ce{constructor(e){ie.checkNew(new.target,ce),Object(f.d)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new x(e.name);case"bool":return new M(e.name);case"string":return new L(e.name);case"bytes":return new C(e.name);case"array":return new A(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new N((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new F(e.name)}var t=e.type.match(oe);if(t){var r=parseInt(t[2]||"256");return(0===r||r>256||r%8!==0)&&ie.throwArgumentError("invalid "+t[1]+" bit length","param",e),new B(r/8,"int"===t[1],e.name)}if(t=e.type.match(se)){var n=parseInt(t[1]);return(0===n||n>32)&&ie.throwArgumentError("invalid bytes length","param",e),new I(n,e.name)}return ie.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new g(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new b(this._getWordSize())}getDefaultValue(e){var t=e.map(e=>this._getCoder(K.from(e)));return new N(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ie.throwError("types/values length mismatch",l.b.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var r=e.map(e=>this._getCoder(K.from(e))),n=new N(r,"_"),a=this._getWriter();return n.encode(a,t),a.data}decode(e,t,r){var n=e.map(e=>this._getCoder(K.from(e)));return new N(n,"_").decode(this._getReader(Object(u.a)(t),r))}}var ue=new ce,de=new l.b(h);class fe extends f.a{}class le extends f.a{}class he extends f.a{static isIndexed(e){return!(!e||!e._isIndexed)}}function pe(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}class me{constructor(e){de.checkNew(new.target,me);var t=[];t="string"===typeof e?JSON.parse(e):e,Object(f.d)(this,"fragments",t.map(e=>X.from(e)).filter(e=>null!=e)),Object(f.d)(this,"_abiCoder",Object(f.e)(new.target,"getAbiCoder")()),Object(f.d)(this,"functions",{}),Object(f.d)(this,"errors",{}),Object(f.d)(this,"events",{}),Object(f.d)(this,"structs",{}),this.fragments.forEach(e=>{var t=null;switch(e.type){case"constructor":return this.deploy?void de.warn("duplicate definition - constructor"):void Object(f.d)(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;default:return}var r=e.format();t[r]?de.warn("duplicate definition - "+r):t[r]=e}),this.deploy||Object(f.d)(this,"deploy",$.from({payable:!1,type:"constructor"})),Object(f.d)(this,"_isInterface",!0)}format(e){e||(e=H.full),e===H.sighash&&de.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map(t=>t.format(e));return e===H.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return ue}static getAddress(e){return Object(y.a)(e)}static getSighash(e){return Object(u.e)(Object(w.a)(e.format()),0,4)}static getEventTopic(e){return Object(w.a)(e.format())}getFunction(e){if(Object(u.l)(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];de.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter(e=>e.split("(")[0]===r);return 0===n.length?de.throwArgumentError("no matching function","name",r):n.length>1&&de.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var a=this.functions[ee.fromString(e).format()];return a||de.throwArgumentError("no matching function","signature",e),a}getEvent(e){if(Object(u.l)(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];de.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),a=Object.keys(this.events).filter(e=>e.split("(")[0]===n);return 0===a.length?de.throwArgumentError("no matching event","name",n):a.length>1&&de.throwArgumentError("multiple matching events","name",n),this.events[a[0]]}var i=this.events[W.fromString(e).format()];return i||de.throwArgumentError("no matching event","signature",e),i}getSighash(e){return"string"===typeof e&&(e=this.getFunction(e)),Object(f.e)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"===typeof e&&(e=this.getEvent(e)),Object(f.e)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeFunctionData(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=Object(u.a)(t);return Object(u.i)(r.slice(0,4))!==this.getSighash(e)&&de.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",Object(u.i)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Object(u.i)(Object(u.b)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=Object(u.a)(t),n=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(i){}break;case 4:"0x08c379a0"===Object(u.i)(r.slice(0,4))&&(a="Error(string)",n=this._abiCoder.decode(["string"],r.slice(4))[0])}return de.throwError("call revert exception",l.b.errors.CALL_EXCEPTION,{method:e.format(),errorSignature:a,errorArgs:[n],reason:n})}encodeFunctionResult(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Object(u.i)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&de.throwError("too many arguments for "+e.format(),l.b.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var r=[];e.anonymous||r.push(this.getEventTopic(e));var n=(e,t)=>"string"===e.type?Object(w.a)(t):"bytes"===e.type?Object(k.a)(Object(u.i)(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),Object(u.h)(Object(u.i)(t),32));for(t.forEach((t,a)=>{var i=e.inputs[a];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?de.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map(e=>n(i,e))):r.push(n(i,t)):null!=t&&de.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"===typeof e&&(e=this.getEvent(e));var r=[],n=[],a=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&de.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,i)=>{var s=t[i];if(e.indexed)if("string"===e.type)r.push(Object(w.a)(s));else if("bytes"===e.type)r.push(Object(k.a)(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),a.push(s)}),{data:this._abiCoder.encode(n,a),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);Object(u.l)(r[0],32)&&r[0].toLowerCase()===n||de.throwError("fragment/topic mismatch",l.b.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var a=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(a.push(K.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(a.push(e),s.push(!1)):(i.push(e),s.push(!1))});var o=null!=r?this._abiCoder.decode(a,Object(u.b)(r)):null,c=this._abiCoder.decode(i,t,!0),d=[],f=0,h=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==o)d[t]=new he({_isIndexed:!0,hash:null});else if(s[t])d[t]=new he({_isIndexed:!0,hash:o[h++]});else try{d[t]=o[h++]}catch(n){d[t]=n}else try{d[t]=c[f++]}catch(n){d[t]=n}if(e.name&&null==d[e.name]){var r=d[t];r instanceof Error?Object.defineProperty(d,e.name,{get:()=>{throw pe("property ".concat(JSON.stringify(e.name)),r)}}):d[e.name]=r}});for(var p=function(e){var t=d[e];t instanceof Error&&Object.defineProperty(d,e,{get:()=>{throw pe("index ".concat(e),t)}})},m=0;m<d.length;m++)p(m);return Object.freeze(d)}parseTransaction(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new le({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:d.a.from(e.value||"0")}):null}parseLog(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new fe({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}static isInterface(e){return!(!e||!e._isInterface)}}var ve=new l.b("abstract-provider/5.0.10");class be extends f.a{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class ge{constructor(){ve.checkAbstract(new.target,ge),Object(f.d)(this,"_isProvider",!0)}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var ye=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},we=new l.b("abstract-signer/5.0.14"),ke=["chainId","data","from","gasLimit","gasPrice","nonce","to","value"],xe=[l.b.errors.INSUFFICIENT_FUNDS,l.b.errors.NONCE_EXPIRED,l.b.errors.REPLACEMENT_UNDERPRICED];class _e{constructor(){we.checkAbstract(new.target,_e),Object(f.d)(this,"_isSigner",!0)}getBalance(e){return ye(this,void 0,void 0,c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}getTransactionCount(e){return ye(this,void 0,void 0,c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}estimateGas(e){return ye(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,Object(f.f)(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}call(e,t){return ye(this,void 0,void 0,c.a.mark((function r(){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,Object(f.f)(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}sendTransaction(e){return this._checkProvider("sendTransaction"),this.populateTransaction(e).then(e=>this.signTransaction(e).then(e=>this.provider.sendTransaction(e)))}getChainId(){return ye(this,void 0,void 0,c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}getGasPrice(){return ye(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}resolveName(e){return ye(this,void 0,void 0,c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}checkTransaction(e){for(var t in e)-1===ke.indexOf(t)&&we.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=Object(f.g)(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&we.throwArgumentError("from address mismatch","transaction",e),t[0])),r}populateTransaction(e){return ye(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.f)(this.checkTransaction(e));case 2:return null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then(e=>ye(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&we.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))))),null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch(e=>{if(xe.indexOf(e.code)>=0)throw e;return we.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",l.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})})),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&we.throwArgumentError("chainId address mismatch","transaction",e),t[0])),t.next=10,Object(f.f)(r);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})))}_checkProvider(e){this.provider||we.throwError("missing provider",l.b.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class Se extends _e{constructor(e,t){we.checkNew(new.target,Se),super(),Object(f.d)(this,"address",e),Object(f.d)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{we.throwError(e,l.b.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Se(this.address,e)}}var Te=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},Oe=new l.b("contracts/5.0.12"),Ae={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function Me(e,t){return Te(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return n=r.sent,r.prev=3,r.abrupt("return",Object(y.a)(n));case 7:r.prev=7,r.t0=r.catch(3);case 9:return e||Oe.throwError("a provider or signer is needed to resolve ENS names",l.b.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=12,e.resolveName(n);case 12:return null==(a=r.sent)&&Oe.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",a);case 15:case"end":return r.stop()}}),r,null,[[3,7]])})))}function Ee(e,t,r){return Te(this,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((r,n)=>Ee(e,Array.isArray(t)?t[n]:t[r.name],r)));case 3:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,Me(e,t);case 7:return n.abrupt("return",n.sent);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,Ee(e,t,r.components);case 11:return n.abrupt("return",n.sent);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(t)){n.next=15;break}return n.abrupt("return",Promise.reject(new Error("invalid value for array")));case 15:return n.next=17,Promise.all(t.map(t=>Ee(e,t,r.arrayChildren)));case 17:return n.abrupt("return",n.sent);case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}}),n)})))}function Ce(e,t,r){return Te(this,void 0,void 0,c.a.mark((function n(){var a,i,s,o,h,p,m,v,b,g;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={},r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(a=Object(f.g)(r.pop())),Oe.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?a.from?a.from=Object(f.f)({override:Me(e.signer,a.from),signer:e.signer.getAddress()}).then(e=>Te(this,void 0,void 0,c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(y.a)(e.signer)!==e.override&&Oe.throwError("Contract with a Signer cannot override from",l.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.abrupt("return",e.override);case 2:case"end":return t.stop()}}),t)})))):a.from=e.signer.getAddress():a.from&&(a.from=Me(e.provider,a.from)),n.next=6,Object(f.f)({args:Ee(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Object(f.f)(a)||{}});case 6:if(i=n.sent,s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},null!=(h=i.overrides).nonce&&(o.nonce=d.a.from(h.nonce).toNumber()),null!=h.gasLimit&&(o.gasLimit=d.a.from(h.gasLimit)),null!=h.gasPrice&&(o.gasPrice=d.a.from(h.gasPrice)),null!=h.from&&(o.from=h.from),null==o.gasLimit&&null!=t.gas){for(p=21e3,m=Object(u.a)(s),v=0;v<m.length;v++)p+=4,m[v]&&(p+=64);o.gasLimit=d.a.from(t.gas).add(p)}return h.value&&((b=d.a.from(h.value)).isZero()||t.payable||Oe.throwError("non-payable method cannot override value",l.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:a.value}),o.value=b),delete a.nonce,delete a.gasLimit,delete a.gasPrice,delete a.from,delete a.value,(g=Object.keys(a).filter(e=>null!=a[e])).length&&Oe.throwError("cannot override ".concat(g.map(e=>JSON.stringify(e)).join(",")),l.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:g}),n.abrupt("return",o);case 24:case"end":return n.stop()}}),n,this)})))}function Ie(e,t,r){var n=e.signer||e.provider;return function(...a){return Te(this,void 0,void 0,c.a.mark((function i(){var s,o,u,d,h;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=void 0,a.length!==t.inputs.length+1||"object"!==typeof a[a.length-1]){i.next=9;break}if(null==(o=Object(f.g)(a.pop())).blockTag){i.next=7;break}return i.next=6,o.blockTag;case 6:s=i.sent;case 7:delete o.blockTag,a.push(o);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(s);case 12:return i.next=14,Ce(e,t,a);case 14:return u=i.sent,i.next=17,n.call(u,s);case 17:return d=i.sent,i.prev=18,h=e.interface.decodeFunctionResult(t,d),r&&1===t.outputs.length&&(h=h[0]),i.abrupt("return",h);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===l.b.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=a,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function Fe(e,t,r){return t.constant?Ie(e,t,r):function(e,t){return function(...r){return Te(this,void 0,void 0,c.a.mark((function n(){var a,i,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.signer||Oe.throwError("sending a transaction requires a signer",l.b.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){n.next=4;break}return n.next=4,e._deployed();case 4:return n.next=6,Ce(e,t,r);case 6:return a=n.sent,n.next=9,e.signer.sendTransaction(a);case 9:return i=n.sent,s=i.wait.bind(i),i.wait=t=>s(t).then(t=>(t.events=t.logs.map(r=>{var n=Object(f.c)(r),a=null;try{a=e.interface.parseLog(r)}catch(i){}return a&&(n.args=a.args,n.decode=(t,r)=>e.interface.decodeEventLog(a.eventFragment,t,r),n.event=a.name,n.eventSignature=a.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t)),n.abrupt("return",i);case 13:case"end":return n.stop()}}),n)})))}}(e,t)}function Pe(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):""):"*"}class Be{constructor(e,t){Object(f.d)(this,"tag",e),Object(f.d)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){var t=!1;this._listeners=this._listeners.filter(r=>!(!t&&r.listener===e)||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){var t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{var r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class Re extends Be{constructor(){super("error",null)}}class Le extends Be{constructor(e,t,r,n){var a={address:e},i=t.getEventTopic(r);n?(i!==n[0]&&Oe.throwArgumentError("topic mismatch","topics",n),a.topics=n.slice()):a.topics=[i],super(Pe(a),a),Object(f.d)(this,"address",e),Object(f.d)(this,"interface",t),Object(f.d)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){var t=m(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r}}class Ne extends Be{constructor(e,t){super("*",{address:e}),Object(f.d)(this,"address",e),Object(f.d)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{var t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(r){}}}class De{constructor(e,t,r){Oe.checkNew(new.target,De),Object(f.d)(this,"interface",Object(f.e)(new.target,"getInterface")(t)),null==r?(Object(f.d)(this,"provider",null),Object(f.d)(this,"signer",null)):_e.isSigner(r)?(Object(f.d)(this,"provider",r.provider||null),Object(f.d)(this,"signer",r)):ge.isProvider(r)?(Object(f.d)(this,"provider",r),Object(f.d)(this,"signer",null)):Oe.throwArgumentError("invalid signer or provider","signerOrProvider",r),Object(f.d)(this,"callStatic",{}),Object(f.d)(this,"estimateGas",{}),Object(f.d)(this,"functions",{}),Object(f.d)(this,"populateTransaction",{}),Object(f.d)(this,"filters",{});var n={};if(Object.keys(this.interface.events).forEach(e=>{var t=this.interface.events[e];Object(f.d)(this.filters,e,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(t,e)})),n[t.name]||(n[t.name]=[]),n[t.name].push(e)}),Object.keys(n).forEach(e=>{var t=n[e];1===t.length?Object(f.d)(this.filters,e,this.filters[t[0]]):Oe.warn("Duplicate definition of ".concat(e," (").concat(t.join(", "),")"))}),Object(f.d)(this,"_runningEvents",{}),Object(f.d)(this,"_wrappedEmits",{}),null==e&&Oe.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Object(f.d)(this,"address",e),this.provider)Object(f.d)(this,"resolvedAddress",Me(this.provider,e));else try{Object(f.d)(this,"resolvedAddress",Promise.resolve(Object(y.a)(e)))}catch(s){Oe.throwError("provider is required to use ENS name as contract address",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}var a={},i={};Object.keys(this.interface.functions).forEach(e=>{var t=this.interface.functions[e];if(i[e])Oe.warn("Duplicate ABI entry for ".concat(JSON.stringify(name)));else{i[e]=!0;var r=t.name;a[r]||(a[r]=[]),a[r].push(e),null==this[e]&&Object(f.d)(this,e,Fe(this,t,!0)),null==this.functions[e]&&Object(f.d)(this.functions,e,Fe(this,t,!1)),null==this.callStatic[e]&&Object(f.d)(this.callStatic,e,Ie(this,t,!0)),null==this.populateTransaction[e]&&Object(f.d)(this.populateTransaction,e,function(e,t){return function(...r){return Ce(e,t,r)}}(this,t)),null==this.estimateGas[e]&&Object(f.d)(this.estimateGas,e,function(e,t){var r=e.signer||e.provider;return function(...n){return Te(this,void 0,void 0,c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||Oe.throwError("estimate require a provider or signer",l.b.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),a.next=3,Ce(e,t,n);case 3:return i=a.sent,a.next=6,r.estimateGas(i);case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),a)})))}}(this,t))}}),Object.keys(a).forEach(e=>{var t=a[e];if(!(t.length>1)){var r=t[0];null==this[e]&&Object(f.d)(this,e,this[r]),null==this.functions[e]&&Object(f.d)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&Object(f.d)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&Object(f.d)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&Object(f.d)(this.estimateGas,e,this.estimateGas[r])}})}static getContractAddress(e){return Object(y.b)(e)}static getInterface(e){return me.isInterface(e)?e:new me(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&Oe.throwError("contract not deployed",l.b.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Oe.throwError("sending a transactions require a signer",l.b.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var t=Object(f.g)(e||{});return["from","to"].forEach((function(e){null!=t[e]&&Oe.throwError("cannot override "+e,l.b.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"===typeof e&&(e=new Se(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Object(f.d)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return he.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new Re);if("event"===e)return this._normalizeRunningEvent(new Be("event",null));if("*"===e)return this._normalizeRunningEvent(new Ne(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Le(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!==typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new Le(this.address,this.interface,n,e.topics))}catch(i){}var a={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Be(Pe(a),a))}return this._normalizeRunningEvent(new Ne(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){var n=Object(f.c)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||Oe.throwError("events require a provider or a signer with a provider",l.b.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var n=r=>{var n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{var a=e.getEmit(n);this.emit(e.filter,...a)}catch(i){n.decodeError=i.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,r){var n=this._getRunningEvent(e),a=Object(f.g)(n.filter);return"string"===typeof t&&Object(u.l)(t,32)?(null!=r&&Oe.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=null!=t?t:0,a.toBlock=null!=r?r:"latest"),this.provider.getLogs(a).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;var r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){var t=this;if(!this.provider)return[];if(null==e){var r=function(){var e=[];for(var r in t._runningEvents)t._runningEvents[r].listeners().forEach(t=>{e.push(t)});return{v:e}}();if("object"===typeof r)return r.v}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Ve{constructor(e,t,r){var n=null;"0x"!==(n="string"===typeof t?t:Object(u.j)(t)?Object(u.i)(t):t&&"string"===typeof t.object?t.object:"!").substring(0,2)&&(n="0x"+n),(!Object(u.l)(n)||n.length%2)&&Oe.throwArgumentError("invalid bytecode","bytecode",t),r&&!_e.isSigner(r)&&Oe.throwArgumentError("invalid signer","signer",r),Object(f.d)(this,"bytecode",n),Object(f.d)(this,"interface",Object(f.e)(new.target,"getInterface")(e)),Object(f.d)(this,"signer",r||null)}getDeployTransaction(...e){var t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"===typeof e[e.length-1])for(var r in t=Object(f.g)(e.pop()))if(!Ae[r])throw new Error("unknown transaction override "+r);return["data","from","to"].forEach(e=>{null!=t[e]&&Oe.throwError("cannot override "+e,l.b.errors.UNSUPPORTED_OPERATION,{operation:e})}),Oe.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=Object(u.i)(Object(u.b)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Te(this,void 0,void 0,c.a.mark((function t(){var r,n,a,i,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),Oe.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.next=5,Ee(this.signer,e,this.interface.deploy.inputs);case 5:return(n=t.sent).push(r),a=this.getDeployTransaction(...n),t.next=10,this.signer.sendTransaction(a);case 10:return i=t.sent,s=Object(f.e)(this.constructor,"getContractAddress")(i),o=Object(f.e)(this.constructor,"getContract")(s,this.interface,this.signer),Object(f.d)(o,"deployTransaction",i),t.abrupt("return",o);case 15:case"end":return t.stop()}}),t,this)})))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&Oe.throwError("missing compiler output",l.b.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof e&&(e=JSON.parse(e));var r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return De.getInterface(e)}static getContractAddress(e){return Object(y.b)(e)}static getContract(e,t,r){return new De(e,t,r)}}var je=r(96),Ue=new l.b(je.a),qe={},Ge=d.a.from(0),He=d.a.from(-1);function ze(e,t,r,n){var a={fault:t,operation:r};return void 0!==n&&(a.value=n),Ue.throwError(e,l.b.errors.NUMERIC_FAULT,a)}for(var Ke="0";Ke.length<256;)Ke+=Ke;function Je(e){if("number"!==typeof e)try{e=d.a.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+Ke.substring(0,e):Ue.throwArgumentError("invalid decimal size","decimals",e)}function Xe(e,t){null==t&&(t=0);var r=Je(t),n=(e=d.a.from(e)).lt(Ge);n&&(e=e.mul(He));for(var a=e.mod(r).toString();a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=e.div(r).toString();return e=i+"."+a,n&&(e="-"+e),e}function We(e,t){null==t&&(t=0);var r=Je(t);if("string"===typeof e&&e.match(/^-?[0-9.,]+$/)||Ue.throwArgumentError("invalid decimal value","value",e),r.length-1===0)return d.a.from(e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&Ue.throwArgumentError("missing value","value",e);var a=e.split(".");a.length>2&&Ue.throwArgumentError("too many decimal points","value",e);var i=a[0],s=a[1];for(i||(i="0"),s||(s="0"),s.length>r.length-1&&ze("fractional component exceeds decimals","underflow","parseFixed");s.length<r.length-1;)s+="0";var o=d.a.from(i),c=d.a.from(s),u=o.mul(r).add(c);return n&&(u=u.mul(He)),u}class Ze{constructor(e,t,r,n){e!==qe&&Ue.throwError("cannot use FixedFormat constructor; use FixedFormat.from",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Je(n),Object.freeze(this)}static from(e){if(e instanceof Ze)return e;var t=!0,r=128,n=18;if("string"===typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else if(null!=e){var a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Ue.throwArgumentError("invalid fixed format","format",e),t="u"!==a[1],r=parseInt(a[2]),n=parseInt(a[3])}}else if(e){var i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&Ue.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Ue.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Ue.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Ze(qe,t,r,n)}}class Ye{constructor(e,t,r,n){Ue.checkNew(new.target,Ye),e!==qe&&Ue.throwError("cannot use FixedNumber constructor; use FixedNumber.from",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ue.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);var t=We(this._value,this.format.decimals),r=We(e._value,e.format.decimals);return Ye.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);var t=We(this._value,this.format.decimals),r=We(e._value,e.format.decimals);return Ye.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);var t=We(this._value,this.format.decimals),r=We(e._value,e.format.decimals);return Ye.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);var t=We(this._value,this.format.decimals),r=We(e._value,e.format.decimals);return Ye.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){var e=this.toString().split("."),t=Ye.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(Qe)),t}ceiling(){var e=this.toString().split("."),t=Ye.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(Qe)),t}round(e){null==e&&(e=0);var t=this.toString().split(".");if((e<0||e>80||e%1)&&Ue.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var r=Ye.from("1"+Ke.substring(0,e));return this.mulUnsafe(r).addUnsafe($e).floor().divUnsafe(r)}isZero(){return"0.0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&Ue.throwArgumentError("invalid byte width","width",e);var t=d.a.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Object(u.h)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ye.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||Object(d.d)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),Ye.fromString(Xe(e,t),Ze.from(r))}static fromString(e,t){null==t&&(t="fixed");var r=Ze.from(t),n=We(e,r.decimals);!r.signed&&n.lt(Ge)&&ze("unsigned value cannot be negative","overflow","value",e);var a=null;r.signed?a=n.toTwos(r.width).toHexString():(a=n.toHexString(),a=Object(u.h)(a,r.width/8));var i=Xe(n,r.decimals);return new Ye(qe,a,i,r)}static fromBytes(e,t){null==t&&(t="fixed");var r=Ze.from(t);if(Object(u.a)(e).length>r.width/8)throw new Error("overflow");var n=d.a.from(e);r.signed&&(n=n.fromTwos(r.width));var a=n.toTwos((r.signed?0:1)+r.width).toHexString(),i=Xe(n,r.decimals);return new Ye(qe,a,i,r)}static from(e,t){if("string"===typeof e)return Ye.fromString(e,t);if(Object(u.j)(e))return Ye.fromBytes(e,t);try{return Ye.fromValue(e,0,t)}catch(r){if(r.code!==l.b.errors.INVALID_ARGUMENT)throw r}return Ue.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}var Qe=Ye.from(1),$e=Ye.from("0.5");function et(e){return"string"===typeof e&&(e=Object(R.f)(e)),Object(k.a)(Object(u.b)([Object(R.f)("\x19Ethereum Signed Message:\n"),Object(R.f)(String(e.length)),e]))}var tt=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},rt=new l.b("hash/5.0.12"),nt=new Uint8Array(32);nt.fill(0);var at=d.a.from(-1),it=d.a.from(0),st=d.a.from(1),ot=d.a.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ct=Object(u.h)(st.toHexString(),32),ut=Object(u.h)(it.toHexString(),32),dt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ft=["name","version","chainId","verifyingContract","salt"];function lt(e){return function(t){return"string"!==typeof t&&rt.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var ht={name:lt("name"),version:lt("version"),chainId:function(e){try{return d.a.from(e).toString()}catch(t){}return rt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Object(y.a)(e).toLowerCase()}catch(t){}return rt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=Object(u.a)(e);if(32!==t.length)throw new Error("bad length");return Object(u.i)(t)}catch(r){}return rt.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function pt(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&rt.throwArgumentError("invalid numeric width","type",e);var a=ot.mask(r?n-1:n),i=r?a.add(st).mul(at):it;return function(t){var r=d.a.from(t);return(r.lt(i)||r.gt(a))&&rt.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),Object(u.h)(r.toTwos(256).toHexString(),32)}}var s=e.match(/^bytes(\d+)$/);if(s){var o=parseInt(s[1]);return(0===o||o>32||s[1]!==String(o))&&rt.throwArgumentError("invalid bytes width","type",e),function(t){return Object(u.a)(t).length!==o&&rt.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=Object(u.a)(e),r=t.length%32;return r?Object(u.c)([t,nt.slice(r)]):Object(u.i)(t)}(t)}}switch(e){case"address":return function(e){return Object(u.h)(Object(y.a)(e),32)};case"bool":return function(e){return e?ct:ut};case"bytes":return function(e){return Object(k.a)(e)};case"string":return function(e){return Object(w.a)(e)}}return null}function mt(e,t){return"".concat(e,"(").concat(t.map(({name:e,type:t})=>t+" "+e).join(","),")")}class vt{constructor(e){Object(f.d)(this,"types",Object.freeze(Object(f.c)(e))),Object(f.d)(this,"_encoderCache",{}),Object(f.d)(this,"_types",{});var t={},r={},n={};Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}});var a=function(n){var a={};e[n].forEach(i=>{a[i.name]&&rt.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(n)),"types",e),a[i.name]=!0;var s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&rt.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",e),pt(s)||(r[s]||rt.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",e),r[s].push(n),t[n][s]=!0)})};for(var i in e)a(i);var s=Object.keys(r).filter(e=>0===r[e].length);for(var o in 0===s.length?rt.throwArgumentError("missing primary type","types",e):s.length>1&&rt.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"types",e),Object(f.d)(this,"primaryType",s[0]),function a(i,s){s[i]&&rt.throwArgumentError("circular type reference to ".concat(JSON.stringify(i)),"types",e),s[i]=!0,Object.keys(t[i]).forEach(e=>{r[e]&&(a(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[i]}(this.primaryType,{}),n){var c=Object.keys(n[o]);c.sort(),this._types[o]=mt(o,e[o])+c.map(t=>mt(t,e[t])).join("")}}getEncoder(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){var t=pt(e);if(t)return t;var r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){var n=r[1],a=this.getEncoder(n),i=parseInt(r[3]);return e=>{i>=0&&e.length!==i&&rt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var t=e.map(a);return this._types[n]&&(t=t.map(k.a)),Object(k.a)(Object(u.c)(t))}}var s=this.types[e];if(s){var o=Object(w.a)(this._types[e]);return e=>{var t=s.map(({name:t,type:r})=>{var n=this.getEncoder(r)(e[t]);return this._types[r]?Object(k.a)(n):n});return t.unshift(o),Object(u.c)(t)}}return rt.throwArgumentError("unknown type: ".concat(e),"type",e)}encodeType(e){var t=this._types[e];return t||rt.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Object(k.a)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(pt(e))return r(e,t);var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var a=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&rt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(e=>this._visit(a,e,r))}var s=this.types[e];return s?s.reduce((e,{name:n,type:a})=>(e[n]=this._visit(a,t[n],r),e),{}):rt.throwArgumentError("unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new vt(e)}static getPrimaryType(e){return vt.from(e).primaryType}static hashStruct(e,t,r){return vt.from(t).hashStruct(e,r)}static hashDomain(e){var t=[];for(var r in e){var n=dt[r];n||rt.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>ft.indexOf(e.name)-ft.indexOf(t.name)),vt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Object(u.c)(["0x1901",vt.hashDomain(e),vt.from(t).hash(r)])}static hash(e,t,r){return Object(k.a)(vt.encode(e,t,r))}static resolveNames(e,t,r,n){return tt(this,void 0,void 0,c.a.mark((function a(){var i,s,o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=Object(f.g)(e),i={},e.verifyingContract&&!Object(u.l)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x"),(s=vt.from(t)).visit(r,(e,t)=>("address"!==e||Object(u.l)(t,20)||(i[t]="0x"),t)),a.t0=c.a.keys(i);case 6:if((a.t1=a.t0()).done){a.next=13;break}return o=a.t1.value,a.next=10,n(o);case 10:i[o]=a.sent,a.next=6;break;case 13:return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),a.abrupt("return",{domain:e,value:r});case 16:case"end":return a.stop()}}),a)})))}static getPayload(e,t,r){vt.hashDomain(e);var n={},a=[];ft.forEach(t=>{var r=e[t];null!=r&&(n[t]=ht[t](r),a.push({name:t,type:dt[t]}))});var i=vt.from(t),s=Object(f.g)(t);return s.EIP712Domain?rt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=a,i.encode(r),{types:s,domain:n,primaryType:i.primaryType,message:i.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return Object(u.i)(Object(u.a)(t));if(e.match(/^u?int/))return d.a.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&rt.throwArgumentError("invalid string","value",t),t}return rt.throwArgumentError("unsupported type","type",e)})}}}class bt{constructor(e){Object(f.d)(this,"alphabet",e),Object(f.d)(this,"base",e.length),Object(f.d)(this,"_alphabetMap",{}),Object(f.d)(this,"_leader",e.charAt(0));for(var t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){var t=Object(u.a)(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var a=t[n],i=0;i<r.length;++i)a+=r[i]<<8,r[i]=a%this.base,a=a/this.base|0;for(;a>0;)r.push(a%this.base),a=a/this.base|0}for(var s="",o=0;0===t[o]&&o<t.length-1;++o)s+=this._leader;for(var c=r.length-1;c>=0;--c)s+=this.alphabet[r[c]];return s}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var a=n,i=0;i<t.length;++i)a+=t[i]*this.base,t[i]=255&a,a>>=8;for(;a>0;)t.push(255&a),a>>=8}for(var s=0;e[s]===this._leader&&s<e.length-1;++s)t.push(0);return Object(u.a)(new Uint8Array(t.reverse()))}}new bt("abcdefghijklmnopqrstuvwxyz234567");var gt,yt=new bt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),wt=r(66),kt=r.n(wt);!function(e){e.sha256="sha256",e.sha512="sha512"}(gt||(gt={}));var xt=new l.b("sha2/5.0.9");function _t(e){return"0x"+kt.a.ripemd160().update(Object(u.a)(e)).digest("hex")}function St(e){return"0x"+kt.a.sha256().update(Object(u.a)(e)).digest("hex")}function Tt(e){return"0x"+kt.a.sha512().update(Object(u.a)(e)).digest("hex")}function Ot(e,t,r){return gt[e]||xt.throwError("unsupported algorithm "+e,l.b.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+kt.a.hmac(kt.a[e],Object(u.a)(t)).update(Object(u.a)(r)).digest("hex")}function At(e,t,r,n,a){var i;e=Object(u.a)(e),t=Object(u.a)(t);var s,o,c=1,d=new Uint8Array(n),f=new Uint8Array(t.length+4);f.set(t);for(var l=1;l<=c;l++){f[t.length]=l>>24&255,f[t.length+1]=l>>16&255,f[t.length+2]=l>>8&255,f[t.length+3]=255&l;var h=Object(u.a)(Ot(a,e,f));i||(i=h.length,o=new Uint8Array(i),s=n-((c=Math.ceil(n/i))-1)*i),o.set(h);for(var p=1;p<r;p++){h=Object(u.a)(Ot(a,e,h));for(var m=0;m<i;m++)o[m]^=h[m]}var v=(l-1)*i,b=l===c?s:i;d.set(Object(u.a)(o).slice(0,b),v)}return Object(u.i)(d)}var Mt=r(27),Et=r(21),Ct=new l.b("wordlists/5.0.10");class It{constructor(e){Ct.checkAbstract(new.target,It),Object(f.d)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return Object(w.a)(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}var Ft=null;function Pt(e){if(null==Ft&&(Ft="AbdikaceAbecedaAdresaAgreseAkceAktovkaAlejAlkoholAmputaceAnanasAndulkaAnekdotaAnketaAntikaAnulovatArchaAroganceAsfaltAsistentAspiraceAstmaAstronomAtlasAtletikaAtolAutobusAzylBabkaBachorBacilBaculkaBadatelBagetaBagrBahnoBakterieBaladaBaletkaBalkonBalonekBalvanBalzaBambusBankomatBarbarBaretBarmanBarokoBarvaBaterkaBatohBavlnaBazalkaBazilikaBazukaBednaBeranBesedaBestieBetonBezinkaBezmocBeztakBicyklBidloBiftekBikinyBilanceBiografBiologBitvaBizonBlahobytBlatouchBlechaBleduleBleskBlikatBliznaBlokovatBlouditBludBobekBobrBodlinaBodnoutBohatostBojkotBojovatBokorysBolestBorecBoroviceBotaBoubelBouchatBoudaBouleBouratBoxerBradavkaBramboraBrankaBratrBreptaBriketaBrkoBrlohBronzBroskevBrunetkaBrusinkaBrzdaBrzyBublinaBubnovatBuchtaBuditelBudkaBudovaBufetBujarostBukviceBuldokBulvaBundaBunkrBurzaButikBuvolBuzolaBydletBylinaBytovkaBzukotCapartCarevnaCedrCeduleCejchCejnCelaCelerCelkemCelniceCeninaCennostCenovkaCentrumCenzorCestopisCetkaChalupaChapadloCharitaChataChechtatChemieChichotChirurgChladChlebaChlubitChmelChmuraChobotChocholChodbaCholeraChomoutChopitChorobaChovChrapotChrlitChrtChrupChtivostChudinaChutnatChvatChvilkaChvostChybaChystatChytitCibuleCigaretaCihelnaCihlaCinkotCirkusCisternaCitaceCitrusCizinecCizostClonaCokolivCouvatCtitelCtnostCudnostCuketaCukrCupotCvaknoutCvalCvikCvrkotCyklistaDalekoDarebaDatelDatumDceraDebataDechovkaDecibelDeficitDeflaceDeklDekretDemokratDepreseDerbyDeskaDetektivDikobrazDiktovatDiodaDiplomDiskDisplejDivadloDivochDlahaDlouhoDluhopisDnesDobroDobytekDocentDochutitDodnesDohledDohodaDohraDojemDojniceDokladDokolaDoktorDokumentDolarDolevaDolinaDomaDominantDomluvitDomovDonutitDopadDopisDoplnitDoposudDoprovodDopustitDorazitDorostDortDosahDoslovDostatekDosudDosytaDotazDotekDotknoutDoufatDoutnatDovozceDozaduDoznatDozorceDrahotaDrakDramatikDravecDrazeDrdolDrobnostDrogerieDrozdDrsnostDrtitDrzostDubenDuchovnoDudekDuhaDuhovkaDusitDusnoDutostDvojiceDvorecDynamitEkologEkonomieElektronElipsaEmailEmiseEmoceEmpatieEpizodaEpochaEpopejEposEsejEsenceEskortaEskymoEtiketaEuforieEvoluceExekuceExkurzeExpediceExplozeExportExtraktFackaFajfkaFakultaFanatikFantazieFarmacieFavoritFazoleFederaceFejetonFenkaFialkaFigurantFilozofFiltrFinanceFintaFixaceFjordFlanelFlirtFlotilaFondFosforFotbalFotkaFotonFrakceFreskaFrontaFukarFunkceFyzikaGalejeGarantGenetikaGeologGilotinaGlazuraGlejtGolemGolfistaGotikaGrafGramofonGranuleGrepGrilGrogGroteskaGumaHadiceHadrHalaHalenkaHanbaHanopisHarfaHarpunaHavranHebkostHejkalHejnoHejtmanHektarHelmaHematomHerecHernaHesloHezkyHistorikHladovkaHlasivkyHlavaHledatHlenHlodavecHlohHloupostHltatHlubinaHluchotaHmatHmotaHmyzHnisHnojivoHnoutHoblinaHobojHochHodinyHodlatHodnotaHodovatHojnostHokejHolinkaHolkaHolubHomoleHonitbaHonoraceHoralHordaHorizontHorkoHorlivecHormonHorninaHoroskopHorstvoHospodaHostinaHotovostHoubaHoufHoupatHouskaHovorHradbaHraniceHravostHrazdaHrbolekHrdinaHrdloHrdostHrnekHrobkaHromadaHrotHroudaHrozenHrstkaHrubostHryzatHubenostHubnoutHudbaHukotHumrHusitaHustotaHvozdHybnostHydrantHygienaHymnaHysterikIdylkaIhnedIkonaIluzeImunitaInfekceInflaceInkasoInovaceInspekceInternetInvalidaInvestorInzerceIronieJablkoJachtaJahodaJakmileJakostJalovecJantarJarmarkJaroJasanJasnoJatkaJavorJazykJedinecJedleJednatelJehlanJekotJelenJelitoJemnostJenomJepiceJeseterJevitJezdecJezeroJinakJindyJinochJiskraJistotaJitrniceJizvaJmenovatJogurtJurtaKabaretKabelKabinetKachnaKadetKadidloKahanKajakKajutaKakaoKaktusKalamitaKalhotyKalibrKalnostKameraKamkolivKamnaKanibalKanoeKantorKapalinaKapelaKapitolaKapkaKapleKapotaKaprKapustaKapybaraKaramelKarotkaKartonKasaKatalogKatedraKauceKauzaKavalecKazajkaKazetaKazivostKdekolivKdesiKedlubenKempKeramikaKinoKlacekKladivoKlamKlapotKlasikaKlaunKlecKlenbaKlepatKlesnoutKlidKlimaKlisnaKloboukKlokanKlopaKloubKlubovnaKlusatKluzkostKmenKmitatKmotrKnihaKnotKoaliceKoberecKobkaKoblihaKobylaKocourKohoutKojenecKokosKoktejlKolapsKoledaKolizeKoloKomandoKometaKomikKomnataKomoraKompasKomunitaKonatKonceptKondiceKonecKonfeseKongresKoninaKonkursKontaktKonzervaKopanecKopieKopnoutKoprovkaKorbelKorektorKormidloKoroptevKorpusKorunaKorytoKorzetKosatecKostkaKotelKotletaKotoulKoukatKoupelnaKousekKouzloKovbojKozaKozorohKrabiceKrachKrajinaKralovatKrasopisKravataKreditKrejcarKresbaKrevetaKriketKritikKrizeKrkavecKrmelecKrmivoKrocanKrokKronikaKropitKroupaKrovkaKrtekKruhadloKrupiceKrutostKrvinkaKrychleKryptaKrystalKrytKudlankaKufrKujnostKuklaKulajdaKulichKulkaKulometKulturaKunaKupodivuKurtKurzorKutilKvalitaKvasinkaKvestorKynologKyselinaKytaraKyticeKytkaKytovecKyvadloLabradorLachtanLadnostLaikLakomecLamelaLampaLanovkaLasiceLasoLasturaLatinkaLavinaLebkaLeckdyLedenLedniceLedovkaLedvinaLegendaLegieLegraceLehceLehkostLehnoutLektvarLenochodLentilkaLepenkaLepidloLetadloLetecLetmoLetokruhLevhartLevitaceLevobokLibraLichotkaLidojedLidskostLihovinaLijavecLilekLimetkaLinieLinkaLinoleumListopadLitinaLitovatLobistaLodivodLogikaLogopedLokalitaLoketLomcovatLopataLopuchLordLososLotrLoudalLouhLoukaLouskatLovecLstivostLucernaLuciferLumpLuskLustraceLviceLyraLyrikaLysinaMadamMadloMagistrMahagonMajetekMajitelMajoritaMakakMakoviceMakrelaMalbaMalinaMalovatMalviceMaminkaMandleMankoMarnostMasakrMaskotMasopustMaticeMatrikaMaturitaMazanecMazivoMazlitMazurkaMdlobaMechanikMeditaceMedovinaMelasaMelounMentolkaMetlaMetodaMetrMezeraMigraceMihnoutMihuleMikinaMikrofonMilenecMilimetrMilostMimikaMincovnaMinibarMinometMinulostMiskaMistrMixovatMladostMlhaMlhovinaMlokMlsatMluvitMnichMnohemMobilMocnostModelkaModlitbaMohylaMokroMolekulaMomentkaMonarchaMonoklMonstrumMontovatMonzunMosazMoskytMostMotivaceMotorkaMotykaMouchaMoudrostMozaikaMozekMozolMramorMravenecMrkevMrtvolaMrzetMrzutostMstitelMudrcMuflonMulatMumieMuniceMusetMutaceMuzeumMuzikantMyslivecMzdaNabouratNachytatNadaceNadbytekNadhozNadobroNadpisNahlasNahnatNahodileNahraditNaivitaNajednouNajistoNajmoutNaklonitNakonecNakrmitNalevoNamazatNamluvitNanometrNaokoNaopakNaostroNapadatNapevnoNaplnitNapnoutNaposledNaprostoNaroditNarubyNarychloNasaditNasekatNaslepoNastatNatolikNavenekNavrchNavzdoryNazvatNebeNechatNeckyNedalekoNedbatNeduhNegaceNehetNehodaNejenNejprveNeklidNelibostNemilostNemocNeochotaNeonkaNepokojNerostNervNesmyslNesouladNetvorNeuronNevinaNezvykleNicotaNijakNikamNikdyNiklNikterakNitroNoclehNohaviceNominaceNoraNorekNositelNosnostNouzeNovinyNovotaNozdraNudaNudleNugetNutitNutnostNutrieNymfaObalObarvitObavaObdivObecObehnatObejmoutObezitaObhajobaObilniceObjasnitObjektObklopitOblastOblekOblibaOblohaObludaObnosObohatitObojekOboutObrazecObrnaObrubaObrysObsahObsluhaObstaratObuvObvazObvinitObvodObvykleObyvatelObzorOcasOcelOcenitOchladitOchotaOchranaOcitnoutOdbojOdbytOdchodOdcizitOdebratOdeslatOdevzdatOdezvaOdhadceOdhoditOdjetOdjinudOdkazOdkoupitOdlivOdlukaOdmlkaOdolnostOdpadOdpisOdploutOdporOdpustitOdpykatOdrazkaOdsouditOdstupOdsunOdtokOdtudOdvahaOdvetaOdvolatOdvracetOdznakOfinaOfsajdOhlasOhniskoOhradaOhrozitOhryzekOkapOkeniceOklikaOknoOkouzlitOkovyOkrasaOkresOkrsekOkruhOkupantOkurkaOkusitOlejninaOlizovatOmakOmeletaOmezitOmladinaOmlouvatOmluvaOmylOnehdyOpakovatOpasekOperaceOpiceOpilostOpisovatOporaOpoziceOpravduOprotiOrbitalOrchestrOrgieOrliceOrlojOrtelOsadaOschnoutOsikaOsivoOslavaOslepitOslnitOslovitOsnovaOsobaOsolitOspalecOstenOstrahaOstudaOstychOsvojitOteplitOtiskOtopOtrhatOtrlostOtrokOtrubyOtvorOvanoutOvarOvesOvlivnitOvoceOxidOzdobaPachatelPacientPadouchPahorekPaktPalandaPalecPalivoPalubaPamfletPamlsekPanenkaPanikaPannaPanovatPanstvoPantoflePaprikaParketaParodiePartaParukaParybaPasekaPasivitaPastelkaPatentPatronaPavoukPaznehtPazourekPeckaPedagogPejsekPekloPelotonPenaltaPendrekPenzePeriskopPeroPestrostPetardaPeticePetrolejPevninaPexesoPianistaPihaPijavicePiklePiknikPilinaPilnostPilulkaPinzetaPipetaPisatelPistolePitevnaPivnicePivovarPlacentaPlakatPlamenPlanetaPlastikaPlatitPlavidloPlazPlechPlemenoPlentaPlesPletivoPlevelPlivatPlnitPlnoPlochaPlodinaPlombaPloutPlukPlynPobavitPobytPochodPocitPoctivecPodatPodcenitPodepsatPodhledPodivitPodkladPodmanitPodnikPodobaPodporaPodrazPodstataPodvodPodzimPoeziePohankaPohnutkaPohovorPohromaPohybPointaPojistkaPojmoutPokazitPoklesPokojPokrokPokutaPokynPolednePolibekPolknoutPolohaPolynomPomaluPominoutPomlkaPomocPomstaPomysletPonechatPonorkaPonurostPopadatPopelPopisekPoplachPoprositPopsatPopudPoradcePorcePorodPoruchaPoryvPosaditPosedPosilaPoskokPoslanecPosouditPospoluPostavaPosudekPosypPotahPotkanPotleskPotomekPotravaPotupaPotvoraPoukazPoutoPouzdroPovahaPovidlaPovlakPovozPovrchPovstatPovykPovzdechPozdravPozemekPoznatekPozorPozvatPracovatPrahoryPraktikaPralesPraotecPraporekPrasePravdaPrincipPrknoProbuditProcentoProdejProfeseProhraProjektProlomitPromilePronikatPropadProrokProsbaProtonProutekProvazPrskavkaPrstenPrudkostPrutPrvekPrvohoryPsanecPsovodPstruhPtactvoPubertaPuchPudlPukavecPuklinaPukrlePultPumpaPuncPupenPusaPusinkaPustinaPutovatPutykaPyramidaPyskPytelRacekRachotRadiaceRadniceRadonRaftRagbyRaketaRakovinaRamenoRampouchRandeRarachRaritaRasovnaRastrRatolestRazanceRazidloReagovatReakceReceptRedaktorReferentReflexRejnokReklamaRekordRekrutRektorReputaceRevizeRevmaRevolverRezervaRiskovatRizikoRobotikaRodokmenRohovkaRokleRokokoRomanetoRopovodRopuchaRorejsRosolRostlinaRotmistrRotopedRotundaRoubenkaRouchoRoupRouraRovinaRovniceRozborRozchodRozdatRozeznatRozhodceRozinkaRozjezdRozkazRozlohaRozmarRozpadRozruchRozsahRoztokRozumRozvodRubrikaRuchadloRukaviceRukopisRybaRybolovRychlostRydloRypadloRytinaRyzostSadistaSahatSakoSamecSamizdatSamotaSanitkaSardinkaSasankaSatelitSazbaSazeniceSborSchovatSebrankaSeceseSedadloSedimentSedloSehnatSejmoutSekeraSektaSekundaSekvojeSemenoSenoServisSesaditSeshoraSeskokSeslatSestraSesuvSesypatSetbaSetinaSetkatSetnoutSetrvatSeverSeznamShodaShrnoutSifonSilniceSirkaSirotekSirupSituaceSkafandrSkaliskoSkanzenSkautSkeptikSkicaSkladbaSkleniceSkloSkluzSkobaSkokanSkoroSkriptaSkrzSkupinaSkvostSkvrnaSlabikaSladidloSlaninaSlastSlavnostSledovatSlepecSlevaSlezinaSlibSlinaSlizniceSlonSloupekSlovoSluchSluhaSlunceSlupkaSlzaSmaragdSmetanaSmilstvoSmlouvaSmogSmradSmrkSmrtkaSmutekSmyslSnadSnahaSnobSobotaSochaSodovkaSokolSopkaSotvaSoubojSoucitSoudceSouhlasSouladSoumrakSoupravaSousedSoutokSouvisetSpalovnaSpasitelSpisSplavSpodekSpojenecSpoluSponzorSpornostSpoustaSprchaSpustitSrandaSrazSrdceSrnaSrnecSrovnatSrpenSrstSrubStaniceStarostaStatikaStavbaStehnoStezkaStodolaStolekStopaStornoStoupatStrachStresStrhnoutStromStrunaStudnaStupniceStvolStykSubjektSubtropySucharSudostSuknoSundatSunoutSurikataSurovinaSvahSvalstvoSvetrSvatbaSvazekSvisleSvitekSvobodaSvodidloSvorkaSvrabSykavkaSykotSynekSynovecSypatSypkostSyrovostSyselSytostTabletkaTabuleTahounTajemnoTajfunTajgaTajitTajnostTaktikaTamhleTamponTancovatTanecTankerTapetaTaveninaTazatelTechnikaTehdyTekutinaTelefonTemnotaTendenceTenistaTenorTeplotaTepnaTeprveTerapieTermoskaTextilTichoTiskopisTitulekTkadlecTkaninaTlapkaTleskatTlukotTlupaTmelToaletaTopinkaTopolTorzoTouhaToulecTradiceTraktorTrampTrasaTraverzaTrefitTrestTrezorTrhavinaTrhlinaTrochuTrojiceTroskaTroubaTrpceTrpitelTrpkostTrubecTruchlitTruhliceTrusTrvatTudyTuhnoutTuhostTundraTuristaTurnajTuzemskoTvarohTvorbaTvrdostTvrzTygrTykevUbohostUbozeUbratUbrousekUbrusUbytovnaUchoUctivostUdivitUhraditUjednatUjistitUjmoutUkazatelUklidnitUklonitUkotvitUkrojitUliceUlitaUlovitUmyvadloUnavitUniformaUniknoutUpadnoutUplatnitUplynoutUpoutatUpravitUranUrazitUsednoutUsilovatUsmrtitUsnadnitUsnoutUsouditUstlatUstrnoutUtahovatUtkatUtlumitUtonoutUtopenecUtrousitUvalitUvolnitUvozovkaUzdravitUzelUzeninaUzlinaUznatVagonValchaValounVanaVandalVanilkaVaranVarhanyVarovatVcelkuVchodVdovaVedroVegetaceVejceVelbloudVeletrhVelitelVelmocVelrybaVenkovVerandaVerzeVeselkaVeskrzeVesniceVespoduVestaVeterinaVeverkaVibraceVichrVideohraVidinaVidleVilaViniceVisetVitalitaVizeVizitkaVjezdVkladVkusVlajkaVlakVlasecVlevoVlhkostVlivVlnovkaVloupatVnucovatVnukVodaVodivostVodoznakVodstvoVojenskyVojnaVojskoVolantVolbaVolitVolnoVoskovkaVozidloVozovnaVpravoVrabecVracetVrahVrataVrbaVrcholekVrhatVrstvaVrtuleVsaditVstoupitVstupVtipVybavitVybratVychovatVydatVydraVyfotitVyhledatVyhnoutVyhoditVyhraditVyhubitVyjasnitVyjetVyjmoutVyklopitVykonatVylekatVymazatVymezitVymizetVymysletVynechatVynikatVynutitVypadatVyplatitVypravitVypustitVyrazitVyrovnatVyrvatVyslovitVysokoVystavitVysunoutVysypatVytasitVytesatVytratitVyvinoutVyvolatVyvrhelVyzdobitVyznatVzaduVzbuditVzchopitVzdorVzduchVzdychatVzestupVzhledemVzkazVzlykatVznikVzorekVzpouraVztahVztekXylofonZabratZabydletZachovatZadarmoZadusitZafoukatZahltitZahoditZahradaZahynoutZajatecZajetZajistitZaklepatZakoupitZalepitZamezitZamotatZamysletZanechatZanikatZaplatitZapojitZapsatZarazitZastavitZasunoutZatajitZatemnitZatknoutZaujmoutZavalitZaveletZavinitZavolatZavrtatZazvonitZbavitZbrusuZbudovatZbytekZdalekaZdarmaZdatnostZdivoZdobitZdrojZdvihZdymadloZeleninaZemanZeminaZeptatZezaduZezdolaZhatitZhltnoutZhlubokaZhotovitZhrubaZimaZimniceZjemnitZklamatZkoumatZkratkaZkumavkaZlatoZlehkaZlobaZlomZlostZlozvykZmapovatZmarZmatekZmijeZmizetZmocnitZmodratZmrzlinaZmutovatZnakZnalostZnamenatZnovuZobrazitZotavitZoubekZoufaleZploditZpomalitZpravaZprostitZprudkaZprvuZradaZranitZrcadloZrnitostZrnoZrovnaZrychlitZrzavostZtichaZtratitZubovinaZubrZvednoutZvenkuZveselaZvonZvratZvukovodZvyk".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a"!==It.check(e)))throw Ft=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Bt=new class extends It{constructor(){super("cz")}getWord(e){return Pt(this),Ft[e]}getWordIndex(e){return Pt(this),Ft.indexOf(e)}};It.register(Bt);var Rt=null;function Lt(e){if(null==Rt&&(Rt="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==It.check(e)))throw Rt=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Nt=new class extends It{constructor(){super("en")}getWord(e){return Lt(this),Rt[e]}getWordIndex(e){return Lt(this),Rt.indexOf(e)}};It.register(Nt);var Dt={},Vt=null;function jt(e){return Ct.checkNormalize(),Object(R.h)(Array.prototype.filter.call(Object(R.f)(e.normalize("NFD").toLowerCase()),e=>e>=65&&e<=90||e>=97&&e<=123))}function Ut(e){if(null==Vt&&((Vt="A/bacoAbdomenAbejaAbiertoAbogadoAbonoAbortoAbrazoAbrirAbueloAbusoAcabarAcademiaAccesoAccio/nAceiteAcelgaAcentoAceptarA/cidoAclararAcne/AcogerAcosoActivoActoActrizActuarAcudirAcuerdoAcusarAdictoAdmitirAdoptarAdornoAduanaAdultoAe/reoAfectarAficio/nAfinarAfirmarA/gilAgitarAgoni/aAgostoAgotarAgregarAgrioAguaAgudoA/guilaAgujaAhogoAhorroAireAislarAjedrezAjenoAjusteAlacra/nAlambreAlarmaAlbaA/lbumAlcaldeAldeaAlegreAlejarAlertaAletaAlfilerAlgaAlgodo/nAliadoAlientoAlivioAlmaAlmejaAlmi/barAltarAltezaAltivoAltoAlturaAlumnoAlzarAmableAmanteAmapolaAmargoAmasarA/mbarA/mbitoAmenoAmigoAmistadAmorAmparoAmplioAnchoAncianoAnclaAndarAnde/nAnemiaA/nguloAnilloA/nimoAni/sAnotarAntenaAntiguoAntojoAnualAnularAnuncioA~adirA~ejoA~oApagarAparatoApetitoApioAplicarApodoAporteApoyoAprenderAprobarApuestaApuroAradoAra~aArarA/rbitroA/rbolArbustoArchivoArcoArderArdillaArduoA/reaA/ridoAriesArmoni/aArne/sAromaArpaArpo/nArregloArrozArrugaArteArtistaAsaAsadoAsaltoAscensoAsegurarAseoAsesorAsientoAsiloAsistirAsnoAsombroA/speroAstillaAstroAstutoAsumirAsuntoAtajoAtaqueAtarAtentoAteoA/ticoAtletaA/tomoAtraerAtrozAtu/nAudazAudioAugeAulaAumentoAusenteAutorAvalAvanceAvaroAveAvellanaAvenaAvestruzAvio/nAvisoAyerAyudaAyunoAzafra/nAzarAzoteAzu/carAzufreAzulBabaBaborBacheBahi/aBaileBajarBalanzaBalco/nBaldeBambu/BancoBandaBa~oBarbaBarcoBarnizBarroBa/sculaBasto/nBasuraBatallaBateri/aBatirBatutaBau/lBazarBebe/BebidaBelloBesarBesoBestiaBichoBienBingoBlancoBloqueBlusaBoaBobinaBoboBocaBocinaBodaBodegaBoinaBolaBoleroBolsaBombaBondadBonitoBonoBonsa/iBordeBorrarBosqueBoteBoti/nBo/vedaBozalBravoBrazoBrechaBreveBrilloBrincoBrisaBrocaBromaBronceBroteBrujaBruscoBrutoBuceoBucleBuenoBueyBufandaBufo/nBu/hoBuitreBultoBurbujaBurlaBurroBuscarButacaBuzo/nCaballoCabezaCabinaCabraCacaoCada/verCadenaCaerCafe/Cai/daCaima/nCajaCajo/nCalCalamarCalcioCaldoCalidadCalleCalmaCalorCalvoCamaCambioCamelloCaminoCampoCa/ncerCandilCanelaCanguroCanicaCantoCa~aCa~o/nCaobaCaosCapazCapita/nCapoteCaptarCapuchaCaraCarbo/nCa/rcelCaretaCargaCari~oCarneCarpetaCarroCartaCasaCascoCaseroCaspaCastorCatorceCatreCaudalCausaCazoCebollaCederCedroCeldaCe/lebreCelosoCe/lulaCementoCenizaCentroCercaCerdoCerezaCeroCerrarCertezaCe/spedCetroChacalChalecoChampu/ChanclaChapaCharlaChicoChisteChivoChoqueChozaChuletaChuparCiclo/nCiegoCieloCienCiertoCifraCigarroCimaCincoCineCintaCipre/sCircoCiruelaCisneCitaCiudadClamorClanClaroClaseClaveClienteClimaCli/nicaCobreCoccio/nCochinoCocinaCocoCo/digoCodoCofreCogerCoheteCoji/nCojoColaColchaColegioColgarColinaCollarColmoColumnaCombateComerComidaCo/modoCompraCondeConejoCongaConocerConsejoContarCopaCopiaCorazo/nCorbataCorchoCordo/nCoronaCorrerCoserCosmosCostaCra/neoCra/terCrearCrecerCrei/doCremaCri/aCrimenCriptaCrisisCromoCro/nicaCroquetaCrudoCruzCuadroCuartoCuatroCuboCubrirCucharaCuelloCuentoCuerdaCuestaCuevaCuidarCulebraCulpaCultoCumbreCumplirCunaCunetaCuotaCupo/nCu/pulaCurarCuriosoCursoCurvaCutisDamaDanzaDarDardoDa/tilDeberDe/bilDe/cadaDecirDedoDefensaDefinirDejarDelfi/nDelgadoDelitoDemoraDensoDentalDeporteDerechoDerrotaDesayunoDeseoDesfileDesnudoDestinoDesvi/oDetalleDetenerDeudaDi/aDiabloDiademaDiamanteDianaDiarioDibujoDictarDienteDietaDiezDifi/cilDignoDilemaDiluirDineroDirectoDirigirDiscoDise~oDisfrazDivaDivinoDobleDoceDolorDomingoDonDonarDoradoDormirDorsoDosDosisDrago/nDrogaDuchaDudaDueloDue~oDulceDu/oDuqueDurarDurezaDuroE/banoEbrioEcharEcoEcuadorEdadEdicio/nEdificioEditorEducarEfectoEficazEjeEjemploElefanteElegirElementoElevarElipseE/liteElixirElogioEludirEmbudoEmitirEmocio/nEmpateEmpe~oEmpleoEmpresaEnanoEncargoEnchufeEnci/aEnemigoEneroEnfadoEnfermoEnga~oEnigmaEnlaceEnormeEnredoEnsayoEnse~arEnteroEntrarEnvaseEnvi/oE/pocaEquipoErizoEscalaEscenaEscolarEscribirEscudoEsenciaEsferaEsfuerzoEspadaEspejoEspi/aEsposaEspumaEsqui/EstarEsteEstiloEstufaEtapaEternoE/ticaEtniaEvadirEvaluarEventoEvitarExactoExamenExcesoExcusaExentoExigirExilioExistirE/xitoExpertoExplicarExponerExtremoFa/bricaFa/bulaFachadaFa/cilFactorFaenaFajaFaldaFalloFalsoFaltarFamaFamiliaFamosoFarao/nFarmaciaFarolFarsaFaseFatigaFaunaFavorFaxFebreroFechaFelizFeoFeriaFerozFe/rtilFervorFesti/nFiableFianzaFiarFibraFiccio/nFichaFideoFiebreFielFieraFiestaFiguraFijarFijoFilaFileteFilialFiltroFinFincaFingirFinitoFirmaFlacoFlautaFlechaFlorFlotaFluirFlujoFlu/orFobiaFocaFogataFogo/nFolioFolletoFondoFormaForroFortunaForzarFosaFotoFracasoFra/gilFranjaFraseFraudeFrei/rFrenoFresaFri/oFritoFrutaFuegoFuenteFuerzaFugaFumarFuncio/nFundaFurgo/nFuriaFusilFu/tbolFuturoGacelaGafasGaitaGajoGalaGaleri/aGalloGambaGanarGanchoGangaGansoGarajeGarzaGasolinaGastarGatoGavila/nGemeloGemirGenGe/neroGenioGenteGeranioGerenteGermenGestoGiganteGimnasioGirarGiroGlaciarGloboGloriaGolGolfoGolosoGolpeGomaGordoGorilaGorraGotaGoteoGozarGradaGra/ficoGranoGrasaGratisGraveGrietaGrilloGripeGrisGritoGrosorGru/aGruesoGrumoGrupoGuanteGuapoGuardiaGuerraGui/aGui~oGuionGuisoGuitarraGusanoGustarHaberHa/bilHablarHacerHachaHadaHallarHamacaHarinaHazHaza~aHebillaHebraHechoHeladoHelioHembraHerirHermanoHe/roeHervirHieloHierroHi/gadoHigieneHijoHimnoHistoriaHocicoHogarHogueraHojaHombreHongoHonorHonraHoraHormigaHornoHostilHoyoHuecoHuelgaHuertaHuesoHuevoHuidaHuirHumanoHu/medoHumildeHumoHundirHuraca/nHurtoIconoIdealIdiomaI/doloIglesiaIglu/IgualIlegalIlusio/nImagenIma/nImitarImparImperioImponerImpulsoIncapazI/ndiceInerteInfielInformeIngenioInicioInmensoInmuneInnatoInsectoInstanteIntere/sI/ntimoIntuirInu/tilInviernoIraIrisIroni/aIslaIsloteJabali/Jabo/nJamo/nJarabeJardi/nJarraJaulaJazmi/nJefeJeringaJineteJornadaJorobaJovenJoyaJuergaJuevesJuezJugadorJugoJugueteJuicioJuncoJunglaJunioJuntarJu/piterJurarJustoJuvenilJuzgarKiloKoalaLabioLacioLacraLadoLadro/nLagartoLa/grimaLagunaLaicoLamerLa/minaLa/mparaLanaLanchaLangostaLanzaLa/pizLargoLarvaLa/stimaLataLa/texLatirLaurelLavarLazoLealLeccio/nLecheLectorLeerLegio/nLegumbreLejanoLenguaLentoLe~aLeo/nLeopardoLesio/nLetalLetraLeveLeyendaLibertadLibroLicorLi/derLidiarLienzoLigaLigeroLimaLi/miteLimo/nLimpioLinceLindoLi/neaLingoteLinoLinternaLi/quidoLisoListaLiteraLitioLitroLlagaLlamaLlantoLlaveLlegarLlenarLlevarLlorarLloverLluviaLoboLocio/nLocoLocuraLo/gicaLogroLombrizLomoLonjaLoteLuchaLucirLugarLujoLunaLunesLupaLustroLutoLuzMacetaMachoMaderaMadreMaduroMaestroMafiaMagiaMagoMai/zMaldadMaletaMallaMaloMama/MamboMamutMancoMandoManejarMangaManiqui/ManjarManoMansoMantaMa~anaMapaMa/quinaMarMarcoMareaMarfilMargenMaridoMa/rmolMarro/nMartesMarzoMasaMa/scaraMasivoMatarMateriaMatizMatrizMa/ximoMayorMazorcaMechaMedallaMedioMe/dulaMejillaMejorMelenaMelo/nMemoriaMenorMensajeMenteMenu/MercadoMerengueMe/ritoMesMeso/nMetaMeterMe/todoMetroMezclaMiedoMielMiembroMigaMilMilagroMilitarMillo/nMimoMinaMineroMi/nimoMinutoMiopeMirarMisaMiseriaMisilMismoMitadMitoMochilaMocio/nModaModeloMohoMojarMoldeMolerMolinoMomentoMomiaMonarcaMonedaMonjaMontoMo~oMoradaMorderMorenoMorirMorroMorsaMortalMoscaMostrarMotivoMoverMo/vilMozoMuchoMudarMuebleMuelaMuerteMuestraMugreMujerMulaMuletaMultaMundoMu~ecaMuralMuroMu/sculoMuseoMusgoMu/sicaMusloNa/carNacio/nNadarNaipeNaranjaNarizNarrarNasalNatalNativoNaturalNa/useaNavalNaveNavidadNecioNe/ctarNegarNegocioNegroNeo/nNervioNetoNeutroNevarNeveraNichoNidoNieblaNietoNi~ezNi~oNi/tidoNivelNoblezaNocheNo/minaNoriaNormaNorteNotaNoticiaNovatoNovelaNovioNubeNucaNu/cleoNudilloNudoNueraNueveNuezNuloNu/meroNutriaOasisObesoObispoObjetoObraObreroObservarObtenerObvioOcaOcasoOce/anoOchentaOchoOcioOcreOctavoOctubreOcultoOcuparOcurrirOdiarOdioOdiseaOesteOfensaOfertaOficioOfrecerOgroOi/doOi/rOjoOlaOleadaOlfatoOlivoOllaOlmoOlorOlvidoOmbligoOndaOnzaOpacoOpcio/nO/peraOpinarOponerOptarO/pticaOpuestoOracio/nOradorOralO/rbitaOrcaOrdenOrejaO/rganoOrgi/aOrgulloOrienteOrigenOrillaOroOrquestaOrugaOsadi/aOscuroOseznoOsoOstraOto~oOtroOvejaO/vuloO/xidoOxi/genoOyenteOzonoPactoPadrePaellaPa/ginaPagoPai/sPa/jaroPalabraPalcoPaletaPa/lidoPalmaPalomaPalparPanPanalPa/nicoPanteraPa~ueloPapa/PapelPapillaPaquetePararParcelaParedParirParoPa/rpadoParquePa/rrafoPartePasarPaseoPasio/nPasoPastaPataPatioPatriaPausaPautaPavoPayasoPeato/nPecadoPeceraPechoPedalPedirPegarPeinePelarPelda~oPeleaPeligroPellejoPeloPelucaPenaPensarPe~o/nPeo/nPeorPepinoPeque~oPeraPerchaPerderPerezaPerfilPericoPerlaPermisoPerroPersonaPesaPescaPe/simoPesta~aPe/taloPetro/leoPezPezu~aPicarPicho/nPiePiedraPiernaPiezaPijamaPilarPilotoPimientaPinoPintorPinzaPi~aPiojoPipaPirataPisarPiscinaPisoPistaPito/nPizcaPlacaPlanPlataPlayaPlazaPleitoPlenoPlomoPlumaPluralPobrePocoPoderPodioPoemaPoesi/aPoetaPolenPolici/aPolloPolvoPomadaPomeloPomoPompaPonerPorcio/nPortalPosadaPoseerPosiblePostePotenciaPotroPozoPradoPrecozPreguntaPremioPrensaPresoPrevioPrimoPri/ncipePrisio/nPrivarProaProbarProcesoProductoProezaProfesorProgramaProlePromesaProntoPropioPro/ximoPruebaPu/blicoPucheroPudorPuebloPuertaPuestoPulgaPulirPulmo/nPulpoPulsoPumaPuntoPu~alPu~oPupaPupilaPure/QuedarQuejaQuemarQuererQuesoQuietoQui/micaQuinceQuitarRa/banoRabiaRaboRacio/nRadicalRai/zRamaRampaRanchoRangoRapazRa/pidoRaptoRasgoRaspaRatoRayoRazaRazo/nReaccio/nRealidadReba~oReboteRecaerRecetaRechazoRecogerRecreoRectoRecursoRedRedondoReducirReflejoReformaRefra/nRefugioRegaloRegirReglaRegresoRehe/nReinoRei/rRejaRelatoRelevoRelieveRellenoRelojRemarRemedioRemoRencorRendirRentaRepartoRepetirReposoReptilResRescateResinaRespetoRestoResumenRetiroRetornoRetratoReunirReve/sRevistaReyRezarRicoRiegoRiendaRiesgoRifaRi/gidoRigorRinco/nRi~o/nRi/oRiquezaRisaRitmoRitoRizoRobleRoceRociarRodarRodeoRodillaRoerRojizoRojoRomeroRomperRonRoncoRondaRopaRoperoRosaRoscaRostroRotarRubi/RuborRudoRuedaRugirRuidoRuinaRuletaRuloRumboRumorRupturaRutaRutinaSa/badoSaberSabioSableSacarSagazSagradoSalaSaldoSaleroSalirSalmo/nSalo/nSalsaSaltoSaludSalvarSambaSancio/nSandi/aSanearSangreSanidadSanoSantoSapoSaqueSardinaSarte/nSastreSata/nSaunaSaxofo/nSeccio/nSecoSecretoSectaSedSeguirSeisSelloSelvaSemanaSemillaSendaSensorSe~alSe~orSepararSepiaSequi/aSerSerieSermo/nServirSesentaSesio/nSetaSetentaSeveroSexoSextoSidraSiestaSieteSigloSignoSi/labaSilbarSilencioSillaSi/mboloSimioSirenaSistemaSitioSituarSobreSocioSodioSolSolapaSoldadoSoledadSo/lidoSoltarSolucio/nSombraSondeoSonidoSonoroSonrisaSopaSoplarSoporteSordoSorpresaSorteoSoste/nSo/tanoSuaveSubirSucesoSudorSuegraSueloSue~oSuerteSufrirSujetoSulta/nSumarSuperarSuplirSuponerSupremoSurSurcoSure~oSurgirSustoSutilTabacoTabiqueTablaTabu/TacoTactoTajoTalarTalcoTalentoTallaTalo/nTama~oTamborTangoTanqueTapaTapeteTapiaTapo/nTaquillaTardeTareaTarifaTarjetaTarotTarroTartaTatuajeTauroTazaTazo/nTeatroTechoTeclaTe/cnicaTejadoTejerTejidoTelaTele/fonoTemaTemorTemploTenazTenderTenerTenisTensoTeori/aTerapiaTercoTe/rminoTernuraTerrorTesisTesoroTestigoTeteraTextoTezTibioTiburo/nTiempoTiendaTierraTiesoTigreTijeraTildeTimbreTi/midoTimoTintaTi/oTi/picoTipoTiraTiro/nTita/nTi/tereTi/tuloTizaToallaTobilloTocarTocinoTodoTogaToldoTomarTonoTontoToparTopeToqueTo/raxToreroTormentaTorneoToroTorpedoTorreTorsoTortugaTosToscoToserTo/xicoTrabajoTractorTraerTra/ficoTragoTrajeTramoTranceTratoTraumaTrazarTre/bolTreguaTreintaTrenTreparTresTribuTrigoTripaTristeTriunfoTrofeoTrompaTroncoTropaTroteTrozoTrucoTruenoTrufaTuberi/aTuboTuertoTumbaTumorTu/nelTu/nicaTurbinaTurismoTurnoTutorUbicarU/lceraUmbralUnidadUnirUniversoUnoUntarU~aUrbanoUrbeUrgenteUrnaUsarUsuarioU/tilUtopi/aUvaVacaVaci/oVacunaVagarVagoVainaVajillaValeVa/lidoValleValorVa/lvulaVampiroVaraVariarVaro/nVasoVecinoVectorVehi/culoVeinteVejezVelaVeleroVelozVenaVencerVendaVenenoVengarVenirVentaVenusVerVeranoVerboVerdeVeredaVerjaVersoVerterVi/aViajeVibrarVicioVi/ctimaVidaVi/deoVidrioViejoViernesVigorVilVillaVinagreVinoVi~edoVioli/nViralVirgoVirtudVisorVi/speraVistaVitaminaViudoVivazViveroVivirVivoVolca/nVolumenVolverVorazVotarVotoVozVueloVulgarYacerYateYeguaYemaYernoYesoYodoYogaYogurZafiroZanjaZapatoZarzaZonaZorroZumoZurdo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ").map(e=>function(e){var t=[];return Array.prototype.forEach.call(Object(R.f)(e),e=>{47===e?(t.push(204),t.push(129)):126===e?(t.push(110),t.push(204),t.push(131)):t.push(e)}),Object(R.h)(t)}(e))).forEach((e,t)=>{Dt[jt(e)]=t}),"0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300"!==It.check(e)))throw Vt=null,new Error("BIP39 Wordlist for es (Spanish) FAILED")}var qt=new class extends It{constructor(){super("es")}getWord(e){return Ut(this),Vt[e]}getWordIndex(e){return Ut(this),Dt[jt(e)]}};It.register(qt);var Gt=null,Ht={};function zt(e){return Ct.checkNormalize(),Object(R.h)(Array.prototype.filter.call(Object(R.f)(e.normalize("NFD").toLowerCase()),e=>e>=65&&e<=90||e>=97&&e<=123))}function Kt(e){if(null==Gt&&((Gt="AbaisserAbandonAbdiquerAbeilleAbolirAborderAboutirAboyerAbrasifAbreuverAbriterAbrogerAbruptAbsenceAbsoluAbsurdeAbusifAbyssalAcade/mieAcajouAcarienAccablerAccepterAcclamerAccoladeAccrocheAccuserAcerbeAchatAcheterAcidulerAcierAcompteAcque/rirAcronymeActeurActifActuelAdepteAde/quatAdhe/sifAdjectifAdjugerAdmettreAdmirerAdopterAdorerAdoucirAdresseAdroitAdulteAdverbeAe/rerAe/ronefAffaireAffecterAfficheAffreuxAffublerAgacerAgencerAgileAgiterAgraferAgre/ableAgrumeAiderAiguilleAilierAimableAisanceAjouterAjusterAlarmerAlchimieAlerteAlge-breAlgueAlie/nerAlimentAlle/gerAlliageAllouerAllumerAlourdirAlpagaAltesseAlve/oleAmateurAmbiguAmbreAme/nagerAmertumeAmidonAmiralAmorcerAmourAmovibleAmphibieAmpleurAmusantAnalyseAnaphoreAnarchieAnatomieAncienAne/antirAngleAngoisseAnguleuxAnimalAnnexerAnnonceAnnuelAnodinAnomalieAnonymeAnormalAntenneAntidoteAnxieuxApaiserApe/ritifAplanirApologieAppareilAppelerApporterAppuyerAquariumAqueducArbitreArbusteArdeurArdoiseArgentArlequinArmatureArmementArmoireArmureArpenterArracherArriverArroserArsenicArte/rielArticleAspectAsphalteAspirerAssautAsservirAssietteAssocierAssurerAsticotAstreAstuceAtelierAtomeAtriumAtroceAttaqueAttentifAttirerAttraperAubaineAubergeAudaceAudibleAugurerAuroreAutomneAutrucheAvalerAvancerAvariceAvenirAverseAveugleAviateurAvideAvionAviserAvoineAvouerAvrilAxialAxiomeBadgeBafouerBagageBaguetteBaignadeBalancerBalconBaleineBalisageBambinBancaireBandageBanlieueBannie-reBanquierBarbierBarilBaronBarqueBarrageBassinBastionBatailleBateauBatterieBaudrierBavarderBeletteBe/lierBeloteBe/ne/ficeBerceauBergerBerlineBermudaBesaceBesogneBe/tailBeurreBiberonBicycleBiduleBijouBilanBilingueBillardBinaireBiologieBiopsieBiotypeBiscuitBisonBistouriBitumeBizarreBlafardBlagueBlanchirBlessantBlinderBlondBloquerBlousonBobardBobineBoireBoiserBolideBonbonBondirBonheurBonifierBonusBordureBorneBotteBoucleBoueuxBougieBoulonBouquinBourseBoussoleBoutiqueBoxeurBrancheBrasierBraveBrebisBre-cheBreuvageBricolerBrigadeBrillantBriocheBriqueBrochureBroderBronzerBrousseBroyeurBrumeBrusqueBrutalBruyantBuffleBuissonBulletinBureauBurinBustierButinerButoirBuvableBuvetteCabanonCabineCachetteCadeauCadreCafe/ineCaillouCaissonCalculerCalepinCalibreCalmerCalomnieCalvaireCamaradeCame/raCamionCampagneCanalCanetonCanonCantineCanularCapableCaporalCapriceCapsuleCapterCapucheCarabineCarboneCaresserCaribouCarnageCarotteCarreauCartonCascadeCasierCasqueCassureCauserCautionCavalierCaverneCaviarCe/dilleCeintureCe/lesteCelluleCendrierCensurerCentralCercleCe/re/bralCeriseCernerCerveauCesserChagrinChaiseChaleurChambreChanceChapitreCharbonChasseurChatonChaussonChavirerChemiseChenilleChe/quierChercherChevalChienChiffreChignonChime-reChiotChlorureChocolatChoisirChoseChouetteChromeChuteCigareCigogneCimenterCine/maCintrerCirculerCirerCirqueCiterneCitoyenCitronCivilClaironClameurClaquerClasseClavierClientClignerClimatClivageClocheClonageCloporteCobaltCobraCocasseCocotierCoderCodifierCoffreCognerCohe/sionCoifferCoincerCole-reColibriCollineColmaterColonelCombatCome/dieCommandeCompactConcertConduireConfierCongelerConnoterConsonneContactConvexeCopainCopieCorailCorbeauCordageCornicheCorpusCorrectCorte-geCosmiqueCostumeCotonCoudeCoupureCourageCouteauCouvrirCoyoteCrabeCrainteCravateCrayonCre/atureCre/diterCre/meuxCreuserCrevetteCriblerCrierCristalCrite-reCroireCroquerCrotaleCrucialCruelCrypterCubiqueCueillirCuille-reCuisineCuivreCulminerCultiverCumulerCupideCuratifCurseurCyanureCycleCylindreCyniqueDaignerDamierDangerDanseurDauphinDe/battreDe/biterDe/borderDe/briderDe/butantDe/calerDe/cembreDe/chirerDe/ciderDe/clarerDe/corerDe/crireDe/cuplerDe/daleDe/ductifDe/esseDe/fensifDe/filerDe/frayerDe/gagerDe/givrerDe/glutirDe/graferDe/jeunerDe/liceDe/logerDemanderDemeurerDe/molirDe/nicherDe/nouerDentelleDe/nuderDe/partDe/penserDe/phaserDe/placerDe/poserDe/rangerDe/roberDe/sastreDescenteDe/sertDe/signerDe/sobe/irDessinerDestrierDe/tacherDe/testerDe/tourerDe/tresseDevancerDevenirDevinerDevoirDiableDialogueDiamantDicterDiffe/rerDige/rerDigitalDigneDiluerDimancheDiminuerDioxydeDirectifDirigerDiscuterDisposerDissiperDistanceDivertirDiviserDocileDocteurDogmeDoigtDomaineDomicileDompterDonateurDonjonDonnerDopamineDortoirDorureDosageDoseurDossierDotationDouanierDoubleDouceurDouterDoyenDragonDraperDresserDribblerDroitureDuperieDuplexeDurableDurcirDynastieE/blouirE/carterE/charpeE/chelleE/clairerE/clipseE/cloreE/cluseE/coleE/conomieE/corceE/couterE/craserE/cre/merE/crivainE/crouE/cumeE/cureuilE/difierE/duquerEffacerEffectifEffigieEffortEffrayerEffusionE/galiserE/garerE/jecterE/laborerE/largirE/lectronE/le/gantE/le/phantE/le-veE/ligibleE/litismeE/logeE/luciderE/luderEmballerEmbellirEmbryonE/meraudeE/missionEmmenerE/motionE/mouvoirEmpereurEmployerEmporterEmpriseE/mulsionEncadrerEnche-reEnclaveEncocheEndiguerEndosserEndroitEnduireE/nergieEnfanceEnfermerEnfouirEngagerEnginEngloberE/nigmeEnjamberEnjeuEnleverEnnemiEnnuyeuxEnrichirEnrobageEnseigneEntasserEntendreEntierEntourerEntraverE/nume/rerEnvahirEnviableEnvoyerEnzymeE/olienE/paissirE/pargneE/patantE/pauleE/picerieE/pide/mieE/pierE/pilogueE/pineE/pisodeE/pitapheE/poqueE/preuveE/prouverE/puisantE/querreE/quipeE/rigerE/rosionErreurE/ruptionEscalierEspadonEspe-ceEspie-gleEspoirEspritEsquiverEssayerEssenceEssieuEssorerEstimeEstomacEstradeE/tage-reE/talerE/tancheE/tatiqueE/teindreE/tendoirE/ternelE/thanolE/thiqueEthnieE/tirerE/tofferE/toileE/tonnantE/tourdirE/trangeE/troitE/tudeEuphorieE/valuerE/vasionE/ventailE/videnceE/viterE/volutifE/voquerExactExage/rerExaucerExcellerExcitantExclusifExcuseExe/cuterExempleExercerExhalerExhorterExigenceExilerExisterExotiqueExpe/dierExplorerExposerExprimerExquisExtensifExtraireExulterFableFabuleuxFacetteFacileFactureFaiblirFalaiseFameuxFamilleFarceurFarfeluFarineFaroucheFascinerFatalFatigueFauconFautifFaveurFavoriFe/brileFe/conderFe/de/rerFe/linFemmeFe/murFendoirFe/odalFermerFe/roceFerveurFestivalFeuilleFeutreFe/vrierFiascoFicelerFictifFide-leFigureFilatureFiletageFilie-reFilleulFilmerFilouFiltrerFinancerFinirFioleFirmeFissureFixerFlairerFlammeFlasqueFlatteurFle/auFle-cheFleurFlexionFloconFloreFluctuerFluideFluvialFolieFonderieFongibleFontaineForcerForgeronFormulerFortuneFossileFoudreFouge-reFouillerFoulureFourmiFragileFraiseFranchirFrapperFrayeurFre/gateFreinerFrelonFre/mirFre/ne/sieFre-reFriableFrictionFrissonFrivoleFroidFromageFrontalFrotterFruitFugitifFuiteFureurFurieuxFurtifFusionFuturGagnerGalaxieGalerieGambaderGarantirGardienGarnirGarrigueGazelleGazonGe/antGe/latineGe/luleGendarmeGe/ne/ralGe/nieGenouGentilGe/ologieGe/ome-treGe/raniumGermeGestuelGeyserGibierGiclerGirafeGivreGlaceGlaiveGlisserGlobeGloireGlorieuxGolfeurGommeGonflerGorgeGorilleGoudronGouffreGoulotGoupilleGourmandGoutteGraduelGraffitiGraineGrandGrappinGratuitGravirGrenatGriffureGrillerGrimperGrognerGronderGrotteGroupeGrugerGrutierGruye-reGue/pardGuerrierGuideGuimauveGuitareGustatifGymnasteGyrostatHabitudeHachoirHalteHameauHangarHannetonHaricotHarmonieHarponHasardHe/liumHe/matomeHerbeHe/rissonHermineHe/ronHe/siterHeureuxHibernerHibouHilarantHistoireHiverHomardHommageHomoge-neHonneurHonorerHonteuxHordeHorizonHorlogeHormoneHorribleHouleuxHousseHublotHuileuxHumainHumbleHumideHumourHurlerHydromelHygie-neHymneHypnoseIdylleIgnorerIguaneIlliciteIllusionImageImbiberImiterImmenseImmobileImmuableImpactImpe/rialImplorerImposerImprimerImputerIncarnerIncendieIncidentInclinerIncoloreIndexerIndiceInductifIne/ditIneptieInexactInfiniInfligerInformerInfusionInge/rerInhalerInhiberInjecterInjureInnocentInoculerInonderInscrireInsecteInsigneInsoliteInspirerInstinctInsulterIntactIntenseIntimeIntrigueIntuitifInutileInvasionInventerInviterInvoquerIroniqueIrradierIrre/elIrriterIsolerIvoireIvresseJaguarJaillirJambeJanvierJardinJaugerJauneJavelotJetableJetonJeudiJeunesseJoindreJoncherJonglerJoueurJouissifJournalJovialJoyauJoyeuxJubilerJugementJuniorJuponJuristeJusticeJuteuxJuve/nileKayakKimonoKiosqueLabelLabialLabourerLace/rerLactoseLaguneLaineLaisserLaitierLambeauLamelleLampeLanceurLangageLanterneLapinLargeurLarmeLaurierLavaboLavoirLectureLe/galLe/gerLe/gumeLessiveLettreLevierLexiqueLe/zardLiasseLibe/rerLibreLicenceLicorneLie-geLie-vreLigatureLigoterLigueLimerLimiteLimonadeLimpideLine/aireLingotLionceauLiquideLisie-reListerLithiumLitigeLittoralLivreurLogiqueLointainLoisirLombricLoterieLouerLourdLoutreLouveLoyalLubieLucideLucratifLueurLugubreLuisantLumie-reLunaireLundiLuronLutterLuxueuxMachineMagasinMagentaMagiqueMaigreMaillonMaintienMairieMaisonMajorerMalaxerMale/ficeMalheurMaliceMalletteMammouthMandaterManiableManquantManteauManuelMarathonMarbreMarchandMardiMaritimeMarqueurMarronMartelerMascotteMassifMate/rielMatie-reMatraqueMaudireMaussadeMauveMaximalMe/chantMe/connuMe/dailleMe/decinMe/diterMe/duseMeilleurMe/langeMe/lodieMembreMe/moireMenacerMenerMenhirMensongeMentorMercrediMe/riteMerleMessagerMesureMe/talMe/te/oreMe/thodeMe/tierMeubleMiaulerMicrobeMietteMignonMigrerMilieuMillionMimiqueMinceMine/ralMinimalMinorerMinuteMiracleMiroiterMissileMixteMobileModerneMoelleuxMondialMoniteurMonnaieMonotoneMonstreMontagneMonumentMoqueurMorceauMorsureMortierMoteurMotifMoucheMoufleMoulinMoussonMoutonMouvantMultipleMunitionMurailleMure-neMurmureMuscleMuse/umMusicienMutationMuterMutuelMyriadeMyrtilleMyste-reMythiqueNageurNappeNarquoisNarrerNatationNationNatureNaufrageNautiqueNavireNe/buleuxNectarNe/fasteNe/gationNe/gligerNe/gocierNeigeNerveuxNettoyerNeuroneNeutronNeveuNicheNickelNitrateNiveauNobleNocifNocturneNoirceurNoisetteNomadeNombreuxNommerNormatifNotableNotifierNotoireNourrirNouveauNovateurNovembreNoviceNuageNuancerNuireNuisibleNume/roNuptialNuqueNutritifObe/irObjectifObligerObscurObserverObstacleObtenirObturerOccasionOccuperOce/anOctobreOctroyerOctuplerOculaireOdeurOdorantOffenserOfficierOffrirOgiveOiseauOisillonOlfactifOlivierOmbrageOmettreOnctueuxOndulerOne/reuxOniriqueOpaleOpaqueOpe/rerOpinionOpportunOpprimerOpterOptiqueOrageuxOrangeOrbiteOrdonnerOreilleOrganeOrgueilOrificeOrnementOrqueOrtieOscillerOsmoseOssatureOtarieOuraganOursonOutilOutragerOuvrageOvationOxydeOxyge-neOzonePaisiblePalacePalmare-sPalourdePalperPanachePandaPangolinPaniquerPanneauPanoramaPantalonPapayePapierPapoterPapyrusParadoxeParcelleParesseParfumerParlerParoleParrainParsemerPartagerParureParvenirPassionPaste-quePaternelPatiencePatronPavillonPavoiserPayerPaysagePeignePeintrePelagePe/licanPellePelousePeluchePendulePe/ne/trerPe/niblePensifPe/nuriePe/pitePe/plumPerdrixPerforerPe/riodePermuterPerplexePersilPertePeserPe/talePetitPe/trirPeuplePharaonPhobiePhoquePhotonPhrasePhysiquePianoPicturalPie-cePierrePieuvrePilotePinceauPipettePiquerPiroguePiscinePistonPivoterPixelPizzaPlacardPlafondPlaisirPlanerPlaquePlastronPlateauPleurerPlexusPliagePlombPlongerPluiePlumagePochettePoe/siePoe-tePointePoirierPoissonPoivrePolairePolicierPollenPolygonePommadePompierPonctuelPonde/rerPoneyPortiquePositionPosse/derPosturePotagerPoteauPotionPoucePoulainPoumonPourprePoussinPouvoirPrairiePratiquePre/cieuxPre/direPre/fixePre/ludePre/nomPre/sencePre/textePre/voirPrimitifPrincePrisonPriverProble-meProce/derProdigeProfondProgre-sProieProjeterProloguePromenerPropreProspe-reProte/gerProuesseProverbePrudencePruneauPsychosePublicPuceronPuiserPulpePulsarPunaisePunitifPupitrePurifierPuzzlePyramideQuasarQuerelleQuestionQuie/tudeQuitterQuotientRacineRaconterRadieuxRagondinRaideurRaisinRalentirRallongeRamasserRapideRasageRatisserRavagerRavinRayonnerRe/actifRe/agirRe/aliserRe/animerRecevoirRe/citerRe/clamerRe/colterRecruterReculerRecyclerRe/digerRedouterRefaireRe/flexeRe/formerRefrainRefugeRe/galienRe/gionRe/glageRe/gulierRe/ite/rerRejeterRejouerRelatifReleverReliefRemarqueReme-deRemiseRemonterRemplirRemuerRenardRenfortReniflerRenoncerRentrerRenvoiReplierReporterRepriseReptileRequinRe/serveRe/sineuxRe/soudreRespectResterRe/sultatRe/tablirRetenirRe/ticuleRetomberRetracerRe/unionRe/ussirRevancheRevivreRe/volteRe/vulsifRichesseRideauRieurRigideRigolerRincerRiposterRisibleRisqueRituelRivalRivie-reRocheuxRomanceRompreRonceRondinRoseauRosierRotatifRotorRotuleRougeRouilleRouleauRoutineRoyaumeRubanRubisRucheRuelleRugueuxRuinerRuisseauRuserRustiqueRythmeSablerSaboterSabreSacocheSafariSagesseSaisirSaladeSaliveSalonSaluerSamediSanctionSanglierSarcasmeSardineSaturerSaugrenuSaumonSauterSauvageSavantSavonnerScalpelScandaleSce/le/ratSce/narioSceptreSche/maScienceScinderScoreScrutinSculpterSe/anceSe/cableSe/cherSecouerSe/cre/terSe/datifSe/duireSeigneurSe/jourSe/lectifSemaineSemblerSemenceSe/minalSe/nateurSensibleSentenceSe/parerSe/quenceSereinSergentSe/rieuxSerrureSe/rumServiceSe/sameSe/virSevrageSextupleSide/ralSie-cleSie/gerSifflerSigleSignalSilenceSiliciumSimpleSince-reSinistreSiphonSiropSismiqueSituerSkierSocialSocleSodiumSoigneuxSoldatSoleilSolitudeSolubleSombreSommeilSomnolerSondeSongeurSonnetteSonoreSorcierSortirSosieSottiseSoucieuxSoudureSouffleSouleverSoupapeSourceSoutirerSouvenirSpacieuxSpatialSpe/cialSphe-reSpiralStableStationSternumStimulusStipulerStrictStudieuxStupeurStylisteSublimeSubstratSubtilSubvenirSucce-sSucreSuffixeSugge/rerSuiveurSulfateSuperbeSupplierSurfaceSuricateSurmenerSurpriseSursautSurvieSuspectSyllabeSymboleSyme/trieSynapseSyntaxeSyste-meTabacTablierTactileTaillerTalentTalismanTalonnerTambourTamiserTangibleTapisTaquinerTarderTarifTartineTasseTatamiTatouageTaupeTaureauTaxerTe/moinTemporelTenailleTendreTeneurTenirTensionTerminerTerneTerribleTe/tineTexteThe-meThe/orieThe/rapieThoraxTibiaTie-deTimideTirelireTiroirTissuTitaneTitreTituberTobogganTole/rantTomateToniqueTonneauToponymeTorcheTordreTornadeTorpilleTorrentTorseTortueTotemToucherTournageTousserToxineTractionTraficTragiqueTrahirTrainTrancherTravailTre-fleTremperTre/sorTreuilTriageTribunalTricoterTrilogieTriompheTriplerTriturerTrivialTromboneTroncTropicalTroupeauTuileTulipeTumulteTunnelTurbineTuteurTutoyerTuyauTympanTyphonTypiqueTyranUbuesqueUltimeUltrasonUnanimeUnifierUnionUniqueUnitaireUniversUraniumUrbainUrticantUsageUsineUsuelUsureUtileUtopieVacarmeVaccinVagabondVagueVaillantVaincreVaisseauValableValiseVallonValveVampireVanilleVapeurVarierVaseuxVassalVasteVecteurVedetteVe/ge/talVe/hiculeVeinardVe/loceVendrediVe/ne/rerVengerVenimeuxVentouseVerdureVe/rinVernirVerrouVerserVertuVestonVe/te/ranVe/tusteVexantVexerViaducViandeVictoireVidangeVide/oVignetteVigueurVilainVillageVinaigreViolonVipe-reVirementVirtuoseVirusVisageViseurVisionVisqueuxVisuelVitalVitesseViticoleVitrineVivaceVivipareVocationVoguerVoileVoisinVoitureVolailleVolcanVoltigerVolumeVoraceVortexVoterVouloirVoyageVoyelleWagonXe/nonYachtZe-breZe/nithZesteZoologie".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ").map(e=>function(e){var t=[];return Array.prototype.forEach.call(Object(R.f)(e),e=>{47===e?(t.push(204),t.push(129)):45===e?(t.push(204),t.push(128)):t.push(e)}),Object(R.h)(t)}(e))).forEach((e,t)=>{Ht[zt(e)]=t}),"0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045"!==It.check(e)))throw Gt=null,new Error("BIP39 Wordlist for fr (French) FAILED")}var Jt=new class extends It{constructor(){super("fr")}getWord(e){return Kt(this),Gt[e]}getWordIndex(e){return Kt(this),Ht[zt(e)]}};It.register(Jt);var Xt=["AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR","ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR","AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm","ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC","BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD","QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD","IJBEJqXZJ"],Wt=null;function Zt(e){return Object(u.i)(Object(R.f)(e))}function Yt(e){if(null===Wt){Wt=[];var t={};t[Object(R.h)([227,130,154])]=!1,t[Object(R.h)([227,130,153])]=!1,t[Object(R.h)([227,130,133])]=Object(R.h)([227,130,134]),t[Object(R.h)([227,129,163])]=Object(R.h)([227,129,164]),t[Object(R.h)([227,130,131])]=Object(R.h)([227,130,132]),t[Object(R.h)([227,130,135])]=Object(R.h)([227,130,136]);for(var r=3;r<=9;r++)for(var n=Xt[r-3],a=0;a<n.length;a+=r){for(var i=[],s=0;s<r;s++){var o="~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt".indexOf(n[a+s]);i.push(227),i.push(64&o?130:129),i.push(128+(63&o))}Wt.push(Object(R.h)(i))}if(Wt.sort((function(e,t){return(e=u(e))<(t=u(t))?-1:e>t?1:0})),"0xe3818de38284e3818f"===Zt(Wt[442])&&"0xe3818de38283e3818f"===Zt(Wt[443])){var c=Wt[442];Wt[442]=Wt[443],Wt[443]=c}if("0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600"!==It.check(e))throw Wt=null,new Error("BIP39 Wordlist for ja (Japanese) FAILED")}function u(e){for(var r="",n=0;n<e.length;n++){var a=e[n],i=t[a];!1!==i&&(i&&(a=i),r+=a)}return r}}var Qt=new class extends It{constructor(){super("ja")}getWord(e){return Yt(this),Wt[e]}getWordIndex(e){return Yt(this),Wt.indexOf(e)}split(e){return Ct.checkNormalize(),e.split(/(?:\u3000| )+/g)}join(e){return e.join("\u3000")}};It.register(Qt);var $t=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"];var er=null;function tr(e){if(null==er&&(er=[],$t.forEach((e,t)=>{t+=4;for(var r=0;r<e.length;r+=t){for(var n="",a=0;a<t;a++)n+=((i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*".indexOf(e[r+a]))>=40?i=i+168-40:i>=19&&(i=i+97-19),Object(R.h)([225,132+(i>>6),128+(63&i)]));er.push(n)}var i}),er.sort(),"0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a"!==It.check(e)))throw er=null,new Error("BIP39 Wordlist for ko (Korean) FAILED")}var rr=new class extends It{constructor(){super("ko")}getWord(e){return tr(this),er[e]}getWordIndex(e){return tr(this),er.indexOf(e)}};It.register(rr);var nr=null;function ar(e){if(null==nr&&(nr="AbacoAbbaglioAbbinatoAbeteAbissoAbolireAbrasivoAbrogatoAccadereAccennoAccusatoAcetoneAchilleAcidoAcquaAcreAcrilicoAcrobataAcutoAdagioAddebitoAddomeAdeguatoAderireAdipeAdottareAdulareAffabileAffettoAffissoAffrantoAforismaAfosoAfricanoAgaveAgenteAgevoleAggancioAgireAgitareAgonismoAgricoloAgrumetoAguzzoAlabardaAlatoAlbatroAlberatoAlboAlbumeAlceAlcolicoAlettoneAlfaAlgebraAlianteAlibiAlimentoAllagatoAllegroAllievoAllodolaAllusivoAlmenoAlogenoAlpacaAlpestreAltalenaAlternoAlticcioAltroveAlunnoAlveoloAlzareAmalgamaAmanitaAmarenaAmbitoAmbratoAmebaAmericaAmetistaAmicoAmmassoAmmendaAmmirareAmmonitoAmoreAmpioAmpliareAmuletoAnacardoAnagrafeAnalistaAnarchiaAnatraAncaAncellaAncoraAndareAndreaAnelloAngeloAngolareAngustoAnimaAnnegareAnnidatoAnnoAnnuncioAnonimoAnticipoAnziApaticoAperturaApodeApparireAppetitoAppoggioApprodoAppuntoAprileArabicaArachideAragostaAraldicaArancioAraturaArazzoArbitroArchivioArditoArenileArgentoArgineArgutoAriaArmoniaArneseArredatoArringaArrostoArsenicoArsoArteficeArzilloAsciuttoAscoltoAsepsiAsetticoAsfaltoAsinoAsolaAspiratoAsproAssaggioAsseAssolutoAssurdoAstaAstenutoAsticeAstrattoAtavicoAteismoAtomicoAtonoAttesaAttivareAttornoAttritoAttualeAusilioAustriaAutistaAutonomoAutunnoAvanzatoAvereAvvenireAvvisoAvvolgereAzioneAzotoAzzimoAzzurroBabeleBaccanoBacinoBacoBadessaBadilataBagnatoBaitaBalconeBaldoBalenaBallataBalzanoBambinoBandireBaraondaBarbaroBarcaBaritonoBarlumeBaroccoBasilicoBassoBatostaBattutoBauleBavaBavosaBeccoBeffaBelgioBelvaBendaBenevoleBenignoBenzinaBereBerlinaBetaBibitaBiciBidoneBifidoBigaBilanciaBimboBinocoloBiologoBipedeBipolareBirbanteBirraBiscottoBisestoBisnonnoBisonteBisturiBizzarroBlandoBlattaBollitoBonificoBordoBoscoBotanicoBottinoBozzoloBraccioBradipoBramaBrancaBravuraBretellaBrevettoBrezzaBrigliaBrillanteBrindareBroccoloBrodoBronzinaBrulloBrunoBubboneBucaBudinoBuffoneBuioBulboBuonoBurloneBurrascaBussolaBustaCadettoCaducoCalamaroCalcoloCalesseCalibroCalmoCaloriaCambusaCamerataCamiciaCamminoCamolaCampaleCanapaCandelaCaneCaninoCanottoCantinaCapaceCapelloCapitoloCapogiroCapperoCapraCapsulaCarapaceCarcassaCardoCarismaCarovanaCarrettoCartolinaCasaccioCascataCasermaCasoCassoneCastelloCasualeCatastaCatenaCatrameCautoCavilloCedibileCedrataCefaloCelebreCellulareCenaCenoneCentesimoCeramicaCercareCertoCerumeCervelloCesoiaCespoCetoChelaChiaroChiccaChiedereChimeraChinaChirurgoChitarraCiaoCiclismoCifrareCignoCilindroCiottoloCircaCirrosiCitricoCittadinoCiuffoCivettaCivileClassicoClinicaCloroCoccoCodardoCodiceCoerenteCognomeCollareColmatoColoreColposoColtivatoColzaComaCometaCommandoComodoComputerComuneConcisoCondurreConfermaCongelareConiugeConnessoConoscereConsumoContinuoConvegnoCopertoCopioneCoppiaCopricapoCorazzaCordataCoricatoCorniceCorollaCorpoCorredoCorsiaCorteseCosmicoCostanteCotturaCovatoCratereCravattaCreatoCredereCremosoCrescitaCretaCricetoCrinaleCrisiCriticoCroceCronacaCrostataCrucialeCruscaCucireCuculoCuginoCullatoCupolaCuratoreCursoreCurvoCuscinoCustodeDadoDainoDalmataDamerinoDanielaDannosoDanzareDatatoDavantiDavveroDebuttoDecennioDecisoDeclinoDecolloDecretoDedicatoDefinitoDeformeDegnoDelegareDelfinoDelirioDeltaDemenzaDenotatoDentroDepositoDerapataDerivareDerogaDescrittoDesertoDesiderioDesumereDetersivoDevotoDiametroDicembreDiedroDifesoDiffusoDigerireDigitaleDiluvioDinamicoDinnanziDipintoDiplomaDipoloDiradareDireDirottoDirupoDisagioDiscretoDisfareDisgeloDispostoDistanzaDisumanoDitoDivanoDiveltoDividereDivoratoDobloneDocenteDoganaleDogmaDolceDomatoDomenicaDominareDondoloDonoDormireDoteDottoreDovutoDozzinaDragoDruidoDubbioDubitareDucaleDunaDuomoDupliceDuraturoEbanoEccessoEccoEclissiEconomiaEderaEdicolaEdileEditoriaEducareEgemoniaEgliEgoismoEgregioElaboratoElargireEleganteElencatoElettoElevareElficoElicaElmoElsaElusoEmanatoEmblemaEmessoEmiroEmotivoEmozioneEmpiricoEmuloEndemicoEnduroEnergiaEnfasiEnotecaEntrareEnzimaEpatiteEpilogoEpisodioEpocaleEppureEquatoreErarioErbaErbosoEredeEremitaErigereErmeticoEroeErosivoErranteEsagonoEsameEsanimeEsaudireEscaEsempioEsercitoEsibitoEsigenteEsistereEsitoEsofagoEsortatoEsosoEspansoEspressoEssenzaEssoEstesoEstimareEstoniaEstrosoEsultareEtilicoEtnicoEtruscoEttoEuclideoEuropaEvasoEvidenzaEvitatoEvolutoEvvivaFabbricaFaccendaFachiroFalcoFamigliaFanaleFanfaraFangoFantasmaFareFarfallaFarinosoFarmacoFasciaFastosoFasulloFaticareFatoFavolosoFebbreFecolaFedeFegatoFelpaFeltroFemminaFendereFenomenoFermentoFerroFertileFessuraFestivoFettaFeudoFiabaFiduciaFifaFiguratoFiloFinanzaFinestraFinireFioreFiscaleFisicoFiumeFlaconeFlamencoFleboFlemmaFloridoFluenteFluoroFobicoFocacciaFocosoFoderatoFoglioFolataFolcloreFolgoreFondenteFoneticoFoniaFontanaForbitoForchettaForestaFormicaFornaioForoFortezzaForzareFosfatoFossoFracassoFranaFrassinoFratelloFreccettaFrenataFrescoFrigoFrollinoFrondeFrugaleFruttaFucilataFucsiaFuggenteFulmineFulvoFumanteFumettoFumosoFuneFunzioneFuocoFurboFurgoneFuroreFusoFutileGabbianoGaffeGalateoGallinaGaloppoGamberoGammaGaranziaGarboGarofanoGarzoneGasdottoGasolioGastricoGattoGaudioGazeboGazzellaGecoGelatinaGelsoGemelloGemmatoGeneGenitoreGennaioGenotipoGergoGhepardoGhiaccioGhisaGialloGildaGineproGiocareGioielloGiornoGioveGiratoGironeGittataGiudizioGiuratoGiustoGlobuloGlutineGnomoGobbaGolfGomitoGommoneGonfioGonnaGovernoGracileGradoGraficoGrammoGrandeGrattareGravosoGraziaGrecaGreggeGrifoneGrigioGrinzaGrottaGruppoGuadagnoGuaioGuantoGuardareGufoGuidareIbernatoIconaIdenticoIdillioIdoloIdraIdricoIdrogenoIgieneIgnaroIgnoratoIlareIllesoIllogicoIlludereImballoImbevutoImboccoImbutoImmaneImmersoImmolatoImpaccoImpetoImpiegoImportoImprontaInalareInarcareInattivoIncantoIncendioInchinoIncisivoInclusoIncontroIncrocioIncuboIndagineIndiaIndoleIneditoInfattiInfilareInflittoIngaggioIngegnoIngleseIngordoIngrossoInnescoInodoreInoltrareInondatoInsanoInsettoInsiemeInsonniaInsulinaIntasatoInteroIntonacoIntuitoInumidireInvalidoInveceInvitoIperboleIpnoticoIpotesiIppicaIrideIrlandaIronicoIrrigatoIrrorareIsolatoIsotopoIstericoIstitutoIstriceItaliaIterareLabbroLabirintoLaccaLaceratoLacrimaLacunaLaddoveLagoLampoLancettaLanternaLardosoLargaLaringeLastraLatenzaLatinoLattugaLavagnaLavoroLegaleLeggeroLemboLentezzaLenzaLeoneLepreLesivoLessatoLestoLetteraleLevaLevigatoLiberoLidoLievitoLillaLimaturaLimitareLimpidoLineareLinguaLiquidoLiraLiricaLiscaLiteLitigioLivreaLocandaLodeLogicaLombareLondraLongevoLoquaceLorenzoLotoLotteriaLuceLucidatoLumacaLuminosoLungoLupoLuppoloLusingaLussoLuttoMacabroMacchinaMaceroMacinatoMadamaMagicoMagliaMagneteMagroMaiolicaMalafedeMalgradoMalintesoMalsanoMaltoMalumoreManaManciaMandorlaMangiareManifestoMannaroManovraMansardaMantideManubrioMappaMaratonaMarcireMarettaMarmoMarsupioMascheraMassaiaMastinoMaterassoMatricolaMattoneMaturoMazurcaMeandroMeccanicoMecenateMedesimoMeditareMegaMelassaMelisMelodiaMeningeMenoMensolaMercurioMerendaMerloMeschinoMeseMessereMestoloMetalloMetodoMettereMiagolareMicaMicelioMicheleMicroboMidolloMieleMiglioreMilanoMiliteMimosaMineraleMiniMinoreMirinoMirtilloMiscelaMissivaMistoMisurareMitezzaMitigareMitraMittenteMnemonicoModelloModificaModuloMoganoMogioMoleMolossoMonasteroMoncoMondinaMonetarioMonileMonotonoMonsoneMontatoMonvisoMoraMordereMorsicatoMostroMotivatoMotosegaMottoMovenzaMovimentoMozzoMuccaMucosaMuffaMughettoMugnaioMulattoMulinelloMultiploMummiaMuntoMuovereMuraleMusaMuscoloMusicaMutevoleMutoNababboNaftaNanometroNarcisoNariceNarratoNascereNastrareNaturaleNauticaNaviglioNebulosaNecrosiNegativoNegozioNemmenoNeofitaNerettoNervoNessunoNettunoNeutraleNeveNevroticoNicchiaNinfaNitidoNobileNocivoNodoNomeNominaNordicoNormaleNorvegeseNostranoNotareNotiziaNotturnoNovellaNucleoNullaNumeroNuovoNutrireNuvolaNuzialeOasiObbedireObbligoObeliscoOblioOboloObsoletoOccasioneOcchioOccidenteOccorrereOccultareOcraOculatoOdiernoOdorareOffertaOffrireOffuscatoOggettoOggiOgnunoOlandeseOlfattoOliatoOlivaOlogrammaOltreOmaggioOmbelicoOmbraOmegaOmissioneOndosoOnereOniceOnnivoroOnorevoleOntaOperatoOpinioneOppostoOracoloOrafoOrdineOrecchinoOreficeOrfanoOrganicoOrigineOrizzonteOrmaOrmeggioOrnativoOrologioOrrendoOrribileOrtensiaOrticaOrzataOrzoOsareOscurareOsmosiOspedaleOspiteOssaOssidareOstacoloOsteOtiteOtreOttagonoOttimoOttobreOvaleOvestOvinoOviparoOvocitoOvunqueOvviareOzioPacchettoPacePacificoPadellaPadronePaesePagaPaginaPalazzinaPalesarePallidoPaloPaludePandoroPannelloPaoloPaonazzoPapricaParabolaParcellaParerePargoloPariParlatoParolaPartireParvenzaParzialePassivoPasticcaPataccaPatologiaPattumePavonePeccatoPedalarePedonalePeggioPelosoPenarePendicePenisolaPennutoPenombraPensarePentolaPepePepitaPerbenePercorsoPerdonatoPerforarePergamenaPeriodoPermessoPernoPerplessoPersuasoPertugioPervasoPesatorePesistaPesoPestiferoPetaloPettinePetulantePezzoPiacerePiantaPiattinoPiccinoPicozzaPiegaPietraPifferoPigiamaPigolioPigroPilaPiliferoPillolaPilotaPimpantePinetaPinnaPinoloPioggiaPiomboPiramidePireticoPiritePirolisiPitonePizzicoPlaceboPlanarePlasmaPlatanoPlenarioPochezzaPoderosoPodismoPoesiaPoggiarePolentaPoligonoPollicePolmonitePolpettaPolsoPoltronaPolverePomicePomodoroPontePopolosoPorfidoPorosoPorporaPorrePortataPosaPositivoPossessoPostulatoPotassioPoterePranzoPrassiPraticaPreclusoPredicaPrefissoPregiatoPrelievoPremerePrenotarePreparatoPresenzaPretestoPrevalsoPrimaPrincipePrivatoProblemaProcuraProdurreProfumoProgettoProlungaPromessaPronomePropostaProrogaProtesoProvaPrudentePrugnaPruritoPsichePubblicoPudicaPugilatoPugnoPulcePulitoPulsantePuntarePupazzoPupillaPuroQuadroQualcosaQuasiQuerelaQuotaRaccoltoRaddoppioRadicaleRadunatoRafficaRagazzoRagioneRagnoRamarroRamingoRamoRandagioRantolareRapatoRapinaRappresoRasaturaRaschiatoRasenteRassegnaRastrelloRataRavvedutoRealeRecepireRecintoReclutaReconditoRecuperoRedditoRedimereRegalatoRegistroRegolaRegressoRelazioneRemareRemotoRennaReplicaReprimereReputareResaResidenteResponsoRestauroReteRetinaRetoricaRettificaRevocatoRiassuntoRibadireRibelleRibrezzoRicaricaRiccoRicevereRiciclatoRicordoRicredutoRidicoloRidurreRifasareRiflessoRiformaRifugioRigareRigettatoRighelloRilassatoRilevatoRimanereRimbalzoRimedioRimorchioRinascitaRincaroRinforzoRinnovoRinomatoRinsavitoRintoccoRinunciaRinvenireRiparatoRipetutoRipienoRiportareRipresaRipulireRisataRischioRiservaRisibileRisoRispettoRistoroRisultatoRisvoltoRitardoRitegnoRitmicoRitrovoRiunioneRivaRiversoRivincitaRivoltoRizomaRobaRoboticoRobustoRocciaRocoRodaggioRodereRoditoreRogitoRollioRomanticoRompereRonzioRosolareRospoRotanteRotondoRotulaRovescioRubizzoRubricaRugaRullinoRumineRumorosoRuoloRupeRussareRusticoSabatoSabbiareSabotatoSagomaSalassoSaldaturaSalgemmaSalivareSalmoneSaloneSaltareSalutoSalvoSapereSapidoSaporitoSaracenoSarcasmoSartoSassosoSatelliteSatiraSatolloSaturnoSavanaSavioSaziatoSbadiglioSbalzoSbancatoSbarraSbattereSbavareSbendareSbirciareSbloccatoSbocciatoSbrinareSbruffoneSbuffareScabrosoScadenzaScalaScambiareScandaloScapolaScarsoScatenareScavatoSceltoScenicoScettroSchedaSchienaSciarpaScienzaScindereScippoSciroppoScivoloSclerareScodellaScolpitoScompartoSconfortoScoprireScortaScossoneScozzeseScribaScrollareScrutinioScuderiaScultoreScuolaScuroScusareSdebitareSdoganareSeccaturaSecondoSedanoSeggiolaSegnalatoSegregatoSeguitoSelciatoSelettivoSellaSelvaggioSemaforoSembrareSemeSeminatoSempreSensoSentireSepoltoSequenzaSerataSerbatoSerenoSerioSerpenteSerraglioServireSestinaSetolaSettimanaSfaceloSfaldareSfamatoSfarzosoSfaticatoSferaSfidaSfilatoSfingeSfocatoSfoderareSfogoSfoltireSforzatoSfrattoSfruttatoSfuggitoSfumareSfusoSgabelloSgarbatoSgonfiareSgorbioSgrassatoSguardoSibiloSiccomeSierraSiglaSignoreSilenzioSillabaSimboloSimpaticoSimulatoSinfoniaSingoloSinistroSinoSintesiSinusoideSiparioSismaSistoleSituatoSlittaSlogaturaSlovenoSmarritoSmemoratoSmentitoSmeraldoSmilzoSmontareSmottatoSmussatoSnellireSnervatoSnodoSobbalzoSobrioSoccorsoSocialeSodaleSoffittoSognoSoldatoSolenneSolidoSollazzoSoloSolubileSolventeSomaticoSommaSondaSonettoSonniferoSopireSoppesoSopraSorgereSorpassoSorrisoSorsoSorteggioSorvolatoSospiroSostaSottileSpadaSpallaSpargereSpatolaSpaventoSpazzolaSpecieSpedireSpegnereSpelaturaSperanzaSpessoreSpettraleSpezzatoSpiaSpigolosoSpillatoSpinosoSpiraleSplendidoSportivoSposoSprangaSprecareSpronatoSpruzzoSpuntinoSquilloSradicareSrotolatoStabileStaccoStaffaStagnareStampatoStantioStarnutoStaseraStatutoSteloSteppaSterzoStilettoStimaStirpeStivaleStizzosoStonatoStoricoStrappoStregatoStriduloStrozzareStruttoStuccareStufoStupendoSubentroSuccosoSudoreSuggeritoSugoSultanoSuonareSuperboSupportoSurgelatoSurrogatoSussurroSuturaSvagareSvedeseSveglioSvelareSvenutoSveziaSviluppoSvistaSvizzeraSvoltaSvuotareTabaccoTabulatoTacciareTaciturnoTaleTalismanoTamponeTanninoTaraTardivoTargatoTariffaTarpareTartarugaTastoTatticoTavernaTavolataTazzaTecaTecnicoTelefonoTemerarioTempoTemutoTendoneTeneroTensioneTentacoloTeoremaTermeTerrazzoTerzettoTesiTesseratoTestatoTetroTettoiaTifareTigellaTimbroTintoTipicoTipografoTiraggioTiroTitanioTitoloTitubanteTizioTizzoneToccareTollerareToltoTombolaTomoTonfoTonsillaTopazioTopologiaToppaTorbaTornareTorroneTortoraToscanoTossireTostaturaTotanoTraboccoTracheaTrafilaTragediaTralcioTramontoTransitoTrapanoTrarreTraslocoTrattatoTraveTrecciaTremolioTrespoloTributoTrichecoTrifoglioTrilloTrinceaTrioTristezzaTrituratoTrivellaTrombaTronoTroppoTrottolaTrovareTruccatoTubaturaTuffatoTulipanoTumultoTunisiaTurbareTurchinoTutaTutelaUbicatoUccelloUccisoreUdireUditivoUffaUfficioUgualeUlisseUltimatoUmanoUmileUmorismoUncinettoUngereUnghereseUnicornoUnificatoUnisonoUnitarioUnteUovoUpupaUraganoUrgenzaUrloUsanzaUsatoUscitoUsignoloUsuraioUtensileUtilizzoUtopiaVacanteVaccinatoVagabondoVagliatoValangaValgoValicoVallettaValorosoValutareValvolaVampataVangareVanitosoVanoVantaggioVanveraVaporeVaranoVarcatoVarianteVascaVedettaVedovaVedutoVegetaleVeicoloVelcroVelinaVellutoVeloceVenatoVendemmiaVentoVeraceVerbaleVergognaVerificaVeroVerrucaVerticaleVescicaVessilloVestaleVeteranoVetrinaVetustoViandanteVibranteVicendaVichingoVicinanzaVidimareVigiliaVignetoVigoreVileVillanoViminiVincitoreViolaViperaVirgolaVirologoVirulentoViscosoVisioneVispoVissutoVisuraVitaVitelloVittimaVivandaVividoViziareVoceVogaVolatileVolereVolpeVoragineVulcanoZampognaZannaZappatoZatteraZavorraZefiroZelanteZeloZenzeroZerbinoZibettoZincoZirconeZittoZollaZoticoZuccheroZufoloZuluZuppa".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620"!==It.check(e)))throw nr=null,new Error("BIP39 Wordlist for it (Italian) FAILED")}var ir=new class extends It{constructor(){super("it")}getWord(e){return ar(this),nr[e]}getWordIndex(e){return ar(this),nr.indexOf(e)}};It.register(ir);var sr="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",or={zh_cn:null,zh_tw:null},cr={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function dr(e){if(null===or[e.locale]){or[e.locale]=[];for(var t=0,r=0;r<2048;r++){var n="~!@#$%^&*_-=[]{}|;:,.()<>?".indexOf(sr[3*r]),a=[228+(n>>2),128+ur.indexOf(sr[3*r+1]),128+ur.indexOf(sr[3*r+2])];if("zh_tw"===e.locale)for(var i=n%4;i<3;i++)a[i]=ur.indexOf("FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL"[t++])+(0==i?228:128);or[e.locale].push(Object(R.h)(a))}if(It.check(e)!==cr[e.locale])throw or[e.locale]=null,new Error("BIP39 Wordlist for "+e.locale+" (Chinese) FAILED")}}class fr extends It{constructor(e){super("zh_"+e)}getWord(e){return dr(this),or[this.locale][e]}getWordIndex(e){return dr(this),or[this.locale].indexOf(e)}split(e){return(e=e.replace(/(?:\u3000| )+/g,"")).split("")}}var lr=new fr("cn");It.register(lr),It.register(lr,"zh");var hr=new fr("tw");It.register(hr);var pr={cz:Bt,en:Nt,es:qt,fr:Jt,it:ir,ja:Qt,ko:rr,zh:lr,zh_cn:lr,zh_tw:hr},mr=new l.b("hdnode/5.0.10"),vr=d.a.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),br=Object(R.f)("Bitcoin seed");function gr(e){return(1<<e)-1<<8-e}function yr(e){return Object(u.h)(Object(u.i)(e),32)}function wr(e){return yt.encode(Object(u.b)([e,Object(u.e)(St(St(e)),0,4)]))}function kr(e){if(null==e)return pr.en;if("string"===typeof e){var t=pr[e];return null==t&&mr.throwArgumentError("unknown locale","wordlist",e),t}return e}var xr={},_r="m/44'/60'/0'/0/0";class Sr{constructor(e,t,r,n,a,i,s,o){if(mr.checkNew(new.target,Sr),e!==xr)throw new Error("HDNode constructor cannot be called directly");if(t){var c=new Mt.a(t);Object(f.d)(this,"privateKey",c.privateKey),Object(f.d)(this,"publicKey",c.compressedPublicKey)}else Object(f.d)(this,"privateKey",null),Object(f.d)(this,"publicKey",Object(u.i)(r));Object(f.d)(this,"parentFingerprint",n),Object(f.d)(this,"fingerprint",Object(u.e)(_t(St(this.publicKey)),0,4)),Object(f.d)(this,"address",Object(Et.computeAddress)(this.publicKey)),Object(f.d)(this,"chainCode",a),Object(f.d)(this,"index",i),Object(f.d)(this,"depth",s),null==o?(Object(f.d)(this,"mnemonic",null),Object(f.d)(this,"path",null)):"string"===typeof o?(Object(f.d)(this,"mnemonic",null),Object(f.d)(this,"path",o)):(Object(f.d)(this,"mnemonic",o),Object(f.d)(this,"path",o.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return wr(Object(u.b)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Object(u.i)(this.depth),this.parentFingerprint,Object(u.h)(Object(u.i)(this.index),4),this.chainCode,null!=this.privateKey?Object(u.b)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Sr(xr,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));var t=this.path;t&&(t+="/"+(2147483647&e));var r=new Uint8Array(37);if(2147483648&e){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Object(u.a)(this.privateKey),1),t&&(t+="'")}else r.set(Object(u.a)(this.publicKey));for(var n=24;n>=0;n-=8)r[33+(n>>3)]=e>>24-n&255;var a=Object(u.a)(Ot(gt.sha512,this.chainCode,r)),i=a.slice(0,32),s=a.slice(32),o=null,c=null;this.privateKey?o=yr(d.a.from(i).add(this.privateKey).mod(vr)):c=new Mt.a(Object(u.i)(i))._addPoint(this.publicKey);var f=t,l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new Sr(xr,o,c,this.fingerprint,yr(s),e,this.depth+1,f)}derivePath(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var a=t[n];if(a.match(/^[0-9]+'$/)){var i=parseInt(a.substring(0,a.length-1));if(i>=2147483648)throw new Error("invalid path index - "+a);r=r._derive(2147483648+i)}else{if(!a.match(/^[0-9]+$/))throw new Error("invalid path component - "+a);var s=parseInt(a);if(s>=2147483648)throw new Error("invalid path index - "+a);r=r._derive(s)}}return r}static _fromSeed(e,t){var r=Object(u.a)(e);if(r.length<16||r.length>64)throw new Error("invalid seed");var n=Object(u.a)(Ot(gt.sha512,br,r));return new Sr(xr,yr(n.slice(0,32)),null,"0x00000000",yr(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=Ar(Or(e,r=kr(r)),r),Sr._fromSeed(Tr(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return Sr._fromSeed(e,null)}static fromExtendedKey(e){var t=yt.decode(e);82===t.length&&wr(t.slice(0,78))===e||mr.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var r=t[4],n=Object(u.i)(t.slice(5,9)),a=parseInt(Object(u.i)(t.slice(9,13)).substring(2),16),i=Object(u.i)(t.slice(13,45)),s=t.slice(45,78);switch(Object(u.i)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Sr(xr,null,Object(u.i)(s),n,i,a,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Sr(xr,Object(u.i)(s.slice(1)),null,n,i,a,r,null)}return mr.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Tr(e,t){t||(t="");var r=Object(R.f)("mnemonic"+t,R.a.NFKD);return At(Object(R.f)(e,R.a.NFKD),r,2048,64,"sha512")}function Or(e,t){t=kr(t),mr.checkNormalize();var r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");for(var n=Object(u.a)(new Uint8Array(Math.ceil(11*r.length/8))),a=0,i=0;i<r.length;i++){var s=t.getWordIndex(r[i].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(var o=0;o<11;o++)s&1<<10-o&&(n[a>>3]|=1<<7-a%8),a++}var c=32*r.length/3,d=gr(r.length/3);if((Object(u.a)(St(n.slice(0,c/8)))[0]&d)!==(n[n.length-1]&d))throw new Error("invalid checksum");return Object(u.i)(n.slice(0,c/8))}function Ar(e,t){if(t=kr(t),(e=Object(u.a)(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,a=0;a<e.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[a]>>8-n,r.push(e[a]&(1<<8-n)-1),n+=3);var i=e.length/4,s=Object(u.a)(St(e))[0]&gr(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,t.join(r.map(e=>t.getWord(e)))}function Mr(e,t){try{return Or(e,t),!0}catch(r){}return!1}var Er=r(792),Cr=r(33),Ir=r.n(Cr),Fr=r(97),Pr=r.n(Fr);function Br(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Object(u.a)(e)}function Rr(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function Lr(e){return"string"===typeof e?Object(R.f)(e,R.a.NFKC):Object(u.a)(e)}function Nr(e,t){for(var r=e,n=t.toLowerCase().split("/"),a=0;a<n.length;a++){var i=null;for(var s in r)if(s.toLowerCase()===n[a]){i=r[s];break}if(null===i)return null;r=i}return r}function Dr(e){var t=Object(u.a)(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var r=Object(u.i)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Vr=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},jr=new l.b("json-wallets/5.0.12");function Ur(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class qr extends f.a{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Gr(e,t){var r=Br(Nr(e,"crypto/ciphertext"));if(Object(u.i)(Object(k.a)(Object(u.b)([t.slice(16,32),r]))).substring(2)!==Nr(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(e,t,r){if("aes-128-ctr"===Nr(e,"crypto/cipher")){var n=Br(Nr(e,"crypto/cipherparams/iv")),a=new Ir.a.Counter(n),i=new Ir.a.ModeOfOperation.ctr(t,a);return Object(u.a)(i.decrypt(r))}return null}(e,t.slice(0,16),r);n||jr.throwError("unsupported cipher",l.b.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var a=t.slice(32,64),i=Object(Et.computeAddress)(n);if(e.address){var s=e.address.toLowerCase();if("0x"!==s.substring(0,2)&&(s="0x"+s),Object(y.a)(s)!==i)throw new Error("address mismatch")}var o={_isKeystoreAccount:!0,address:i,privateKey:Object(u.i)(n)};if("0.1"===Nr(e,"x-ethers/version")){var c=Br(Nr(e,"x-ethers/mnemonicCiphertext")),d=Br(Nr(e,"x-ethers/mnemonicCounter")),f=new Ir.a.Counter(d),h=new Ir.a.ModeOfOperation.ctr(a,f),p=Nr(e,"x-ethers/path")||_r,m=Nr(e,"x-ethers/locale")||"en",v=Object(u.a)(h.decrypt(c));try{var b=Ar(v,m),g=Sr.fromMnemonic(b,null,m).derivePath(p);if(g.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=g.mnemonic}catch(w){if(w.code!==l.b.errors.INVALID_ARGUMENT||"wordlist"!==w.argument)throw w}}return new qr(o)}function Hr(e,t,r,n,a){return Object(u.a)(At(e,t,r,n,a))}function zr(e,t,r,n,a){return Promise.resolve(Hr(e,t,r,n,a))}function Kr(e,t,r,n,a){var i=Lr(t),s=Nr(e,"crypto/kdf");if(s&&"string"===typeof s){var o=function(e,t){return jr.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){var c=Br(Nr(e,"crypto/kdfparams/salt")),u=parseInt(Nr(e,"crypto/kdfparams/n")),d=parseInt(Nr(e,"crypto/kdfparams/r")),f=parseInt(Nr(e,"crypto/kdfparams/p"));u&&d&&f||o("kdf",s),0!==(u&u-1)&&o("N",u);var l=parseInt(Nr(e,"crypto/kdfparams/dklen"));return 32!==l&&o("dklen",l),n(i,c,u,d,f,64,a)}if("pbkdf2"===s.toLowerCase()){var h=Br(Nr(e,"crypto/kdfparams/salt")),p=null,m=Nr(e,"crypto/kdfparams/prf");"hmac-sha256"===m?p="sha256":"hmac-sha512"===m?p="sha512":o("prf",m);var v=parseInt(Nr(e,"crypto/kdfparams/c")),b=parseInt(Nr(e,"crypto/kdfparams/dklen"));return 32!==b&&o("dklen",b),r(i,h,v,b,p)}}return jr.throwArgumentError("unsupported key-derivation function","kdf",s)}var Jr=new l.b("json-wallets/5.0.12");class Xr extends f.a{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function Wr(e,t){var r=JSON.parse(e);t=Lr(t);var n=Object(y.a)(Nr(r,"ethaddr")),a=Br(Nr(r,"encseed"));a&&a.length%16===0||Jr.throwArgumentError("invalid encseed","json",e);for(var i=Object(u.a)(At(t,t,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),o=a.slice(16),c=new Ir.a.ModeOfOperation.cbc(i,s),d=Ir.a.padding.pkcs7.strip(Object(u.a)(c.decrypt(o))),f="",l=0;l<d.length;l++)f+=String.fromCharCode(d[l]);var h=Object(R.f)(f),p=Object(k.a)(h);return new Xr({_isCrowdsaleAccount:!0,address:n,privateKey:p})}function Zr(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function Yr(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function Qr(e){if(Zr(e))try{return Object(y.a)(JSON.parse(e).ethaddr)}catch(t){return null}if(Yr(e))try{return Object(y.a)(JSON.parse(e).address)}catch(t){return null}return null}function $r(e,t,r){if(Zr(e)){r&&r(0);var n=Wr(e,t);return r&&r(1),Promise.resolve(n)}return Yr(e)?function(e,t,r){return Vr(this,void 0,void 0,c.a.mark((function n(){var a,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=JSON.parse(e),n.next=3,Kr(a,t,zr,Pr.a.scrypt,r);case 3:return i=n.sent,n.abrupt("return",Gr(a,i));case 5:case"end":return n.stop()}}),n)})))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function en(e,t){if(Zr(e))return Wr(e,t);if(Yr(e))return function(e,t){var r=JSON.parse(e);return Gr(r,Kr(r,t,Hr,Pr.a.syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var tn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},rn=new l.b("wallet/5.0.12");class nn extends _e{constructor(e,t){if(rn.checkNew(new.target,nn),super(),null!=(o=e)&&Object(u.l)(o.privateKey,32)&&null!=o.address){var r=new Mt.a(e.privateKey);if(Object(f.d)(this,"_signingKey",()=>r),Object(f.d)(this,"address",Object(Et.computeAddress)(this.publicKey)),this.address!==Object(y.a)(e.address)&&rn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(e)){var n=e.mnemonic;Object(f.d)(this,"_mnemonic",()=>({phrase:n.phrase,path:n.path||_r,locale:n.locale||"en"}));var a=this.mnemonic,i=Sr.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);Object(Et.computeAddress)(i.privateKey)!==this.address&&rn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Object(f.d)(this,"_mnemonic",()=>null)}else{if(Mt.a.isSigningKey(e))"secp256k1"!==e.curve&&rn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Object(f.d)(this,"_signingKey",()=>e);else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);var s=new Mt.a(e);Object(f.d)(this,"_signingKey",()=>s)}Object(f.d)(this,"_mnemonic",()=>null),Object(f.d)(this,"address",Object(Et.computeAddress)(this.publicKey))}var o;t&&!ge.isProvider(t)&&rn.throwArgumentError("invalid provider","provider",t),Object(f.d)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new nn(this,e)}signTransaction(e){return Object(f.f)(e).then(t=>{null!=t.from&&(Object(y.a)(t.from)!==this.address&&rn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);var r=this._signingKey().signDigest(Object(k.a)(Object(Et.serialize)(t)));return Object(Et.serialize)(t,r)})}signMessage(e){return tn(this,void 0,void 0,c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(u.m)(this._signingKey().signDigest(et(e))));case 1:case"end":return t.stop()}}),t,this)})))}_signTypedData(e,t,r){return tn(this,void 0,void 0,c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vt.resolveNames(e,t,r,e=>(null==this.provider&&rn.throwError("cannot resolve ENS names without a provider",l.b.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));case 2:return a=n.sent,n.abrupt("return",Object(u.m)(this._signingKey().signDigest(vt.hash(a.domain,t,a.value))));case 4:case"end":return n.stop()}}),n,this)})))}encrypt(e,t,r){if("function"!==typeof t||r||(r=t,t={}),r&&"function"!==typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(Object(y.a)(e.address)!==Object(Et.computeAddress)(e.privateKey))throw new Error("address/privateKey mismatch");if(Ur(e)){var a=e.mnemonic;if(Sr.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path||_r).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(w){return Promise.reject(w)}"function"!==typeof r||n||(n=r,r={}),r||(r={});var i=Object(u.a)(e.privateKey),s=Lr(t),o=null,c=null,d=null;if(Ur(e)){var f=e.mnemonic;o=Object(u.a)(Or(f.phrase,f.locale||"en")),c=f.path||_r,d=f.locale||"en"}var l=r.client;l||(l="ethers.js");var h=null;h=r.salt?Object(u.a)(r.salt):Object(Er.a)(32);var p=null;if(r.iv){if(16!==(p=Object(u.a)(r.iv)).length)throw new Error("invalid iv")}else p=Object(Er.a)(16);var m=null;if(r.uuid){if(16!==(m=Object(u.a)(r.uuid)).length)throw new Error("invalid uuid")}else m=Object(Er.a)(16);var v=1<<17,b=8,g=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(b=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Pr.a.scrypt(s,h,v,b,g,64,n).then(t=>{var r=(t=Object(u.a)(t)).slice(0,16),n=t.slice(16,32),a=t.slice(32,64),s=new Ir.a.Counter(p),f=new Ir.a.ModeOfOperation.ctr(r,s),y=Object(u.a)(f.encrypt(i)),w=Object(k.a)(Object(u.b)([n,y])),x={address:e.address.substring(2).toLowerCase(),id:Dr(m),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Object(u.i)(p).substring(2)},ciphertext:Object(u.i)(y).substring(2),kdf:"scrypt",kdfparams:{salt:Object(u.i)(h).substring(2),n:v,dklen:32,p:g,r:b},mac:w.substring(2)}};if(o){var _=Object(Er.a)(16),S=new Ir.a.Counter(_),T=new Ir.a.ModeOfOperation.ctr(a,S),O=Object(u.a)(T.encrypt(o)),A=new Date,M=A.getUTCFullYear()+"-"+Rr(A.getUTCMonth()+1,2)+"-"+Rr(A.getUTCDate(),2)+"T"+Rr(A.getUTCHours(),2)+"-"+Rr(A.getUTCMinutes(),2)+"-"+Rr(A.getUTCSeconds(),2)+".0Z";x["x-ethers"]={client:l,gethFilename:"UTC--"+M+"--"+x.address,mnemonicCounter:Object(u.i)(_).substring(2),mnemonicCiphertext:Object(u.i)(O).substring(2),path:c,locale:d,version:"0.1"}}return JSON.stringify(x)})}(this,e,t,r)}static createRandom(e){var t=Object(Er.a)(16);e||(e={}),e.extraEntropy&&(t=Object(u.a)(Object(u.e)(Object(k.a)(Object(u.b)([t,e.extraEntropy])),0,16)));var r=Ar(t,e.locale);return nn.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return $r(e,t,r).then(e=>new nn(e))}static fromEncryptedJsonSync(e,t){return new nn(en(e,t))}static fromMnemonic(e,t,r){return t||(t=_r),new nn(Sr.fromMnemonic(e,null,r).derivePath(t))}}function an(e,t){return Object(Et.recoverAddress)(et(e),t)}function sn(e,t,r,n){return Object(Et.recoverAddress)(vt.hash(e,t,r),n)}var on=r(45),cn=new l.b("networks/5.0.9");function un(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider)try{n.push(new t.InfuraProvider(e,r.infura))}catch(i){}if(t.EtherscanProvider)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(i){}if(t.AlchemyProvider)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(i){}if(t.PocketProvider)try{n.push(new t.PocketProvider(e))}catch(i){}if(t.CloudflareProvider)try{n.push(new t.CloudflareProvider(e))}catch(i){}if(0===n.length)return null;if(t.FallbackProvider){var a=1;return null!=r.quorum?a=r.quorum:"homestead"===e&&(a=2),new t.FallbackProvider(n,a)}return n[0]};return t.renetwork=function(e){return un(e)},t}function dn(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return dn(e,t)},r}var fn={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:un("homestead")},ln={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:un("ropsten")},hn={chainId:63,name:"classicMordor",_defaultProvider:dn("https://www.ethercluster.com/mordor","classicMordor")},pn={unspecified:{chainId:0,name:"unspecified"},homestead:fn,mainnet:fn,morden:{chainId:2,name:"morden"},ropsten:ln,testnet:ln,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:un("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:un("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:un("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:dn("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:hn,classicTestnet:hn,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:dn("https://www.ethercluster.com/kotti","classicKotti")}};function mn(e){if(null==e)return null;if("number"===typeof e){for(var t in pn){var r=pn[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=pn[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var a=pn[e.name];if(!a)return"number"!==typeof e.chainId&&cn.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==a.chainId&&cn.throwArgumentError("network chainId mismatch","network",e);var i,s=e._defaultProvider||null;return null==s&&a._defaultProvider&&(s=(i=a._defaultProvider)&&"function"===typeof i.renetwork?a._defaultProvider.renetwork(e):a._defaultProvider),{name:e.name,chainId:a.chainId,ensAddress:e.ensAddress||a.ensAddress||null,_defaultProvider:s}}var vn=r(149);function bn(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach(e=>{var a=e.split(":");r+=parseInt(a[0],16),n[r]=t(a[1])}),n}function gn(e){var t=0;return e.split(",").map(e=>{var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function yn(e,t){for(var r=0,n=0;n<t.length;n++){var a=t[n];if(e>=(r+=a.l)&&e<=r+a.h&&(e-r)%(a.d||1)===0){if(a.e&&-1!==a.e.indexOf(e-r))continue;return a}}return null}var wn=gn("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),kn="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),xn=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],_n=bn("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Sn=bn("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Tn=bn("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!==0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),On=gn("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function An(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=Object(R.g)(e);t=r.map(e=>{if(kn.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];var t=function(e){var t=yn(e,xn);if(t)return[e+t.s];var r=_n[e];if(r)return r;var n=Sn[e];if(n)return[e+n[0]];var a=Tn[e];return a||null}(e);return t||[e]}),r=t.reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[]),(r=Object(R.g)(Object(R.e)(r),R.a.NFKC)).forEach(e=>{if(yn(e,On))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),r.forEach(e=>{if(yn(e,wn))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});var n=Object(R.e)(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}var Mn=new l.b("hash/5.0.12"),En=new Uint8Array(32);En.fill(0);var Cn=new RegExp("^((.*)\\.)?([^.]+)$");function In(e){try{for(var t=e.split("."),r=0;r<t.length;r++)if(0===An(t[r]).length)throw new Error("empty");return!0}catch(n){}return!1}function Fn(e){"string"!==typeof e&&Mn.throwArgumentError("invalid address - "+String(e),"name",e);for(var t=En;e.length;){var r=e.match(Cn),n=Object(R.f)(An(r[3]));t=Object(k.a)(Object(u.b)([t,Object(k.a)(n)])),e=r[2]||""}return Object(u.i)(t)}function Pn(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Object(u.a)(t)}function Bn(e){e=Object(u.a)(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Rn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};function Ln(e,t){return Rn(this,void 0,void 0,c.a.mark((function r(){var n,a,i,s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"client"},r.next=4,fetch(e,n);case 4:return a=r.sent,r.next=7,a.arrayBuffer();case 7:return i=r.sent,s={},a.headers.forEach?a.headers.forEach((e,t)=>{s[t.toLowerCase()]=e}):a.headers.keys().forEach(e=>{s[e.toLowerCase()]=a.headers.get(e)}),r.abrupt("return",{headers:s,statusCode:a.status,statusMessage:a.statusText,body:Object(u.a)(new Uint8Array(i))});case 11:case"end":return r.stop()}}),r)})))}var Nn=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},Dn=new l.b("web/5.0.14");function Vn(e){return new Promise(t=>{setTimeout(t,e)})}function jn(e,t){if(null==e)return null;if("string"===typeof e)return e;if(Object(u.k)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return Object(R.h)(e)}catch(r){}return Object(u.i)(e)}return e}function Un(e,t,r){var n="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Dn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);var a="object"===typeof e?e.throttleCallback:null,i="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Dn.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);var s={},o=null,u={method:"GET"},d=!1,f=12e4;if("string"===typeof e)o=e;else if("object"===typeof e){if(null!=e&&null!=e.url||Dn.throwArgumentError("missing URL","connection.url",e),o=e.url,"number"===typeof e.timeout&&e.timeout>0&&(f=e.timeout),e.headers)for(var h in e.headers)s[h.toLowerCase()]={key:h,value:String(e.headers[h])},["if-none-match","if-modified-since"].indexOf(h.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==o.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Dn.throwError("basic authentication requires a secure https url",l.b.errors.INVALID_ARGUMENT,{argument:"url",url:o,user:e.user,password:"[REDACTED]"});var p=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+Bn(Object(R.f)(p))}}}t&&(u.method="POST",u.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));var m={};Object.keys(s).forEach(e=>{var t=s[e];m[t.key]=t.value}),u.headers=m;var v=function(){var e=null;return{promise:new Promise((function(t,r){f&&(e=setTimeout(()=>{null!=e&&(e=null,r(Dn.makeError("timeout",l.b.errors.TIMEOUT,{requestBody:jn(u.body,m["content-type"]),requestMethod:u.method,timeout:f,url:o})))},f))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),b=function(){return Nn(this,void 0,void 0,c.a.mark((function e(){var t,s,f,h,p,b,g,y,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=57;break}return s=null,e.prev=3,e.next=6,Ln(o,u);case 6:if(!(429===(s=e.sent).statusCode&&t<n)){e.next=20;break}if(f=!0,!a){e.next=13;break}return e.next=12,a(t,o);case 12:f=e.sent;case 13:if(!f){e.next=20;break}return h=0,p=s.headers["retry-after"],h="string"===typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):i*parseInt(String(Math.random()*Math.pow(2,t))),e.next=19,Vn(h);case 19:return e.abrupt("continue",54);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),null==(s=e.t0.response)&&(v.cancel(),Dn.throwError("missing response",l.b.errors.SERVER_ERROR,{requestBody:jn(u.body,m["content-type"]),requestMethod:u.method,serverError:e.t0,url:o}));case 26:if(b=s.body,d&&304===s.statusCode?b=null:(s.statusCode<200||s.statusCode>=300)&&(v.cancel(),Dn.throwError("bad response",l.b.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:jn(b,s.headers?s.headers["content-type"]:null),requestBody:jn(u.body,m["content-type"]),requestMethod:u.method,url:o})),!r){e.next=52;break}return e.prev=29,e.next=32,r(b,s);case 32:return g=e.sent,v.cancel(),e.abrupt("return",g);case 37:if(e.prev=37,e.t1=e.catch(29),!(e.t1.throttleRetry&&t<n)){e.next=50;break}if(y=!0,!a){e.next=45;break}return e.next=44,a(t,o);case 44:y=e.sent;case 45:if(!y){e.next=50;break}return w=i*parseInt(String(Math.random()*Math.pow(2,t))),e.next=49,Vn(w);case 49:return e.abrupt("continue",54);case 50:v.cancel(),Dn.throwError("processing response error",l.b.errors.SERVER_ERROR,{body:jn(b,s.headers?s.headers["content-type"]:null),error:e.t1,requestBody:jn(u.body,m["content-type"]),requestMethod:u.method,url:o});case 52:return v.cancel(),e.abrupt("return",b);case 54:t++,e.next=1;break;case 57:return e.abrupt("return",Dn.throwError("failed response",l.b.errors.SERVER_ERROR,{requestBody:jn(u.body,m["content-type"]),requestMethod:u.method,url:o}));case 58:case"end":return e.stop()}}),e,null,[[3,22],[29,37]])})))}();return Promise.race([v.promise,b])}function qn(e,t,r){var n=null;if(null!=t){n=Object(R.f)(t);var a="string"===typeof e?{url:e}:Object(f.g)(e);if(a.headers)0!==Object.keys(a.headers).filter(e=>"content-type"===e.toLowerCase()).length||(a.headers=Object(f.g)(a.headers),a.headers["content-type"]="application/json");else a.headers={"content-type":"application/json"};e=a}return Un(e,n,(e,t)=>{var n=null;if(null!=e)try{n=JSON.parse(Object(R.h)(e))}catch(a){Dn.throwError("invalid JSON",l.b.errors.SERVER_ERROR,{body:e,error:a})}return r&&(n=r(n,t)),n})}function Gn(e,t){return t||(t={}),null==(t=Object(f.g)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var a=null,i=!1,s=()=>!i&&(i=!0,a&&clearTimeout(a),!0);t.timeout&&(a=setTimeout(()=>{s()&&n(new Error("timeout"))},t.timeout));var o=t.retryLimit,c=0;!function a(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",a);else if(t.onceBlock)t.onceBlock.once("block",a);else if(!i){if(++c>o)return void(s()&&n(new Error("retry limit reached")));var u=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));u<t.floor&&(u=t.floor),u>t.ceiling&&(u=t.ceiling),setTimeout(a,u)}return null}),(function(e){s()&&n(e)}))}()}))}var Hn=r(137),zn=r.n(Hn),Kn=r(150),Jn=new l.b("providers/5.0.24");class Xn{constructor(){Jn.checkNew(new.target,Xn),this.formats=this.getDefaultFormats()}getDefaultFormats(){var e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),a=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),o=this.number.bind(this);return e.transaction={hash:i,blockHash:Xn.allowNull(i,null),blockNumber:Xn.allowNull(o,null),transactionIndex:Xn.allowNull(o,null),confirmations:Xn.allowNull(o,null),from:t,gasPrice:r,gasLimit:r,to:Xn.allowNull(t,null),value:r,nonce:o,data:a,r:Xn.allowNull(this.uint256),s:Xn.allowNull(this.uint256),v:Xn.allowNull(o),creates:Xn.allowNull(t,null),raw:Xn.allowNull(a)},e.transactionRequest={from:Xn.allowNull(t),nonce:Xn.allowNull(o),gasLimit:Xn.allowNull(r),gasPrice:Xn.allowNull(r),to:Xn.allowNull(t),value:Xn.allowNull(r),data:Xn.allowNull(e=>this.data(e,!0))},e.receiptLog={transactionIndex:o,blockNumber:o,transactionHash:i,address:t,topics:Xn.arrayOf(i),data:a,logIndex:o,blockHash:i},e.receipt={to:Xn.allowNull(this.address,null),from:Xn.allowNull(this.address,null),contractAddress:Xn.allowNull(t,null),transactionIndex:o,root:Xn.allowNull(s),gasUsed:r,logsBloom:Xn.allowNull(a),blockHash:i,transactionHash:i,logs:Xn.arrayOf(this.receiptLog.bind(this)),blockNumber:o,confirmations:Xn.allowNull(o,null),cumulativeGasUsed:r,status:Xn.allowNull(o)},e.block={hash:i,parentHash:i,number:o,timestamp:o,nonce:Xn.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:t,extraData:a,transactions:Xn.allowNull(Xn.arrayOf(i))},e.blockWithTransactions=Object(f.g)(e.block),e.blockWithTransactions.transactions=Xn.allowNull(Xn.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Xn.allowNull(n,void 0),toBlock:Xn.allowNull(n,void 0),blockHash:Xn.allowNull(i,void 0),address:Xn.allowNull(t,void 0),topics:Xn.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Xn.allowNull(o),blockHash:Xn.allowNull(i),transactionIndex:o,removed:Xn.allowNull(this.boolean.bind(this)),address:t,data:Xn.allowFalsish(a,"0x"),topics:Xn.arrayOf(i),transactionHash:i,logIndex:o},e}number(e){return"0x"===e?0:d.a.from(e).toNumber()}bigNumber(e){return d.a.from(e)}boolean(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),Object(u.l)(e))?e.toLowerCase():Jn.throwArgumentError("invalid hash","value",e)}data(e,t){var r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Object(y.a)(e)}callAddress(e){if(!Object(u.l)(e,32))return null;var t=Object(y.a)(Object(u.e)(e,12));return t===Kn.a?null:t}contractAddress(e){return Object(y.b)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"===typeof e||Object(u.l)(e))return Object(u.g)(e);throw new Error("invalid blockTag")}hash(e,t){var r=this.hex(e,t);return 32!==Object(u.d)(r)?Jn.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;var t=d.a.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!Object(u.l)(e))throw new Error("invalid uint256");return Object(u.h)(e,32)}_block(e,t){return null!=e.author&&null==e.miner&&(e.miner=e.author),Xn.check(t,e)}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Xn.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&d.a.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e));var t=Xn.check(this.formats.transaction,e);if(null!=e.chainId){var r=e.chainId;Object(u.l)(r)&&(r=d.a.from(r).toNumber()),t.chainId=r}else{var n=e.networkId;null==n&&null==t.v&&(n=e.chainId),Object(u.l)(n)&&(n=d.a.from(n).toNumber()),"number"!==typeof n&&null!=t.v&&((n=(t.v-35)/2)<0&&(n=0),n=parseInt(n)),"number"!==typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return Object(Et.parse)(e)}receiptLog(e){return Xn.check(this.formats.receiptLog,e)}receipt(e){var t=Xn.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){var r=d.a.from(t.root).toNumber();0===r||1===r?(null!=t.status&&t.status!==r&&Jn.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):Jn.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Jn.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Xn.check(this.formats.filter,e)}filterLog(e){return Xn.check(this.formats.filterLog,e)}static check(e,t){var r={};for(var n in e)try{var a=e[n](t[n]);void 0!==a&&(r[n]=a)}catch(i){throw i.checkKey=n,i.checkValue=t[n],i}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}function Wn(e){return e&&"function"===typeof e.isCommunityResource}function Zn(e){return Wn(e)&&e.isCommunityResource()}var Yn=!1;function Qn(){Yn||(Yn=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var $n=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},ea=new l.b("providers/5.0.24");function ta(e){return null==e?"null":(32!==Object(u.d)(e)&&ea.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function ra(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(Array.isArray(e)){var t={};e.forEach(e=>{t[ta(e)]=!0});var r=Object.keys(t);return r.sort(),r.join("|")}return ta(e)}).join("&")}function na(e){if("string"===typeof e){if(e=e.toLowerCase(),32===Object(u.d)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+ra(e);if(be.isForkEvent(e))throw ea.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+ra(e.topics||[])}throw new Error("invalid event - "+e)}function aa(){return(new Date).getTime()}function ia(e){return new Promise(t=>{setTimeout(t,e)})}var sa=["block","network","pending","poll"];class oa{constructor(e,t,r){Object(f.d)(this,"tag",e),Object(f.d)(this,"listener",t),Object(f.d)(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map(e=>{if(""===e)return[];var t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),a={};return n.length>0&&(a.topics=n),r&&"*"!==r&&(a.address=r),a}pollable(){return this.tag.indexOf(":")>=0||sa.indexOf(this.tag)>=0}}var ca={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ua(e){return Object(u.h)(d.a.from(e).toHexString(),32)}function da(e){return yt.encode(Object(u.b)([e,Object(u.e)(St(St(e)),0,4)]))}class fa{constructor(e,t,r){Object(f.d)(this,"provider",e),Object(f.d)(this,"name",r),Object(f.d)(this,"address",e.formatter.address(t))}_fetchBytes(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a,i,s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,data:Object(u.c)([e,Fn(this.name),t||"0x"])},r.next=3,this.provider.call(n);case 3:if("0x"!==(a=r.sent)){r.next=6;break}return r.abrupt("return",null);case 6:return i=d.a.from(Object(u.e)(a,0,32)).toNumber(),s=d.a.from(Object(u.e)(a,i,i+32)).toNumber(),r.abrupt("return",Object(u.e)(a,i+32,i+32+s));case 9:case"end":return r.stop()}}),r,this)})))}_getAddress(e,t){var r=ca[String(e)];if(null==r&&ea.throwError("unsupported coin type: ".concat(e),l.b.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=Object(u.a)(t);if(null!=r.p2pkh){var a=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){var i=parseInt(a[1],16);if(a[2].length===2*i&&i>=1&&i<=75)return da(Object(u.b)([[r.p2pkh],"0x"+a[2]]))}}if(null!=r.p2sh){var s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){var o=parseInt(s[1],16);if(s[2].length===2*o&&o>=1&&o<=75)return da(Object(u.b)([[r.p2sh],"0x"+s[2]]))}}if(null!=r.prefix){var c=n[1],d=n[0];if(0===d?20!==c&&32!==c&&(d=-1):d=-1,d>=0&&n.length===2+c&&c>=1&&c<=75){var f=zn.a.toWords(n.slice(2));return f.unshift(d),zn.a.encode(r.prefix,f)}}return null}getAddress(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=9;break}return r={to:this.address,data:"0x3b3b57de"+Fn(this.name).substring(2)},t.next=5,this.provider.call(r);case 5:if("0x"!==(n=t.sent)&&n!==vn.a){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.provider.formatter.callAddress(n));case 9:return t.next=11,this._fetchBytes("0xf1cb7e06",ua(e));case 11:if(null!=(a=t.sent)&&"0x"!==a){t.next=14;break}return t.abrupt("return",null);case 14:return null==(i=this._getAddress(e,a))&&ea.throwError("invalid or unsupported coin data",l.b.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:a}),t.abrupt("return",i);case 17:case"end":return t.stop()}}),t,this)})))}getContentHash(){return $n(this,void 0,void 0,c.a.mark((function e(){var t,r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+yt.encode("0x"+r[1]));case 10:if(!(a=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=14;break}if(64!==a[1].length){e.next=14;break}return e.abrupt("return","bzz://"+a[1]);case 14:return e.abrupt("return",ea.throwError("invalid or unsupported content hash data",l.b.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 15:case"end":return e.stop()}}),e,this)})))}getText(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(R.f)(e),(r=Object(u.b)([ua(64),ua(r.length),r])).length%32!==0&&(r=Object(u.b)([r,Object(u.h)("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",Object(u.i)(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",Object(R.h)(n));case 9:case"end":return t.stop()}}),t,this)})))}}var la=null,ha=1;class pa extends ge{constructor(e){if(ea.checkNew(new.target,ge),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Object(f.d)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{var t=Object(f.e)(new.target,"getNetwork")(e);t?(Object(f.d)(this,"_network",t),this.emit("network",t,null)):ea.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return $n(this,void 0,void 0,c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||ea.throwError("no network detected",l.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Object(f.d)(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}get ready(){return Gn(()=>this._ready().then(e=>e,e=>{if(e.code!==l.b.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==la&&(la=new Xn),la}static getNetwork(e){return mn(null==e?"homestead":e)}_getInternalBlockNumber(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(aa()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return a=aa(),i=Object(f.f)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:t})=>{if(t)throw this._internalBlockNumber===i&&(this._internalBlockNumber=null),t;var r=aa();return(e=d.a.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:a,respTime:r}}),this._internalBlockNumber=i,i.catch(e=>{this._internalBlockNumber===i&&(this._internalBlockNumber=null)}),t.next=26,i;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}poll(){return $n(this,void 0,void 0,c.a.mark((function e(){var t,r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ha++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ea.warn("network block skew detected; skipping block events"),this.emit("error",ea.makeError("network block skew detected",l.b.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(a=this._emitted.block+1;a<=n;a++)this.emit("block",a);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(e=>{if("block"!==e){var t=this._emitted[e];"pending"!==t&&n-t>12&&delete this._emitted[e]}})),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach(e=>{switch(e.type){case"tx":var t=e.hash,a=this.getTransactionReceipt(t).then(e=>e&&null!=e.blockNumber?(this._emitted["t:"+t]=e.blockNumber,this.emit(t,e),null):null).catch(e=>{this.emit("error",e)});r.push(a);break;case"filter":var i=e.filter;i.fromBlock=this._lastBlockNumber+1,i.toBlock=n;var s=this.getLogs(i).then(e=>{0!==e.length&&e.forEach(e=>{this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(i,e)})}).catch(e=>{this.emit("error",e)});r.push(s)}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",t)}).catch(e=>{this.emit("error",e)}),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return $n(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ea.throwError("provider does not support network detection",l.b.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}getNetwork(){return $n(this,void 0,void 0,c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,ia(0);case 19:return e.abrupt("return",this._network);case 20:throw n=ea.makeError("underlying network changed",l.b.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){var e=aa();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=aa(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return $n(this,void 0,void 0,c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),n.next=3,this.getTransactionReceipt(e);case 3:if(!(((a=n.sent)?a.confirmations:0)>=t)){n.next=6;break}return n.abrupt("return",a);case 6:return n.abrupt("return",new Promise((n,a)=>{var i=null,s=!1,o=r=>{r.confirmations<t||(i&&clearTimeout(i),s||(s=!0,this.removeListener(e,o),n(r)))};this.on(e,o),"number"===typeof r&&r>0&&(i=setTimeout(()=>{s||(i=null,s=!0,this.removeListener(e,o),a(ea.makeError("timeout exceeded",l.b.errors.TIMEOUT,{timeout:r})))},r)).unref&&i.unref()}));case 7:case"end":return n.stop()}}),n,this)})))}getBlockNumber(){return $n(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}getGasPrice(){return $n(this,void 0,void 0,c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",d.a.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}getBalance(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Object(f.f)({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return a=r.sent,r.prev=8,r.abrupt("return",d.a.from(a));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"getBalance",params:n,result:a,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}getTransactionCount(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Object(f.f)({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return a=r.sent,r.prev=8,r.abrupt("return",d.a.from(a).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:a,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}getCode(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Object(f.f)({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return a=r.sent,r.prev=8,r.abrupt("return",Object(u.i)(a));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"getCode",params:n,result:a,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}getStorageAt(e,t,r){return $n(this,void 0,void 0,c.a.mark((function n(){var a,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,Object(f.f)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>Object(u.g)(e))});case 4:return a=n.sent,n.next=7,this.perform("getStorageAt",a);case 7:return i=n.sent,n.prev=8,n.abrupt("return",Object(u.i)(i));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"getStorageAt",params:a,result:i,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}_wrapTransaction(e,t){if(null!=t&&32!==Object(u.d)(t))throw new Error("invalid response - sendTransaction");var r=e;return null!=t&&e.hash!==t&&ea.throwError("Transaction hash mismatch from Provider.sendTransaction.",l.b.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),r.wait=t=>$n(this,void 0,void 0,c.a.mark((function r(){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return 0!==t&&(this._emitted["t:"+e.hash]="pending"),r.next=3,this.waitForTransaction(e.hash,t);case 3:if(null!=(n=r.sent)||0!==t){r.next=6;break}return r.abrupt("return",null);case 6:return this._emitted["t:"+e.hash]=n.blockNumber,0===n.status&&ea.throwError("transaction failed",l.b.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:n}),r.abrupt("return",n);case 9:case"end":return r.stop()}}),r,this)}))),r}sendTransaction(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then(e=>Object(u.i)(e));case 4:return r=t.sent,n=this.formatter.transaction(e),t.prev=6,t.next=9,this.perform("sendTransaction",{signedTransaction:r});case 9:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a));case 13:throw t.prev=13,t.t0=t.catch(6),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 18:case"end":return t.stop()}}),t,this,[[6,13]])})))}_getTransactionRequest(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach(e=>{null!=r[e]&&(n[e]=Promise.resolve(r[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","value"].forEach(e=>{null!=r[e]&&(n[e]=Promise.resolve(r[e]).then(e=>e?d.a.from(e):null))}),["data"].forEach(e=>{null!=r[e]&&(n[e]=Promise.resolve(r[e]).then(e=>e?Object(u.i)(e):null))}),t.t0=this.formatter,t.next=10,Object(f.f)(n);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}_getFilter(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(t=>{null!=e[t]&&(r[t]=e[t])}),["fromBlock","toBlock"].forEach(t=>{null!=e[t]&&(r[t]=this._getBlockTag(e[t]))}),t.t0=this.formatter,t.next=10,Object(f.f)(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}call(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Object(f.f)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("call",n);case 7:return a=r.sent,r.prev=8,r.abrupt("return",Object(u.i)(a));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"call",params:n,result:a,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}estimateGas(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Object(f.f)({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",d.a.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",ea.throwError("bad result from backend",l.b.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}_getAddress(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolveName(e);case 2:return null==(r=t.sent)&&ea.throwError("ENS name not configured",l.b.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})))}_getBlock(e,t){return $n(this,void 0,void 0,c.a.mark((function r(){var n,a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,a={includeTransactions:!!t},!Object(u.l)(e,32)){r.next=11;break}a.blockHash=e,r.next=23;break;case 11:return r.prev=11,r.t0=this.formatter,r.next=15,this._getBlockTag(e);case 15:r.t1=r.sent,a.blockTag=r.t0.blockTag.call(r.t0,r.t1),Object(u.l)(a.blockTag)&&(n=parseInt(a.blockTag.substring(2),16)),r.next=23;break;case 20:r.prev=20,r.t2=r.catch(11),ea.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 23:return r.abrupt("return",Gn(()=>$n(this,void 0,void 0,c.a.mark((function e(){var r,i,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",a);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==a.blockHash){e.next=7;break}if(null!=this._emitted["b:"+a.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==a.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=32;break}i=null,s=0;case 14:if(!(s<r.transactions.length)){e.next=31;break}if(null!=(o=r.transactions[s]).blockNumber){e.next=20;break}o.confirmations=0,e.next=28;break;case 20:if(null!=o.confirmations){e.next=28;break}if(null!=i){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:i=e.sent;case 25:(u=i-o.blockNumber+1)<=0&&(u=1),o.confirmations=u;case 28:s++,e.next=14;break;case 31:return e.abrupt("return",this.formatter.blockWithTransactions(r));case 32:return e.abrupt("return",this.formatter.block(r));case 33:case"end":return e.stop()}}),e,this)}))),{oncePoll:this}));case 24:case"end":return r.stop()}}),r,this,[[11,20]])})))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Gn(()=>$n(this,void 0,void 0,c.a.mark((function t(){var n,a,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(a=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}a.confirmations=0,t.next=19;break;case 12:if(null!=a.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:i=t.sent,(s=i-a.blockNumber+1)<=0&&(s=1),a.confirmations=s;case 19:return t.abrupt("return",this._wrapTransaction(a));case 20:case"end":return t.stop()}}),t,this)}))),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}getTransactionReceipt(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Gn(()=>$n(this,void 0,void 0,c.a.mark((function t(){var n,a,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(a=this.formatter.receipt(n)).blockNumber){t.next=14;break}a.confirmations=0,t.next=21;break;case 14:if(null!=a.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:i=t.sent,(s=i-a.blockNumber+1)<=0&&(s=1),a.confirmations=s;case 21:return t.abrupt("return",a);case 22:case"end":return t.stop()}}),t,this)}))),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}getLogs(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Object(f.f)({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach(e=>{null==e.removed&&(e.removed=!1)}),t.abrupt("return",Xn.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}getEtherPrice(){return $n(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}_getBlockTag(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"===typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&ea.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}getResolver(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getResolver(e);case 2:if(null!=(r=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",new fa(this,r,e));case 6:case"end":return t.stop()}}),t,this)})))}_getResolver(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return(r=t.sent).ensAddress||ea.throwError("network does not support ENS",l.b.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:r.name}),n={to:r.ensAddress,data:"0x0178b8bf"+Fn(e).substring(2)},t.t0=this.formatter,t.next=8,this.call(n);case 8:return t.t1=t.sent,t.abrupt("return",t.t0.callAddress.call(t.t0,t.t1));case 10:case"end":return t.stop()}}),t,this)})))}resolveName(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!Object(u.l)(e)){t.next=11;break}throw t.t0;case 11:return"string"!==typeof e&&ea.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}lookupAddress(e){return $n(this,void 0,void 0,c.a.mark((function t(){var r,n,a,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r);case 7:if(n=t.sent){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=u.a,t.next=13,this.call({to:n,data:"0x691f3431"+Fn(r).substring(2)});case 13:if(t.t1=t.sent,!((a=(0,t.t0)(t.t1)).length<32)&&d.a.from(a.slice(0,32)).eq(32)){t.next=17;break}return t.abrupt("return",null);case 17:if(!((a=a.slice(32)).length<32)){t.next=20;break}return t.abrupt("return",null);case 20:if(i=d.a.from(a.slice(0,32)).toNumber(),a=a.slice(32),!(i>a.length)){t.next=24;break}return t.abrupt("return",null);case 24:return s=Object(R.h)(a.slice(0,i)),t.next=27,this.resolveName(s);case 27:if(t.sent==e){t.next=30;break}return t.abrupt("return",null);case 30:return t.abrupt("return",s);case 31:case"end":return t.stop()}}),t,this)})))}perform(e,t){return ea.throwError(e+" not implemented",l.b.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){var n=new oa(na(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){var r=!1,n=[],a=na(e);return this._events=this._events.filter(e=>e.tag!==a||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;var t=na(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);var t=na(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);var r=[],n=!1,a=na(e);return this._events=this._events.filter(e=>e.tag!==a||e.listener!=t||(!!n||(n=!0,r.push(e),!1))),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){var t=[];if(null==e)t=this._events,this._events=[];else{var r=na(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var ma=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},va=new l.b("providers/5.0.24"),ba=["call","estimateGas"];function ga(e,t,r){if("call"===e&&t.code===l.b.errors.SERVER_ERROR){var n=t.error;if(n&&n.message.match("reverted")&&Object(u.l)(n.data))return n.data}var a=t.message;t.code===l.b.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?a=t.error.message:"string"===typeof t.body?a=t.body:"string"===typeof t.responseText&&(a=t.responseText),a=(a||"").toLowerCase();var i=r.transaction||r.signedTransaction;throw a.match(/insufficient funds/)&&va.throwError("insufficient funds for intrinsic transaction cost",l.b.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),a.match(/nonce too low/)&&va.throwError("nonce has already been used",l.b.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),a.match(/replacement transaction underpriced/)&&va.throwError("replacement fee too low",l.b.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),ba.indexOf(e)>=0&&a.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&va.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",l.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function ya(e){return new Promise((function(t){setTimeout(t,e)}))}function wa(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function ka(e){return e?e.toLowerCase():e}var xa={};class _a extends _e{constructor(e,t,r){if(va.checkNew(new.target,_a),super(),e!==xa)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Object(f.d)(this,"provider",t),null==r&&(r=0),"string"===typeof r?(Object(f.d)(this,"_address",this.provider.formatter.address(r)),Object(f.d)(this,"_index",null)):"number"===typeof r?(Object(f.d)(this,"_index",r),Object(f.d)(this,"_address",null)):va.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return va.throwError("cannot alter JSON-RPC Signer connection",l.b.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Sa(xa,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&va.throwError("unknown account #"+this._index,l.b.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Object(f.g)(e);var t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){var r=Object(f.g)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return Object(f.f)({tx:Object(f.f)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&va.throwArgumentError("from address mismatch","transaction",e):t.from=r;var n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>ga("sendTransaction",e,n))})}signTransaction(e){return va.throwError("signing transactions is unsupported",l.b.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>Gn(()=>this.provider.getTransaction(e).then(t=>{if(null!==t)return this.provider._wrapTransaction(t,e)}),{onceBlock:this.provider}).catch(t=>{throw t.transactionHash=e,t}))}signMessage(e){return ma(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?Object(R.f)(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.next=6,this.provider.send("eth_sign",[n.toLowerCase(),Object(u.i)(r)]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}_signTypedData(e,t,r){return ma(this,void 0,void 0,c.a.mark((function n(){var a,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vt.resolveNames(e,t,r,e=>this.provider.resolveName(e));case 2:return a=n.sent,n.next=5,this.getAddress();case 5:return i=n.sent,n.next=8,this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(vt.getPayload(a.domain,t,a.value))]);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})))}unlock(e){return ma(this,void 0,void 0,c.a.mark((function t(){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}class Sa extends _a{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}var Ta={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};class Oa extends pa{constructor(e,t){va.checkNew(new.target,Oa);var r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=Object(f.e)(this.constructor,"defaultUrl")()),"string"===typeof e?Object(f.d)(this,"connection",Object.freeze({url:e})):Object(f.d)(this,"connection",Object.freeze(Object(f.g)(e))),this._nextId=42}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return ma(this,void 0,void 0,c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=Object(f.e)(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(d.a.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",va.throwError("could not detect network",l.b.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",va.throwError("could not detect network",l.b.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}getSigner(e){return new _a(xa,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){var r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:Object(f.c)(r),provider:this}),qn(this.connection,JSON.stringify(r),wa).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e})}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ka(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ka(t.address),t.blockTag]];case"getCode":return["eth_getCode",[ka(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ka(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Object(f.e)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Object(f.e)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=ka(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ma(this,void 0,void 0,c.a.mark((function r(){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==(n=this.prepareRequest(e,t))&&va.throwError(e+" not implemented",l.b.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=2,r.next=5,this.send(n[0],n[1]);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",ga(e,r.t0,t));case 11:case"end":return r.stop()}}),r,this,[[2,8]])})))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return ya(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch(e=>{})}(),r})).catch(e=>{})}}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){var r=Object(f.g)(Ta);if(t)for(var n in t)t[n]&&(r[n]=!0);Object(f.b)(e,r);var a={};return["gasLimit","gasPrice","nonce","value"].forEach((function(t){if(null!=e[t]){var r=Object(u.g)(e[t]);"gasLimit"===t&&(t="gas"),a[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(a[t]=Object(u.i)(e[t]))})),a}}var Aa=null;try{if(null==(Aa=WebSocket))throw new Error("inject please")}catch(Wi){var Ma=new l.b("providers/5.0.24");Aa=function(){Ma.throwError("WebSockets not supported in this environment",l.b.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Ea=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},Ca=new l.b("providers/5.0.24"),Ia=1;class Fa extends Oa{constructor(e,t){"any"===t&&Ca.throwError("WebSocketProvider does not support 'any' network yet",l.b.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(e,t),this._pollingInterval=-1,this._wsReady=!1,Object(f.d)(this,"_websocket",new Aa(this.connection.url)),Object(f.d)(this,"_requests",{}),Object(f.d)(this,"_subs",{}),Object(f.d)(this,"_subIds",{}),Object(f.d)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this._websocket.send(this._requests[e].payload)})},this._websocket.onmessage=e=>{var t=e.data,r=JSON.parse(t);if(null!=r.id){var n=String(r.id),a=this._requests[n];if(delete this._requests[n],void 0!==r.result)a.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(a.payload),response:r.result,provider:this});else{var i=null;r.error?(i=new Error(r.error.message||"unknown error"),Object(f.d)(i,"code",r.error.code||null),Object(f.d)(i,"response",t)):i=new Error("unknown error"),a.callback(i,void 0),this.emit("debug",{action:"response",error:i,request:JSON.parse(a.payload),provider:this})}}else if("eth_subscription"===r.method){var s=this._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ca.throwError("cannot reset events block on WebSocketProvider",l.b.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ca.throwError("cannot set polling interval on WebSocketProvider",l.b.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Ea(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}set polling(e){e&&Ca.throwError("cannot set polling on WebSocketProvider",l.b.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){var r=Ia++;return new Promise((n,a)=>{var i=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?a(e):n(t)},payload:i},this._wsReady&&this._websocket.send(i)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return Ea(this,void 0,void 0,c.a.mark((function n(){var a,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(a=this._subIds[e])&&(a=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=a),n.next=4,a;case 4:i=n.sent,this._subs[i]={tag:e,processFunc:r};case 6:case"end":return n.stop()}}),n,this)})))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{var t=d.a.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":var t=e=>{var t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){var t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;var r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return Ea(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._websocket.readyState!==Aa.CONNECTING){e.next=3;break}return e.next=3,new Promise(e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}});case 3:this._websocket.close(1e3);case 4:case"end":return e.stop()}}),e,this)})))}}var Pa=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},Ba=new l.b("providers/5.0.24");class Ra extends Oa{detectNetwork(){var e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Pa(this,void 0,void 0,c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=this.network)){t.next=7;break}return t.next=4,e.detectNetwork.call(this);case 4:(r=t.sent)||Ba.throwError("no network detected",l.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(Object(f.d)(this,"_network",r),this.emit("network",r,null));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})))}}class La extends Ra{constructor(e,t){Ba.checkAbstract(new.target,La),e=Object(f.e)(new.target,"getNetwork")(e),t=Object(f.e)(new.target,"getApiKey")(t),super(Object(f.e)(new.target,"getUrl")(e,t),e),"string"===typeof t?Object(f.d)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{Object(f.d)(this,e,t[e])})}_startPending(){Ba.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Ba.throwError("API provider does not support signing",l.b.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Ba.throwError("not implemented; sub-classes must override getUrl",l.b.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}var Na=new l.b("providers/5.0.24"),Da="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Va extends Fa{constructor(e,t){var r=new ja(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),Object(f.d)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===Da}}class ja extends La{static getWebSocketProvider(e,t){return new Va(e,t)}static getApiKey(e){return null==e?Da:(e&&"string"!==typeof e&&Na.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){var r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;default:Na.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===Da&&Qn(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Da}}var Ua=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},qa=new l.b("providers/5.0.24");class Ga extends La{static getApiKey(e){return null!=e&&qa.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){var r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:qa.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){var r=Object.create(null,{perform:{get:()=>super.perform}});return Ua(this,void 0,void 0,c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("getBlockNumber"!==e){n.next=5;break}return n.next=3,r.perform.call(this,"getBlock",{blockTag:"latest"});case 3:return a=n.sent,n.abrupt("return",a.number);case 5:return n.abrupt("return",r.perform.call(this,e,t));case 6:case"end":return n.stop()}}),n,this)})))}}var Ha=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},za=new l.b("providers/5.0.24");function Ka(e){var t={};for(var r in e)if(null!=e[r]){var n=Object(u.i)(e[r]);({gasLimit:!0,gasPrice:!0,nonce:!0,value:!0})[r]&&(n=Object(u.g)(n)),t[r]=n}return t}function Ja(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Xa(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){var t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){var r=new Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){var n=new Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function Wa(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Za(e,t,r){if("call"===e&&t.code===l.b.errors.SERVER_ERROR){var n=t.error;if(n&&n.message.match("reverted")&&Object(u.l)(n.data))return n.data}var a=t.message;throw t.code===l.b.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?a=t.error.message:"string"===typeof t.body?a=t.body:"string"===typeof t.responseText&&(a=t.responseText)),(a=(a||"").toLowerCase()).match(/insufficient funds/)&&za.throwError("insufficient funds for intrinsic transaction cost",l.b.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),a.match(/same hash was already imported|transaction nonce is too low/)&&za.throwError("nonce has already been used",l.b.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),a.match(/another transaction with same nonce/)&&za.throwError("replacement fee too low",l.b.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),a.match(/execution failed due to an exception/)&&za.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",l.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class Ya extends pa{constructor(e,t){za.checkNew(new.target,Ya),super(e);var r="invalid";this.network&&(r=this.network.name);var n=null;switch(r){case"homestead":n="https://api.etherscan.io";break;case"ropsten":n="https://api-ropsten.etherscan.io";break;case"rinkeby":n="https://api-rinkeby.etherscan.io";break;case"kovan":n="https://api-kovan.etherscan.io";break;case"goerli":n="https://api-goerli.etherscan.io";break;default:throw new Error("unsupported network")}Object(f.d)(this,"baseUrl",n),Object(f.d)(this,"apiKey",t||"9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB")}detectNetwork(){return Ha(this,void 0,void 0,c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.network);case 1:case"end":return e.stop()}}),e,this)})))}perform(e,t){var r=Object.create(null,{perform:{get:()=>super.perform}});return Ha(this,void 0,void 0,c.a.mark((function n(){var a,i,s,o,u,d,h,p,m,v,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=this.baseUrl+"/api",i="",this.apiKey&&(i+="&apikey="+this.apiKey),s=(e,t,r)=>Ha(this,void 0,void 0,c.a.mark((function n(){var a,i,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.emit("debug",{action:"request",request:e,provider:this}),a={url:e,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&Qn(),Promise.resolve(!0))},i=null,t&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},i=Object.keys(t).map(e=>"".concat(e,"=").concat(t[e])).join("&")),n.next=6,qn(a,i,r||Xa);case 6:return s=n.sent,this.emit("debug",{action:"response",request:e,response:Object(f.c)(s),provider:this}),n.abrupt("return",s);case 9:case"end":return n.stop()}}),n,this)}))),n.t0=e,n.next="getBlockNumber"===n.t0?7:"getGasPrice"===n.t0?9:"getBalance"===n.t0?11:"getTransactionCount"===n.t0?14:"getCode"===n.t0?17:"getStorageAt"===n.t0?20:"sendTransaction"===n.t0?24:"getBlock"===n.t0?25:"getTransaction"===n.t0?31:"getTransactionReceipt"===n.t0?34:"call"===n.t0?37:"estimateGas"===n.t0?52:"getLogs"===n.t0?65:"getEtherPrice"===n.t0?90:99;break;case 7:return a+="?module=proxy&action=eth_blockNumber"+i,n.abrupt("return",s(a,null));case 9:return a+="?module=proxy&action=eth_gasPrice"+i,n.abrupt("return",s(a,null));case 11:return a+="?module=account&action=balance&address="+t.address,a+="&tag="+t.blockTag+i,n.abrupt("return",s(a,null,Ja));case 14:return a+="?module=proxy&action=eth_getTransactionCount&address="+t.address,a+="&tag="+t.blockTag+i,n.abrupt("return",s(a,null));case 17:return a+="?module=proxy&action=eth_getCode&address="+t.address,a+="&tag="+t.blockTag+i,n.abrupt("return",s(a,null));case 20:return a+="?module=proxy&action=eth_getStorageAt&address="+t.address,a+="&position="+t.position,a+="&tag="+t.blockTag+i,n.abrupt("return",s(a,null));case 24:return n.abrupt("return",s(a,{module:"proxy",action:"eth_sendRawTransaction",hex:t.signedTransaction,apikey:this.apiKey}).catch(e=>Za("sendTransaction",e,t.signedTransaction)));case 25:if(!t.blockTag){n.next=30;break}return a+="?module=proxy&action=eth_getBlockByNumber&tag="+t.blockTag,t.includeTransactions?a+="&boolean=true":a+="&boolean=false",a+=i,n.abrupt("return",s(a,null));case 30:throw new Error("getBlock by blockHash not implemented");case 31:return a+="?module=proxy&action=eth_getTransactionByHash&txhash="+t.transactionHash,a+=i,n.abrupt("return",s(a,null));case 34:return a+="?module=proxy&action=eth_getTransactionReceipt&txhash="+t.transactionHash,a+=i,n.abrupt("return",s(a,null));case 37:if("latest"===t.blockTag){n.next=39;break}throw new Error("EtherscanProvider does not support blockTag for call");case 39:return(o=Ka(t.transaction)).module="proxy",o.action="eth_call",o.apikey=this.apiKey,n.prev=43,n.next=46,s(a,o);case 46:return n.abrupt("return",n.sent);case 49:return n.prev=49,n.t1=n.catch(43),n.abrupt("return",Za("call",n.t1,t.transaction));case 52:return(u=Ka(t.transaction)).module="proxy",u.action="eth_estimateGas",u.apikey=this.apiKey,n.prev=56,n.next=59,s(a,u);case 59:return n.abrupt("return",n.sent);case 62:return n.prev=62,n.t2=n.catch(56),n.abrupt("return",Za("estimateGas",n.t2,t.transaction));case 65:return a+="?module=logs&action=getLogs",t.filter.fromBlock&&(a+="&fromBlock="+Wa(t.filter.fromBlock)),t.filter.toBlock&&(a+="&toBlock="+Wa(t.filter.toBlock)),t.filter.address&&(a+="&address="+t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&za.throwError("unsupported topic count",l.b.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length&&("string"===typeof(d=t.filter.topics[0])&&66===d.length||za.throwError("unsupported topic format",l.b.errors.UNSUPPORTED_OPERATION,{topic0:d}),a+="&topic0="+d)),a+=i,n.next=73,s(a,null,Ja);case 73:h=n.sent,p={},m=0;case 76:if(!(m<h.length)){n.next=89;break}if(null==(v=h[m]).blockHash){n.next=80;break}return n.abrupt("continue",86);case 80:if(null!=p[v.blockNumber]){n.next=85;break}return n.next=83,this.getBlock(v.blockNumber);case 83:(b=n.sent)&&(p[v.blockNumber]=b.hash);case 85:v.blockHash=p[v.blockNumber];case 86:m++,n.next=76;break;case 89:return n.abrupt("return",h);case 90:if("homestead"===this.network.name){n.next=92;break}return n.abrupt("return",0);case 92:return a+="?module=stats&action=ethprice",a+=i,n.t3=parseFloat,n.next=97,s(a,null,Ja);case 97:return n.t4=n.sent.ethusd,n.abrupt("return",(0,n.t3)(n.t4));case 99:return n.abrupt("break",100);case 100:return n.abrupt("return",r.perform.call(this,e,t));case 101:case"end":return n.stop()}}),n,this,[[43,49],[56,62]])})))}getHistory(e,t,r){var n=this.baseUrl,a="";return this.apiKey&&(a+="&apikey="+this.apiKey),null==t&&(t=0),null==r&&(r=99999999),this.resolveName(e).then(e=>(n+="/api?module=account&action=txlist&address="+e,n+="&startblock="+t,n+="&endblock="+r,n+="&sort=asc"+a,this.emit("debug",{action:"request",request:n,provider:this}),qn({url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>("9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB"===this.apiKey&&Qn(),Promise.resolve(!0))},null,Ja).then(e=>{this.emit("debug",{action:"response",request:n,response:Object(f.c)(e),provider:this});var t=[];return e.forEach(e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var r=this.formatter.transactionResponse(e);e.timeStamp&&(r.timestamp=parseInt(e.timeStamp)),t.push(r)}),t})))}isCommunityResource(){return"9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB"===this.apiKey}}function Qa(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var $a=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},ei=new l.b("providers/5.0.24");function ti(){return(new Date).getTime()}function ri(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||ei.throwArgumentError("provider mismatch","networks",e):t=n}return t}function ni(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],a=e[r];return null!=t&&Math.abs(n-a)>t?null:(n+a)/2}function ai(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(d.a.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>ai(e)));if("object"===typeof e){var t=Object.keys(e);return t.sort(),"{"+t.map(t=>{var r=e[t];return r="function"===typeof r?"[function]":ai(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}var ii=1;function si(e){var t=null,r=null,n=new Promise(n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)});return{cancel:t,getPromise:function(){return n},wait:e=>n=n.then(e)}}var oi=[l.b.errors.CALL_EXCEPTION,l.b.errors.INSUFFICIENT_FUNDS,l.b.errors.NONCE_EXPIRED,l.b.errors.REPLACEMENT_UNDERPRICED,l.b.errors.UNPREDICTABLE_GAS_LIMIT],ci=["address","args","errorArgs","errorSignature","method","transaction"];function ui(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function di(e,t,r){var n=ai;switch(t){case"getBlockNumber":return function(t){var r=t.map(e=>e.result),n=ni(t.map(e=>e.result),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){var t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ni(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=Object(f.g)(e)).confirmations=-1,ai(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=Object(f.g)(e)).transactions=e.transactions.map(e=>((e=Object(f.g)(e)).confirmations=-1,e)),ai(e))}:function(e){return null==e?null:ai(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){var n={};r.forEach(t=>{var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++});for(var a=Object.keys(n),i=0;i<a.length;i++){var s=n[a[i]];if(s.count>=t)return s.result}}}(n,e.quorum)}function fi(e,t){return $a(this,void 0,void 0,c.a.mark((function r(){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(n=e.provider).blockNumber&&n.blockNumber>=t||-1===t)){r.next=3;break}return r.abrupt("return",n);case 3:return r.abrupt("return",Gn(()=>new Promise((r,a)=>{setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}),{oncePoll:n}));case 4:case"end":return r.stop()}}),r)})))}function li(e,t,r,n){return $a(this,void 0,void 0,c.a.mark((function a(){var i,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=e.provider,a.t0=r,a.next="getBlockNumber"===a.t0||"getGasPrice"===a.t0?4:"getEtherPrice"===a.t0?5:"getBalance"===a.t0||"getTransactionCount"===a.t0||"getCode"===a.t0?8:"getStorageAt"===a.t0?13:"getBlock"===a.t0?18:"call"===a.t0||"estimateGas"===a.t0?23:"getTransaction"===a.t0||"getTransactionReceipt"===a.t0?28:"getLogs"===a.t0?29:35;break;case 4:return a.abrupt("return",i[r]());case 5:if(!i.getEtherPrice){a.next=7;break}return a.abrupt("return",i.getEtherPrice());case 7:return a.abrupt("break",35);case 8:if(!n.blockTag||!Object(u.l)(n.blockTag)){a.next=12;break}return a.next=11,fi(e,t);case 11:i=a.sent;case 12:return a.abrupt("return",i[r](n.address,n.blockTag||"latest"));case 13:if(!n.blockTag||!Object(u.l)(n.blockTag)){a.next=17;break}return a.next=16,fi(e,t);case 16:i=a.sent;case 17:return a.abrupt("return",i.getStorageAt(n.address,n.position,n.blockTag||"latest"));case 18:if(!n.blockTag||!Object(u.l)(n.blockTag)){a.next=22;break}return a.next=21,fi(e,t);case 21:i=a.sent;case 22:return a.abrupt("return",i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash));case 23:if(!n.blockTag||!Object(u.l)(n.blockTag)){a.next=27;break}return a.next=26,fi(e,t);case 26:i=a.sent;case 27:return a.abrupt("return",i[r](n.transaction));case 28:return a.abrupt("return",i[r](n.transactionHash));case 29:if(!((s=n.filter).fromBlock&&Object(u.l)(s.fromBlock)||s.toBlock&&Object(u.l)(s.toBlock))){a.next=34;break}return a.next=33,fi(e,t);case 33:i=a.sent;case 34:return a.abrupt("return",i.getLogs(s));case 35:return a.abrupt("return",ei.throwError("unknown method error",l.b.errors.UNKNOWN_ERROR,{method:r,params:n}));case 36:case"end":return a.stop()}}),a)})))}class hi extends pa{constructor(e,t){ei.checkNew(new.target,hi),0===e.length&&ei.throwArgumentError("missing providers","providers",e);var r=e.map((e,t)=>{if(ge.isProvider(e)){var r=Zn(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})}var n=Object(f.g)(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=Zn(e)?2e3:750),null==n.weight&&(n.weight=1);var a=n.weight;return(a%1||a>512||a<1)&&ei.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(t,"].weight"),a),Object.freeze(n)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&ei.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);var a=ri(r.map(e=>e.provider.network));null==a&&(a=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(a),Object(f.d)(this,"providerConfigs",Object.freeze(r)),Object(f.d)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return $a(this,void 0,void 0,c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()));case 2:return t=e.sent,e.abrupt("return",ri(t));case 4:case"end":return e.stop()}}),e,this)})))}perform(e,t){return $a(this,void 0,void 0,c.a.mark((function r(){var n,a,i,s,o,u,d,h,p,m,v=this;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("sendTransaction"!==e){r.next=13;break}return r.next=3,Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));case 3:n=r.sent,a=0;case 5:if(!(a<n.length)){r.next=12;break}if("string"!==typeof(i=n[a])){r.next=9;break}return r.abrupt("return",i);case 9:a++,r.next=5;break;case 12:throw n[0];case 13:if(-1!==this._highestBlockNumber||"getBlockNumber"===e){r.next=16;break}return r.next=16,this.getBlockNumber();case 16:s=di(this,e,t),(o=Qa(this.providerConfigs.map(f.g))).sort((e,t)=>e.priority-t.priority),u=this._highestBlockNumber,d=0,h=!0,p=c.a.mark((function r(){var n,a,i,l,p,m,b;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=ti(),a=o.filter(e=>e.runner&&n-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0),i=function(){var r=o[d++],n=ii++;r.start=ti(),r.staller=si(r.stallTimeout),r.staller.wait(()=>{r.staller=null}),r.runner=li(r,u,e,t).then(a=>{r.done=!0,r.result=a,v.listenerCount("debug")&&v.emit("debug",{action:"request",rid:n,backend:ui(r,ti()),request:{method:e,params:Object(f.c)(t)},provider:v})},a=>{r.done=!0,r.error=a,v.listenerCount("debug")&&v.emit("debug",{action:"request",rid:n,backend:ui(r,ti()),request:{method:e,params:Object(f.c)(t)},provider:v})}),v.listenerCount("debug")&&v.emit("debug",{action:"request",rid:n,backend:ui(r,null),request:{method:e,params:Object(f.c)(t)},provider:v}),a+=r.weight};a<v.quorum&&d<o.length;)i();if(l=[],o.forEach(e=>{!e.done&&e.runner&&(l.push(e.runner),e.staller&&l.push(e.staller.getPromise()))}),!l.length){r.next=9;break}return r.next=9,Promise.race(l);case 9:if(!((p=o.filter(e=>e.done&&null==e.error)).length>=v.quorum)){r.next=19;break}if(void 0===(m=s(p))){r.next=15;break}return o.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),r.abrupt("return",{v:m});case 15:if(h){r.next=18;break}return r.next=18,si(100).getPromise();case 18:h=!1;case 19:if(b=o.reduce((e,t)=>{if(!t.done||null==t.error)return e;var r=t.error.code;return oi.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{}),Object.keys(b).forEach(e=>{var t=b[e];if(!(t.weight<v.quorum)){o.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});var r=t.error,n={};ci.forEach(e=>{null!=r[e]&&(n[e]=r[e])}),ei.throwError(r.reason||r.message,e,n)}}),0!==o.filter(e=>!e.done).length){r.next=23;break}return r.abrupt("return","break");case 23:case"end":return r.stop()}}),r)}));case 23:return r.delegateYield(p(),"t0",25);case 25:if("break"!==(m=r.t0)){r.next=28;break}return r.abrupt("break",32);case 28:if("object"!==typeof m){r.next=30;break}return r.abrupt("return",m.v);case 30:r.next=23;break;case 32:return o.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),r.abrupt("return",ei.throwError("failed to meet quorum",l.b.errors.SERVER_ERROR,{method:e,params:t,results:o.map(e=>ui(e)),provider:this}));case 34:case"end":return r.stop()}}),r,this)})))}}var pi=null,mi=new l.b("providers/5.0.24"),vi="84842078b09946638c03157f83405213";class bi extends Fa{constructor(e,t){var r=new gi(e,t),n=r.connection;n.password&&mi.throwError("INFURA WebSocket project secrets unsupported",l.b.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),Object(f.d)(this,"apiKey",r.projectId),Object(f.d)(this,"projectId",r.projectId),Object(f.d)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===vi}}class gi extends La{static getWebSocketProvider(e,t){return new bi(e,t)}static getApiKey(e){var t={apiKey:vi,projectId:vi,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(mi.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),mi.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;default:mi.throwError("unsupported network",l.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===vi&&Qn(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===vi}}var yi=new l.b("providers/5.0.24");class wi extends La{static getApiKey(e){return e&&"string"!==typeof e&&yi.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){yi.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:yi.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}var ki=new l.b("providers/5.0.24"),xi={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class _i extends La{constructor(e,t){if(null==t){var r=Object(f.e)(new.target,"getNetwork")(e);if(r){var n=xi[r.name];n&&(t={applicationId:n,loadBalancer:!0})}null==t&&ki.throwError("unsupported network",l.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&ki.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);var t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(ki.assertArgument("string"===typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),ki.assertArgument("string"===typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(ki.assertArgument("string"===typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):ki.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:ki.throwError("unsupported network",l.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={url:t.loadBalancer?"https://".concat(r,"/v1/lb/").concat(t.applicationId):"https://".concat(r,"/v1/").concat(t.applicationId),headers:{}};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===xi[this.network.name]}}var Si=new l.b("providers/5.0.24"),Ti=1;function Oi(e,t){return function(r,n){"eth_sign"==r&&(e.isMetaMask||e.isStatus)&&(r="personal_sign",n=[n[1],n[0]]);var a={method:r,params:n,id:Ti++,jsonrpc:"2.0"};return new Promise((e,r)=>{t(a,(function(t,n){if(t)return r(t);if(n.error){var a=new Error(n.error.message);return a.code=n.error.code,a.data=n.error.data,r(a)}e(n.result)}))})}}class Ai extends Oa{constructor(e,t){Si.checkNew(new.target,Ai),null==e&&Si.throwArgumentError("missing provider","provider",e);var r=null,n=null,a=null;"function"===typeof e?(r="unknown:",n=e):(!(r=e.host||e.path||"")&&e.isMetaMask&&(r="metamask"),a=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){return null==r&&(r=[]),"eth_sign"==t&&(e.isMetaMask||e.isStatus)&&(t="personal_sign",r=[r[1],r[0]]),e.request({method:t,params:r})}}(e)):e.sendAsync?n=Oi(e,e.sendAsync.bind(e)):e.send?n=Oi(e,e.send.bind(e)):Si.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Object(f.d)(this,"jsonRpcFetchFunc",n),Object(f.d)(this,"provider",a)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}var Mi=new l.b("providers/5.0.24");function Ei(e,t){if(null==e&&(e="homestead"),"string"===typeof e){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1]){case"http":return new Oa(e);case"ws":return new Fa(e);default:Mi.throwArgumentError("unsupported URL scheme","network",e)}}var n=mn(e);return n&&n._defaultProvider||Mi.throwError("unsupported getDefaultProvider network",l.b.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:hi,AlchemyProvider:ja,CloudflareProvider:Ga,EtherscanProvider:Ya,InfuraProvider:gi,JsonRpcProvider:Oa,NodesmithProvider:wi,PocketProvider:_i,Web3Provider:Ai,IpcProvider:pi},t)}var Ci=new RegExp("^bytes([0-9]+)$"),Ii=new RegExp("^(u?int)([0-9]*)$"),Fi=new RegExp("^(.*)\\[([0-9]*)\\]$");function Pi(e,t){if(e.length!=t.length)throw new Error("type/value count mismatch");var r=[];return e.forEach((function(e,n){r.push(function e(t,r,n){switch(t){case"address":return n?Object(u.p)(r,32):Object(u.a)(r);case"string":return Object(R.f)(r);case"bytes":return Object(u.a)(r);case"bool":return r=r?"0x01":"0x00",n?Object(u.p)(r,32):Object(u.a)(r)}var a=t.match(Ii);if(a){var i=parseInt(a[2]||"256");if(a[2]&&String(i)!==a[2]||i%8!==0||0===i||i>256)throw new Error("invalid number type - "+t);return n&&(i=256),r=d.a.from(r).toTwos(i),Object(u.p)(r,i/8)}if(a=t.match(Ci)){var s=parseInt(a[1]);if(String(s)!==a[1]||0===s||s>32)throw new Error("invalid bytes type - "+t);if(Object(u.a)(r).byteLength!==s)throw new Error("invalid value for "+t);return n?Object(u.a)((r+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):r}if((a=t.match(Fi))&&Array.isArray(r)){var o=a[1];if(parseInt(a[2]||String(r.length))!=r.length)throw new Error("invalid value for "+t);var c=[];return r.forEach((function(t){c.push(e(o,t,!0))})),Object(u.b)(c)}throw new Error("invalid type - "+t)}(e,t[n]))})),Object(u.i)(Object(u.b)(r))}function Bi(e,t){return Object(k.a)(Pi(e,t))}function Ri(e,t){return St(Pi(e,t))}var Li=r(41);function Ni(e){var t=Object(R.f)(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Object(u.i)(Object(u.b)([t,vn.a]).slice(0,32))}function Di(e){var t=Object(u.a)(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return Object(R.h)(t.slice(0,r))}var Vi=new l.b("units/5.0.11"),ji=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ui(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&Vi.throwArgumentError("invalid value","value",e);var r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var a="";for(2===t.length&&(a="."+(t[1]||"0"));a.length>2&&"0"===a[a.length-1];)a=a.substring(0,a.length-1);for(var i=[];r.length;){if(r.length<=3){i.unshift(r);break}var s=r.length-3;i.unshift(r.substring(s)),r=r.substring(0,s)}return n+i.join(",")+a}function qi(e,t){if("string"===typeof t){var r=ji.indexOf(t);-1!==r&&(t=3*r)}return Xe(e,null!=t?t:18)}function Gi(e,t){if("string"!==typeof e&&Vi.throwArgumentError("value must be a string","value",e),"string"===typeof t){var r=ji.indexOf(t);-1!==r&&(t=3*r)}return We(e,null!=t?t:18)}function Hi(e){return qi(e,18)}function zi(e){return Gi(e,18)}var Ki="ethers/5.0.32",Ji=new l.b(Ki);r.d(t,"ethers",(function(){return s})),r.d(t,"Signer",(function(){return _e})),r.d(t,"Wallet",(function(){return nn})),r.d(t,"VoidSigner",(function(){return Se})),r.d(t,"getDefaultProvider",(function(){return Ei})),r.d(t,"providers",(function(){return n})),r.d(t,"Contract",(function(){return De})),r.d(t,"ContractFactory",(function(){return Ve})),r.d(t,"BigNumber",(function(){return d.a})),r.d(t,"FixedNumber",(function(){return Ye})),r.d(t,"constants",(function(){return on})),r.d(t,"errors",(function(){return l.a})),r.d(t,"logger",(function(){return Ji})),r.d(t,"utils",(function(){return i})),r.d(t,"wordlists",(function(){return pr})),r.d(t,"version",(function(){return Ki})),r.d(t,"Wordlist",(function(){return It}));try{var Xi=window;null==Xi._ethers&&(Xi._ethers=s)}catch(Wi){}},,function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n=r(1),a=r(3),i=r(270),s=new a.b(i.a),o=null;try{if(null==(o=window))throw new Error("try next")}catch(d){try{if(null==(o=e))throw new Error("try next")}catch(d){o={}}}var c=o.crypto||o.msCrypto;function u(e){(e<=0||e>1024||e%1)&&s.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return c.getRandomValues(t),Object(n.a)(t)}c&&c.getRandomValues||(s.warn("WARNING: Missing strong random number source"),c={getRandomValues:function(e){return s.throwError("no secure random source avaialble",a.b.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})}).call(this,r(19))}]]);
//# sourceMappingURL=2.50fead24.chunk.js.map